sap.ui.predefine('sap/ushell/CanvasShapesManager',function(){"use strict";var P=function(x,y){this.x=x||0;this.y=y||0;};P.prototype.getDistance=function(p){var x=this.x-p.x;var y=this.y-p.y;return Math.floor(Math.sqrt(x*x+y*y));};P.prototype.getSegment=function(o){if(this.x<=o.x&&this.y<=o.y){return 1;}if(this.x<=o.x&&this.y>=o.y){return 2;}if(this.x>=o.x&&this.y>=o.y){return 3;}if(this.x>=o.x&&this.y<=o.y){return 4;}};P.prototype.offset=function(o,O){this.x=this.x+o;this.y=this.y+O;};var R=function(x,X,y,Y){this.x={min:x,max:X};this.y={min:y,max:Y};};var c=(window.innerWidth>0)?window.innerWidth:screen.width;var a=(window.innerHeight>0)?window.innerHeight:screen.height;var b={cpr1:new R(0,c/4,0,a/4),cpr2:new R(c/2,c,0,a/4),cpr3:new R(c/4,3*c/4,a*3/4,a)};var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(d){return setTimeout(d,1);};var m=function(){this.init();};m.prototype={radiusRange:{min:800,max:900},init:function(){this.Id="shell-shapes";var d={cpr1:b.cpr1,cpr2:b.cpr2,cpr3:b.cpr3},e,f,s,g,i=sap.ui.Device.system.phone;this.shapes=[];var h;for(h in d){e=Math.random(this.radiusRange.max-this.radiusRange.min)+this.radiusRange.min;f=this.getRandomPoint(d[h]);s=this._getSquarePoints(e,f);g=this._calculatebezierCurves(e,s);this.shapes.push({bezierCurves:g,centerPoint:f});}for(var j in this.shapes){var v=this._generateRandomAmorphousShapeValues();this.shapes[j]=this.makeAmorphousShape(this.shapes[j],v.edge0.edgeNum,v.edge0.xOffSet,v.edge0.yOffSet,v.edge0.xStretch);this.shapes[j]=this.makeAmorphousShape(this.shapes[j],v.edge1.edgeNum,v.edge1.xOffSet,v.edge1.yOffSet,v.edge1.xStretch);}sap.ui.Device.resize.attachHandler(this.resizeHandler,this);if(!i){sap.ui.getCore().getEventBus().subscribe("launchpad","afterSwitchState",this.startAnimation,this);}},_generateRandomAmorphousShapeValues:function(){var v={edge0:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0},edge1:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0}};var n=this._getRandomInt(0,3);for(var e in v){v[e].edgeNum=n;v[e].xOffSet=this._getRandomInt(200,400);v[e].yOffSet=this._getRandomInt(-200,-400);n+=this._getRandomInt(0,1)<0.5?-1:1;if(n===-1){n=3;}if(n===4){n=0;}}n=this._getRandomInt(0,1);if(n<0.5){n=n<0.25?0:1;v["edge"+n].xStretch=this._getRandomInt(0,200);}return v;},getPoint:function(x,y){return new P(x,y);},getRandomPoint:function(d){var x=Math.floor(Math.random()*(d.x.max-d.x.min)+d.x.min),y=Math.floor(Math.random()*(d.y.max-d.y.min)+d.y.min);return new P(x,y);},resizeHandler:function(){var d=jQuery('#'+this.Id)[0];if(d){d.width=window.innerWidth;d.height=window.innerHeight;this.drawShapes();}},enableAnimationDrawing:function(e){this._enableDrawing=e;},startAnimation:function(e,d,D){if(!this._enableDrawing){return;}var f=2500;var t,g=this.shapes[0].centerPoint.x,h=this.shapes[1].centerPoint.x,i=this.shapes[2].centerPoint.x,j,k=parseFloat(jQuery("body").css("font-size")),T=D.getParameter('to'),F=D.getParameter('from');if(!this.leftOffset||!this.rigthOffset){this.setTranslateOffset();}if(sap.ui.getCore().getConfiguration().getRTL()){if(T==="RightCenter"){T="LeftCenter";}else if(T==="LeftCenter"){T="RightCenter";}if(F==="RightCenter"){F="LeftCenter";}else if(F==="LeftCenter"){F="RightCenter";}}if(T==="RightCenter"){j=1;t=this.rigthOffset*k;}if(T==="LeftCenter"){j=-1;t=this.leftOffset*k;}if(T==="Center"){if(F==="RightCenter"){j=-1;t=this.rigthOffset*k;}if(F==="LeftCenter"){j=1;t=this.leftOffset*k;}}this.animateTranslation(g,h,i,t,f,j);},setTranslateOffset:function(){var t=sap.ui.core.theming.Parameters,l,s;if(window.matchMedia('(min-width: 1920px)').matches){l=t.get('sapUshellLeftViewPortWidthL');s=t.get('sapUshellRightViewPortWidthXXL');}else if(window.matchMedia('(min-width: 1600px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthXL');}else if(window.matchMedia('(min-width: 1440px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthL');}else if(window.matchMedia('(min-width: 1280px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthM');}else if(window.matchMedia('(min-width: 1024px)').matches){l=t.get('sapUshellLeftViewPortWidthXS');s=t.get('sapUshellRightViewPortWidthS');}else if(window.matchMedia('(min-width: 601px)').matches){l=t.get('sapUshellLeftViewPortWidthXS');s=t.get('sapUshellRightViewPortWidthXS');}else if(window.matchMedia('(max-width : 600px)').matches){l=(jQuery(window).width()/parseFloat(jQuery("body").css("font-size")))+"";s=(jQuery(window).width()/parseFloat(jQuery("body").css("font-size")))+"";}this.leftOffset=parseInt(l.replace("rem",""),10);this.rigthOffset=parseInt(s.replace("rem",""),10);},animateTranslation:function(d,e,f,t,g,h){var s=new Date().getTime();var i=s+g,j=t,k=t/4,l=t/2,o,n,p,q=this;var u=function(){var v=new Date().getTime(),w=1-Math.pow(1-Math.min((g-(i-v))/g,1),5);o=d+h*k*w;n=e+h*l*w;p=f+h*j*w;q.updateShapes(o,n,p);q.drawShapes();if(w<1){r(u);}};return u();},updateShapes:function(o,d,e){var t=this,f=this.shapes[0].centerPoint.x-o,g=this.shapes[1].centerPoint.x-d,h=this.shapes[2].centerPoint.x-e;this.shapes[0].centerPoint=new P(o,this.shapes[0].centerPoint.y);this.shapes[1].centerPoint=new P(d,this.shapes[1].centerPoint.y);this.shapes[2].centerPoint=new P(e,this.shapes[2].centerPoint.y);this.shapes[0].bezierCurves.forEach(function(i,I){t.shapes[0].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+f,i.controlPoint1.y);t.shapes[0].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+f,i.controlPoint2.y);t.shapes[0].bezierCurves[I].startPoint=new P(i.startPoint.x+f,i.startPoint.y);t.shapes[0].bezierCurves[I].endPoint=new P(i.endPoint.x+f,i.endPoint.y);});this.shapes[1].bezierCurves.forEach(function(i,I){t.shapes[1].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+g,i.controlPoint1.y);t.shapes[1].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+g,i.controlPoint2.y);t.shapes[1].bezierCurves[I].startPoint=new P(i.startPoint.x+g,i.startPoint.y);t.shapes[1].bezierCurves[I].endPoint=new P(i.endPoint.x+g,i.endPoint.y);});this.shapes[2].bezierCurves.forEach(function(i,I){t.shapes[2].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+h,i.controlPoint1.y);t.shapes[2].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+h,i.controlPoint2.y);t.shapes[2].bezierCurves[I].startPoint=new P(i.startPoint.x+h,i.startPoint.y);t.shapes[2].bezierCurves[I].endPoint=new P(i.endPoint.x+h,i.endPoint.y);});},makeAmorphousShape:function(s,d,x,y,e){var f,g,h;switch(d){case 0:f=s.bezierCurves[0].controlPoint1;g=s.bezierCurves[3].controlPoint2;h=this._rotatePoints(x,y,f,g);s.bezierCurves[0].controlPoint1=h[0];s.bezierCurves[3].controlPoint2=h[1];break;case 1:f=s.bezierCurves[0].controlPoint2;g=s.bezierCurves[1].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[0].controlPoint2=h[0];s.bezierCurves[1].controlPoint1=h[1];break;case 2:f=s.bezierCurves[1].controlPoint2;g=s.bezierCurves[2].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[1].controlPoint2=h[0];s.bezierCurves[2].controlPoint1=h[1];break;case 3:f=s.bezierCurves[2].controlPoint2;g=s.bezierCurves[3].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[2].controlPoint2=h[0];s.bezierCurves[3].controlPoint1=h[1];break;}return s;},_rotatePoints:function(d,e,f,g){var x,y,h=[];x=f.x+d;y=f.y+e;h.push(new P(x,y));x=g.x-d;y=g.y-e;h.push(new P(x,y));return h;},_getSquarePoints:function(d,e){var s=[];s[0]=new P(e.x+d,e.y);s[1]=new P(e.x,e.y-d);s[2]=new P(e.x-d,e.y);s[3]=new P(e.x,e.y+d);return s;},_getRandomInt:function(d,e){if(d==0&&e==1){return Math.random();}return Math.floor(Math.random()*(e-d+1))+d;},_calculatebezierCurves:function(d,s){var e=[];var f;var g;var h,i;i=s[0];h=s[1];f=new P(i.x,i.y-d/2);g=new P(i.x-d/2,i.y-d);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[1];h=s[2];f=new P(i.x-d/2,i.y);g=new P(i.x-d,i.y+d/2);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[2];h=s[3];f=new P(i.x,i.y+d/2);g=new P(i.x+d/2,i.y+d);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[3];h=s[0];f=new P(i.x+d/2,i.y);g=new P(i.x+d,i.y-d/2);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});return e;},drawShapes:function(){var d=jQuery('#'+this.Id)[0],B=sap.ui.core.theming.Parameters.get("sapUshellShellBackgroundShapesColor");if(d&&d.getContext){var e=d.getContext('2d'),s,f,g,h;e.clearRect(0,0,c*2,a*2);if(B){for(var j=0;j<this.shapes.length;j++){e.beginPath();s=this.shapes[j].bezierCurves[0].startPoint;e.moveTo(s.x,s.y);for(var i=0;i<this.shapes[j].bezierCurves.length;i++){f=this.shapes[j].bezierCurves[i].endPoint;g=this.shapes[j].bezierCurves[i].controlPoint1;h=this.shapes[j].bezierCurves[i].controlPoint2;e.bezierCurveTo(Math.floor(g.x),Math.floor(g.y),Math.floor(h.x),Math.floor(h.y),Math.floor(f.x),Math.floor(f.y));}e.closePath();e.fillStyle=B;e.fill();}}}}};var C=new m();return C;},true);
sap.ui.predefine('sap/ushell/Config',["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core"],function(E,c){"use strict";var C=c(window["sap-ushell-config"]);var f=E.createChannel(C);var a=Object.keys(f).reduce(function(a,m){a[m]=function(){if(!f){f=E.createChannel(C);}return f[m].apply(f,arguments);};return a;},{_reset:function(){f=null;},registerConfiguration:function(o,b){C=b;}});return a;},false);
sap.ui.predefine('sap/ushell/bootstrap/common/common.create.configcontract.core',[],function(){"use strict";function c(m){function g(p,d){var P=p.split("/");var l=P.pop();var D=P.reduce(function(o,s){if(!o||!o.hasOwnProperty(s)){return{};}return o[s];},m);return D[l]!==undefined?D[l]:d;}var C={core:{extension:{EndUserFeedback:g("services/EndUserFeedback/config/enabled",true),SupportTicket:g("services/SupportTicket/config/enabled",false)},navigation:{enableInPlaceForClassicUIs:{GUI:g("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:g("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:g("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)}}}};return C;}return c;},false);
sap.ui.predefine('sap/ushell/ui/shell/ToolAreaItem',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IconPool','sap/ushell/library'],function(q,C,I){"use strict";var T=C.extend("sap.ushell.ui.shell.ToolAreaItem",{metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},text:{type:"string",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},expandable:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{},expand:{}}},renderer:{render:function(r,t){var i;r.write("<div");r.writeControlData(t);if(!t.getIcon()){r.addClass("sapUshellToolAreaItmTextOnly");}else{r.addClass("sapUshellToolAreaItm");}if(!t.getVisible()){r.addClass("sapUshellShellHidden");}if(t.getAriaLabel()){r.writeAccessibilityState({label:this.getAriaLabel(),role:"button"});}r.writeClasses();var a=t.getTooltip_AsString();if(a){r.writeAttributeEscaped("title",a);}r.write(">");if(t.getIcon()){i=I.createControlByURI(t.getIcon());i.setUseIconTooltip(false);i.addStyleClass("sapUshellToolAreaItemIcon");r.renderControl(i);}if(t.getText()){r.write("<span");r.addClass("sapUshellToolAreaItemText");r.writeClasses();r.write(">");r.writeEscaped(t.getText());r.write("</span>");}if(t.getExpandable()){this.renderExpandable(r);}r.write("</div>");},renderExpandable:function(r){var i=I.createControlByURI("sap-icon://icon-dropdown");i.addStyleClass("sapUshellToolAreaItemExpandable");r.renderControl(i);}}});T.prototype.onclick=function(e){if(this.$().parent().hasClass("sapUshellToolAreaItemSelected")){this.setSelected(false);}else{this.setSelected(true);}if(e.target.className.indexOf("sapUshellToolAreaItemExpandable")>0){this.fireExpand();}else{this.firePress();}};T.prototype.onsapenter=T.prototype.onclick;T.prototype.setExpandable=function(e){e=!!e;this.setProperty("expandable",e,true);this.$().toggleClass("sapUshellToolAreaItemExpandable",e);};T.prototype.setSelected=function(s){s=!!s;if(s){var j=q(".sapUshellToolAreaItemSelected");j.each(function(){q(this).removeClass("sapUshellToolAreaItemSelected");});}this.setProperty("selected",s,true);this.$().parent().toggleClass("sapUshellToolAreaItemSelected",s);};T.prototype.setVisible=function(v){var r=this.getParent().getDomRef();this.setProperty("visible",!!v,r);this.$().toggleClass("sapUshellShellHidden",!v);};T.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};return T;},true);
sap.ui.predefine('sap/ushell/ui5service/_ShellUIService/shelluiservice.class.factory',["sap/ui/base/EventProvider","sap/ui/thirdparty/hasher"],function(E,h){"use strict";return function(s){var S=s.serviceRegistry,a=s.serviceFactory,b=s.service;var l;var e=new E();var O={hierarchyChanged:"hierarchyChanged",relatedAppsChanged:"relatedAppsChanged",titleChanged:"titleChanged",backNavigationChanged:"backNavigationChanged"};var A;var c=b.extend("sap.ushell.ui5service.ShellUIService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.ShellUIService",new a(p));},_setActiveComponentId:function(i){A=i;},_getActiveComponentId:function(){return A;},_shouldEnableAutoHierarchy:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy")==="auto";},_shouldEnableAutoTitle:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle")==="auto";},_enableAutoHierarchy:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}r.attachTitleChanged(function(d){var H=d.getParameter("history");t.setHierarchy(H.reverse().map(function(u){var f=t._getCurrentShellHashWithoutAppRoute();return{title:u.title,intent:f+"&/"+u.hash};}));});},_enableAutoTitle:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}var T=r.getTitleHistory()[0];if(T&&T.title){setTimeout(function(){t.setTitle(T.title);},0);}r.attachTitleChanged(function(d){var f=d.getParameter("title");t.setTitle(f);});},_getCurrentShellHashWithoutAppRoute:function(){var f="#"+h.getHash();var u=sap.ushell.Container.getService("URLParsing");var U=u.getShellHash(f);if(!U){jQuery.sap.log.error("Cannot get the current shell hash","URLParsing service returned a falsy value for "+f,"sap.ushell.ui5service.ShellUIService");return"";}return"#"+U;},_getEventProvider:function(){return e;},_getLastSetTitle:function(){return l;},_ensureArrayOfObjectOfStrings:function(v,m){var V=jQuery.isArray(v)&&v.every(function(o){return jQuery.isPlainObject(o)&&Object.keys(o).length>0&&Object.keys(o).every(function(k){return typeof o[k]==="string";});});if(!V){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.ShellUIService");}return V;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setHierarchy"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoHierarchy(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setHierarchy should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setTitle"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoTitle(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setTitle should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,C;C=p.getContext();if(typeof C==="undefined"){return;}["setTitle","setHierarchy","setRelatedApps","setBackNavigation"].forEach(function(m){t._addCallAllowedCheck(p,m);});var o=C.scopeObject;if(C.scopeType==="component"&&o){this._setActiveComponentId(o.getId());if(this._shouldEnableAutoHierarchy(o)){this._enableAutoHierarchy(o);}if(this._shouldEnableAutoTitle(o)){this._enableAutoTitle(o);}return;}jQuery.sap.log.error("Invalid context for ShellUIService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.ShellUIService");},setHierarchy:function(H){if(typeof H!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(H,"setHierarchy")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.hierarchyChanged,{data:H,component:C});return;},setTitle:function(t){if(typeof t!=="undefined"&&!c.prototype._ensureString(t,"setTitle")){return;}var C=this.getContext().scopeObject;l=t;e.fireEvent(O.titleChanged,{data:t,component:C});return;},setBackNavigation:function(C){if(typeof C!=="undefined"&&!c.prototype._ensureFunction(C,"setBackNavigation")){return;}var o=this.getContext().scopeObject;e.fireEvent(O.backNavigationChanged,{data:C,component:o});return;},getTitle:function(){return this._getLastSetTitle();},setRelatedApps:function(r){if(typeof r!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(r,"setRelatedApps")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.relatedAppsChanged,{data:r,component:C});return;},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},_attachHierarchyChanged:function(f){this._getEventProvider().attachEvent(O.hierarchyChanged,f);},_detachHierarchyChanged:function(f){this._getEventProvider().detachEvent(O.hierarchyChanged,f);},_attachTitleChanged:function(f){this._getEventProvider().attachEvent(O.titleChanged,f);},_attachBackNavigationChanged:function(f){this._getEventProvider().attachEvent(O.backNavigationChanged,f);},_detachBackNavigationChanged:function(f){this._getEventProvider().detachEvent(O.backNavigationChanged,f);},_detachTitleChanged:function(f){this._getEventProvider().detachEvent(O.titleChanged,f);},_attachRelatedAppsChanged:function(f){this._getEventProvider().attachEvent(O.relatedAppsChanged,f);},_detachRelatedAppsChanged:function(f){this._getEventProvider().detachEvent(O.relatedAppsChanged,f);}});return c;};});
sap.ui.predefine('sap/ushell/utils/utilsCdm',["sap/ushell/utils"],function(u){"use strict";function g(o,A){return u.getMember(o,A);}function m(k,s,A){s=u.clone(s);A=u.clone(A);var i={};i.semanticObject=s.semanticObject;i.action=s.action;i.title=s.title||g(A,"sap|app.title");i.info=s.info||g(A,"sap|app.info");i.icon=s.icon||g(A,"sap|ui.icons.icon");i.subTitle=s.subTitle||g(A,"sap|app.subTitle");i.shortTitle=s.shortTitle||g(A,"sap|app.shortTitle");var t,T,b,o,d,c,I=false;var S=g(A,"sap|platform|runtime");i.resolutionResult=jQuery.extend(true,{},S);if(S){i.resolutionResult["sap.platform.runtime"]=jQuery.extend(true,{},S);}if(g(A,"sap|ui.technology")==="GUI"){i.resolutionResult["sap.gui"]=g(A,"sap|gui");}if(g(A,"sap|ui.technology")==="WDA"){i.resolutionResult["sap.wda"]=g(A,"sap|wda");}if(g(A,"sap|ui.technology")==="URL"){if(A["sap.url"]){i.resolutionResult["sap.platform.runtime"]=i.resolutionResult["sap.platform.runtime"]||{};i.resolutionResult.url=A["sap.url"].uri;i.resolutionResult["sap.platform.runtime"].url=A["sap.url"].uri;}else if(S&&S.uri){i.resolutionResult["sap.platform.runtime"].url=S.uri;i.resolutionResult.url=S.uri;}}if(!i.resolutionResult["sap.ui"]){i.resolutionResult["sap.ui"]={};}i.resolutionResult["sap.ui"].technology=g(A,"sap|ui.technology");i.resolutionResult.applicationType=this._formatApplicationType(i.resolutionResult,A);i.resolutionResult.systemAlias=i.resolutionResult.systemAlias||s.systemAlias;i.resolutionResult.systemAliasSemantics="apply";i.resolutionResult.text=i.title;i.deviceTypes=g(A,"sap|ui.deviceTypes")||{};["desktop","tablet","phone"].forEach(function(M){if(Object.prototype.hasOwnProperty.call(s.deviceTypes||{},M)){i.deviceTypes[M]=s.deviceTypes[M];}if(!Object.prototype.hasOwnProperty.call(i.deviceTypes,M)){i.deviceTypes[M]=true;}i.deviceTypes[M]=!!i.deviceTypes[M];});i.signature=s.signature||{};i.signature.parameters=i.signature.parameters||{};i.signature.additionalParameters=(s.signature||{}).additionalParameters||"allowed";var e=s.indicatorDataSource||g(A,"sap|app.crossNavigation.inbounds."+k+".indicatorDataSource");var h=e?"#Shell-dynamicTile":"#Shell-staticTile";if(g(A,"sap|app.type")==="tile"||g(A,"sap|flp.type")==="tile"){h=i.resolutionResult;h.url=g(A,"sap|platform|runtime.componentProperties.url");h.componentName=g(A,"sap|ui5.componentName");if(g(A,"sap|platform|runtime.includeManifest")){h.componentProperties=h.componentProperties||{};h.componentProperties.manifest=jQuery.extend(true,{},A);delete h.componentProperties.manifest["sap.platform.runtime"];}o=g(A,"sap|app.crossNavigation.outbounds.target");I=true;}if(g(A,"sap|app.type")==="plugin"||g(A,"sap|flp.type")==="plugin"){return undefined;}if(g(A,"sap|flp.tileSize")){t=g(A,"sap|flp.tileSize");}if(g(A,"sap|app.description")){T=g(A,"sap|app.description");}if(g(A,"sap|ui.technology")==="GUI"&&g(A,"sap|gui.transaction")){b=g(A,"sap|gui.transaction");}if(g(A,"sap|ui.technology")==="WDA"&&g(A,"sap|wda.applicationId")){b=g(A,"sap|wda.applicationId");}if(g(A,"sap|app.dataSources")){d=g(A,"sap|app.dataSources");}if(g(A,"sap|app.id")){c=g(A,"sap|app.id");}i.tileResolutionResult={appId:c,title:i.title,subTitle:i.subTitle,icon:i.icon,size:t,info:i.info,tileComponentLoadInfo:h,indicatorDataSource:e,dataSources:d,description:T,technicalInformation:b,deviceTypes:i.deviceTypes};i.tileResolutionResult.isCustomTile=I;if(o){i.tileResolutionResult.targetOutbound=o;}return i;}function f(r,A){var s=r.applicationType;if(s){return s;}var c=g(A,"sap|platform|runtime.componentProperties.self.name")||g(A,"sap|ui5.componentName");if(g(A,"sap|flp.appType")==="UI5"||g(A,"sap|ui.technology")==="UI5"){r.applicationType="SAPUI5";r.additionalInformation="SAPUI5.Component="+c;r.url=g(A,"sap|platform|runtime.componentProperties.url");r.applicationDependencies=g(A,"sap|platform|runtime.componentProperties");return"SAPUI5";}if(g(A,"sap|ui.technology")==="GUI"){r.applicationType="TR";r["sap.gui"]=g(A,"sap|gui");r.systemAlias=g(A,"sap|app.destination.name");return"TR";}if(g(A,"sap|ui.technology")==="WDA"){r.applicationType="WDA";r["sap.wda"]=g(A,"sap|wda");r.systemAlias=g(A,"sap|app.destination.name");return"WDA";}if(g(A,"sap|ui.technology")==="URL"){r.applicationType="URL";r.systemAlias=g(A,"sap|app.destination.name");}return"URL";}function a(s){var t=this;if(!s){return[];}var i=[];try{var S=Object.keys(s.applications||{}).sort();S.forEach(function(A){try{var o=s.applications[A];var b=g(o,"sap|app.crossNavigation.inbounds");if(b){var l=Object.keys(b).sort();l.forEach(function(I){var c=b[I];var r=t.mapOne(I,c,o);if(r){i.push(r);}});}}catch(E){jQuery.sap.log.error("Error in application "+A+": "+E,E.stack);}});}catch(e){jQuery.sap.log.error(e);jQuery.sap.log.error(e.stack);return[];}return i;}return{formatSite:a,mapOne:m,_formatApplicationType:f};},true);
/*
 * ! UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/base/ManagedObjectObserver',['jquery.sap.global','sap/ui/base/Object','sap/ui/base/ManagedObject','sap/ui/base/EventProvider','jquery.sap.script'],function(q,B,M,E){"use strict";var a=B.extend("sap.ui.base.ManagedObjectObserver",{constructor:function(C){if(!C&&typeof C!=="function"){throw new Error("Missing callback function in ManagedObjectObserver constructor");}this._fnCallback=C;}});a.prototype.observe=function(o,C){if(!(o instanceof M)){if(o==null){return;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but observe was called for "+o);}m(o,C);c(o,this,C);};a.prototype.unobserve=function(o,C){if(!(o instanceof M)){if(o==null){return;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but unobserve was called for "+o);}if(C){m(o,C);}r(o,this,C);};a.prototype.isObserved=function(o,C){if(!(o instanceof M)){if(o==null){return false;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but isObserved was called for "+o);}return d(o,this,C);};a.prototype.disconnect=function(){e(this);};a.prototype.getConfiguration=function(o){return g(o,this);};var O={},t=Object.create(null);O.propertyChange=function(o,n,v,N){h("properties",o,n,function(){return{type:"property",old:v,current:N};});};O.aggregationChange=function(o,n,s,v){h("aggregations",o,n,function(){return{type:"aggregation",mutation:s,children:Array.isArray(v)?v:null,child:!Array.isArray(v)?v:null};});};O.associationChange=function(o,n,s,i){h("associations",o,n,function(){return{type:"association",mutation:s,ids:i};});};O.eventChange=function(o,n,s,L,F,D){h("events",o,n,function(){return{type:"event",mutation:s,listener:L,func:F,data:D};});};O.bindingChange=function(o,n,s,i,p){h("bindings",o,n,function(){return{type:"binding",mutation:s,bindingInfo:i,memberType:p};});};O.objectDestroyed=function(o){h("destroy",o,null,function(){return{type:"destroy"};});var i=o.getId();if(t[i]){o.detachEvent("EventHandlerChange",H);delete t[i];}delete o._observer;};function h(T,o,n,C){var I=o.getId(),p=t[I];if(p){var s;for(var i=0;i<p.listeners.length;i++){if(b(p.configurations[i],T,n)){if(!s){s=C();s.name=n;s.object=o;}var L=p.listeners[i];L._fnCallback(s);}}}}function b(C,T,n){if(C==null||!T){return false;}if(T!="destroy"&&!n){return false;}return C[T]===true||(Array.isArray(C[T])&&C[T].indexOf(n)>-1);}function c(T,L,C){u(T,L,C,false);}function g(T,L){var i=T.getId();var o=t[i];if(o&&o.listeners){var I=o.listeners.indexOf(L);if(I>=0){var C=q.extend(true,{},o.configurations[I]);return C;}}return null;}function r(T,L,C){C=C||g(T,L);u(T,L,C,true);}function d(T,L,C){var i=T.getId(),o=t[i];C=C||g(T,L);if(!o){return false;}var I=o.listeners.indexOf(L);if(I===-1){return false;}else{return k(o.configurations[I].properties,C.properties)&&k(o.configurations[I].aggregations,C.aggregations)&&k(o.configurations[I].associations,C.associations)&&k(o.configurations[I].bindings,C.bindings)&&k(o.configurations[I].events,C.events)&&l(o.configurations[I].destroy,C.destroy);}}function e(L){for(var n in t){var T=t[n];for(var i=0;i<T.listeners.length;i++){if(T.listeners[i]===L){T.listeners.splice(i,1);T.configurations.splice(i,1);}}if(T.listeners&&T.listeners.length===0){delete t[n];T.object._observer=undefined;}}}function u(T,L,C,R){var i=T.getId(),o=t[i],n,I;if(R){if(!o){return;}I=o.listeners.indexOf(L);if(I>=0){n=o.configurations[I];}}else{if(!o){o=t[i]={listeners:[],configurations:[],object:T};}I=o.listeners.indexOf(L);if(I===-1){o.listeners.push(L);o.configurations.push(C);}else{n=o.configurations[I];}}if(n){n.properties=n.properties||[];j(n.properties,C.properties,R);n.aggregations=n.aggregations||[];j(n.aggregations,C.aggregations,R);n.associations=n.associations||[];j(n.associations,C.associations,R);n.bindings=n.bindings||[];j(n.bindings,C.bindings,R);n.events=n.events||[];j(n.events,C.events,R);if(C.destroy!=null){if(R){delete n.destroy;}else{n.destroy=C.destroy;}}}var p=f(T,"events");if(T._observer&&R){if(!p&&E.hasListener(T,"EventHandlerChange",H)){T.detachEvent("EventHandlerChange",H);}if(!p&&!f(T,"properties")&&!f(T,"aggregations")&&!f(T,"associations")&&!f(T,"destroy")&&!f(T,"bindings")){delete T._observer;delete t[i];}}else if(!T._observer&&!R){if(p&&!E.hasListener(T,"EventHandlerChange",H)){T.attachEvent("EventHandlerChange",H);}T._observer=O;}}function f(T,s){var i=T.getId(),o=t[i];if(o){var C=o.configurations.filter(function(n){return n.hasOwnProperty(s)&&n[s]&&(n[s]===true||n[s].length>0);});return C.length>0;}return false;}function H(o){var T=o.getSource(),s=o.mParameters.EventId;if(T.getMetadata().hasEvent(s)){if(o.mParameters.type==="listenerAttached"){O.eventChange(T,s,"insert",o.mParameters.listener,o.mParameters.func,o.mParameters.data);}else if(o.mParameters.type==="listenerDetached"){O.eventChange(T,s,"remove",o.mParameters.listener,o.mParameters.func,o.mParameters.data);}}}function j(o,A,R){if(!A){return;}for(var i=0;i<A.length;i++){var I=o.indexOf(A[i]);if(I>-1&&R){o.splice(I,1);}else if(I===-1&&!R){o.push(A[i]);}}}function k(F,s){if(!Array.isArray(s)||s.length==0){return true;}if(!Array.isArray(F)||F.length==0){return false;}var U=q.sap.unique(F.concat(s));return F.length===U.length;}function l(o,C){if(C==null){return true;}return o===C;}function m(o,C){var i=o.getMetadata(),p=Object.keys(i.getAllProperties()),A=Object.keys(i.getAllAggregations()),n=Object.keys(i.getAllAssociations()),s=q.sap.unique(p.concat(A)),v=Object.keys(i.getAllEvents());C.properties=C.properties===true?p:C.properties;C.aggregations=C.aggregations===true?A:C.aggregations;C.associations=C.associations===true?n:C.associations;C.bindings=C.bindings===true?s:C.bindings;C.events=C.events===true?v:C.events;C.destroy=(C.destroy==null)?false:C.destroy;}return a;});
sap.ui.predefine('sap/ui/model/base/ManagedObjectModel',['jquery.sap.global','../json/JSONModel','../json/JSONPropertyBinding','../json/JSONListBinding','sap/ui/base/ManagedObject','sap/ui/base/ManagedObjectObserver','../Context','../ChangeReason'],function(q,J,a,b,M,c,C,d){"use strict";var e=b.extend("sap.ui.model.base.ManagedObjectModelAggregationBinding"),f=a.extend("sap.ui.model.base.ManagedObjectModelPropertyBinding"),g="@custom",I="--";var h=J.extend("sap.ui.model.base.ManagedObjectModel",{constructor:function(o,D){if(!D&&typeof D!="object"){D={};}D[g]={};this._oObject=o;this._mObservedCount={properties:{},aggregations:{}};this.mListBinding={};J.apply(this,[D]);this._oObserver=new c(this.observerChanges.bind(this));}});h.prototype.getAggregation=J.prototype.getProperty;h.prototype.setData=function(D,m){var _={};_[g]=D;J.prototype.setData.apply(this,[_,m]);};h.prototype.getJSON=function(){return JSON.stringify(this.oData[g]);};h.prototype.setProperty=function(p,v,o,A){var r=this.resolve(p,o),l,O,P;if(!r){return false;}if(r.indexOf("/"+g)===0){return J.prototype.setProperty.apply(this,arguments);}l=r.lastIndexOf("/");O=r.substring(0,l||1);P=r.substr(l+1);var i=this._getObject(O);if(i){if(i instanceof M){var j=i.getMetadata().getProperty(P);if(j){var s=j._sMutator,G=j._sGetter;if(i[G]()!==v){i[s](v);this.checkUpdate(false,A);return true;}}}else if(i[P]!==v){i[P]=v;this.checkUpdate(false,A);return true;}}return false;};h.prototype.addBinding=function(B){J.prototype.addBinding.apply(this,arguments);if(B instanceof e){var A=B.sPath.replace("/","");this.mListBinding[A]=B;}B.checkUpdate(false);};h.prototype.removeBinding=function(B){J.prototype.removeBinding.apply(this,arguments);if(B instanceof e){var A=B.sPath.replace("/","");delete this.mListBinding[A];}this._observeBeforeEvaluating(B,false);};h.prototype.firePropertyChange=function(A){if(A.reason===d.Binding){A.resolvedPath=this.resolve(A.path,A.context);}J.prototype.firePropertyChange.call(this,A);};h.prototype.bindAggregation=function(p,o,P){return J.prototype.bindProperty.apply(this,arguments);};h.prototype.bindProperty=function(p,o,P){var B=new f(this,p,o,P);return B;};h.prototype.bindList=function(p,o,s,F,P){var B=new e(this,p,o,s,F,P);B.enableExtendedChangeDetection();return B;};h.prototype.getManagedObject=function(p,o){if(p instanceof C){o=p;p=o.getPath();}var O=this.getProperty(p,o);if(O instanceof M){return O;}return null;};h.prototype.getRootObject=function(){return this._oObject;};h.prototype._observePropertyChange=function(o,p){if(!o||!p){return;}var k=o.getId()+"/@"+p.name;if(!this._oObserver.isObserved(o,{properties:[p.name]})){this._oObserver.observe(o,{properties:[p.name]});this._mObservedCount.properties[k]=1;}else{this._mObservedCount.properties[k]++;}};h.prototype._unobservePropertyChange=function(o,p){if(!o||!p){return;}var k=o.getId()+"/@"+p.name;this._mObservedCount.properties[k]--;if(this._mObservedCount.properties[k]==0){this._oObserver.unobserve(o,{properties:[p.name]});delete this._mObservedCount.properties[k];}};h.prototype._observeAggregationChange=function(o,A){if(!o||!A){return;}var k=o.getId()+"/@"+A.name;if(!this._oObserver.isObserved(o,{aggregations:[A.name]})){this._oObserver.observe(o,{aggregations:[A.name]});this._mObservedCount.aggregations[k]=1;}else{this._mObservedCount.aggregations[k]++;}};h.prototype._unobserveAggregationChange=function(o,A){if(!o||!A){return;}var k=o.getId()+"/@"+A.name;this._mObservedCount.aggregations[k]--;if(this._mObservedCount.aggregations[k]==0){this._oObserver.unobserve(o,{aggregations:[A.name]});delete this._mObservedCount.aggregations[k];}};h.prototype._createId=function(i){var o=this._oObject;if(typeof o.createId==="function"){return o.createId(i);}if(!i){return o.getId()+I+q.sap.uid();}if(i.indexOf(o.getId()+I)!=0){return o.getId()+I+i;}return i;};h.prototype._getSpecialNode=function(n,s,p,P){if(n instanceof M){if(s==="className"){if(n.getMetadata){return n.getMetadata().getName();}else{return typeof n;}}else if(s==="id"){return n.getId();}else if(s==="metadataContexts"){return n._oProviderData;}}else if(s==="binding"&&p&&P){return p.getBinding(P);}else if(s==="bound"&&p&&P){return p.isBound(P);}else if(s==="bindingInfo"&&p&&P){return p.getBindingInfo(P);}else if(q.isArray(n)){if(s==="length"){return n.length;}else if(s.indexOf("id=")===0){var j=s.substring(3),F=null;for(var i=0;i<n.length;i++){if(n[i].getId()===this._createId(j)||n[i].getId()===j){F=n[i];break;}}return F;}}return null;};h.prototype._getObject=function(p,o){var n=this._oObject,r="",t=this;this.aBindings.forEach(function(B){if(!B._bAttached){t._observeBeforeEvaluating(B,true);}});if(typeof p==="string"&&p.indexOf("/")!=0&&!o){return null;}if(o instanceof M){n=o;r=p;}else if(!o||o instanceof C){r=this.resolve(p,o);if(!r){return n;}if(r.indexOf("/"+g)===0){return J.prototype._getObject.apply(this,[p,o]);}}else{n=o;r=p;}if(!n){return null;}var P=r.split("/"),i=0;if(!P[0]){i++;}var j=null,s=null,k;while(n!==null&&P[i]){k=P[i];if(k.indexOf("@")===0){n=this._getSpecialNode(n,k.substring(1),j,s);}else if(n instanceof M){var N=n.getMetadata();if(N.isInstanceOf("sap.ui.core.IDScope")&&k.indexOf("#")===0){n=n.byId(k.substring(1));}else{j=n;s=k;var l=N.getProperty(k);if(l){n=n[l._sGetter]();}else{var A=N.getAggregation(k)||N.getAllPrivateAggregations()[k];if(A){n=n[A._sGetter]?n[A._sGetter]():n.getAggregation(k);}else{if(n&&n[k]&&typeof n[k]==="function"){n=n[k]();}else{n=null;}}}}}else if(q.isArray(n)||q.isPlainObject(n)){n=n[k];}else{if(n&&n[k]&&typeof n[k]==="function"){n=n[k]();}else{n=null;}}i++;}return n;};h.prototype.destroy=function(){for(var n in this._mAggregationObjects){var o=this._mAggregationObjects[n];if(o.object.invalidate.fn){o.object.invalidate=o.object.invalidate.fn;}}J.prototype.destroy.apply(this,arguments);};h.prototype._observeBeforeEvaluating=function(B,o){if(!B.isResolved()){return;}var p=B.getPath();var i=B.getContext(),n=this._oObject,r;if(i instanceof M){n=i;r=p;}else if(!i||i instanceof C){r=this.resolve(p,i);if(!r){return;}if(r.indexOf("/"+g)===0){return;}}else{return;}var P=r.split("/");if(!P[0]){P.shift();}var s=P[0];if(n instanceof M){var N=n.getMetadata(),j=N.getProperty(s);if(j){if(o===true){this._observePropertyChange(n,j);}else if(o===false){this._unobservePropertyChange(n,j);}}else{var A=N.getAggregation(s)||N.getAllPrivateAggregations()[s];if(A){if(o===true){this._observeAggregationChange(n,A);}else if(o===false){this._unobserveAggregationChange(n,A);}}}B._bAttached=o;}};h.prototype.observerChanges=function(o){if(o.type=="aggregation"){if(o.mutation=="insert"){this._oObserver.observe(o.child,{properties:true,aggegations:true});}else{this._oObserver.unobserve(o.child,{properties:true,aggegations:true});}if(this.mListBinding[o.name]){var l=this._oObject.getBinding(o.name);var A=this._oObject.getAggregation(o.name);if(l&&l.getLength()!=A.length){return;}}}this.checkUpdate();};return h;});
/*!
 * @copyright@
 */
sap.ui.predefine('sap/m/NumericContentRenderer',['./library'],function(l){"use strict";var N={};N.render=function(r,c){var v=c.getValue();var i=c.getIndicator();var s=c.getScale();var S=c.getState();var I=l.DeviationIndicator.None!==i&&v!=="";var w=c.getWithMargin();var W;if(w){W="";}else{W="WithoutMargin";}if(c.getFormatterValue()){var f=c._parseFormattedValue(v);s=f.scale;v=f.value;}var b=s&&v;r.write("<div");r.writeControlData(c);var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.writeAttributeEscaped("aria-label",t);r.writeAttribute("role","img");if(S==l.LoadState.Failed||S==l.LoadState.Loading){r.writeAttribute("aria-disabled","true");}if(c.getAnimateTextChange()){r.addStyle("opacity","0.25");}if(c.getWidth()){r.addStyle("width",c.getWidth());}r.writeStyles();r.addClass("sapMNC");r.addClass(W);if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapMPointer");}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMNCInner");r.addClass(W);r.writeClasses();r.write(">");if(w){this._renderScaleAndIndicator(r,c,I,b,W,i,s);this._renderValue(r,c,W,v);}else{this._renderValue(r,c,W,v);this._renderScaleAndIndicator(r,c,I,b,W,i,s);}r.write("</div>");r.write("</div>");};N._prepareAndRenderIcon=function(r,c,i){if(i){var s,L=l.LoadState,C=c.getState();for(s in L){if(L.hasOwnProperty(s)&&s!==C){i.removeStyleClass(s);}else if(L.hasOwnProperty(s)&&s===C){i.addStyleClass(s);}}i.addStyleClass("sapMNCIconImage");r.renderControl(i);}};N._renderScaleAndIndicator=function(r,c,i,a,w,t,b){if(i||a){var s=c.getState();var C=c.getValueColor();r.write("<div");r.addClass("sapMNCIndScale");r.addClass(w);r.addClass(s);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-indicator");r.addClass("sapMNCIndicator");r.addClass(t);r.addClass(s);r.addClass(C);r.writeClasses();r.write("/>");if(a){r.write("<div");r.writeAttribute("id",c.getId()+"-scale");r.addClass("sapMNCScale");r.addClass(s);r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(b.substring(0,3));r.write("</div>");}r.write("</div>");}};N._renderValue=function(r,c,w,v){var e;if(c.getNullifyValue()){e="0";}else{e="";}r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapMNCValue");r.addClass(w);r.addClass(c.getValueColor());r.addClass(c.getState());r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-value-scr");r.addClass("sapMNCValueScr");r.addClass(w);r.writeClasses();r.write(">");this._prepareAndRenderIcon(r,c,c._oIcon);var C=c.getTruncateValueTo();if(v.length>=C&&(v[C-1]==="."||v[C-1]===",")){r.writeEscaped(v.substring(0,C-1));}else{if(v){r.writeEscaped(v.substring(0,C));}else{r.writeEscaped(e);}}r.write("</div>");r.write("</div>");};return N;},true);
// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/Fiori20Adapter',['sap/ui/base/Object','sap/ui/core/Component','sap/ui/core/UIComponent','sap/ui/model/resource/ResourceModel','sap/m/Fiori20Adapter',"sap/ui/thirdparty/hasher"],function(B,C,U,R,S,h){"use strict";var u;U._fnOnInstanceDestroy=function(c){if(c._fioriAdapter){c._fioriAdapter.destroy();}};var A=B.extend("AppInfo",{constructor:function(c){B.call(this);this._oComponent=c;},getDefaultTitle:function(){var t,r,m=this._oComponent.getMetadata();var a=m.getManifestEntry("sap.app");if(a&&a.title){t=a.title;if(this._isLocalizationKey(t)){r=(a.i18n||"i18n/i18n.properties");return this._getLocalized(t,r);}return t;}var o=m.getManifestEntry("sap.ui5");if(o&&o.config&&o.config.resourceBundle&&o.config.titleResource){t=o.config.titleResource;r=o.config.resourceBundle;return this._getLocalized(t,r);}return;},_getLocalized:function(t,r){var m=new R({bundleUrl:jQuery.sap.getModulePath(this._oComponent.getMetadata().getComponentName())+"/"+r});return m.getResourceBundle().getText(t.replace(/^{{/,"").replace(/}}$/,""));},_isLocalizationKey:function(t){return(t.indexOf("{{")===0)&&(t.indexOf("}}")>0);}});var H=B.extend("HeaderInfo",{constructor:function(c,o,a){B.call(this);this._oConfig=o;this._oAppInfo=a;this._aHierarchy=[];this._defaultTitle=this._oAppInfo.getDefaultTitle();this._oCurrentViewInfo={oTitleInfo:{text:this._defaultTitle}};},registerView:function(v){if(this._oConfig.bMoveTitle===false){return;}if(!v.oTitleInfo&&v.oSubTitleInfo){v.oTitleInfo=v.oSubTitleInfo;}this._oCurrentViewInfo=v;var t=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:undefined;if(t!==u.getTitle()){u.setTitle(t);}this._updateHierarchy();this._setBackNavigation(v.oBackButton,v.oAdaptOptions);},_setBackNavigation:function(b,a){if(a&&a.bHideBackButton===false){return;}var f;if(b){f=b.firePress.bind(b);}u.setBackNavigation(f);},_updateHierarchy:function(){if(this._oConfig.bHierarchy===false){return;}if(!this._oCurrentViewInfo){return;}var n=true,s="#"+h.getHash();for(var i=this._aHierarchy.length-1;i>=0;i--){var e=this._aHierarchy[i],k=(e.id===this._oCurrentViewInfo.sViewId),K=(e.intent===s);if(k||K){n=false;e=this._updateHierarchyEntry(e);this._aHierarchy[i]=e;this._aHierarchy=this._aHierarchy.slice(0,i+1);if(k){e.intent=s;}break;}}if(n){this._aHierarchy.push(this._createHierarchyEntry());}var N=[];for(var j=this._aHierarchy.length-2;j>=0;j--){N.push(this._aHierarchy[j]);}u.setHierarchy(this._deleteUndefinedProperties(N));},_createHierarchyEntry:function(){var s="#"+h.getHash(),e={id:this._oCurrentViewInfo.sViewId,title:this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle,subtitle:this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined,intent:s};return e;},_updateHierarchyEntry:function(e){e.id=this._oCurrentViewInfo.sViewId;e.title=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle;e.subtitle=this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined;return e;},_deleteUndefinedProperties:function(o){o.forEach(function(O){for(var p in O){if(O.hasOwnProperty(p)&&!O[p]&&p!=='title'){delete O[p];}}});return o;}});var F=B.extend("sap.ushell.Fiori20Adapter",{constructor:function(c,o){B.call(this);this._oComponent=c;this._oConfig=o;this._oHeaderInfo=new H(c,o,new A(c));if(S){S.attachViewChange(this._onViewChange,this);}},init:function(){if(!S){return;}jQuery.sap.measure.start("Fiori20Adapter");var c=jQuery.extend({},this._oConfig);S.traverse(this._oComponent.getAggregation("rootControl"),c);jQuery.sap.measure.end("Fiori20Adapter");},destroy:function(){if(S){S.detachViewChange(this._onViewChange,this);}},_onViewChange:function(e){this._oHeaderInfo.registerView(e.getParameters());}});F.applyTo=function(c,o,a,s){var O=c instanceof U?c:C.getOwnerComponentFor(c);if(!O){O=o;}if(O&&!O._fioriAdapter){u=s;O._fioriAdapter=new F(O,a);O._fioriAdapter.init();}};return F;});
sap.ui.predefine('sap/ushell/Fiori20AdapterTest',['sap/ui/core/UIComponent','sap/ushell/Fiori20Adapter'],function(U,F){"use strict";var a={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_WHITELIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(c){var C=this._getURLParamConfiguration();if(!C){C=this._getMetadataConfiguration(c);}if(!C){C=this._getDefaultConfiguration(c);}C.iSearchDepth=C.iSearchDepth||a.I_DEFAULT_SEARCH_DEPTH;if((typeof C.iSearchDepth==="string")&&!isNaN(C.iSearchDepth)){C.iSearchDepth=parseInt(C.iSearchDepth,10);}return C;},_getURLParamConfiguration:function(){if(typeof sap.ui.getCore().getConfiguration().getFiori2Adaptation!=="function"){return;}if(!this._isURLParameterSpecified(a.S_FIORI20ADAPTER_URL_PARAM_NAME)){return;}var u=sap.ui.getCore().getConfiguration().getFiori2Adaptation(),b,s;if(typeof(u)==="boolean"){b=u;}else if(u&&(u.length>=1)){s=u;}if(!s&&(b===undefined)){return;}return{bStylePage:s?s.indexOf("style")>-1:b,bMoveTitle:s?s.indexOf("title")>-1:b,bHideBackButton:s?s.indexOf("back")>-1:b,bCollapseHeader:s?s.indexOf("collapse")>-1:b,bHierarchy:s?s.indexOf("hierarchy")>-1:b};},_getMetadataConfiguration:function(c){var A=c.getMetadata("config").getConfig(a.S_FIORI20ADAPTER_METADATA_PARAM_NAME),b,d;if(typeof(A)==="boolean"){b=A;}else if((typeof A==="object")&&!jQuery.isEmptyObject(A)){d=A;}if(!d&&(b===undefined)){return;}return{bStylePage:d?this._isSgnTrue(d["style"]):b,bMoveTitle:d?this._isSgnTrue(d["title"]):b,bHideBackButton:d?this._isSgnTrue(d["back"]):b,bCollapseHeader:d?this._isSgnTrue(d["collapse"]):b,bHierarchy:d?this._isSgnTrue(d["hierarchy"]):b,bLateAdaptation:d?this._isSgnTrue(d["lateAdaptation"]):a.B_DEFAULT_LATE_ADAPTATION};},_getDefaultConfiguration:function(c){var e=this._hasMinVersionSmallerThan(c,"1.42")&&this._isWhitelisted(c);return{bStylePage:e,bMoveTitle:e,bHideBackButton:e,bCollapseHeader:e,bHierarchy:e};},_isURLParameterSpecified:function(p){var A=jQuery.sap.getUriParameters().mParams&&jQuery.sap.getUriParameters().mParams[p];return A&&(A.length>0);},_isWhitelisted:function(c){var C=c.getMetadata().getName();for(var i=0;i<a.A_WHITELIST.length;i++){var n=a.A_WHITELIST[i].substring(0,a.A_WHITELIST[i].length-2);if(this._isPrefixedString(C,n)){return true;}}return false;},_isAdaptationRequired:function(A){for(var o in A){if(A[o]===true){return true;}}return false;},_isPrefixedString:function(s,p){return s&&p&&(s.substring(0,p.length)===p);},_hasMinVersionSmallerThan:function(c,v){var i=c.getMetadata().getManifestEntry("sap.ui5"),m=true;if(i&&i.dependencies&&i.dependencies.minUI5Version){var M=new jQuery.sap.Version(i.dependencies.minUI5Version);m=M.compareTo(new jQuery.sap.Version(v))<0;}return m;},_isSgnTrue:function(v){return(v===true)||(v==="true");}};U._fnOnInstanceInitialized=function(c){var C=c.getAggregation("rootControl");if(!C||C.getId()==="navContainerFlp"||c.getId().indexOf("application-")!==0){return;}var o=a.getConfiguration(c);if(!a._isAdaptationRequired(o)){return;}if(!sap.ui.core.service||!sap.ui.core.service.ServiceFactoryRegistry||typeof sap.ui.core.service.ServiceFactoryRegistry.get!=="function"){jQuery.sap.log.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return;}var d={onBeforeRendering:function(){C.removeEventDelegate(d);var s=sap.ui.core.service.ServiceFactoryRegistry.get("sap.ushell.ui5service.ShellUIService"),S=s&&s.createInstance();if(!s||!S){jQuery.sap.log.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return;}S.then(function(s){if(s&&(s.getUxdVersion()===2)){F.applyTo(C,c,o,s);}},function(e){jQuery.sap.log.warning("Fiori20Adapter not loaded as ShellUIService is not available",e,"sap.ushell.Fiori20AdapterTest");});}};C.addEventDelegate(d);};},false);
sap.ui.predefine('sap/ushell/System',function(){"use strict";var S=function(d){this.getAlias=function(){return d.alias;};this.getBaseUrl=function(){return d.baseUrl;};this.getClient=function(){return d.client;};this.getName=function(){return d.system;};this.getPlatform=function(){return d.platform;};this.adjustUrl=function(u){if(u.indexOf('/')!==0||u==='/'){throw new Error("Invalid URL: "+u);}if(d.baseUrl===";o="){if(d.alias){u=u+";o="+d.alias;}}else if(d.baseUrl){u=d.baseUrl.replace(/\/$/,"")+u;}if(d.client){u+=(u.indexOf("?")>=0?"&":"?")+"sap-client="+d.client;}return u;};this.toString=function(){return JSON.stringify(d);};};return S;},true);
sap.ui.predefine('sap/ushell/Ui5ServiceFactory',["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service"],function(S,a){"use strict";var A;function s(i){A=i;}function g(){return A;}function b(m){return!!/^[^_].+/.test(m);}function c(o){var p,P=[];for(p in o){P.push(p);}return P;}function d(u,p,P,i){c(u).filter(b).filter(function(n){var v=u[n];p[n]=v;return typeof v==="function";}).forEach(function(F){p[F]=p[F].bind(u);if(i){f(P,p,F);}});}function e(C){var G;if(typeof C==="undefined"){return true;}if(!jQuery.isPlainObject(C)){return false;}if(!C.scopeType){return false;}G=jQuery.sap.getObject("scopeObject.getId",undefined,C);if(typeof G!=="function"){return false;}return true;}function f(p,P,l){var o=P[l];P[l]=function(){var i,m,A=g();if(!p||p.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+l+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.Ui5ServiceFactory");return undefined;}m=new Array(arguments.length);for(i=0;i<m.length;++i){m[i]=arguments[i];}return o.apply(P,m);};}function h(p,u){var P,i;P={};i=typeof p==="object";d(u,P,p,i);if(i&&p.scopeType==="component"&&p.scopeObject&&p.scopeObject.getId){s(p.scopeObject.getId());}return P;}function j(u){return new Promise(function(r,R){try{var U=sap.ushell.Container.getService(u);r(U);}catch(E){R(E);}});}function k(u){var U=S.extend("sap.ushell.ui5service."+u+"Factory",{createInstance:function(p){return new Promise(function(r,R){j(u).then(function(o){var i,l,m;if(!e(p)){jQuery.sap.log.error("Invalid context for "+u+" service interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");R("Invalid Context for "+u+" service");return;}l=h(p,o,u);m=a.extend("sap.ushell.ui5service."+u,{getInterface:function(){return l;}});i=new m(p);r(i);},function(G){R(G);});});}});return new U();}return{createServiceFactory:k};});
sap.ui.predefine('sap/ushell/User',['sap/ui/thirdparty/URI'],function(U){"use strict";function c(o){if(o===undefined){return undefined;}return jQuery.extend(true,{},o);}function g(u){var o;if(u.host&&typeof u.host==="function"&&u.host()){o=u.host();if(typeof u.protocol==="function"&&u.protocol()){o=u.protocol()+"://"+o;}return o;}return"";}function i(t){return t.indexOf("sap_")===0;}var a=function(C){var b=[],B,s,o,n,e=new sap.ui.base.EventProvider();this.getEmail=function(){return C.email;};this.getFirstName=function(){return C.firstName;};this.getFullName=function(){return C.fullName;};this.getId=function(){return C.id;};this.getLanguage=function(){return C.language;};this.getLanguageBcp47=function(){return C.languageBcp47;};this.getLastName=function(){return C.lastName;};this.getImage=function(){return C.image;};this.setImage=function(u){C.image=u;e.fireEvent('onSetImage',u);};this.attachOnSetImage=function(f,d){e.attachEvent('onSetImage',f,d);};this.isJamActive=function(){return C.isJamActive===true;};this.isLanguagePersonalized=function(){return C.isLanguagePersonalized===true;};this.getTheme=function(t){if(t===a.prototype.constants.themeFormat.ORIGINAL_THEME){return o.originalTheme.theme;}if(t===a.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return o.theme+(o.locationPath?"@"+o.locationOrigin+o.locationPath:"");}if(t===a.prototype.constants.themeFormat.NWBC){if(i(o.theme)){return o.theme;}else{return this.getTheme(a.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}}return o.theme;};this.getThemeRoot=function(t){if(C.ranges&&C.ranges.theme&&C.ranges.theme[t]&&C.ranges.theme[t].themeRoot){return C.ranges.theme[t].themeRoot;}else{return"";}};this.setTheme=function(N){if(this.isSetThemePermitted()===false){var E="setTheme not permitted";jQuery.sap.log.error(E);throw new Error(E);}o=this._amendTheme({theme:N,root:this.getThemeRoot(N)},s);if(N!==n.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},n.originalTheme.theme,N);n=o;}if(o.suppliedRoot){sap.ui.getCore().applyTheme(o.theme,o.suppliedRoot+"/UI5/");}else if(o.path){sap.ui.getCore().applyTheme(o.theme,o.path+"/UI5/");}else{sap.ui.getCore().applyTheme(o.theme);}};this.setLanguage=function(N){if(N){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},C.language,N);C.language=N;}};this.getAccessibilityMode=function(){return C.accessibility;};this.setAccessibilityMode=function(A){if(this.isSetAccessibilityPermitted()===false){var E="setAccessibilityMode not permitted";jQuery.sap.log.error(E);throw new Error(E);}C.accessibility=A;};this.isSetAccessibilityPermitted=function(){return C.setAccessibilityPermitted;};this.isSetThemePermitted=function(){return C.setThemePermitted;};this.getContentDensity=function(){return C.contentDensity;};this.setContentDensity=function(d){if(this.isSetContentDensityPermitted()===false){var E="setContentDensity not permitted";jQuery.sap.log.error(E);throw new Error(E);}this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},C.contentDensity,d);C.contentDensity=d;};this.isSetContentDensityPermitted=function(){return C.setContentDensityPermitted;};this.getChangedProperties=function(){return jQuery.extend(true,[],b);};this.setChangedProperties=function(p,d,f){b.push({propertyName:p.propertyName,name:p.name,oldValue:d,newValue:f});};this.resetChangedProperties=function(){b=[];};this.getTrackUsageAnalytics=function(){return C.trackUsageAnalytics;};this.setTrackUsageAnalytics=function(t){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},C.trackUsageAnalytics,t);C.trackUsageAnalytics=t;};this.setImageConsent=function(d){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},C.isImageConsent,d);C.isImageConsent=d;};this.getImageConsent=function(){return C.isImageConsent;};s={locationPathUi5:(new U(jQuery.sap.getModulePath(""))).absoluteTo(document.location).pathname(),locationPathCustom:C.themeRoot||"",locationOrigin:g(new U(document.location))};if(!s.locationPathUi5){jQuery.sap.log.warning("User: Could not set UI5 location path");}if(!s.locationPathCustom){jQuery.sap.log.warning("User: Could not set location path for custom themes");}if(!s.locationOrigin){jQuery.sap.log.warning("User: Could not set front-end server location origin");}B=C.bootTheme||{theme:"",root:""};o=this._amendTheme(B,s);n=o;};a.prototype._amendTheme=function(t,s){var T={},b,r;function d(R,s){var u,o,p={};u=new U(R);o=g(u);if(o){p.locationOrigin=o;p.locationPath=u.path();}else{p.locationOrigin=s.locationOrigin;p.locationPath=R;}return p;}if(!t||!t.theme||!s){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""};}T.originalTheme=c(t);if(T.originalTheme.theme.indexOf("@")>0){b=T.originalTheme.theme.split('@',2);T.theme=b[0];T.suppliedRoot=b[1];r=d(b[1],s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.theme=T.originalTheme.theme;if(T.originalTheme.root){T.suppliedRoot=T.originalTheme.root;r=d(T.originalTheme.root,s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.suppliedRoot="";if(i(T.theme)){T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathUi5;T.path="";return T;}T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathCustom;T.path=T.locationPath;return T;};a.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return a;},true);
sap.ui.predefine('sap/ushell/UserActivityLog',['./utils','sap/ushell/ui/launchpad/Tile'],function(u,T){"use strict";var U=function(){};U.prototype={_maxLoggedMessages:30,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:["createGroup","deleteGroup","resetGroup","changeGroupTitle","moveGroup","addTile","deleteTile","movetile","externalSearch","appOpened","addBookmarkTile"],_observedGeneralActions:["showCatalog","openApp"],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(c){if(this._isActive){return;}this._isActive=true;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(b,i,d){e.subscribe("launchpad",b,t._handleAction,t);});this._observedGeneralActions.forEach(function(b,i,d){e.subscribe(b,t._handleAction,t);});jQuery.sap.log.addLogListener(this);jQuery.sap.log.debug("requiring sap.ushell.ui.launchpad.Tile",new Error().stack,"sap.ushell.UserActivityLog");t._tileOntapOrigFunc=T.prototype.ontap;sap.ushell.ui.launchpad.Tile.prototype.ontap=t._tileOnTapDecorator(t._tileOntapOrigFunc);},deactivate:function(){if(!this._isActive){return;}this._isActive=false;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(b,i,c){e.unsubscribe("launchpad",b,t._handleAction,t);});this._observedGeneralActions.forEach(function(b,i,c){e.unsubscribe(b,t._handleAction,t);});jQuery.sap.log.removeLogListener(this);sap.ushell.ui.launchpad.Tile.prototype.ontap=this._tileOntapOrigFunc;},addMessage:function(t,m,b){if(this._isActive){this._addMessageInternal(t,m,b);}},getLog:function(){return this._getLoggingQueueFromStorage();},getMessageInfo:function(s){var r={userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog(),formFactor:u.getFormFactor()};return r;},getMessageInfoAsString:function(s){return JSON.stringify(this.getMessageInfo(s));},onLogEntry:function(d){var e=(typeof d.details!="undefined"&&(d.details!==""))?(d.message+" , "+d.details):d.message;this.addMessage(this.messageType.ERROR,e);},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(o){var t=this,n,l,b,c,d,e;return function(f,g){var h=this.getMetadata().getName();if(h=="sap.ushell.ui.launchpad.PlusTile"){t.addMessage(t.messageType.ACTION,"Open Catalog for empty group "+this.getGroupId());}else if(h=="sap.ushell.ui.launchpad.Tile"){n=hasher.getHash();if(n){var i=sap.ushell.Container.getService("URLParsing");var j=i.parseShellHash(n);n='#'+i.constructShellHash({target:{semanticObject:j.semanticObject,action:j.action}});}l=t._getLastNavActionFromStorage();l.time=new Date();l.navigationHash=n;l.tileDebugInfo=this.getDebugInfo();b=sap.ui.getCore().byId(this.getId());c=b.getModel();d=this.getBindingContext();e=d.getPath();l.tileTitle=d.getModel().getProperty(e).title;t._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));t.addMessage(t.messageType.ACTION,"Click on Tile: "+c.getData().title+" Tile debugInfo: "+this.getDebugInfo());}o.apply(this,arguments);};},_addMessageInternal:function(t,m,b){var l=this._getLoggingQueueFromStorage(),c={type:null},p;for(p in this.messageType){if(t==this.messageType[p]){c.type=p;break;}}if(c.type===null){return;}jQuery.extend(c,{messageID:b,messageText:m,time:new Date(),toString:function(){var d=[this.type,this.time];if(typeof this.messageID!=="undefined"){d.push(this.messageID);}d.push(this.messageText);return d.join(" :: ");}});l.push(c);if(l.length>this._maxLoggedMessages){l.shift();}this._putInSessionStorage("sap.ushell.UserActivityLog.loggingQueue",JSON.stringify(l));},_handleAction:function(c,e,d){var m;switch(e){case'deleteTile':m="Delete Tile "+(d.tileId||"");break;case'moveTile':m="Move Tile "+(d.sTileId||"")+" to Group "+(d.toGroupId||"");break;case'createGroup':m="Create Group";break;case'changeGroupTitle':m="Change Group Title of "+(d.groupId||"")+" to "+(d.newTitle||"");break;case'deleteGroup':m="Delete Group "+(d.groupId||"");break;case'addTile':var t=d.catalogTileContext.oModel.oData,s=d.catalogTileContext.sPath,b=this._findInModel(s,t),f=b.id,g=d.groupContext.oModel.oData,G=d.groupContext.sPath,h=this._findInModel(G,g),i=h.groupId;m="Add Tile "+(f||"")+" to Group "+(i||"");break;case'moveGroup':m="Move Group from index "+(d.fromIndex||"")+" to index "+(d.toIndex||"");break;case'appOpened':m="Open application "+d.action;var l=this._getLastNavActionFromStorage();l.applicationInformation={};["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(p){l.applicationInformation[p]=d[p];});if(!this._hashSegmentsEqual(l.navigationHash,d.sShellHash)){l.tileDebugInfo="";}l.navigationHash=d.sShellHash;this._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));break;case'addBookmarkTile':m="Add Bookmark "+(d.title||"")+" "+(d.subtitle||"")+" for URL: "+(d.url||"");break;case'showCatalog':m="Show Catalog";break;default:break;}this.addMessage(this.messageType.ACTION,m);},_findInModel:function(p,m){var b,c=m,i,d;try{b=p.split("/");for(i=0;i<b.length;i=i+1){if(d!==b[i]){continue;}c=c[d];}}catch(e){return undefined;}return c;},_getUserDetails:function(s){var b=sap.ushell.Container.getUser();return{fullName:b.getFullName()||"",userId:b.getId()||"",eMail:b.getEmail()||"",Language:b.getLanguage()||""};},_getShellState:function(){var v=sap.ui.getCore().byId("viewPortContainer"),m,r="";if(v!==undefined){m=v.getModel();r=m.getProperty("/currentState/stateName");}return r;},_getLoggingQueueFromStorage:function(){var l=this._getFromSessionStorage("sap.ushell.UserActivityLog.loggingQueue");var q=[];if(l){try{q=JSON.parse(l);}catch(e){}}return q;},_getLastNavActionFromStorage:function(){var l=this._getFromSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData");return(l?JSON.parse(l):{});},_hashSegmentsEqual:function(b,c){if((!b)||(!c)){return false;}return(this._getHashSegment(b)==this._getHashSegment(c))?true:false;},_getHashSegment:function(b){var i=b.indexOf("~"),c;if(i>-1){return b.substring(0,i);}c=b.indexOf("?");if(c>-1){return b.substring(0,c);}return b;},_getFromSessionStorage:function(k){var r=null;try{r=sessionStorage.getItem(k);}catch(e){}return r;},_putInSessionStorage:function(k,v){try{sessionStorage.setItem(k,v);}catch(e){}}};var a=new U();return a;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter',["sap/ushell/utils/utilsCdm","sap/ushell/services/CommonDataModel"],function(u){"use strict";var C=function(s,p,a){this._oAdapterConfig=a&&a.config;this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",client:"",language:""};this.getInbounds=function(){var t=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new jQuery.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(S){return S.getSite();}).then(function(S){var i=u.formatSite(S)||[];t._getInboundsDeferred.resolve(i);},function(e){t._getInboundsDeferred.reject(e);});}return this._getInboundsDeferred.promise();};this._createSIDMap=function(A){return Object.keys(A).sort().reduce(function(S,i){var c=A[i];var b="SID("+c["systemId"]+"."+c["client"]+")";if(!S.hasOwnProperty(b)&&c.hasOwnProperty("systemId")&&c.hasOwnProperty("client")){S[b]=i;}return S;},{})};this._getSystemAliases=function(){var t=this;if(!this.Deferred){this.Deferred=new jQuery.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(S){return S.getSite();}).then(function(S){var o=jQuery.extend(true,{},S.systemAliases||{});Object.keys(o).forEach(function(i){o[i].id=i;});t.Deferred.resolve(o);},function(e){t.Deferred.reject(e);});}return this.Deferred.promise();};this.resolveSystemAlias=function(S){var d=new jQuery.Deferred(),t=this;this._getSystemAliases().done(function(o){var m;var M;if(o.hasOwnProperty(S)){d.resolve(o[S]);return;}if(S===""){d.resolve(t._oLocalSystemAlias);return;}S=S.toUpperCase(S);if(!t._oSIDMap){t._oSIDMap=t._createSIDMap(o);}if(t._oSIDMap.hasOwnProperty(S)){var b=o[t._oSIDMap[S]];d.resolve(b);return;}m="Cannot resolve system alias "+S;jQuery.sap.log.warning(m,"The system alias cannot be found in the site response","sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter");d.reject(m);}).fail(function(e){d.reject(e);});return d.promise();};};return C;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/CommonDataModelAdapter',["sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter","sap/base/util/extend","sap/base/Log","sap/base/util/UriParameters"],function(){"use strict";var C=function(u,p,a){this.oAdapterConfiguration=a;if(a&&a.config&&a.config.siteData){this.oCdmSiteDataRequestPromise=new jQuery.Deferred().resolve(a.config.siteData);}else if(a&&a.config&&a.config.siteDataPromise){this.oCdmSiteDataRequestPromise=a.config.siteDataPromise;}else{var s=this._identifySiteUrlFromConfig(a);this.oCdmSiteDataRequestPromise=this._requestSiteData(s);}};C.prototype._requestSiteData=function(u){var s=new jQuery.Deferred();if(!u){return s.reject("Cannot load site: configuration property 'siteDataUrl' is missing for CommonDataModelAdapter.");}jQuery.ajax({type:"GET",dataType:"json",url:u}).done(function(r){s.resolve(r);}).fail(function(e){jQuery.sap.log.error(e.responseText);s.reject("CDM Site was requested but could not be loaded.");});return s.promise();};C.prototype.getSite=function(){var d=new jQuery.Deferred();this.oCdmSiteDataRequestPromise.done(function(s){var S=jQuery.extend({},s);delete S.personalization;d.resolve(S);}).fail(function(m){d.reject(m);});return d.promise();};C.prototype.getPersonalization=function(){var d=new jQuery.Deferred(),t=this;this.oCdmSiteDataRequestPromise.done(function(s){var S=jQuery.extend({},s);if(t.oAdapterConfiguration&&t.oAdapterConfiguration.config&&t.oAdapterConfiguration.config.ignoreSiteDataPersonalization){delete S.personalization;}if(S.personalization){d.resolve(S.personalization);}else{t._readPersonalizationDataFromStorage().done(function(p){d.resolve(p);}).fail(function(m){d.reject(m);});}}).fail(function(m){d.reject(m);});return d.promise();};C.prototype._storePersonalizationData=function(p){var P=new jQuery.Deferred(),o=sap.ushell.Container.getService("Personalization"),c,s={keyCategory:o.constants.keyCategory.FIXED_KEY,writeFrequency:o.constants.writeFrequency.LOW,clientStorageAllowed:true},a={container:"sap.ushell.cdm.personalization",item:"data"},b=o.getPersonalizer(a,s,c);b.setPersData(p).done(function(){jQuery.sap.log.info("Personalization data has been stored successfully.");P.resolve();}).fail(function(){P.reject("Writing personalization data failed.");});return P.promise();};C.prototype._readPersonalizationDataFromStorage=function(){var p=new jQuery.Deferred(),P=sap.ushell.Container.getService("Personalization"),c,s={keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.LOW,clientStorageAllowed:true},o={container:"sap.ushell.cdm.personalization",item:"data"},a=P.getPersonalizer(o,s,c);a.getPersData().done(function(b){if(!b){b={};}p.resolve(b);}).fail(function(){p.reject("Fetching personalization data failed.");});return p.promise();};C.prototype._identifySiteUrlFromConfig=function(a){var p=jQuery.sap.getUriParameters();var s=p.get("sap-ushell-cdm-site-url");var c=a&&a.config;if((c&&!c.allowSiteSourceFromURLParameter)&&s){s=null;}if(c&&!s){s=c.siteDataUrl||c.cdmSiteUrl;}this.sCdmSiteUrl=s;return s;};return C;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/ContainerAdapter',['sap/ushell/utils','sap/ushell/User','sap/ushell/System','sap/ui/thirdparty/URI'],function(u,U,S,a){"use strict";var C=function(i,p,P){var b="/sap/public/bc/icf/logoff",l=g(P.config,b),o=c(P.config),s=d(i,P.config);function g(h,D){if(h.systemProperties&&h.systemProperties.logoutUrl){return h.systemProperties.logoutUrl;}return D;}function c(h){var j,k=h.userProfile;if(k){j=e(k.defaults,h.userProfilePersonalization,k.metadata);}return new U(j||f());}function d(O,h){var j=h.systemProperties,A=O.getAlias(),k=O.getPlatform(),B=O.getBaseUrl(),m,n;if(j){A=j.alias||A;k=j.platform||k;m=j.SID;n=j.client;}return new S({alias:A,platform:k,baseUrl:B,system:m,client:n});}function e(D,h,j){var k=jQuery.extend(f(),D,h);k.bootTheme=k.bootTheme||{theme:k.theme,root:""};delete k.theme;if(j){if(j.editablePropterties){k.setThemePermitted=j.editablePropterties.indexOf("theme")>-1;k.setAccessibilityPermitted=j.editablePropterties.indexOf("accessibility")>-1;k.setContentDensityPermitted=j.editablePropterties.indexOf("contentDensity")>-1;}if(j.ranges){k.ranges=j.ranges;}}return k;}function f(){return{setThemePermitted:false,setAccessibilityPermitted:false,setContentDensityPermitted:false};}this._getLogoutUrl=function(){return l;};this._setDocumentLocation=function(L){document.location=L;};this.getSystem=function(){return s;};this.getUser=function(){return o;};this.load=function(){return jQuery.when();};this.getCurrentUrl=function(){return window.location.href;};this.logout=function(L){var F;if(!L){throw new Error("Not implemented");}if(u.hasNativeLogoutCapability()){F=(new a(this._getLogoutUrl())).absoluteTo(this.getCurrentUrl()).search("").toString();u.getPrivateEpcm().doLogOff(F);}else{this.logoutRedirect();}return jQuery.when();};this.logoutRedirect=function(){var h=s.adjustUrl(this._getLogoutUrl());this._setDocumentLocation(h);};};return C;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/LaunchPageAdapter',["sap/m/GenericTile","sap/m/GenericTileMode","sap/ushell/resources","sap/ushell/utils/utilsCdm","sap/ushell/utils","sap/ushell/navigationMode","sap/ushell/EventHub","sap/ushell/Config"],function(G,g,r,u,U,n,E,C){"use strict";var l=jQuery.sap.log.getLogger("sap/ushell/adapters/cdm/LaunchPageAdapter"),L=jQuery.sap.log.Level;function a(o,p,A){var _,s="sap.ushell.components.tiles.cdm.applauncher",d="sap.ushell.components.tiles.cdm.applauncherdynamic";this._mResolvedTiles={};this._mResolvedCatalogTiles={};this._mCatalogTilePromises={};this._mFailedResolvedCatalogTiles={};this._mFailedResolvedTiles={};this._mContentProviders={};this.TileType={Tile:"tile",Link:"link"};this.getGroups=function(){var D=new jQuery.Deferred();this._assureLoaded().done(function(e){U.setPerformanceMark("FLP - homepage groups processed");D.resolve(e);}).fail(function(){D.resolve([]);});return D.promise();};this._getTileFromHashInContextOfSite=function(R,e,I){var D=new jQuery.Deferred(),v=e[I];if(!v){v=R(I);e[I]=v;}v.done(function(T){var w={tileIntent:I,tileResolutionResult:T};D.resolve(w);}).fail(function(w){D.reject("Hash '"+I+"' could not be resolved to a tile. "+w);});return D.promise();};this._getTileFromHash=function(I){var e=sap.ushell.Container.getService("ClientSideTargetResolution");var R=e.resolveTileIntent.bind(e);return this._getTileFromHashInContextOfSite(R,this._mCatalogTilePromises,I);};this._getTileFromHashFromSite=function(S,I){var e=sap.ushell.Container.getService("ClientSideTargetResolution");var v=u.formatSite(S);var R=e.resolveTileIntentInContext.bind(e,v);var w={};return this._getTileFromHashInContextOfSite(R,w,I);};this._getTileForUrl=function(T){var e=T.indicatorDataSource?"#Shell-dynamicTile":"#Shell-staticTile";return{tileIntent:"#",tileResolutionResult:{tileComponentLoadInfo:e,isCustomTile:false}};};this._assureGroupItemsResolved=function(e,S){var P=[],R,v;if(e.payload&&e.payload.tiles){R=this._assureGroupTilesResolved(e.payload.tiles,S);Array.prototype.push.apply(P,R);}if(e.payload&&e.payload.links){v=this._assureGroupLinksResolved(e.payload.links,S);Array.prototype.push.apply(P,v);}return P;};this._assureGroupTilesResolved=function(e,S){return(e||[]).map(function(T,I){return this._resolveGroupTile(T,S).then(function(R){R.isLink=false;return R;});},this);};this._assureGroupLinksResolved=function(e,S){return(e||[]).map(function(v,I){return this._resolveGroupTile(v,S).then(function(R){R.isLink=true;return R;});},this);};this._resolveGroupTile=function(T,S){var e=this._mResolvedTiles;var F=this._mFailedResolvedTiles;var R;function v(x){e[T.id]=x;if(F[T.id]){delete F[T.id];}return x;}function w(T){var x=T.target;return x&&x.semanticObject==="Shell"&&x.action==="launchURL";}if(e[T.id]){return(new jQuery.Deferred()).resolve(e[T.id]).promise();}if(T.target&&T.target.url){R=jQuery.when(this._getTileForUrl(T));}else if(T.isBookmark){R=this._resolveTileByIntent(T,S);}else if(w(T)){R=this._resolveTileByIntent(T,S);}else{R=this._resolveTileByAppId(T,S);}R.done(function(x){v(x);}).fail(function(x){F[T.id]=x;});return R;};this._resolveTileByAppId=function(T,S){var e,v,I,w,H;function x(F,J){return new jQuery.Deferred().reject({logLevel:F,message:J}).promise();}if(!jQuery.isPlainObject(T)){return x(L.ERROR,"Cannot resolve tile: oTile must be an object");}if(!jQuery.isPlainObject(S)){return x(L.ERROR,"Cannot resolve tile: oSite must be an object");}e=T.appId||T.appIDHint;if(!e){return x(L.ERROR,["Cannot resolve tile '",T.id,"': either appId or appIDHint must be specified"].join(""));}v=S.applications&&S.applications[e];if(!v){return x(L.INFO,["Tile '",T.id,"' filtered from result: no app found for appId '",e,"' (dangling app reference)"].join(""));}I=this._getFirstInbound(v);if(!I){return x(L.ERROR,["Cannot resolve tile '",T.id,"': app '",e,"' has no navigation inbound"].join(""));}var M=u.mapOne(I.key,I.inbound,v),y=M.resolutionResult.applicationType,z=M.resolutionResult.additionalInformation,B=C.last("/core/navigation/enableInPlaceForClassicUIs"),D=B?B[y]:false;w=M.tileResolutionResult;w.navigationMode=n.computeNavigationModeForHomepageTiles(y,z,D);w.isLink=false;if(!this._isFormFactorSupported(w)){return x(L.INFO,["Tile '",T.id,"' filtered from result: form factor not supported"].join(""));}H=this._toHashFromInbound(I.inbound);return jQuery.when({tileResolutionResult:w,tileIntent:H});};this._isFormFactorSupported=function(e){var v=U.getFormFactor();return e.deviceTypes&&e.deviceTypes[v];};this._getFirstInbound=function(e){var F=Object.keys(e["sap.app"].crossNavigation.inbounds).shift(),I=e["sap.app"].crossNavigation.inbounds[F];return{key:F,inbound:I};};this._resolveTileByIntent=function(T,S){var H=this._prepareTileHash(T);return this._getTileFromHash(H);};this._prepareTileHash=function(T){var e=sap.ushell.Container.getService("URLParsing"),P={},v,R;if(this._isCatalogTile(T)){return T.tileIntent;}if(this._isGroupTile(T)){R=T.target.parameters||[];R.forEach(function(w){if(w.name&&w.value){P[w.name]=[w.value];}});v={target:{semanticObject:T.target.semanticObject,action:T.target.action},params:P,appSpecificRoute:T.target.appSpecificRoute};return"#"+e.constructShellHash(v);}return undefined;};this._allPromisesDone=function(P){var D=new jQuery.Deferred(),e;if(P.length===0){D.resolve([]);}else{var N=P.map(function(v){e=new jQuery.Deferred();v.always(e.resolve.bind(e));return e.promise();});jQuery.when.apply(this,N).done(function(){var v=Array.prototype.slice.call(arguments);D.resolve(v);});}return D.promise();};this._generateDefaultGroup=function(){var e,v,D=new jQuery.Deferred(),w=sap.ushell.Container.getService("CommonDataModel");w.getSite().done(function(S){e=U.generateUniqueId(S.site.payload.groupsOrder);v={"identification":{"id":e,"namespace":"","title":"Home"},"payload":{"isDefaultGroup":true,"locked":false,"tiles":[],"links":[],"groups":[]}};_=v;S.groups[e]=v;S.site.payload.groupsOrder.unshift(e);D.resolve(v);}).fail(function(x){D.reject("Failed to access site. "+x);});return D.promise();};this._assureLoaded=function(){var e=this,v=sap.ushell.Container.getService("CommonDataModel"),D,w=[],x;if(this._assureLoadedDeferred){return this._assureLoadedDeferred.promise();}x=new jQuery.Deferred();this._assureLoadedDeferred=x;v.getSite().done(function(S){var I=[];S.site.payload.groupsOrder.forEach(function(y,z){var B=S.groups[y];if(B){B.payload=B.payload||{};if(B.payload.hasOwnProperty("isDefaultGroup")){_=B;}w.push(B);I=e._assureGroupItemsResolved(B,S).concat(I);}});if(_===undefined){D=e._generateDefaultGroup();I.push(D);D.done(function(y){w.unshift(y);}).fail(function(y){jQuery.sap.log.error("Delivering hompage groups failed - "+y);e._assureLoadedDeferred.resolve([]);});}e._allPromisesDone(I).done(function(){e._assureLoadedDeferred.resolve(w);delete e._assureLoadedDeferred;e._logTileResolutionFailures(e._mFailedResolvedTiles);});}).fail(function(y){jQuery.sap.log.error("Delivering hompage groups failed - "+y);e._assureLoadedDeferred.resolve([]);delete e._assureLoadedDeferred;});return x.promise();};this._logTileResolutionFailures=function(F){var M={};if(!F){return;}Object.keys(L).filter(function(e){var v=L[e];return v>=L.FATAL&&v<=L.ALL;}).forEach(function(e){M[L[e]]="";});Object.keys(F).forEach(function(e){var v=F[e];if(v.logLevel){M[v.logLevel]=M[v.logLevel].concat(v.message).concat("\n");}});if(M[L.FATAL]){l.fatal(M[L.FATAL]);}if(M[L.ERROR]){l.error(M[L.ERROR]);}if(M[L.WARNING]){l.warning(M[L.WARNING]);}if(M[L.INFO]){l.info(M[L.INFO]);}if(M[L.DEBUG]){l.debug(M[L.DEBUG]);}if(M[L.TRACE]){l.trace(M[L.TRACE]);}};this.getDefaultGroup=function(){var D=new jQuery.Deferred(),e;if(!_){e=this._assureLoaded();}if(e){e.done(function(){D.resolve(_);}).fail(function(M){D.reject("Failed to access default group. "+M);});}else{D.resolve(_);}return D.promise();};this._isValidTitle=function(T){if(typeof T!=='string'||!T){return false;}return true;};this._isGroupPreset=function(e){if(!e.payload.hasOwnProperty("isPreset")){return true;}return!!e.payload.isPreset;};this._isGroupLocked=function(e){return!!e.payload.locked;};this.addGroup=function(T){var D=new jQuery.Deferred(),e=sap.ushell.Container.getService("CommonDataModel"),v,w,x,y=this;if(!this._isValidTitle(T)){return D.reject("No valid group title").promise();}x="Failed to add the group with title '"+T+"' to the homepage. ";e.getSite().done(function(S){w=U.generateUniqueId(S.site.payload.groupsOrder);v={"identification":{"id":w,"namespace":"","title":T},"payload":{"locked":false,"isPreset":false,"tiles":[],"links":[],"groups":[]}};S.groups[w]=v;S.site.payload.groupsOrder.push(v.identification.id);e.save().done(function(){delete y._assureLoadedDeferred;D.resolve(S.groups[w],w);}).fail(function(z){D.reject(z);});}).fail(function(z){D.reject(x+z);});return D.promise();};this.getGroupTitle=function(e){return e.identification.title;};this.setGroupTitle=function(e,N){var v=this,D=new jQuery.Deferred(),w=sap.ushell.Container.getService("CommonDataModel"),O,x;if(typeof e!=='object'||!e.identification||!e.identification.id){return D.reject("Unexpected group value").promise();}if(!v._isValidTitle(N)){return D.reject("Unexpected oGroup title value").promise();}x="Failed to set new title for group with id '"+e.identification.id+"'. ";O=e.identification.title;w.getSite().done(function(S){if(S.groups[e.identification.id]){S.groups[e.identification.id].identification.title=N;}w.save().done(function(){D.resolve();}).fail(function(y){jQuery.sap.log.error(y);D.reject(O);});}).fail(function(y){D.reject(O,x+y);});return D.promise();};this.getGroupId=function(e){return e.identification.id;};this.hideGroups=function(H){var D=new jQuery.Deferred(),e=sap.ushell.Container.getService("CommonDataModel"),v;if(H&&jQuery.isArray(H)){v="Failed to hide group. ";e.getSite().done(function(S){if(H.length>0){Object.keys(S.groups).forEach(function(w){if(jQuery.inArray(S.groups[w].identification.id,H)>-1){S.groups[w].identification.isVisible=false;}else{delete S.groups[w].identification.isVisible;}});}if(H.length===0){Object.keys(S.groups).forEach(function(w){delete S.groups[w].identification.isVisible;});}e.save().done(function(){D.resolve();}).fail(function(w){D.reject("Hiding of groups did not work as expected - "+w);});}).fail(function(w){D.reject(v+w);});}else{D.reject("Invalid input parameter aHiddenGroupIds. Please pass a valid input parameter.");}return D.promise();};this.isGroupVisible=function(e){if(e.identification.isVisible===undefined||e.identification.isVisible===true){return true;}else{return false;}};this.moveGroup=function(e,v){var D=new jQuery.Deferred(),w=sap.ushell.Container.getService("CommonDataModel"),x,y;if(!e||!e.identification||!e.identification.id||v<0){return D.reject("Unable to move groups - invalid parameters").promise();}y="Failed to move group with id '"+e.identification.id+"'. ";w.getSite().done(function(S){if(!S.site.payload.groupsOrder){return D.reject("groupsOrder not found - abort operation of adding a group.");}else if(S.site.payload.groupsOrder.indexOf(e.identification.id)===v){return D.resolve();}x=U.moveElementInsideOfArray(S.site.payload.groupsOrder,S.site.payload.groupsOrder.indexOf(e.identification.id),v);if(!x){return D.reject("invalid move group operation - abort.");}w.save().done(function(){D.resolve();}).fail(function(z){D.reject(z);});}).fail(function(z){D.reject(y+z);});return D.promise();};this.removeGroup=function(e){var D=new jQuery.Deferred(),v=sap.ushell.Container.getService("CommonDataModel"),w;if(!e||typeof e!=="object"||!e.identification||!e.identification.id){return D.reject("no valid input parameter for 'oGroup'").promise();}w="Failed to remove group with id '"+e.identification.id+"'. ";v.getSite().done(function(S){if(S&&S.groups&&S.groups[e.identification.id]){delete S.groups[e.identification.id];}if(S&&S.site&&S.site.payload&&S.site.payload.groupsOrder){S.site.payload.groupsOrder=jQuery.grep(S.site.payload.groupsOrder,function(x){return x!==e.identification.id;});}v.save().done(function(){D.resolve();}).fail(function(x){D.reject(x);});}).fail(function(x){D.reject(w+x);});return D.promise();};this.resetGroup=function(e){var D=new jQuery.Deferred(),v=sap.ushell.Container.getService("CommonDataModel"),S={},w=this,x;if(e&&typeof e==="object"&&e.identification&&e.identification.id){x="Failed to reset group with id '"+e.identification.id+"'. ";v.getSite().done(function(y){jQuery.extend(true,S,y.groups);if(w.isGroupRemovable(e)===false){v.getGroupFromOriginalSite(e.identification.id).done(function(z){if(y&&typeof y==="object"&&y.groups&&y.groups[e.identification.id]){y.groups[e.identification.id]=z;}v.save().done(function(){D.resolve(z);}).fail(function(B){D.reject("Group could not be reset - "+B,S);});}).fail(function(z){D.reject("Group could not be reset - "+z,S);});}else{D.reject("Group could not be reset as it was created by the user",S);}}).fail(function(y){D.reject(x+y,S);});}return D.promise();};this.getTileTitle=function(T){var R;if(T&&T.isBookmark){return T.title;}R=this._mResolvedTiles[T.id];if(R){return T.title||R.tileResolutionResult.title;}else{return undefined;}};this.getTileSubtitle=function(T){var R;if(T.isBookmark){return T.subTitle;}R=this._mResolvedTiles[T.id];if(R){return T.subTitle||R.tileResolutionResult.subTitle;}else{return undefined;}};this.getTileIcon=function(T){var R;if(T.isBookmark){return T.icon;}R=this._mResolvedTiles[T.id];if(R){return T.icon||R.tileResolutionResult.icon;}else{return undefined;}};this.getTileInfo=function(T){var R;if(T.isBookmark){return T.info;}R=this._mResolvedTiles[T.id];return T.info||R.tileResolutionResult.info;};this.getTileIndicatorDataSource=function(T){var R=this._mResolvedTiles[T.id],e={},v;if(T.indicatorDataSource){e.indicatorDataSource=T.indicatorDataSource;if(T.dataSource){e.dataSource=T.dataSource;}return e;}if(!R){return e;}v=R.tileResolutionResult;if(v.indicatorDataSource){e.indicatorDataSource=v.indicatorDataSource;if(v.indicatorDataSource.hasOwnProperty("dataSource")){var D=v.indicatorDataSource.dataSource,w=v.dataSources;if(w&&w.hasOwnProperty(D)){e.dataSource=w[D];}else{jQuery.sap.log.warning("datasource referenced but not found for tile: "+R.tileIntent);}}}return e;};this.isGroupRemovable=function(e){return!this._isGroupPreset(e);};this.isGroupLocked=function(e){return this._isGroupLocked(e);};this.getGroupTiles=function(e){var T=e.payload.tiles||[];if(e.payload.links&&jQuery.isArray(e.payload.links)&&e.payload.links.length>0){T=T.concat(e.payload.links);}return T;};this.getLinkTiles=function(e){if(e.payload.links&&jQuery.isArray(e.payload.links)&&e.payload.links.length>0){return e.payload.links;}else{return[];}};this.getTileType=function(T){var R=this._mResolvedTiles[T.id];if(R&&R.isLink){return this.TileType.Link;}return this.TileType.Tile;};this.getTileId=function(T){return T.id;};this.getTileSize=function(T){var R=this._mResolvedTiles[T.id];if(R&&R.tileResolutionResult&&R.tileResolutionResult.size){return R.tileResolutionResult.size;}return"1x1";};this.getTileTarget=function(T){var R,e=this._mResolvedTiles[T.id],v;if(T.target&&T.target.url){return T.target.url;}if(e&&e.tileResolutionResult){R=e.tileResolutionResult;if(R.isCustomTile!==true){return e.tileIntent;}if(R&&typeof R.targetOutbound==="object"){v=this._toHashFromOutbound(R.targetOutbound);if(v){return v;}}}jQuery.sap.log.warning("Could not find a target for Tile with id '"+T.id+"'","sap.ushell.adapters.cdm.LaunchPageAdapter");return"";};this.isLinkPersonalizationSupported=function(T){return true;};this.isTileIntentSupported=function(T){return(this._mFailedResolvedTiles[T.id]===undefined)?true:false;};this.refreshTile=function(T){};this._notifyTileAboutVisibility=function(T,N,O){if(typeof T.tileSetVisible==="function"&&O!==N){T.tileSetVisible(N);}};this.setTileVisible=function(T,N){var R=this._mResolvedTiles[T.id];if(R){if(R.tileComponent){this._notifyTileAboutVisibility(R.tileComponent,N,R.visibility);}R.visibility=N;}};this.getTileView=function(e){var v=this;return new jQuery.Deferred(function(D){return v._getTileView(e,false).then(function(T){D.resolve(T);},function(R){var w="Tile with ID '"+e.id+"' could not be initialized"+(R?":\n"+R:".");jQuery.sap.log.error(w,null,e.tileType);D.reject(w);});}).promise();};this._getTileUiComponentContainer=function(T,R,I){var e=this,v,w,N,x,y,z,D=new jQuery.Deferred();var B=sap.ushell.Container.getService("Ui5ComponentLoader");if(I===true){w=e._createTileComponentData(T,true,R);}else{w=e._createTileComponentData(T,false,R);}v=R.tileResolutionResult;if(R.isLink){N=v.navigationMode;D.resolve(e._createLinkInstance(T,I,N,G,r));return D.promise();}var F=this._createTileComponentProperties(w,v.tileComponentLoadInfo);if(!F.name){return D.reject("Cannot find name of tile component for tile with id: '"+T.id+"'").promise();}if(F.manifest){w.properties=w.properties||{};w.properties.manifest=F.manifest;}z=this.isCustomTile(F.name);var H=function(M){var R;x=M.componentHandle.getInstance();y=new sap.ui.core.ComponentContainer({component:x,height:'100%'});if(I===true){e._mResolvedCatalogTiles[T.id].tileComponent=x;}else{R=e._mResolvedTiles[T.id];R.tileComponent=x;if(typeof R.visibility==="boolean"){e._notifyTileAboutVisibility(x,R.visibility);}}return y;};var J=function(){return B.createComponent({loadCoreExt:z,loadDefaultDependencies:false,componentData:w,url:F.url,applicationConfiguration:{},reservedParameters:{},applicationDependencies:F,ui5ComponentName:F.name},{},[]).then(H);};var K=function(){var M={componentData:w,url:F.url,name:F.name,async:false};x=sap.ui.component(M);var O={componentHandle:{getInstance:function(){return x;}}};return H(O);};if(z){E.once("CoreResourcesComplementLoaded").do(function(){J().then(function(y){D.resolve(y);}).fail(function(M){D.reject(M);});});}else{var S=K();D.resolve(S);}return D.promise();};this._createTileComponentProperties=function(T,v){var e={};if(typeof v==="string"){if(T.properties.indicatorDataSource&&T.properties.indicatorDataSource.path){e.name=d;}else{e.name=s;}return e;}if(typeof v==="object"&&v!==null){e=v.componentProperties||{};e.name=v.componentName;}return e;};this._getTileView=function(e){var R,v,D=new jQuery.Deferred();if(typeof e!=="object"||!e.id){v="Invalid input parameter passed to _getTileView: "+e;jQuery.sap.log.error(v);return D.reject(v).promise();}R=this._mResolvedTiles[e.id];if(R){return this._getTileUiComponentContainer(e,R,false);}v="No resolved tile found for tile ID: "+e.id;jQuery.sap.log.error(v);return D.reject(v).promise();};this._getCatalogTileView=function(e){if(typeof e!=="object"){return new jQuery.Deferred().reject(e);}return this._getTileUiComponentContainer(e,e,true);};this._createTileComponentData=function(T,I,R){var e=I?this.getCatalogTileTitle(T):this.getTileTitle(T),S=I?this.getCatalogTilePreviewSubtitle(T):this.getTileSubtitle(T),v=I?this.getCatalogTilePreviewIcon(T):this.getTileIcon(T),w=I?this.getCatalogTilePreviewInfo(T):this.getTileInfo(T),x=I?this.getCatalogTileTargetURL(T):this.getTileTarget(T),y=this.getTileIndicatorDataSource(T),z={properties:{},startupParameters:{}};if(R.tileResolutionResult.isCustomTile===true&&R.tileResolutionResult.startupParameters){z.startupParameters=R.tileResolutionResult.startupParameters;}if(e){z.properties.title=e;}if(w){z.properties.info=w;}if(S){z.properties.subtitle=S;}if(v){z.properties.icon=v;}if(x){z.properties.targetURL=x;}if(y.indicatorDataSource){z.properties.indicatorDataSource=y.indicatorDataSource;if(y.dataSource){z.properties.dataSource=y.dataSource;}}if(R.tileResolutionResult){z.properties.navigationMode=R.tileResolutionResult.navigationMode;}return z;};this._createLinkInstance=function(T,I,N,e,r){var v,w,x,y=this.getTileSubtitle(T);var G=e;if(I===true){v=this.getCatalogTileTitle(T);}else{v=this.getTileTitle(T);}w=new G({mode:g.LineMode,subheader:y,header:v,press:function(z){this._genericTilePressHandler(T,z);}.bind(this)});if(N){x=r.i18n.getText(N+"NavigationMode");w.setAriaLabel(x+" "+v+" "+y);}this._mResolvedTiles[T.id].linkTileControl=w;return w;};this._genericTilePressHandler=function(T,e){var v;if(e.getSource().getScope&&e.getSource().getScope()==="Display"){v=this.getTileTarget(T);if(v){if(v[0]==='#'){hasher.setHash(v);}else{window.open(v,'_blank');}}}};this._addTileToSite=function(P,e,N,v){var w=this,D=new jQuery.Deferred(),I=sap.ushell.Container.getService("URLParsing").parseShellHash(N.properties.targetURL),T={"id":w.getTileId(N),"target":{"semanticObject":I.semanticObject,"action":I.action,"parameters":q(I.params)}};P.groups[e.identification.id].payload.tiles.push(T);v.save().done(function(){D.resolve(T);}).fail(function(M){D.reject(M);});return D.promise();};this.addTile=function(e,v){var D=new jQuery.Deferred(),w,x=sap.ushell.Container.getService("CommonDataModel"),y;if(!v){v=_;}if(e.contentProviderId){if(e.externalUrl){return this.addBookmark(this._getBookmarkDataForExtensionCatalogTile(e),v);}return D.reject("Extension Tile without URL").promise();}y=f();y.appId=e.tileResolutionResult.appId;this._mResolvedTiles[y.id]={tileIntent:e.tileIntent,tileResolutionResult:e.tileResolutionResult,isLink:false};x.getSite().done(function(S){S.groups[v.identification.id].payload.tiles.push(y);x.save().done(function(){D.resolve(y);}).fail(function(R){D.reject(R);});}).fail(function(z){w="Failed to add tile with id '"+y.id+"' to group with id '"+v.identification.id+"'. ";D.reject(w+z);});return D.promise();};this._getBookmarkDataForExtensionCatalogTile=function(e){var B={title:e.tileResolutionResult.title,subtitle:e.tileResolutionResult.subTitle,icon:e.tileResolutionResult.icon,info:e.tileResolutionResult.info,url:e.externalUrl};if(e.tileResolutionResult.indicatorDataSource&&e.tileResolutionResult.indicatorDataSource.path){B.serviceUrl=e.tileResolutionResult.indicatorDataSource.path;B.serviceRefreshInterval=e.tileResolutionResult.indicatorDataSource.refresh;}return B;};this.removeTile=function(v,T,I){var w,x,D=new jQuery.Deferred(),y=this;if(!v||typeof v!=="object"||!v.identification||!v.identification.id||!T||typeof T!=="object"||!T.id){return D.reject({},"Failed to remove tile. No valid input parameters passed to removeTile method.").promise();}x="Failed to remove tile with id '"+T.id+"' from group with id '"+v.identification.id+"'. ";w=sap.ushell.Container.getService("CommonDataModel");w.getSite().done(function(S){var P,z;I=+I;try{P=S.groups[v.identification.id].payload;}catch(e){D.reject(S.groups[v.identification.id],x);}z=y.getTileType(T)===y.TileType.Link?"links":"tiles";if(y.getTileType(T)===y.TileType.Link){I-=P.tiles.length;}if(I>=0){P[z].splice(I,1);}else{P[z]=P[z].filter(function(B){return B.id!==T.id;});}w.save().done(function(){D.resolve();}).fail(function(B){jQuery.sap.log.error(B);D.reject(S.groups[v.identification.id],B);});}).fail(function(e){D.reject({},x+e);});return D.promise();};this.moveTile=function(T,S,e,v,w,x){var D=new jQuery.Deferred(),y=sap.ushell.Container.getService("CommonDataModel"),z=this,B;if(!T||jQuery.isEmptyObject(T)||S===undefined||S<0||e===undefined||e<0||!v||!v.identification||!v.identification.id||!w||!w.identification||!w.identification.id){return D.reject("Invalid input parameters").promise();}B="Failed to move tile with id '"+T.id+"'. ";y.getSite().done(function(F){var H,I,O=z.getTileType(T)===z.TileType.Link?"links":"tiles";if(!x){x=z._mResolvedTiles[T.id].isLink?"link":"tile";}H=x==="link"?"links":"tiles";if(O!=H&&z._mResolvedTiles[T.id]){z._mResolvedTiles[T.id].isLink=x==="link";}if(H==="links"){e-=F.groups[w.identification.id].payload.tiles.length;}if(O==="links"){S-=F.groups[v.identification.id].payload.tiles.length;}if(v.identification.id===w.identification.id){if(S!==e||O!=H){I=F.groups[w.identification.id].payload;I[O].splice(S,1);I[H].splice(e,0,T);}else{return D.resolve(T).promise();}}else{F.groups[v.identification.id].payload[O].splice(S,1);F.groups[w.identification.id].payload[H].splice(e,0,T);}y.save().done(function(){D.resolve(T);}).fail(function(J){jQuery.sap.log.error(B+J);D.reject(B+J);});}).fail(function(F){jQuery.sap.log.error(B+F);D.reject(B+F);});return D.promise();};this._compareCatalogs=function(e,B){if(e.identification.id>B.identification.id){return 1;}return-1;};this.getCatalogs=function(){var e=this,D=new jQuery.Deferred(),v=[],w=sap.ushell.Container.getService("CommonDataModel");function x(y,z,v,B,P,F){var H=y.catalogs[z];if(P&&F){H.contentProviderId=P;F.catalogsMap[z]=H;}v.push(H);B.notify(H);}window.setTimeout(function(){w.getSite().done(function(S){Object.keys(S.catalogs).forEach(function(y){x(S,y,v,D);});w.getExtensionSites().progress(function(y){var P=y.providerId;var z=y.site;var B=Promise.resolve(z);var F={sitePromise:B,site:z,catalogsMap:{}};Object.keys(z.catalogs).forEach(function(H){e._mContentProviders[P]=F;x(z,H,v,D,P,F);});}).done(function(y){y.filter(function(z){return!z.success;}).forEach(function(F,I){v.push({identification:{id:F.providerId},contentProviderId:F.providerId,error:"The following content providers could not provide catalogs: "+F.providerId+(F.error?" -> "+F.error:"")});});D.resolve(v.sort(e._compareCatalogs));});});},0);return D.promise();};this._isStartableInbound=function(I){var N=["Shell-plugin","Shell-bootConfig"],R;if(!I.semanticObject||!I.action){return false;}if(N.indexOf(I.semanticObject+"-"+I.action)>-1){return false;}if(!jQuery.sap.getObject("signature.parameters",undefined,I)){return true;}R=Object.keys(I.signature.parameters).every(function(p){return!I.signature.parameters[p].filter||(!!I.signature.parameters[p].launcherValue||p==="sap-external-url");});return R;};this._isHiddenInbound=function(I){return!!I.hideLauncher;};this._toHashFromInbound=function(I){var S,P,e;S={target:{semanticObject:I.semanticObject,action:I.action},params:{}};P=jQuery.sap.getObject("signature.parameters",undefined,I)||{};Object.keys(P).forEach(function(K){if(P[K].filter&&Object.prototype.hasOwnProperty.call(P[K].filter,"value")&&(P[K].filter.format===undefined||P[K].filter.format==="plain")){S.params[K]=[P[K].filter.value];}if(P[K].launcherValue&&Object.prototype.hasOwnProperty.call(P[K].launcherValue,"value")&&(P[K].launcherValue.format===undefined||P[K].launcherValue.format==="plain")){S.params[K]=[P[K].launcherValue.value];}});e=sap.ushell.Container.getService("URLParsing").constructShellHash(S);if(!e){return undefined;}return"#"+e;};this._getExternalUrlFromInbound=function(I){return jQuery.sap.getObject("signature.parameters.sap-external-url.launcherValue.value",undefined,I)||null;};this._toHashFromOutbound=function(O){var S,P,e;S={target:{semanticObject:O.semanticObject,action:O.action},params:{}};P=O.parameters||{};Object.keys(P).forEach(function(K){if(P.hasOwnProperty(K)&&typeof P[K].value==="object"){S.params[K]=[P[K].value.value];}});e=sap.ushell.Container.getService("URLParsing").constructShellHash(S);if(!e){return undefined;}return"#"+e;};this._isCustomTile=function(e){if(U.getMember(e,"sap|flp.type")==="tile"){return true;}return false;};this.getCatalogTiles=function(e){var v=this,D=new jQuery.Deferred();if(typeof e!=="object"||e===null){return D.reject("Invalid input parameter '"+e+"' passed to getCatalogTiles.").promise();}if(e.contentProviderId&&this._mContentProviders[e.contentProviderId]){this._mContentProviders[e.contentProviderId].sitePromise.then(function(S){b.call(v,e,S).done(D.resolve).fail(D.reject);},function(w){D.reject("Failed to get site: "+w);});}else{sap.ushell.Container.getService("CommonDataModel").getSite().done(function(S){b.call(v,e,S).done(D.resolve).fail(D.reject);}).fail(function(w){D.reject("Failed to get site: "+w);});}return D.promise();};this.isCustomTile=function(e){return!(e===s||e===d);};function b(e,S){var v=this,D=new jQuery.Deferred();setTimeout(function(){var w=((e.payload&&e.payload.appDescriptors)||[]).reduce(function(R,x){var y=S.applications[x.id],I,T,F,z,B,H,J,K,M,N,O,P;if(!y){return R;}I=v._getMember(y,"sap|app.crossNavigation.inbounds");if(!I||Object.keys(I).length===0){return R;}F=Object.keys(I)[0];z=I[F];if(v._isStartableInbound(z)&&!v._isHiddenInbound(z)){B=u.mapOne(F,z,y);if(!B||!B.tileResolutionResult){return R;}M=B.resolutionResult.applicationType;P=C.last("/core/navigation/enableInPlaceForClassicUIs");O=P?P[M]:false;N=B.resolutionResult.additionalInformation;B.tileResolutionResult.navigationMode=n.computeNavigationModeForHomepageTiles(M,N,O);H=B.tileResolutionResult;T=v._toHashFromInbound(z);if(e.contentProviderId){K=v._getMember(y,"sap|app.crossNavigation.inbounds.Shell-launchURL.signature.parameters.sap-external-url.launcherValue.value");}J={id:K||T,tileIntent:K||T,tileResolutionResult:H,isCatalogTile:true};if(e.contentProviderId&&K){J.contentProviderId=e.contentProviderId;J.externalUrl=K;}R.push(J);}return R;},[]);D.resolve(w);},0);return D.promise();}this.getCatalogError=function(e){if(e.error){return e.error;}};this.getCatalogId=function(e){return e.identification.id;};this.getCatalogTitle=function(e){return e.identification.title;};this._isGroupTile=function(T){return!!(T&&T.id&&T.target);};this._isCatalogTile=function(T){return!!(T&&T.isCatalogTile);};this._isFailedGroupTile=function(T){return!!(T&&this._mFailedResolvedTiles&&this._mFailedResolvedTiles[T.id]);};this._isFailedCatalogTile=function(T){return!!(T&&this._mFailedResolvedCatalogTiles&&this._mFailedResolvedCatalogTiles[T.id]);};this.getCatalogTileId=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return undefined;}if(e.isBookmark&&jQuery.sap.getObject("target.url",undefined,e)){return e.target.url;}return(this._mResolvedTiles[e.id]||{}).tileIntent;}if(this._isCatalogTile(e)){return e.id;}};this.getCatalogTileTitle=function(e){if(this._isGroupTile(e)){if(this._isFailedGroupTile(e)){return"";}return this._mResolvedTiles[e.id].tileResolutionResult.title;}if(this._isCatalogTile(e)){if(this._isFailedCatalogTile(e)){return undefined;}return e.tileResolutionResult.title;}};this.getCatalogTileSize=function(e){return this.getTileSize(e);};this.getCatalogTileView=function(e){return this._getCatalogTileView(e);};this.getCatalogTileTargetURL=function(e){if(!e){throw new Error("The given tile is falsy");}if(this._isCatalogTile(e)){return e.tileIntent||"";}return this.getTileTarget(e);};this.getCatalogTilePreviewTitle=function(e){if(this._isGroupTile(e)){return this.getTileTitle(e);}return(e.tileResolutionResult&&e.tileResolutionResult.title)||"";};this.getCatalogTilePreviewSubtitle=function(e){if(this._isGroupTile(e)){return this.getTileSubtitle(e);}return(e.tileResolutionResult&&e.tileResolutionResult.subTitle)||"";};this.getCatalogTilePreviewIcon=function(e){if(this._isGroupTile(e)){return this.getTileIcon(e);}return(e.tileResolutionResult&&e.tileResolutionResult.icon)||"";};this.getCatalogTilePreviewInfo=function(e){if(this._isGroupTile(e)){return this.getTileInfo(e);}return(e.tileResolutionResult&&e.tileResolutionResult.info)||"";};this.getCatalogTileKeywords=function(e){var K=[],R=e;if(!R){jQuery.sap.log.error("Could not find the Tile","sap.ushell.adapters.cdm.LaunchPageAdapter");return K;}if(this._mResolvedTiles&&this._mResolvedTiles[e.id]){R=this._mResolvedTiles[e.id];}if(R&&R.tileResolutionResult&&R.tileResolutionResult.title){K.push(R.tileResolutionResult.title);}if(R&&R.tileResolutionResult&&R.tileResolutionResult.subTitle){K.push(R.tileResolutionResult.subTitle);}return K;};this._visitBookmarks=function(e,v){var w=sap.ushell.Container;var x=w.getService("URLParsing");var y=w.getService("CommonDataModel");var R;var I=x.parseShellHash(e);if(I){R=m(I);}else{R=k(e);}return y.getSite().then(function(S){var z=S.groups;var T=Object.keys(z).filter(function(K){return!z[K].payload.locked;}).map(function(K){return z[K].payload.tiles.filter(function(B){return B.isBookmark&&i(R,B.target);});}).reduce(function(B,D){Array.prototype.push.apply(B,D);return B;},[]);if(!v){return T.length;}return jQuery.when(T.map(v)).then(function(){return T.length;});});};this.addBookmark=function(P,e){var T=this;return new jQuery.Deferred(function(D){var v=sap.ushell.Container;var w=v.getService("URLParsing");var x=v.getService("CommonDataModel");jQuery.when(e||T.getDefaultGroup(),x.getSite()).done(function(e,S){var y,z,I=w.parseShellHash(P.url),R,B=false;if(!I){z=k(P.url);B=true;}else{z=m(I);}y=c(P,z);if(B){R=new jQuery.Deferred();R.resolve(T._getTileForUrl(y));}else{R=T._getTileFromHash(P.url);}R.done(function(N){N.isLink=false;T._mResolvedTiles[y.id]=N;S.groups[e.identification.id].payload.tiles.push(y);x.save().done(function(){D.resolve(y);}).fail(function(F){D.reject(F);});}).fail(function(F){D.reject("Bookmark creation failed because: "+F);});}).fail(function(R){D.reject(R);});}).promise();};this.countBookmarks=function(e){return this._visitBookmarks(e);};this.updateBookmarks=function(e,P){var v=sap.ushell.Container;var w=v.getService("URLParsing");var x=v.getService("CommonDataModel");var R=this._mResolvedTiles;function y(T){return new jQuery.Deferred(function(D){var I,N;var z;var B=false;var F={};if(P.url||P.url===""){I=w.parseShellHash(P.url);if(!I){N=k(P.url);}else{N=m(I);}}if(T.icon!==P.icon){F.icon=P.icon;B=true;}if(T.title!==P.title){F.title=P.title;B=true;}if(T.subTitle!==P.subtitle){F.subtitle=P.subtitle;B=true;}if(P.url&&e!==P.url){F.targetURL=P.url;B=true;}if(T.info!==P.info){F.info=P.info;B=true;}h(T,P,N);if(B&&R[T.id]){z=R[T.id].tileComponent;z.tileSetVisualProperties(F);}D.resolve(T);}).promise();}return this._visitBookmarks(e,y).then(function(z){return x.save().then(function(){return z;});});};this.deleteBookmarks=function(e){var v=sap.ushell.Container;var w=v.getService("URLParsing");var x=v.getService("CommonDataModel");var I=w.parseShellHash(e);var R;if(I){R=m(I);}else{R=k(e);}return x.getSite().then(function(S){var y=S.groups;var D=Object.keys(y).map(function(K){var P=y[K].payload;var z=0;P.tiles=P.tiles.filter(function(T){if(T.isBookmark&&i(R,T.target)){++z;return false;}return true;});return z;}).reduce(function(z,B){z+=B;return z;},0);return x.save().then(function(){return D;});});};this.onCatalogTileAdded=function(T){};this._onTileSettingsSave=function(T,S){var D=new jQuery.Deferred(),e,v,N,w,x,O,y,z;if(T&&T.id&&S){N=S.oTitleInput.getValue();x=S.oSubTitleInput.getValue();w=S.oInfoInput.getValue();O=this.getTileTitle(T);y=this.getTileInfo(T);z=this.getTileSubtitle(T);if(O===N&&z===x&&y===w){return;}e=sap.ushell.Container.getService("CommonDataModel");var B=this;e.getSite().done(function(F){if(!F.modifiedTiles){F.modifiedTiles={};}if(!F.modifiedTiles[T.id]){F.modifiedTiles[T.id]={id:T.id};}v={};if(O!==N){v.title=N;F.modifiedTiles[T.id].title=N;T.title=N;}if(z!==x){v.subtitle=x;F.modifiedTiles[T.id].subTitle=x;T.subTitle=x;}if(y!==w){v.info=w;F.modifiedTiles[T.id].info=w;T.info=w;}if(B._mResolvedTiles[T.id].tileComponent){B._mResolvedTiles[T.id].tileComponent.tileSetVisualProperties(v);}else{if(B._mResolvedTiles[T.id].linkTileControl){if(v.title){B._mResolvedTiles[T.id].linkTileControl.setHeader(v.title);}if(v.subtitle){B._mResolvedTiles[T.id].linkTileControl.setSubheader(v.subtitle);}if((v.title)||(v.subtitle)){B._mResolvedTiles[T.id].linkTileControl.rerender();}}}e.save().fail(function(H){jQuery.sap.log.error(H);D.reject("Could not save personalization changes: "+H);}).done(function(){D.resolve();});}).fail(function(F){jQuery.sap.log.error(F);D.reject("Cannot get site: "+F);});}return D.promise();};this.getTileActions=function(T){var e=[],v,M;if(this._isGroupTile(T)&&!this._isFailedGroupTile(T)){M=new sap.ui.model.json.JSONModel({config:{display_title_text:this.getTileTitle(T),display_subtitle_text:this.getTileSubtitle(T),display_info_text:this.getTileInfo(T)}});v=sap.ushell.components.tiles.utilsRT.getTileSettingsAction(M,this._onTileSettingsSave.bind(this,T),this.getTileType(T));e.push(v);}return e;};function c(P,T){var e=f(P,T);e.isBookmark=true;return e;}function f(P,T){var e={id:U.generateUniqueId([])};h(e,P,T);return e;}function h(T,P,e){P=jQuery.extend(true,{},P);if(e){T.target=e;}if(P.title||P.title===""){T.title=P.title;}if(P.icon||P.icon===""){T.icon=P.icon;}if(P.subtitle||P.subtitle===""){T.subTitle=P.subtitle;}if(P.info||P.info===""){T.info=P.info;}if(P.dataSource){T.dataSource={};jQuery.extend(true,T.dataSource,P.dataSource);delete P.serviceUrl;}else if(P.dataSource===null){delete T.dataSource;delete T.indicatorDataSource;delete P.serviceUrl;}if((P.dataSource||T.dataSource)&&P.serviceUrlPath){T.indicatorDataSource={path:P.serviceUrlPath};}if(P.serviceUrl||P.serviceUrl===""){if(T.dataSource){jQuery.sap.log.warning("`serviceUrl` is marked for deprecation in the future."+"It is not the preferred means for defining a dynamic "+"tile's data source. Please use `oParameter.dataSource`");delete T.dataSource;}T.indicatorDataSource={path:P.serviceUrl};}else if(P.serviceUrl===null&&!T.dataSource){delete T.indicatorDataSource;}if(P.serviceRefreshInterval||P.serviceRefreshInterval===0){T.indicatorDataSource.refresh=P.serviceRefreshInterval;}}function i(T,O){if(T&&O){if(T.url){return T.url===O.url;}return T.semanticObject===O.semanticObject&&T.action===O.action&&j(T.parameters,O.parameters);}return T===O;}function j(P,O){var F,e;P=P||[];O=O||[];if(P.length===O.length){F=t(P);e=t(O);return F===e;}return false;}function t(e){return e.map(function(P){return P.name+P.value;}).sort().join();}function k(e){return{url:e};}function m(I){var T={semanticObject:I.semanticObject,action:I.action,parameters:q(I.params)};if(I.appSpecificRoute){T.appSpecificRoute=I.appSpecificRoute;}return T;}function q(I){return Object.keys(I).map(function(K){var v=I[K]&&I[K][0];return{name:K,value:v||""};});}}a.prototype._getMember=function(o,A){return U.getMember(o,A);};return a;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/PersonalizationAdapter',["sap/ushell/adapters/cdm/_Personalization/internals","sap/ushell/utils/XHttpClient"],function(a,h){"use strict";return a.PersonalizationAdapter.bind(null,h,null);},true);
sap.ui.predefine('sap/ushell/adapters/cdm/_Personalization/internals',["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private","jquery.sap.global"],function(s,i,q){"use strict";return Object.create(null,{PersonalizationAdapter:{value:P},getStorageResourceRoot:{value:g},getContainerPath:{value:c},delAdapterContainer:{value:e},createContainerData:{value:f},getAdapterContainer:{value:A},getContainerCategory:{value:h},isCategoryPContainer:{value:k},trimContainerKey:{value:t},save:{value:l},load:{value:m},del:{value:n},clearContainerData:{value:o},getItemKeys:{value:u},containsItem:{value:v},setItemValue:{value:w},getItemValue:{value:x},delItem:{value:y},addPrefixToItemKey:{value:p},stripPrefixFromItemKey:{value:r},getHttpHeaderValue:{value:z}});function P(H,C,S,B,D){var E,F;var G={cache:{},headers:{"sap-client":S.getClient()}};D=D&&D.config;if(!D){throw new Error("PersonalizationAdapter: missing configuration.");}if(!C){C=Object.create(null);}E=g(D);F=H(E,G);return Object.create(null,{getAdapterContainer:{value:A.bind(null,D,C,F)},delAdapterContainer:{value:e.bind(null,D,C,F)}});}function g(C){var I=!C||!C.storageResourceRoot;if(I){throw new Error("Configuration error: storage resource root is not defined.");}return C.storageResourceRoot;}function a(C){var I=!C||!C.relativeUrlReadOptimized;if(I){throw new Error("Configuration error: relative URL for read optimization is not defined.");}return C.relativeUrlReadOptimized;}function b(C){var I=!C||!C.relativeUrlWriteOptimized;if(I){throw new Error("Configuration error: relative URL for write optimization is not defined.");}return C.relativeUrlWriteOptimized;}function c(C,S,B){return j(C,S)+"/"+encodeURIComponent(t(B))+".json";}function t(C){var B=i.S_CONTAINER_PREFIX,D,R;if(q.type(C)!=="string"||C.length===0){throw new Error("Personalization container key must be a non-empty string");}if(C.substring(0,B.length)===B){D=C.substring(B.length);}else{q.sap.log.error("Unexpected personalization container key: "+C,"should always be prefixed with "+B,"sap.ushell.adapters.cdm.PersonalizationAdapter");D=C;}if(D.length<=40){R=D;}else{R=D.substring(0,40);q.sap.log.error("Invalid personalization container key: '"+D+"'"+" exceeds maximum key length (40 characters) and is shortened to '"+R+"'",undefined,"sap.ushell.adapters.cdm.PersonalizationAdapter");}return R;}function d(){return{validity:Infinity,keyCategory:s.keyCategory.GENERATED_KEY,writeFrequency:s.writeFrequency.HIGH,clientStorageAllowed:false};}function e(C,B,H,D,S){var E=c(C,S,D);var F=B&&B[E];if(F){delete B[E];}return n(H,E);}function f(S,B){var C;if((!B&&B!=="")||B.constructor!==String){q.sap.log.warning("Personalization container has an invalid app name; must be a non-empty string",null,"sap.ushell.adapters.cdm.PersonalizationAdapter");}if(!S){S=d();}C=Object.create(null,{items:{value:Object.create(null),enumerable:true},__metadata:{value:Object.create(null,{appName:{value:B,enumerable:true},expiry:{value:Date.now()+S.validity*60*1000,enumerable:true},validity:{value:S.validity,enumerable:true},category:{value:h(S),enumerable:true}}),enumerable:true,writable:true}});return C;}function A(C,B,H,D,S,E){var F,G,I=c(C,S,D);if(B&&B[I]){return B[I];}G=f(S,E);F=G.items;return Object.create(null,{save:{value:l.bind(null,H,G,I)},load:{value:m.bind(null,H,G,I)},del:{value:n.bind(null,H,G,I)},setItemValue:{value:w.bind(null,F)},getItemValue:{value:x.bind(null,F)},getItemKeys:{value:u.bind(null,F)},containsItem:{value:v.bind(null,F)},delItem:{value:y.bind(null,F)}});}function h(S){return k(S)?"p":"u";}function j(C,S){return k(S)?a(C):b(C);}function k(S){return S&&S.keyCategory===s.keyCategory.FIXED_KEY&&S.writeFrequency===s.writeFrequency.LOW&&S.clientStorageAllowed;}function l(H,C,B){return new q.Deferred(function(D){H.put(B,{data:C}).then(function(R){D.resolve();}).catch(function(R){q.sap.log.error("Failed to save personalization container; response: "+(typeof R==="object"?JSON.stringify(R):R),R.stack?R.stack:null,"sap.ushell.adapters.cdm.PersonalizationAdapter");D.reject(R);});}).promise();}function m(H,C,B){function D(C){o(C.items);}return new q.Deferred(function(E){H.get(B).then(function(R){var F,G;if(R.status===200&&z(R.responseHeaders,"content-length")==="0"&&z(R.responseHeaders,"content-type").indexOf("text/plain")===0){D(C);}else{F=JSON.parse(R.responseText);if(F.data){F.items=F.data;delete F.data;F.__metadata=C.__metadata;}G=F.items;o(C.items);Object.keys(G).forEach(function(I){C.items[I]=G[I];});C.__metadata=F.__metadata;}E.resolve();}).catch(function(R){if(R.status===404){D(C);E.resolve();}else{o(C.items);E.reject(R);}});}).promise();}function n(H,B){return new q.Deferred(function(D){H.delete(B).then(function(){D.resolve();}).catch(function(R){D.reject(R);});}).promise();}function o(C){Object.keys(C).forEach(function(K){delete C[K];});}function p(K){if(K==="__metadata"){return undefined;}else if(K.indexOf(i.S_VARIANT_PREFIX)===0||K.indexOf(i.S_ADMIN_PREFIX)===0){return K;}else{return i.S_ITEM_PREFIX+K;}}function r(K){if(K.indexOf(i.S_ITEM_PREFIX)===0){return K.substring(i.S_ITEM_PREFIX.length);}else if(K.indexOf(i.S_VARIANT_PREFIX)===0||K.indexOf(i.S_ADMIN_PREFIX)===0){return K;}else{throw new Error("Illegal item key for personalization container: '"+K+"'; must be prefixed with one of the following: ["+i.S_ITEM_PREFIX+", "+i.S_VARIANT_PREFIX+", "+i.S_ADMIN_PREFIX+"] ");}}function u(C){return Object.keys(C).map(p).filter(function(K){return!!K;});}function v(C,K){return C.hasOwnProperty(r(K));}function w(C,K,V){C[r(K)]=V;}function x(C,K){return C[r(K)];}function y(C,K){delete C[r(K)];}function z(H,N){var M=H&&H.filter(function(B){return B.name.toLowerCase()===N;});return M&&M[0]&&M[0].value;}});
sap.ui.predefine('sap/ushell/adapters/local/NavTargetResolutionAdapter',['sap/ui/thirdparty/datajs'],function(d){"use strict";var N=function(u,p,a){var A=jQuery.sap.getObject("config.applications",0,a);this.resolveHashFragment=function(h){var D=new jQuery.Deferred(),i,r,R,P;if(h&&h.charAt(0)!=="#"){throw new sap.ushell.utils.Error("Hash fragment expected","sap.ushell.renderers.minimal.Shell");}h=h.substring(1);if(!h&&!A[h]){D.resolve(undefined);}else{jQuery.sap.log.info("Hash Fragment: "+h);i=h.indexOf("?");if(i>=0){P=h.slice(i+1);h=h.slice(0,i);}r=A[h];if(r){R={additionalInformation:r.additionalInformation,applicationType:r.applicationType,url:r.url,text:r.text,fullWidth:r.fullWidth};if(P){R.url+=(R.url.indexOf("?")<0)?"?":"&";R.url+=P;}if(r.navigationMode!==undefined){R.navigationMode=r.navigationMode;}D.resolve(R);}else{D.reject("Could not resolve link '"+h+"'");}}return D.promise();};this.getSemanticObjectLinks=function(s,P){var I,r=[],i=0,D=new jQuery.Deferred(),b;if(!s){setTimeout(function(){D.resolve([]);},0);}else{b=sap.ushell.Container.getService("URLParsing").paramsToString(P);jQuery.sap.log.info("getSemanticObjectLinks: "+s);for(I in A){if(A.hasOwnProperty(I)&&I.substring(0,I.indexOf('-'))===s){r[i]=A[I];r[i].id=I;r[i].text=r[i].text||r[i].description||"no text";r[i].intent="#"+I;if(b!==""){if(r[i].intent.indexOf("?")!==-1){r[i].intent+="&"+b;}else{r[i].intent+="?"+b;}}i+=1;}}if(r){setTimeout(function(){D.resolve(r);},0);}else{setTimeout(function(){D.reject("Could not get links for  '"+s+"'");},0);}}return D.promise();};this.isIntentSupported=function(I){var D=new jQuery.Deferred(),s={},b=[],t=this;function c(i,S){s[i]={supported:S};}I.forEach(function(e,i){var o=new jQuery.Deferred();b.push(o.promise());t.resolveHashFragment(e).fail(function(E){c(e,false);o.resolve();}).done(function(f){c(e,true);o.resolve();});});if(I.length>0){jQuery.when.apply(jQuery,b).always(function(){D.resolve(s);});}else{D.resolve(s);}return D.promise();};};return N;},true);
sap.ui.predefine('sap/ushell/adapters/local/UserDefaultParameterPersistenceAdapter',['sap/ushell/services/Personalization'],function(P){"use strict";var U=function(s,p,c){this._oConfig=c&&c.config;};U.prototype._getPersonalizationService=function(){return sap.ushell.Container.getService("Personalization");};U.prototype.saveParameterValue=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==="string"&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error("Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\""+p+"\"");}this._getUDContainer().done(function(c){c.setItemValue(p,v);c.saveDeferred(50).done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.deleteParameter=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==="string"&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error("Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\""+p+"\"");}this._getUDContainer().done(function(c){c.delItem(p);c.save().done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.loadParameterValue=function(p){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemValue(p);if(v){d.resolve(v);}else{d.reject("no value ");}}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.getStoredParameterNames=function(){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemKeys();d.resolve(v);}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype._getUDContainer=function(){var p=this._getPersonalizationService();if(this._oPromise){return this._oPromise;}this._oPromise=p.getContainer("sap.ushell.UserDefaultParameter",{keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true});return this._oPromise;};return U;},true);
sap.ui.predefine('sap/ushell/adapters/local/UserInfoAdapter',['sap/base/Log','sap/base/util/getObject','sap/ushell/services/Container',"sap/ushell/services/Personalization"],function(l,g){"use strict";var U=function(u,p,a){var o;function b(A){var d=[{id:"sap_belize",name:"SAP Belize"}],e=g(A,"config.themes",false);return e===undefined?d:e;}this.updateUserPreferences=function(c){var d=new jQuery.Deferred();function e(E){var s="Failed to update user preferences: "+(E&&E.message?E.message:E);l.error(s,E&&E.stack,"com.sap.ushell.adapters.local.UserInfo");}sap.ushell.Container.getServiceAsync("Personalization").then(function(P){var s={keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.LOW,clientStorageAllowed:true};function f(C,c){var h=c.getChangedProperties()||[];h.forEach(function(i){C.setItemValue(i.propertyName,i.newValue);});}P.getContainer("sap.ushell.UserProfile",s,undefined).done(function(C){f(C,c);C.save().fail(function(E){e(E);d.reject(E);}).done(function(){d.resolve();});}).fail(function(E){e(E);d.reject(E);});});return d.promise();};this.getThemeList=function(){var d=new jQuery.Deferred();if(o===undefined){o=b(a);}if(o.length===0){d.reject("no themes were configured");}else{d.resolve({options:o});}return d.promise();};this.getLanguageList=function(){var d=new jQuery.Deferred();d.resolve([{"text":"Browser Language","key":"default"},{"text":"en-US","key":"en-US"},{"text":"en-UK","key":"en-UK"},{"text":"en","key":"en"},{"text":"de-DE","key":"de-DE"},{"text":"he-IL","key":"he-IL"},{"text":"ru-RU","key":"ru-RU"},{"text":"ru","key":"ru"}]);return d.promise();};};return U;},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/AppLifeCycle',['sap/ushell/components/applicationIntegration/elements/model','sap/ushell/components/container/ApplicationContainer','sap/ushell/ui5service/ShellUIService','sap/ushell/components/applicationIntegration/application/Application','sap/ushell/components/applicationIntegration/configuration/AppMeta','sap/ushell/services/AppConfiguration','sap/ushell/utils','sap/ushell/resources','sap/ui/Device'],function(e,A,S,a,b,c,u,r,D){"use strict";function d(){var v,i,f,g,R,h,s,o={},j=false,C={},k={home:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"home"}},app:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"app"}}},l={home:{embedded:"embedded-home",headerless:"headerless-home",merged:"blank-home",blank:"blank-home"},app:{minimal:"minimal",app:"app",standalone:"standalone",embedded:"embedded",headerless:"headerless",merged:"merged",home:"home",blank:"blank",lean:"lean"}},m;this.calculateElementsState=function(n,p,h,q){var N=!!k[n]?k[n]:k.default,t=!!N[q?undefined:p]?N[p]:N.default,w=!!t[h]?t[h]:t.default;return w;};this.isCurrentApp=function(n){return C.appId===n?true:false;};this.isAppInCache=function(n){return!!o[n];};this.normalizeAppId=function(n){var p="-component",q=n.endsWith(p);if(q){return n.substring(0,n.length-p.length);}else{return n;}};this.onComponentCreated=function(E,n,p){var q=p.component,t=this.normalizeAppId(q.getId());if(this.isAppInCache(t)){o[t].app=q;}else{C.app=q;}};this.onAfterNavigate=function(F,n,t){var p;if(F&&n&&!this.isAppOfTypeCached(F)&&!this.applicationIsStatefulType(n.getApplicationType())){this.removeControl(F,true);n.destroy();}if(t){if(o[t]){p=o[t].app;if(p&&p.setInitialConfiguration){p.setInitialConfiguration();}}else{}}};this.storeApp=function(n,p,t){if(!this.isAppInCache(n)){o[n]={appId:n,stt:'loading',container:p,meta:c.getMetadata(t),app:undefined};return true;}return false;};this.resoterApp=function(n){if(this.isAppInCache(n)){C=o[n];}};this.isAppOfTypeCached=function(n){if(!j&&n==="application-"+R){return true;}return false;};this.openApp=function(n,t){var p;var q="application"+n;if(this.isAppOfTypeCached(q)){if(!this.isAppInCache(q)){p=this.createApplicationContainer(n,t);this.storeApp(q,p,t);}this.resoterApp(q);}else if(this.applicationIsStatefulType(t.applicationType)){p=this.getStatefulContainer(t.applicationType);if(!p){p=this.createApplicationContainer(n,t);this.setStatefulContainer(t.applicationType,p);p.setIsStateful(true);}C={appId:q,stt:'loading',container:p,meta:c.getMetadata(t),app:undefined};}else{p=this.createApplicationContainer(n,t);C={appId:q,stt:'loading',container:p,meta:c.getMetadata(t),app:undefined};}};this.getAppMeta=function(){return b;};this.init=function(n,I,p,q,t){s=new S({scopeObject:t.ownerComponent,scopeType:"component"});h=n;v=I;R=p;j=q;sap.ui.getCore().getEventBus().subscribe("sap.ushell.components.container.ApplicationContainer",'componentCreated',this.onComponentCreated,this);};this.addControl=function(n){v.addCenterViewPort(n);};this.removeControl=function(I){v.removeCenterViewPort(I,true);};this.removeApplication=function(I){var n=this.getControl(I);if(n){this.removeControl(n.getId());n.destroy();}};this.getControl=function(I){return v&&(v.getViewPortControl('centerViewPort',"application"+'-'+I)||v.getViewPortControl('centerViewPort',"applicationShellPage"+'-'+I));};this.getViewPortContainer=function(){return v;};this.navTo=function(I){v.navTo('centerViewPort',I,'show');};this.createComponent=function(n,p){return a.createComponent(n,p);};this.getAppContainer=function(n,p,I){p.shellUIService=s.getInterface();p.targetNavigationMode=I?"explace":"inplace";this.openApp(n,p);return C.container;};this.getShellUIService=function(){return s;};this.initShellUIService=function(n){s._attachHierarchyChanged(this.onHierarchyChange.bind(this));s._attachTitleChanged(this.onTitleChange.bind(this));s._attachRelatedAppsChanged(this.onRelatedAppsChange.bind(this));s._attachBackNavigationChanged(n.fnOnBackNavigationChange.bind(this));};this.parseStatefulContainerConfiguration=function(n){var p={};if(n){var q={"GUI":true};Object.keys(n).filter(function(t){return true===n[t]&&q[t];}).map(function(U){var t=U;if(t==="GUI"){t="TR";}return t;}).forEach(function(t){p[t]=null;});}m=p;};this.setStatefulApplicationContainer=function(n){m=n;};this.getStatefulApplicationContainer=function(){return m;};this.applicationIsStatefulType=function(n){return m.hasOwnProperty(n);};this.getStatefulContainer=function(n){return m[n];};this.setStatefulContainer=function(n,p){return m[n]=p;};this.statefulContainerForTypeExists=function(n){return!!this.getStatefulContainer(n);};this.getAllApplicationContainers=function(){return Object.keys(m).map(function(K){return m[K];}).filter(function(n){return!!n;});};this.getElementsModel=function(){return e;};this.activeContainer=function(n){var p=this.getAllApplicationContainers();p.forEach(function(q){jQuery.sap.log.info("Deactivating container "+q.getId());q.setActive(false);});if(n){jQuery.sap.log.info("Activating container "+n.getId());n.setActive(true);}};this.reuseApplicationContainer=function(n,p,q){var t=this;return n.setNewApplicationContext(p,q).then(function(){t.navTo(n.getId());n.toggleStyleClass("hidden",false);jQuery.sap.log.info("New application context opened successfully in an existing transaction UI session.");},function(E){jQuery.sap.log.error(E&&E.message||E);});};this.createApplicationContainer=function(n,p){return a.createApplicationContainer(n,p);};this.publishNavigationStateEvents=function(n,p,O){var q,I=n.getId?n.getId():"",t=this;var w=c.getMetadata(),x=w.icon,T=w.title;n.addEventDelegate({onAfterRendering:O});q=n.exit;n.exit=function(){if(q){q.apply(this,arguments);}t.getAppMeta()._applyContentDensityByPriority();setTimeout(function(){var E=jQuery.extend(true,{},p);delete E.componentHandle;E["appId"]=I;E["usageIcon"]=x;E["usageTitle"]=T;sap.ui.getCore().getEventBus().publish("launchpad","appClosed",E);jQuery.sap.log.info('app was closed');},0);var P=t._publicEventDataFromResolutionResult(p);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appClosed",P);};};this._publicEventDataFromResolutionResult=function(n){var p={};if(!n){return n;}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(P){p[P]=n[P];});Object.freeze(p);return p;};this.getIsTitleChanged=function(){return g;};this.onTitleChange=function(E){g=true;var t=E.getParameters().data,n;if(!t){t=b.getTitleDefaultValue();}n=e.getModel().getProperty("/currentState");if(n&&n.stateName==="home"){e.updateStateProperty("application/title",t,false,["home"]);}e.updateStateProperty("application/title",t,true);window.document.title=t;u.setPerformanceMark("FLP -- title change");};this.getHierarchyDefaultValue=function(){var H=[],n=e.getModel().getProperty("/currentState");if(n&&((n.stateName==="app"||n.stateName==="embedded"))){H=[{icon:"sap-icon://home",title:r.i18n.getText("actionHomePage"),intent:R?"#"+R:"#"}];}return H;};this.getIsHierarchyChanged=function(){return i;};this.onHierarchyChange=function(E){i=true;var H=E.getParameters().data,n,p=[],q;if(!H){H=[];}n=this.getHierarchyDefaultValue();H.forEach(function(I,t){p[t]=jQuery.extend({},I);});p=p.concat(n);q=e.getModel().getProperty("/currentState");if(q&&q.stateName==="home"){e.updateStateProperty("application/hierarchy",p,false,["home"]);}e.updateStateProperty("application/hierarchy",p,true);};this.getIsRelatedAppsChanged=function(){return f;};this.resetShellUIServiceHandlers=function(){f=false;i=false;g=false;};this.onRelatedAppsChange=function(E){f=true;var n=E.getParameters().data,p;if(!n){n=[];}p=e.getModel().getProperty("/currentState");if(p&&p.stateName==="home"){e.updateStateProperty("application/relatedApps",n,false,["home"]);}e.updateStateProperty("application/relatedApps",n,true);};this.handleControl=function(I,n,t,w,p){var q=this.getControl(I),x=this.statefulContainerForTypeExists(t.applicationType),M=c.getMetadata(t),L=(t.applicationType==="NWBC"||t.applicationType==="TR"),y=this.isAppOfTypeCached("application-"+I);if(!x&&q&&!y){this.removeControl(q.getId());q.destroy();q=w(I,M,t,n,t.fullWidth||M.fullWidth||L);}else if(!q){q=w(I,M,t,n,t.fullWidth||M.fullWidth||L);}else if(I===R){p();}if(!x){this.navTo(q.getId());}v.switchState("Center");u.setPerformanceMark("FLP -- centerViewPort");this.activeContainer(q);if(x){this.reuseApplicationContainer(q,t.applicationType,t.url);}};this.switchViewState=function(n,p){var q=n;if(l[n]&&l[n][h]){q=l[n][h];}var t=e.switchState(q,p);if(n==="searchResults"){this.getElementsModel().setProperty("/lastSearchScreen",'');if(!window.hasher.getHash().indexOf("Action-search")===0){var w=sap.ui.getCore().getModel("searchModel");window.hasher.setHash("Action-search&/searchTerm="+w.getProperty("/uiFilter/searchTerms")+"&dataSource="+JSON.stringify(w.getProperty("/uiFilter/dataSource").getJson()));}}sap.ui.getCore().getEventBus().publish("launchpad","shellViewStateChanged",t);};}return new d();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/application/Application',['sap/ushell/components/container/ApplicationContainer'],function(A){"use strict";function a(){this._createWaitForRendererCreatedPromise=function(){var p,r;r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug("Shell controller._createWaitForRendererCreatedPromise: shell renderer already created, return empty array.");return[];}else{p=new Promise(function(b,c){var o;o=function(){jQuery.sap.log.info("Shell controller: resolving component waitFor promise after shell renderer created event fired.");b();sap.ushell.Container.detachRendererCreatedEvent(o);};r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug("Shell controller: resolving component waitFor promise immediately (shell renderer already created");b();}else{sap.ushell.Container.attachRendererCreatedEvent(o);}});return[p];}};this.createComponent=function(r,p){return sap.ushell.Container.getService("Ui5ComponentLoader").createComponent(r,p,this._createWaitForRendererCreatedPromise());};this.createApplicationContainer=function(s,r){return new A("application"+s,r);};}return new a();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/configuration/AppMeta',['sap/ushell/services/AppConfiguration','sap/ui/Device'],function(A,D){"use strict";function a(){this._getDefaultFavIcon=function(p){var f=p.get('sapUiShellFavicon');if(f){var m=/url[\s]*\('?"?([^\'")]*)'?"?\)/.exec(f);if(m){f=m[1];}else if(f==="''"||f==="none"){f=null;}}if(!f){var M=jQuery.sap.getModulePath("sap.ushell");return M+'/themes/base/img/launchpad_favicon.ico';}return f;};this.getFavIconHref=function(){return jQuery('link').filter('[rel="shortcut icon"]').attr('href')||'';};this.getAppIcon=function(){var i="sap-icon://folder",b=A.getMetadata();if(b&&b.icon){i=b.icon;}return i;};this.setAppIcons=function(m){sap.ui.require(["sap/ui/core/theming/Parameters"],function(P){jQuery.sap.measure.start("FLP:ShellController.setAppIcons","setAppIcons","FLP");var M=jQuery.sap.getModulePath("sap.ushell"),l=(m&&m.homeScreenIconPhone)||(M+'/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png'),L=(m&&m["homeScreenIconPhone@2"])||(M+'/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png'),o=(m&&m.homeScreenIconTablet)||(M+'/themes/base/img/launchicons/72_iPad_Desktop_Launch.png'),b=(m&&m["homeScreenIconTablet@2"])||(M+'/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png'),f=(m&&m.favIcon)||(this._getDefaultFavIcon(P)),c=this.getFavIconHref();if(D.os.ios){jQuery.sap.setIcons({'phone':l,'phone@2':L,'tablet':o,'tablet@2':b,'favicon':f,'precomposed':false});}else if(c!==f){jQuery.sap.setIcons({'phone':'','phone@2':'','tablet':'','tablet@2':'','favicon':f,'precomposed':true});}jQuery.sap.measure.end("FLP:ShellController.setAppIcons");}.bind(this));};this._applyContentDensityByPriority=function(i){if(i===undefined){if(D.system.combi){var u=sap.ushell.Container.getService("UserInfo"),U=u.getUser(),c="autoDetect";if(U){c=U.getContentDensity();}switch(c){case"cozy":i=false;break;case"compact":i=true;break;default:var b=A.getMetadata();if(b.compactContentDensity&&!b.cozyContentDensity){i=true;}else{i=false;}}}else{var b=A.getMetadata();if(b.compactContentDensity&&!b.cozyContentDensity){i=true;}else{if(!b.compactContentDensity&&b.cozyContentDensity){i=false;}else{i=this._isCompactContentDensityByDevice();}}}}this._applyContentDensityClass(i);};this._applyContentDensityClass=function(i){if(i===undefined){var u=sap.ushell.Container.getService("UserInfo"),U=u.getUser?u.getUser():undefined;if(U&&U.getContentDensity()==='cozy'){i=false;}else{i=this._isCompactContentDensityByDevice();}}if(i){jQuery('body').removeClass('sapUiSizeCozy');jQuery('body').addClass('sapUiSizeCompact');}else{jQuery('body').removeClass('sapUiSizeCompact');jQuery('body').addClass('sapUiSizeCozy');}};this._isCompactContentDensityByDevice=function(){var i;if(!D.support.touch||D.system.combi){i=true;}else{i=false;}return i;};this.getTitleDefaultValue=function(){var t="",b=A.getMetadata();if(b&&b.title){t=b.title;}return t;};}return new a();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/elements/model',function(){"use strict";var m={animationMode:"full",searchAvailable:false,title:"",searchFiltering:true,showEndUserFeedback:false,searchTerm:"",isPhoneWidth:false,enableNotifications:false,enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",userStatus:undefined,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},customStatesDelta:{"home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn"]},"app":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"minimal":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"standalone":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded-home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"lean":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]}},states:{"blank":{"stateName":"blank","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"blank-home":{"stateName":"blank-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"home":{"stateName":"home","showCurtain":false,"headerVisible":true,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"headItems":['meAreaHeaderButton'],"showRecentActivity":true,"headEndItems":[],"search":"","paneContent":[],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"app":{"stateName":"app","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"search":"","headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"minimal":{"stateName":"minimal","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"standalone":{"stateName":"standalone","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded":{"stateName":"embedded","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded-home":{"stateName":"embedded-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless":{"stateName":"headerless","showCurtain":false,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged":{"stateName":"merged","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless-home":{"stateName":"headerless-home","showCurtain":false,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged-home":{"stateName":"merged-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"lean":{"stateName":"lean","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"lean-home":{"stateName":"lean","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}}},userPreferences:{entries:[]},userImage:{personPlaceHolder:sap.ui.core.IconPool.getIconURI("person-placeholder"),account:sap.ui.core.IconPool.getIconURI("account")}},h=0;function v(i,a,s){return a!=undefined;}function n(i,a,s){return true;}function u(a,V,c){c.setProperty(a,V);}function E(){var M;var c;var s;var C;var e;var o;var I;var b;var a;var d;var t;var f;this.createDefault=function(){var r=function(S,g,D){if(D.sProperty=="actions"){var i=D.oModel.getProperty(D.path);if(i&&i.length===0&&D.aIds&&D.aIds.length>0){this._renderShellState();}}}.bind(this);var A=function(){h++;if(h===1){this.addHeaderItem(["backBtn"],true);}}.bind(this);this.createTriggers([{sName:'onAddFirstAction',fnRegister:function(){sap.ui.getCore().getEventBus().subscribe("launchpad","updateShell",r,this);},fnUnRegister:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","updateShell",r,this);}}],false,["blank","blank-home"]);this.createTriggers([{sName:'onAddFirstAction',fnRegister:function(){h=0;window.addEventListener("hashchange",A);},fnUnRegister:function(){window.removeEventListener("hashchange",A);}}],false,["lean","lean-home"]);};this.init=function(g){M=new sap.ui.model.json.JSONModel(m);s=M;c={};e={};o={};I=false;b=false;d=false;t=[];f=true;a=undefined;if(g){jQuery.sap.measure.start("FLP:ElementsModel.init","moveShellHeaderEndItems","FLP");if(g.moveEditHomePageActionToShellHeader){this._moveActionsToShellHeader("ActionModeBtn");}if(g.moveContactSupportActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("ContactSupportBtn");}if(g.moveGiveFeedbackActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("EndUserFeedbackBtn");}if(g.moveAppFinderActionToShellHeader){this._moveActionsToShellHeader("openCatalogBtn");}if(g.moveUserSettingsActionToShellHeader){this._moveActionsToShellHeader("userSettingsBtn");}jQuery.sap.measure.end("FLP:ElementsModel.init");}this.createDefault();var i=g&&g.appState?g.appState:"home";this.switchState(i);};this.destroy=function(){M=undefined;s=undefined;c=undefined;e=undefined;o=undefined;I=undefined;b=undefined;f=undefined;d=undefined;a=undefined;sap.ui.getCore().getEventBus().unsubscribe("launchpad","contentRendered",this._attachPressToUserSettings,this);};this.getModel=function(){return M;};this._moveCustomeDataActionBtnToShellHeader=function(g){for(var k in m.customStatesDelta){var S=m.customStatesDelta[k];var A=S.actions;var i=A.indexOf(g);if(i!=-1){m.customStatesDelta[k].actions.splice(i,1);i=m.states[k].headEndItems.indexOf(g);if(i===-1){m.states[k].headEndItems.push(g);}}}var B=sap.ui.getCore().byId(g);if(!B){var j;if(g==="ContactSupportBtn"){j=new sap.ushell.ui.footerbar.ContactSupportButton("tempContactSupportBtn",{visible:true});}else if(g==="EndUserFeedbackBtn"){j=new sap.ushell.ui.footerbar.EndUserFeedback("EndUserFeedbackHandlerBtn",{});}var l=j.getIcon();var p=j.getText();var q=function(){j.firePress();};var r=new sap.ushell.ui.shell.ShellHeadItem(g,{icon:l,tooltip:p,text:p,showSeparator:false});if(g==="ContactSupportBtn"){r.attachPress(q);}if(g==="EndUserFeedbackBtn"){r.setVisible(false);}r.data("isShellHeader",true);}};this._attachPressToUserSettings=function(){jQuery.sap.measure.start("FLP:ElementsModel._attachPressToUserSettings","_attachPressToUserSettings","FLP");var g=sap.ui.getCore().byId("userSettingsBtn");g.attachPress(function(){var i=sap.ui.getCore().byId('meArea');if(!i.oSettingsDialog.getModel()){i.oSettingsDialog.setModel(i.getModel());}var O=function(){i.oSettingsDialog.open();sap.ui.getCore().byId("viewPortContainer").detachAfterSwitchStateAnimationFinished(O);};var j=sap.ui.getCore().byId('viewPortContainer');if(j.getCurrentState()!="Center"){sap.ui.getCore().byId("viewPortContainer").attachAfterSwitchStateAnimationFinished(O);sap.ui.getCore().byId("viewPortContainer").switchState("Center");}else{O();}});jQuery.sap.measure.end("FLP:ElementsModel._attachPressToUserSettings");};this._moveActionsToShellHeader=function(g){var k;for(k in m.states){var S=m.states[k];if(k==="blank"||k==="blank-home"){continue;}if(g==="ActionModeBtn"){if(k==="app"){continue;}}var A=S.actions;var i=A.indexOf(g);if(i!=-1){m.states[k].actions.splice(i,1);}i=m.states[k].headEndItems.indexOf(g);if(i===-1){m.states[k].headEndItems.push(g);}}if(g==="userSettingsBtn"){var j="userSettingsBtn";var l=sap.ushell.resources.i18n.getText("userSettings");var p='sap-icon://action-settings';var U=sap.ui.getCore().byId(j);sap.ui.getCore().getEventBus().subscribe("launchpad","contentRendered",this._attachPressToUserSettings,this);if(!U){var q=new sap.ushell.ui.shell.ShellHeadItem(j,{icon:p,tooltip:l,text:l,showSeparator:false});q.data("isShellHeader",true);}}};this.switchState=function(S,g){var p=S[0]==="/"?S:"/states/"+S,i=M.getProperty(p),j=M.getProperty("/currentState")||{},k=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];if(g){M.setProperty("/lastState",j);}this._destroyManageQueue(k);M.setProperty("/currentState",jQuery.extend(true,{},{},i));if(!e[S]){e[S]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState(S)};}C=e[S].customShellState;a=undefined;this._renderShellState();return i;};this.setLeftPaneVisibility=function(V,g,S){this.updateStateProperty("showPane",V,g,S);};this.setHeaderHiding=function(){jQuery.sap.log.warning("Application Life Cycle model: headerHiding property is deprecated and has no effect");};this.setHeaderVisibility=function(V,g,S){this.updateStateProperty("headerVisible",V,g,S);};this.showLogo=function(g,S){this.updateStateProperty("showLogo",true,g,S,false);};this.addHeaderItem=function(i,g,S){this._addHeaderItemInCorrectOrder("headItems",i,g,S);};this._removeReservedItemId=function(r,g,i){var A=false,R=i.indexOf(r);if(R>-1){i.splice(R,1);A=true;}R=g.indexOf(r);if(R>-1){g.splice(R,1);A=true;}return A;};this._addHeaderItemInCorrectOrder=function(p,i,g,S){var j=this;function V(k,l,q){var A=3-k.length;l.forEach(function(r,w){var x=(r==='meAreaHeaderButton'||r==='backBtn'||r==='homeBtn');if(k[r]===-1&&!x){A--;}});if(A<0){jQuery.sap.log.warning("Maximum of three items has been reached, cannot add more items.");return false;}return true;}function U(k,l,q){jQuery.sap.measure.start("FLP:ElementsModel.fnUpdate","update shell head end items","FLP");var r=q.getProperty(k),w=[],x=l.slice(0);if(j._removeReservedItemId("meAreaHeaderButton",r,x)===true){w.push("meAreaHeaderButton");}if(j._removeReservedItemId("backBtn",r,x)===true){w.push("backBtn");}if(j._removeReservedItemId("homeBtn",r,x)===true){w.push("homeBtn");}r.some(function(y){if(w.length<3){w.push(y);}else{return true;}});x.some(function(y){if(w.length<3){w.push(y);}else{return true;}});q.setProperty(k,w);jQuery.sap.measure.end("FLP:ElementsModel.fnUpdate");}this._setShellItem(p,i,g,S,V,U);};this.removeHeaderItem=function(i,g,S){this._removeShellItem("headItems",i,g,S);};this.addHeaderEndItem=function(i,g,S,D){if(i.length){this._addUpToSixItem("headEndItems",i,g,S,D);}};this.removeHeaderEndItem=function(i,g,S){this._removeShellItem("headEndItems",i,g,S);};this.addSubHeader=function(i,g,S){if(i.length){this._addShellItem("subHeader",i,g,S);}};this.removeSubHeader=function(i,g,S){this._removeShellItem("subHeader",i,g,S);};this.addActionButton=function(i,g,S,j){if(j){this._addActionButtonAtStart("actions",i,g,S);}else{this._addActionButton("actions",i,g,S);}};this.removeActionButton=function(i,g,S){this._removeShellItem("actions",i,g,S);};this.addToolAreaItem=function(i,g,S){if(i.length){this._addToolAreaItem("toolAreaItems",i,g,S);}};this.removeToolAreaItem=function(i,g,S){this._removeShellItem("toolAreaItems",i,g,S);};this.addLeftPaneContent=function(i,g,S){if(i.length){this._addShellItem("paneContent",i,g,S);}};this.removeLeftPaneContent=function(i,g,S){this._removeShellItem("paneContent",i,g,S);};this.addRightFloatingContainerItem=function(i,g,S){if(i.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",i,g,S);}};this.removeRightFloatingContainerItem=function(i,g,S){this._removeShellItem("RightFloatingContainerItems",i,g,S);};this.showSettingsButton=function(g,S){this.addActionButton(["userSettingsBtn"],g,S,false);};this.showSignOutButton=function(g,S){this.addActionButton(["logoutBtn"],g,S,false);};this.showRightFloatingContainer=function(S){this._showRightFloatingContainer(S);};this.addFloatingActionButton=function(i,g,S){if(i.length){this._addShellItem("floatingActions",i,g,S);}};this.removeFloatingActionButton=function(i,g,S){this._removeShellItem("floatingActions",i,g,S);};this.updateStateProperty=function(p,V,g,S,D){this._setShellItem(p,V,g,S,v,u,D);};this._handleTriggers=function(N){var T,g,i=[],A={};f=false;while(t.length>0){T=t.pop();if(N[T.sName]){i.push(T);A[T.sName]=T;}else{T.fnUnRegister(this);}}for(var j in N){if(N.hasOwnProperty(j)){if(!A[j]){g=N[j];g.fnRegister(this);i.push(g);}}}t=i;f=true;};this._registerTriggers=function(T){var i;f=false;for(i=0;i<T.length;i++){T[i].fnRegister(this);t.push(T[i]);}f=true;};this.createTriggers=function(T,g,S){var N=[];var U=function(T,r){var w;if(!r.aTriggers){r.aTriggers=[];}for(w=0;w<T.length;w++){var x={sName:T[w].sName,fnRegister:T[w].fnRegister,fnUnRegister:T[w].fnUnRegister};N.push(x);r.aTriggers.push(x);}};if(g===true){var j=s.getProperty("/currentState/");U(T,j);if(!I){this._registerTriggers(N);}}else{var i,k=s.getProperty('/currentState/stateName');for(i=0;i<S.length;i++){var l=S[i],p="/states/"+l,q=M.getProperty(p);N=[];U(T,q);if(k===l){if(!I){this._registerTriggers(N);}}}}};this.createInspection=function(A,g,j,S){var k=function(M,A,g){var x,y;if(!M.oCheckPoints){M.oCheckPoints=[];}if(!M.oCheckPoints[A]){M.oCheckPoints[A]=[];}x=M.oCheckPoints[A];for(y=0;y<g.length;y++){l=g[y];x.push({fnCondition:l.fnCondition,fnCheckPoint:l.fnAction});}};if(j===true){var l,p=s.getProperty("/currentState");k(p,A,g);if(!d&&!I){k(C.getProperty("/currentState"),A,g);}this._renderShellState();}else{var i,q=s.getProperty('/currentState/stateName');for(i=0;i<S.length;i++){var r=S[i],P="/states/"+r,w=M.getProperty(P);k(w,A,g);if(q===r){if(!I){this._renderShellState();}}}}};this.showShellItem=function(p,S,V){var g,j,k=this._getModelStates(S),l=this.getModel().getData().states,q="/currentState"+p;for(var i=0;i<k.length;i++){j=l[k[i]];g="/states/"+j.stateName+p;s.setProperty(g,V);}if(s.getProperty("/currentState/stateName")===S){s.setProperty(q,V);}};this.addCustomItems=function(S,i,g,j){if(this._isValidStateEntry(S)){this._isValidStateEntry(S).fnAdd(i,g,j);}else{throw new Error("Invalid state entry:"+S);}};this.removeCustomItems=function(S,i,g,j){if(this._isValidStateEntry(S)){this._isValidStateEntry(S).fnRemove(i,g,j);}else{throw new Error("Invalid state entry:"+S);}};this.createExtendedShellState=function(S,g){var B=M.getProperty("/currentState/stateName"),i,j=this._createCustomShellState(S);if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}i=e[B].extendedShellStates;if(i[S]){return false;}s=j;d=true;g();if(i[S]){i[S].customState=j;}else{i[S]={managedObjects:[],customState:j};}s=M;d=false;return true;};this.applyExtendedShellState=function(S){a=S;this._renderShellState();};this.addEntryInShellStates=function(g,i,A,r,S){var j,k;if(!c[g]){c[g]={fnAdd:A,fnHide:r};var l=this._getStatesList();for(j=0;j<l.length;j++){k=l[j];M.setProperty("/states/"+k+"/"+g,S[k]);}this["remove"+i]=r;this["add"+i]=A;}else{throw new Error("State entry already exsists:"+g);}};this.addElementToManagedQueue=function(i){var S=s.getProperty("/currentState/stateName"),B=M.getProperty("/currentState/stateName"),g,j=i.getId();if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}g=e[B].extendedShellStates;if(!g[S]){g[S]={managedObjects:[],customState:undefined};}g[S].managedObjects.push(j);var k=o[j];if(k){k.nRefCount++;}else{k={oItem:i,nRefCount:1};o[j]=k;}};this.updateNeededTriggersMap=function(S,T){var i;if(!T){return;}for(i=0;i<T.length;i++){S[T[i].sName]=T[i];}};this._renderShellState=function(){var B=M.getProperty("/currentState/stateName"),p=B[0]==="/"?B:"/states/"+B,g,i,S=jQuery.extend(true,{},{},M.getProperty(p)),j=e[B],k,N={};if(j){k=j.customShellState.getProperty("/currentState");}var l=new sap.ui.model.json.JSONModel({"currentState":jQuery.extend(true,{},{},S)});s=l;I=true;if(a){if(j.extendedShellStates[a]){g=j.extendedShellStates[a].customState;i=g.getProperty("/currentState");this._addCustomShellStates(i);}}if(k){this._addCustomShellStates(k);}s=M;if(S&&S.aTriggers){this.updateNeededTriggersMap(N,S.aTriggers);}if(i&&i.aTriggers){this.updateNeededTriggersMap(N,i.aTriggers);}if(k&&k.aTriggers){this.updateNeededTriggersMap(N,k.aTriggers);}if(f){this._handleTriggers(N);}M.setProperty("/currentState",l.getProperty("/currentState"));I=false;l.destroy();};this._addCustomShellStates=function(T){this.addHeaderItem(T.headItems,true);this.addToolAreaItem(T.toolAreaItems,true);this.addHeaderEndItem(T.headEndItems,true);this.addSubHeader(T.subHeader,true);this.addRightFloatingContainerItem(T.RightFloatingContainerItems,true);this.addActionButton(T.actions,true,undefined,false);this.addLeftPaneContent(T.paneContent,true);this.addFloatingActionButton(T.floatingActions,true);this._setCurrentApplicationInformation(T.application);this.showRightFloatingContainer(T.showRightFloatingContainer);this.setHeaderVisibility(T.headerVisible,true);if(T.showLogo){this.showLogo(true);}};this._createCustomShellState=function(S){var g={"currentState":{"stateName":S,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}};var i=M.getProperty("/customStatesDelta"),j=i[S];if(j){jQuery.extend(g.currentState,j);}return new sap.ui.model.json.JSONModel(g);};this._setCurrentApplicationInformation=function(A){if(!A){A={};}this.updateStateProperty("application",A,true);};this._showRightFloatingContainer=function(S){this._setShellItem("showRightFloatingContainer",S,true,[],v,u);};this._addActionButtonAtStart=function(p,i,g,S){function U(j,k,l){var A=l.getProperty(j),q=[],O=k.indexOf("openCatalogBtn");if(O>-1){k.splice(O,1);q.push("openCatalogBtn");}else{if(A[0]==="openCatalogBtn"){A.splice(0,1);q.push("openCatalogBtn");}}q=q.concat(k).concat(A);l.setProperty(j,q);}this._setShellItem(p,i,g,S,n,U);};this._addActionButton=function(p,i,g,S){function U(j,k,l){var A=l.getProperty(j);var L=A.indexOf("logoutBtn");if(L>-1){A.splice.apply(A,[L,0].concat(k));}else{A=A.concat(k);}var O=A.indexOf("openCatalogBtn"),q=[];if(O>-1){A.splice(O,1);q.push("openCatalogBtn");q=q.concat(A);}else{q=A;}l.setProperty(j,q);}this._setShellItem(p,i,g,S,n,U);};this.setFloatingContainerContent=function(p,i,g,S){function V(j,i,k){return i.length===1;}function U(j,i,k){k.setProperty(j,i);}this._setShellItem(p,i,g,S,V,U);};this._addUpToSixItem=function(p,i,g,S,D){function V(j,k,l){var q=0,r,w;if(k.length===1&&k[0]==="endItemsOverflowBtn"){return true;}for(r=0;r<j.length;r++){w=j[r];if(w!=="endItemsOverflowBtn"){q++;}if(q+k.length>6){jQuery.sap.log.warning("maximum of six items has reached, cannot add more items.");return false;}if(k.indexOf(w)>-1){return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r=q.slice(0);r=r.sort();r=r.concat(k);var w=r.indexOf("NotificationsCountButton");if(w!=-1){r.splice(w,1);r.splice(r.length,0,"NotificationsCountButton");}var x=r.indexOf("copilotBtn");if(x!=-1){r.splice(x,1);if(r.indexOf("sf")!=-1){r.splice(1,0,"copilotBtn");}else{r.splice(0,0,"copilotBtn");}}var y=r.indexOf("sf");if(y!=-1){r.splice(y,1);r.splice(0,0,"sf");}l.setProperty(j,r);}this._setShellItem(p,i,g,S,V,U,D);};this._addShellItem=function(p,i,g,S){function V(j,i,k){if(j.length>0){jQuery.sap.log.warning("You can only add one item. Replacing existing item: "+j[0]+" in state: "+k+", with the new item: "+i[0]+".");}return true;}function U(j,k,l){l.setProperty(j,i.slice(0));}this._setShellItem(p,i,g,S,V,U);};this._addRightFloatingContainerItem=function(p,i,g,S){function U(j,k,l){var q=l.getProperty(j);q=q.concat(k);l.setProperty(j,q);}this._setShellItem(p,i,g,S,n,U);};this._addToolAreaItem=function(p,i,g,S){function U(k,i,l){var q=l.getProperty(k);q.push(i);l.setProperty(k,q);}var j,P=this._getPassStates(S);for(j=0;j<P.length;j++){this.showShellItem("/toolAreaVisible",P[j],true);}this._setShellItem(p,i,g,S,n,U);};this._removeShellItem=function(p,i,g,S){function V(j,k){var l,i,q;for(q=0;q<k.length;q++){i=k[q];l=j.indexOf(i);if(l<0){jQuery.sap.log.warning("You cannot remove Item: "+i+", the headItem does not exists.");return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r,i,w;for(w=0;w<k.length;w++){i=k[w];r=q.indexOf(i);if(r>-1){q.splice(r,1);}}l.setProperty(j,q);}this._setShellItem(p,i,g,S,V,U);};this._commitCheckPoints=function(g,i,j){var k;for(k=0;k<g.length;k++){if(g[k].fnCondition(i,j,this)){g[k].fnCheckPoint(i,j,this);}}};this._setShellItem=function(p,O,g,S,V,U,D){var k,l;var q=Array.isArray(O)?O.slice(0):O;if(g===true){k="/currentState/"+p;l=s.getProperty(k);if(V(l,q,"currentState")===false){return;}if(I&&!b){var B=M.getProperty("/currentState/stateName"),P="/states/"+B,r=M.getProperty(P),w=e[B];b=true;if(r.oCheckPoints){var x=r.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}if(a){if(w.extendedShellStates[a]){var y=w.extendedShellStates[a].customState,z=y.getProperty("/currentState");if(z&&z.oCheckPoints&&z.oCheckPoints[p]){this._commitCheckPoints(z.oCheckPoints[p],l,q);}}}var A=w.customShellState.getProperty("/currentState");if(A&&A.oCheckPoints&&A.oCheckPoints[p]){x=A.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}b=false;}if(!d&&!I){U(k,q,C);sap.ui.getCore().getEventBus().publish('launchpad','updateShell',{oModel:s,path:k,aIds:q,sProperty:p});this._renderShellState();}else{U(k,q,s);}}else{var F=D?S:this._getPassStates(S),i,G=s.getProperty('/currentState/stateName');for(i=0;i<F.length;i++){var H=F[i],j;k="/states/"+H+"/"+p;l=s.getProperty(k);if(V(l,q,H)===false){continue;}var J=this._getModelStates(H,D);for(j=0;j<J.length;j++){k="/states/"+J[j]+"/"+p;U(k,q,s);if(G===J[j]){if(!I){this._renderShellState();}}}}}};this._getPassStates=function(S){var p=[],i;S=S||[];for(i=0;i<S.length;i++){if(S[i]!==undefined){if(S[i]!=="home"&&S[i]!=="app"){throw new Error("sLaunchpadState value is invalid");}p.push(S[i]);}}if(!p.length){p=["app","home"];}return p;};this._getModelStates=function(S,D){var g=[];if(S==="app"&&!D){var i=["app","minimal","standalone","embedded","headerless","merged","blank","lean"];g=g.concat(i);}else if(S==="home"&&!D){var i=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];g=g.concat(i);}else{g.push(S);}return g;};this._getStatesList=function(){var S=M.getProperty("/states");return Object.keys(S);};this._destroyManageQueue=function(g){var S,i,j,k,B,l,p;for(S in e){if(e.hasOwnProperty(S)){if(!g||g.indexOf(S)===-1){B=e[S].extendedShellStates;for(l in B){if(B.hasOwnProperty(l)){p=B[l].managedObjects;for(i=0;i<p.length;i++){j=p[i];k=o[j];k.nRefCount--;if(k.nRefCount===0){k.oItem.destroy();o[j]=null;}}delete B[l];}}delete e[S];}}}};this._isValidStateEntry=function(N){return!!c[N];};this.getModelToUpdate=function(){return s;};this.setModelToUpdate=function(g,i){d=i;s=g;};this._getManagedElements=function(){return o;};}return new E();},true);
sap.ui.predefine('sap/ushell/components/container/ApplicationContainer',["sap/ushell/utils","sap/ushell/library","sap/m/MessagePopover","sap/ui/thirdparty/URI"],function(u,a,M,U){"use strict";var p="sap.ushell.components.container.",c=p+"ApplicationContainer",d="sap.ushell.Container.dirtyState.",l,r;function b(T){var e=sap.ushell.Container.getService("CrossApplicationNavigation");e.isUrlSupported(T.url).done(function(){T.promise.resolve({"allowed":true,"id":T.id});}).fail(function(){T.promise.resolve({"allowed":false,"id":T.id});});}function i(){var e={"asyncURLHandler":G.prototype._adaptIsUrlSupportedResultForMessagePopover};if(M&&M.setDefaultHandlers){M.setDefaultHandlers(e);}}sap.ui.getCore().getEventBus().subscribe("sap.ushell","coreResourcesFullyLoaded",i);l=new u.Map();function g(e){return l.get(e.getId());}function f(e){var P=jQuery.sap.getUriParameters(e).mParams,H=P["sap-xapp-state"],R;delete P["sap-xapp-state"];R={startupParameters:P};if(H){R["sap-xapp-state"]=H;}return R;}function h(K,e){if(!r){r=jQuery.sap.resources({url:jQuery.sap.getModulePath(p)+"/resources/resources.properties",language:sap.ui.getCore().getConfiguration().getLanguage()});}return r.getText(K,e);}function j(){return new sap.ui.core.Icon({size:"2rem",src:"sap-icon://error",tooltip:G.prototype._getTranslatedText("an_error_has_occured")});}function k(e){var H=e.getAggregation("child"),I;if(H instanceof sap.ui.core.ComponentContainer){I=H.getComponentInstance().getMetadata().getName().replace(/\.Component$/,"");jQuery.sap.log.debug("unloading component "+I,null,c);}e.destroyAggregation("child");}function m(e,H,I){var J,K,L,N,O,P,Q,V={},R,S;L=H.indexOf("?");if(L>=0){P=G.prototype._getParameterMap(H);V=P.startupParameters;H=H.slice(0,L);}if(H.slice(-1)!=='/'){H+='/';}if(/\.view\.(\w+)$/i.test(I)){O=/^SAPUI5=(?:([^\/]+)\/)?([^\/]+)\.view\.(\w+)$/i.exec(I);if(!O){jQuery.sap.log.error("Invalid SAPUI5 URL",I,c);return G.prototype._createErrorControl();}Q=O[1];R=O[2];S=O[3].toUpperCase();if(Q){R=Q+"."+R;}else{N=R.lastIndexOf(".");if(N<1){jQuery.sap.log.error("Missing namespace",I,c);return G.prototype._createErrorControl();}Q=R.slice(0,N);}}else{Q=I.replace(/^SAPUI5=/,"");}jQuery.sap.registerModulePath(Q,H+Q.replace(/\./g,'/'));G.prototype._destroyChild(e);if(R){if(e.getApplicationConfiguration()){V.config=e.getApplicationConfiguration();}K=sap.ui.view({id:e.getId()+"-content",type:S,viewData:V||{},viewName:R});e.fireEvent("applicationConfiguration");}else{jQuery.sap.log.debug("loading component "+Q,null,c);var T=P?{startupParameters:P.startupParameters}:{startupParameters:{}};if(P&&P["sap-xapp-state"]){T["sap-xapp-state"]=P["sap-xapp-state"];}if(e.getApplicationConfiguration()){T.config=e.getApplicationConfiguration();}J=sap.ui.component({id:e.getId()+"-component",componentData:T,name:Q});e.fireEvent("applicationConfiguration",{"configuration":J.getMetadata().getConfig()});K=new sap.ui.core.ComponentContainer({id:e.getId()+"-content",component:J});}K.setWidth(e.getWidth());K.setHeight(e.getHeight());K.addStyleClass("sapUShellApplicationContainer");e.setAggregation("child",K,true);return K;}function n(e,H){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.components.container.ApplicationContainer",e,H);},0);}function o(e,H,I){var J,K,L,N,O={startupParameters:{}},P,Q=e.getComponentHandle(),R=sap.ushell.Container.getService("PluginManager"),S,T;u.addTime("createUi5Component");J=H.indexOf("?");if(J>=0){N=G.prototype._getParameterMap(H);O={startupParameters:N.startupParameters};if(N["sap-xapp-state"]){O["sap-xapp-state"]=N["sap-xapp-state"];}H=H.slice(0,J);}if(e.getApplicationConfiguration()){O.config=e.getApplicationConfiguration();}if(H.slice(-1)!=='/'){H+='/';}jQuery.sap.registerModulePath(I,H);G.prototype._destroyChild(e);P={id:e.getId()+"-component",name:I,componentData:O};jQuery.sap.log.debug("Creating component instance for "+I,JSON.stringify(P),c);sap.ui.getCore().getEventBus().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:I});if(Q){K=Q.getInstance(P);}else{jQuery.sap.log.error("No component handle available for '"+I+"'; fallback to component.load()",null,c);K=sap.ui.component({id:e.getId()+"-component",name:I,componentData:O});}e.fireEvent("applicationConfiguration",{"configuration":K.getMetadata().getConfig()});L=new sap.ui.core.ComponentContainer({id:e.getId()+"-content",component:K});L.setHeight(e.getHeight());L.setWidth(e.getWidth());L.addStyleClass("sapUShellApplicationContainer");e._disableRouterEventHandler=G.prototype._disableRouter.bind(this,K);sap.ui.getCore().getEventBus().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",e._disableRouterEventHandler);e.setAggregation("child",L,true);if(R){S=R.getPluginLoadingPromise("RendererExtensions");T=S&&S.state();if(T==="pending"){S.done(function(){G.prototype._publishExternalEvent("componentCreated",{component:K});}).fail(function(){G.prototype._publishExternalEvent("componentCreated",{component:K});});}if(T==="resolved"||T==="rejected"){G.prototype._publishExternalEvent("componentCreated",{component:K});}}G.prototype._publishExternalEvent("componentCreated",{component:K});return L;}function q(e){var H;if((e instanceof sap.ui.core.Component)&&(typeof e.getRouter==="function")){H=e.getRouter();if(H&&(typeof H.stop==="function")){jQuery.sap.log.info("router stopped for instance "+e.getId());H.stop();}}}function s(e){var H=document.createElement("a"),I=jQuery.sap.getUriParameters(e).get("sap-client"),J;H.href=e;J=H.protocol+"//"+H.host;return new sap.ushell.System({alias:I?J+"?sap-client="+I:J,baseUrl:J,client:I||undefined,platform:"abap"});}function t(e,H){var T=false,I=e.getDomRef(),J=e.getApplicationType(),K,O;if(I){if(u.isApplicationTypeEmbeddedInIframe(J)){K=U(I.src||window.location&&window.location.href||'');O=K.protocol()+"://"+K.host();T=(H.source===I.contentWindow)||(H.origin===O);}else if(J===sap.ushell.components.container.ApplicationType.URL){K=U();O=K.protocol()+"://"+K.host();T=(H.origin===O);}}return T;}function v(S,e,O){var R=JSON.stringify({type:"request",service:e,request_id:jQuery.sap.uid(),body:{}});jQuery.sap.log.debug("Sending post message request to origin ' "+O+"': "+R,null,"sap.ushell.components.container.ApplicationContainer");S.postMessage(R,O);}function w(){var I=this.getDomRef();if(!I||I.tagName!=="IFRAME"){return null;}return I;}function x(H,I,J){var P=jQuery.sap.getObject("sap-ushell-config.services.PostMessage.config",0),S=J&&J.service,K;jQuery.sap.log.debug("Received post message request from origin '"+I.origin+"': "+JSON.stringify(J),null,"sap.ushell.components.container.ApplicationContainer");if(J.type!=="request"||!S||(S.indexOf("sap.ushell.services.CrossApplicationNavigation")!==0&&S.indexOf("sap.ushell.CrossApplicationNavigation")!==0&&S.indexOf("sap.ushell.ui5service.ShellUIService")!==0&&S.indexOf("sap.ushell.services.Container")!==0)){return;}K=S.split(".")[3];if(P&&P.enabled===false){jQuery.sap.log.warning("Received message for "+K+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,"sap.ushell.components.container.ApplicationContainer");return;}if(!G.prototype._isTrustedPostMessageSource(H,I)){jQuery.sap.log.warning("Received message from untrusted origin '"+I.origin+"': "+JSON.stringify(I.data),null,"sap.ushell.components.container.ApplicationContainer");return;}function L(e,W){var X=JSON.stringify({type:"response",service:J.service,request_id:J.request_id,status:e,body:W});jQuery.sap.log.debug("Sending post message response to origin ' "+I.origin+"': "+X,null,"sap.ushell.components.container.ApplicationContainer");if(typeof I.source!=="object"||I.source===null){jQuery.sap.log.debug("Cannot send response message to origin ' "+I.origin,"`source` member of request message is not an object","sap.ushell.components.container.ApplicationContainer");return;}I.source.postMessage(X,I.origin);}function N(I,J){var e=new jQuery.Deferred(),W;if(J.body&&J.body.callbackMessage&&J.body.callbackMessage.service){W=G.prototype._backButtonPressedCallback.bind(null,I.source,J.body.callbackMessage.service,I.origin);}e.resolve(H.getShellUIService().setBackNavigation(W));return e.promise();}function O(W,X){var Y,Z,$,_=[W.id];if(arguments.length>1){_.unshift(X);}try{$=JSON.stringify(W);}catch(e){jQuery.sap.log.error("Cannot stringify and store expanded system data: "+e);}if($){Z=u.getLocalStorage();Y=u.generateLocalStorageKey("sap-system-data",_);Z.setItem(Y,$);}}function Q(){var e=sap.ushell.Container.getLogonSystem();var W=e.getName();var X=e.getClient();return"sid("+W+"."+X+")";}function R(e){return Q().toLowerCase()===e.toLowerCase();}function T(K){switch(K){case"sap.ushell.services.CrossApplicationNavigation.hrefForExternal":return new jQuery.Deferred().resolve(sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal(J.body.oArgs)).promise();case"sap.ushell.services.CrossApplicationNavigation.getSemanticObjectLinks":return sap.ushell.Container.getService("CrossApplicationNavigation").getSemanticObjectLinks(J.body.sSemanticObject,J.body.mParameters,J.body.bIgnoreFormFactors,undefined,undefined,J.body.bCompactIntents);case"sap.ushell.services.CrossApplicationNavigation.isIntentSupported":return sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported(J.body.aIntents);case"sap.ushell.services.CrossApplicationNavigation.isNavigationSupported":return sap.ushell.Container.getService("CrossApplicationNavigation").isNavigationSupported(J.body.aIntents);case"sap.ushell.services.CrossApplicationNavigation.toExternal":var W=u.clone(J.body.oArgs);var X=(W||{}).params;var Y=X&&X.hasOwnProperty("sap-system");if(Y){if(u.isPlainObject(X["sap-system"])){var Z=X["sap-system"];var $=X["sap-system-src"];var _=typeof $==="string";if(!_){O(Z);}else{O(Z,$);X["sap-system-src"]=$;}X["sap-system"]=Z.id;}else if(R(X["sap-system"])){delete X["sap-system"];}}return new jQuery.Deferred().resolve(sap.ushell.Container.getService("CrossApplicationNavigation").toExternal(W)).promise();case"sap.ushell.CrossApplicationNavigation.backToPreviousApp":sap.ushell.Container.getService("CrossApplicationNavigation").backToPreviousApp();return new jQuery.Deferred().resolve().promise();case"sap.ushell.services.CrossApplicationNavigation.backToPreviousApp":sap.ushell.Container.getService("CrossApplicationNavigation").backToPreviousApp();return new jQuery.Deferred().resolve().promise();case"sap.ushell.services.CrossApplicationNavigation.historyBack":sap.ushell.Container.getService("CrossApplicationNavigation").historyBack(J.body.iSteps);return new jQuery.Deferred().resolve().promise();case"sap.ushell.services.CrossApplicationNavigation.getAppStateData":return sap.ushell.Container.getService("CrossApplicationNavigation").getAppStateData(J.body.sAppStateKey);case"sap.ushell.ui5service.ShellUIService.setTitle":return new jQuery.Deferred().resolve(H.getShellUIService().setTitle(J.body.sTitle)).promise();case"sap.ushell.ui5service.ShellUIService.setBackNavigation":return N(I,J);case"sap.ushell.services.Container.setDirtyFlag":sap.ushell.Container.setDirtyFlag(J.body.bIsDirty);return new jQuery.Deferred().resolve().promise();case"sap.ushell.services.Container.getFLPUrl":return new jQuery.Deferred().resolve(sap.ushell.Container.getFLPUrl()).promise();default:var e="Unknown service name: '"+K+"'";return new jQuery.Deferred().reject(e).promise();}}try{T(J.service).done(function(e){L("success",{result:e});}).fail(function(e){L("error",{message:e});});}catch(V){L("error",{message:V.message});}}function y(H,I){var J=H.getUi5ComponentName&&H.getUi5ComponentName();var K=I.data;if(typeof K==="string"){try{K=JSON.parse(I.data);}catch(e){jQuery.sap.log.debug("Message received from origin '"+I.origin+"' cannot be parsed: "+e,K,"sap.ushell.components.container.ApplicationContainer");return;}}if(typeof J==="string"){jQuery.sap.log.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(K)+"' on container of UI5 application '"+J+"'","Only non UI5 application containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return;}if(!H.getActive()){jQuery.sap.log.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(K)+"' on inactive container '"+H.getId()+"'","Only active containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return;}if(K.action==="pro54_setGlobalDirty"&&localStorage.getItem(H.globalDirtyStorageKey)===sap.ushell.Container.DirtyState.PENDING){if(!G.prototype._isTrustedPostMessageSource(H,I)){jQuery.sap.log.warning("Received message from untrusted origin: "+I.origin,K,"sap.ushell.components.container.ApplicationContainer");return;}jQuery.sap.log.debug("getGlobalDirty() pro54_setGlobalDirty SetItem key:"+H.globalDirtyStorageKey+" value: "+K.parameters.globalDirty,null,"sap.ushell.components.container.ApplicationContainer");u.localStorageSetItem(H.globalDirtyStorageKey,K.parameters.globalDirty,true);}else{G.prototype._handleServiceMessageEvent(H,I,K);}}function z(e,H){var I=e._getIFrame(),J=e.getApplicationType();if(u.isApplicationTypeEmbeddedInIframe(e.getApplicationType(J))&&I){I.contentWindow.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),'*');H.preventDefault();}}function A(R,e,H){R.write("<div").writeControlData(e).writeAccessibilityState(e).addClass("sapUShellApplicationContainer").writeClasses(e).addStyle("height",e.getHeight()).addStyle("width",e.getWidth()).writeStyles().write(">").renderControl(H);R.write("</div>");}function B(H,I){var J=I==="TR"?"":"-NWBC";var V,K=function(){var V,L;try{V=sap.ui.getVersionInfo().version;}catch(e){jQuery.sap.log.error("sap ui version could not be determined, using sap.ui.version (core version) as fallback "+e);V=window.sap&&sap.ui&&sap.ui.version;}L=/\d+\.\d+\.\d+/.exec(V);if(L&&L[0]){V=L[0];}else{V=undefined;}return V;};V=K();if(V){H+=H.indexOf("?")>=0?"&":"?";H+="sap-shell="+encodeURIComponent("FLP"+V+J);}return H;}function C(e,H,T,R){var I,J=function(){var L=u.getParameterValueBoolean("sap-accessibility");if(L!==undefined){return L;}return sap.ushell.Container.getUser().getAccessibilityMode();},K=function(){var L=false,N=jQuery.sap.getUriParameters(e)||{mParams:{}};L=sap.ui.getCore().getConfiguration().getStatistics()&&!N.mParams.hasOwnProperty("sap-statistics");return L;};e+=e.indexOf("?")>=0?"&":"?";e+="sap-ie=edge";I=sap.ushell.Container.getUser().getTheme(sap.ushell.User.prototype.constants.themeFormat.NWBC);if(I){e+=e.indexOf("?")>=0?"&":"?";e+="sap-theme="+encodeURIComponent(I);}if(T){e+=e.indexOf("?")>=0?"&":"?";e+="sap-target-navmode="+encodeURIComponent(T);}if(J()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-accessibility=X";}if(K()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-statistics=true";}if(R){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=1";}return B(e,H);}function D(R,e,H,I){var J=e.getAggregation("child");if(!J||e._bRecreateChild){J=G.prototype._createUi5Component(e,H,I);e._bRecreateChild=false;}G.prototype._renderControlInDiv(R,e,J);}function E(e,K,V){var O=e.getProperty(K);if(jQuery.sap.equal(O,V)){return;}e.setProperty(K,V);e._bRecreateChild=true;}function F(R,e,H,I,J){var L;localStorage.removeItem(e.globalDirtyStorageKey);if(J&&J.indexOf("SAPUI5.Component=")===0&&H===sap.ushell.components.container.ApplicationType.URL){D(R,e,I,J.replace(/^SAPUI5\.Component=/,""));return;}if(J&&J.indexOf("SAPUI5=")===0&&H===sap.ushell.components.container.ApplicationType.URL){G.prototype._renderControlInDiv(R,e,G.prototype._createUi5View(e,I,J));return;}jQuery.sap.log.debug("Not resolved as \"SAPUI5.Component=\" or \"SAPUI5=\" , "+"will attempt to load into iframe "+J);if(!e.getActive()){jQuery.sap.log.debug("Skipping rendering container iframe","Container '"+e.getId()+"' is inactive");return;}try{I=e.getFrameSource(H,I,J);}catch(K){jQuery.sap.log.error(K.message||K,null,c);e.fireEvent("applicationConfiguration");R.renderControl(G.prototype._createErrorControl());return;}if(sap.ushell.Container){L=G.prototype._getLogoutHandler(e);if(!L){if(u.isApplicationTypeEmbeddedInIframe(H)){L=G.prototype._logout.bind(null,e);l.put(e.getId(),L);sap.ushell.Container.attachLogoutEvent(L);sap.ushell.Container.addRemoteSystem(G.prototype._createSystemForUrl(I));}}else if(!u.isApplicationTypeEmbeddedInIframe(H)){sap.ushell.Container.detachLogoutEvent(L);l.remove(e.getId());}}if(u.isApplicationTypeEmbeddedInIframe(H)){var T=e.getTargetNavigationMode();I=G.prototype._adjustNwbcUrl(I,H,T,e.getIsStateful());u.localStorageSetItem(e.globalDirtyStorageKey,sap.ushell.Container.DirtyState.INITIAL);}e.fireEvent("applicationConfiguration");R.write("<iframe").writeControlData(e).writeAccessibilityState(e).writeAttributeEscaped("src",I).addClass("sapUShellApplicationContainer").writeClasses(e).addStyle("height",e.getHeight()).addStyle("width",e.getWidth()).writeStyles().write("></iframe>");}var G=sap.ui.core.Control.extend(c,{metadata:{properties:{additionalInformation:{defaultValue:"",type:"string"},application:{type:"object"},applicationConfiguration:{type:"object"},applicationType:{defaultValue:"URL",type:p+"ApplicationType"},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},navigationMode:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},text:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},visible:{defaultValue:true,type:"boolean"},active:{defaultValue:true,type:"boolean"},"sap-system":{defaultValue:undefined,type:"string"},applicationDependencies:{type:"object"},componentHandle:{type:"object"},ui5ComponentName:{type:"string"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},shellUIService:{type:"object"},reservedParameters:{type:"object"},coreResourcesFullyLoaded:{type:"boolean"},isStateful:{defaultValue:false,type:"boolean"}},events:{"applicationConfiguration":{}},aggregations:{child:{multiple:false,type:"sap.ui.core.Control",visibility:"hidden"}},library:"sap.ushell",designtime:"sap/ushell/designtime/ApplicationContainer.designtime"},exit:function(){var L,e=this;if(sap.ushell.Container){L=G.prototype._getLogoutHandler(e);if(L){sap.ushell.Container.detachLogoutEvent(L);l.remove(e.getId());}}localStorage.removeItem(e.globalDirtyStorageKey);if(e._unloadEventListener){removeEventListener("unload",e._unloadEventListener);}if(e._disableRouterEventHandler){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",e._disableRouterEventHandler);}if(e._storageEventListener){removeEventListener("storage",e._storageEventListener);}if(e._messageEventListener){removeEventListener("message",e._messageEventListener);}G.prototype._destroyChild(e);if(sap.ui.core.Control.exit){sap.ui.core.Control.exit.apply(e);}},init:function(){var e=this;e.globalDirtyStorageKey=d+jQuery.sap.uid();e._unloadEventListener=e.exit.bind(e);addEventListener("unload",e._unloadEventListener);e._storageEventListener=function(S){var H=e.getApplicationType();if(S.key===e.globalDirtyStorageKey&&S.newValue===sap.ushell.Container.DirtyState.PENDING&&u.isApplicationTypeEmbeddedInIframe(H)){var I=e._getIFrame();if(I){jQuery.sap.log.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.components.container.ApplicationContainer");I.contentWindow.postMessage(JSON.stringify({action:"pro54_getGlobalDirty"}),'*');}}};addEventListener('storage',e._storageEventListener);e._messageEventListener=G.prototype._handleMessageEvent.bind(null,e);addEventListener('message',e._messageEventListener);},onAfterRendering:function(e){if(this.getIsStateful()){this.rerender=function(){};}},renderer:function(R,e){var H=e.getApplication(),L=e.launchpadData,I;if(!e.getVisible()){G.prototype._renderControlInDiv(R,e);return;}if(e.error){delete e.error;G.prototype._renderControlInDiv(R,e,G.prototype._createErrorControl());}else if(!H){G.prototype._render(R,e,e.getApplicationType(),e.getUrl(),e.getAdditionalInformation());}else if(!H.isResolvable()){G.prototype._render(R,e,H.getType(),H.getUrl(),"");}else if(L){G.prototype._render(R,e,L.applicationType,L.Absolute.url.replace(/\?$/,""),L.applicationData);}else{jQuery.sap.log.debug("Resolving "+H.getUrl(),null,c);H.resolve(function(J){jQuery.sap.log.debug("Resolved "+H.getUrl(),JSON.stringify(J),c);e.launchpadData=J;G.prototype._destroyChild(e);},function(J){var K=H.getMenu().getDefaultErrorHandler();if(K){K(J);}G.prototype._destroyChild(e);e.error=J;});I=new sap.m.Text({text:G.prototype._getTranslatedText("loading",[H.getText()])});G.prototype._destroyChild(e);e.setAggregation("child",I);G.prototype._renderControlInDiv(R,e,I);}}});G.prototype.getFrameSource=function(e,H,I){if(!Object.prototype.hasOwnProperty.call(sap.ushell.components.container.ApplicationType,e)){throw new Error("Illegal application type: "+e);}return H;};G.prototype.setUrl=function(V){E(this,"url",V);};G.prototype.setAdditionalInformation=function(V){E(this,"additionalInformation",V);};G.prototype.setApplicationType=function(V){E(this,"applicationType",V);};G.prototype.createPostMessageRequest=function(S,e){var R=Date.now().toString();return{"type":"request","request_id":R,"service":S,"body":e};};G.prototype.setNewTRApplicationContext=function(e){var I=this._getIFrame();if(!I){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}e=B(e);var R=this.createPostMessageRequest("sap.its.startService",{"url":e});return this.postMessageToIframe(R,I,true).catch(function(H){return Promise.reject({eventData:H,message:"Failed to change application context."});});};G.prototype.postMessageToIframe=function(H,I,W){var J=this;var R=H.request_id;return new Promise(function(N,K){function P(O){var Q;try{Q=JSON.parse(O.data);if(R!==Q.request_id){return;}if("success"===Q.status){N(Q);}else{K(Q);}window.removeEventListener("message",P);}catch(e){N();jQuery.sap.log.warning("Obtained bad response from framework in response to message "+H.request_id);jQuery.sap.log.debug("Underlying framework returned invalid response data: '"+O.data+"'");}}var L=JSON.stringify(H);jQuery.sap.log.debug("Sending postMessage "+L+" to application container '"+J.getId()+"'");if(W){window.addEventListener("message",P,false);I.contentWindow.postMessage(L,"*");}else{I.contentWindow.postMessage(L,"*");N();}});};G.prototype.setNewApplicationContext=function(e,H){var I=this;var S=this["setNew"+e+"ApplicationContext"];if(!S){return Promise.reject({message:"Unsupported application type"});}var J=this._getIFrame();if(!J){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var R=this.createPostMessageRequest("sap.gui.triggerCloseSessionImmediately",{});return this.postMessageToIframe(R,J,true).then(function(){return S.call(I,H);},function(K){return Promise.reject({eventData:K,message:"Failed to change application context."});});};G.prototype.onApplicationOpened=function(N){var I=this.getIsStateful();if(!I){return Promise.resolve();}var e=this.getApplicationType();if(e==="TR"&&N!=="TR"){var H=this._getIFrame();if(!H){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var R=this.createPostMessageRequest("sap.gui.triggerCloseSession",{});return this.postMessageToIframe(R,H,false).catch(function(J){return Promise.reject({eventData:J,message:"Failed to change application context."});});}return Promise.resolve();};G.prototype._adaptIsUrlSupportedResultForMessagePopover=b;G.prototype._getLogoutHandler=g;G.prototype._getParameterMap=f;G.prototype._getTranslatedText=h;G.prototype._createErrorControl=j;G.prototype._destroyChild=k;G.prototype._createUi5View=m;G.prototype._publishExternalEvent=n;G.prototype._createUi5Component=o;G.prototype._disableRouter=q;G.prototype._createSystemForUrl=s;G.prototype._isTrustedPostMessageSource=t;G.prototype._handleServiceMessageEvent=x;G.prototype._handleMessageEvent=y;G.prototype._logout=z;G.prototype._renderControlInDiv=A;G.prototype._adjustNwbcUrl=C;G.prototype._render=F;G.prototype._backButtonPressedCallback=v;G.prototype._getIFrame=w;return G;},true);
sap.ui.predefine('sap/ushell/functionBindPrototype',function(){"use strict";if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var a=Array.prototype.slice.call(arguments,1),b=this,n=function(){},B=function(){return b.apply(this instanceof n&&t?this:t,a.concat(Array.prototype.slice.call(arguments)));};n.prototype=this.prototype;B.prototype=new n();return B;};}},false);
sap.ui.predefine('sap/ushell/iconfonts',['sap/ui/core/IconPool'],function(I){"use strict";var a={};a.registerFiori2IconFont=function(){I.registerFont({fontFamily:"BusinessSuiteInAppSymbols",fontURI:jQuery.sap.getModulePath("sap.ushell.themes.base.fonts")});I.registerFont({fontFamily:"SAP-icons-TNT",fontURI:jQuery.sap.getModulePath("sap.tnt.themes.base.fonts")});var f={fontFamily:"SAP-Icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0018","e0c3"],["F0019","e0c3"],["F0020","e0c3"],["F0021","e10d"],["F0366","e129"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]},F={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]},A={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E213"],["F0429","E2A6"],["F0xx1","E240"],["F0xx2","E241"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10N","E2B5"],["FK10N","E2B6"],["FS10N","E2B7"],["FBL5N","E2B8"],["FBL1N","E2B9"],["FFS01","E2BA"],["FBL3N","E2BB"],["FCOA1","E2BC"]]},o={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E21C"],["F0251","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2BC"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"],["F0600","E38A"]]},b={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F0263","E321"],["F0266","E322"],["F0834","E31D"],["F2001","E31E"],["F0839","E320"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E383"],["F0718","E384"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]},c={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"],["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"]]},d={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F1068","E3BA"],["F0955","E3B9"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"],["F1476","E3C7"]]},e={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1030","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]},g={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1563","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"]]},s={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]},h={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","E700"],["Open","E701"],["Blocked","E702"],["Partially Blocked","E703"],["Open1","E704"],["Partially Adopted","E705"],["Due","E706"],["Overdue","E707"],["Sort","E708"],["Missing Parts","E709"],["Fire","E70A"],["Dangerous Chemicals","E70B"],["Share","E70C"],["Entertainment","E70D"],["Gift","E70E"],["QR Code","E70F"],["Wifi-Online","E710"],["Wifi-Offline","E711"],["Sunrise","E712"],["Sunset","E713"],["Afternoon","E714"],["Night","E715"],["Loading Date","E715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71A"],["Heavy Rain","e71B"],["Foggy","e71C"],["Snow","e71D"],["Risk Assessment","e71E"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72A"],["Location Assets","e72B"],["Transport Systems","e72C"]]},i={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(f,F,A,h,o,b,i,c,d,e,g,s);};a.registerFonts=function(){var o,i,j;for(i=0;i<arguments.length;i=i+1){o=arguments[i];for(j=0;j<o.icons.length;j=j+1){I.addIcon(o.icons[j][0],o.collectionName,o.fontFamily,o.icons[j][1],false,true);}}};return a;},true);
sap.ui.predefine('sap/ushell/library',[],function(){"use strict";sap.ui.getCore().initLibrary({name:"sap.ushell",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.components.container.ApplicationType"],interfaces:[],controls:["sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.EndUserFeedback","sap.ushell.ui.footerbar.HideGroupsButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SettingsButton","sap.ushell.ui.footerbar.UserPreferencesButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage","sap.ushell.ui.launchpad.Fiori2LoadingDialog","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.HeaderTile","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Panel","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.ViewPortContainer","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:[],version:"1.56.5",extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});sap.ushell.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};sap.ushell.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};sap.ushell.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};sap.ushell.components.container.ApplicationType={URL:"URL",WDA:"WDA",NWBC:"NWBC",TR:"TR",WCF:"WCF"};return sap.ushell;},true);
sap.ui.predefine('sap/ushell/navigationMode',[],function(){"use strict";var e={};var _=function(E){var i=true;if(E){if(typeof E!=="object"){i=false;}else{Object.keys(E).forEach(function(k){if(["GUI","WDA","WCF"].indexOf(k)===-1){i=false;}else if(typeof E[k]!=="boolean"){i=false;}});}}if(!i){jQuery.sap.log.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean","Actual parameter: "+JSON.stringify(E),"sap.ushell.services.navigationMode");}};e._isLegacyApplicationType=function(A){switch(A){case"WDA":case"TR":case"NWBC":case"WCF":return true;default:return false;}};var a=function(A){switch(A){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined;}};var b=function(E,A){if(jQuery.isPlainObject(E)){return E[a(A)];}return false;};e.compute=function(n,E,s,A,o){var i,l,c=["inplace","explace"];_(o);var N={};if(c.indexOf(E)>=0){N["sap-ushell-next-navmode"]=E;}if(c.indexOf(s)>=0){i=e._getInternalNavigationMode(s,n);jQuery.sap.log.debug("Navigation mode was forced to "+i,"because sap-ushell-navmode parameter was set to "+s+" for target with applicationType: "+A,"sap.ushell.navigationMode");N.navigationMode=i;N.explicitNavMode=true;return N;}l=e._isLegacyApplicationType(A)&&e._isLegacyApplicationType(n);if(b(o,n)===true&&!l){N.navigationMode="embedded";}return N;};e._getInternalNavigationMode=function(E,A){var i={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded"},URL:{inplace:"replace",explace:"newWindow"}};if(!i.hasOwnProperty(A)){jQuery.sap.log.error(A+" is not a valid application type","expected one of "+Object.keys(i).join(", "),"sap.ushell.navigationMode");return null;}if(E!=="inplace"&&E!=="explace"){jQuery.sap.log.error(E+" is not a valid external navigation mode","expected one of 'inplace', 'explace'","sap.ushell.navigationMode");return null;}return i[A][E];};e.getExternalNavigationMode=function(i){var E={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!E.hasOwnProperty(i)){jQuery.sap.log.error(i+" is not a recognized internal navigation mode","expected one of "+Object.keys(E).join(","),"sap.ushell.navigationMode");return null;}return E[i];};var w=["NWBC","WDA","TR","WCF"];e.getNavigationMode=function(r,c){var A=r.additionalInformation,s=r.applicationType,u,U;if(w.indexOf((c||{}).applicationType)>-1&&!(c||{}).explicitNavMode){return'newWindowThenEmbedded';}if((A===null||typeof A==="string"||typeof A==="undefined")&&(s==="URL"||s==="SAPUI5")){if(A&&A.indexOf("managed=")===0){if(A==="managed=FioriWave1"){return"embedded";}if(A==="managed="){return"newWindow";}return undefined;}if(A&&A.indexOf("SAPUI5.Component=")===0){u="[a-zA-Z0-9_]+";U=["^SAPUI5.Component=",u,"([.]",u,")*$"].join("");if(!(new RegExp(U)).test(A)){jQuery.sap.log.warning(["The UI5 component name in",A,"is not valid.","Please use names satisfying",U].join(" "));}return"embedded";}return"newWindow";}if(w.indexOf(s)>-1){return"newWindowThenEmbedded";}return undefined;};e.computeNavigationModeForHomepageTiles=function(A,s,i){var r={applicationType:A,additionalInformation:s};if(w.indexOf(A)>-1&&i){return"embedded";}return this.getNavigationMode(r);};return e;},true);
sap.ui.predefine('sap/ushell/override',function(){"use strict";var o={};o.updateAggregation=function(n){if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{var b=this.mBindingInfos[n],B=b.binding,a=B.getContexts(),f=b.factory,A=this.getMetadata().getJSONKeys()[n],g=A._sMutator+"Group",G=B.isGrouped()&&this[g],i=0,I=[],c=jQuery.proxy(function(C){var s=this.getId()+"-"+jQuery.sap.uid(),d=f(s,C);d.setBindingContext(C,b.model);this[A._sMutator](d);},this);if(G){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{I=this[A._sGetter]();for(i=0;i<a.length;++i){if(i<I.length){I[i].setBindingContext(a[i],b.model);}else{c(a[i]);}}for(;i<I.length;++i){I[i].destroy();}I.length=a.length;}}};o.updateAggregationGrouped=function(n){var b=this.mBindingInfos[n],B=b.binding,f=b.factory,c,N=null,g=null,G=null,t=this,I=t.getItems(),l=0,L=0,i,s,T=[];g=B.isGrouped()&&this.addItemGroup;jQuery.each(B.getContexts(),function(a,C){if(g&&B.aSorters.length>0){N=B.aSorters[0].fnGroup(C);if(typeof N==="string"){N={key:N};}if(N.key!==G){var d,h;if(b.groupHeaderFactory){d=b.groupHeaderFactory(N);}h=d||new sap.m.GroupHeaderListItem({title:N.text||N.key}).addStyleClass("sapMListHdr");t.insertAggregation("items",h,L,true);L=L+1;G=N.key;}}I=t.getItems();for(i=L;i<I.length;i=i+1){if(I[i].constructor===sap.m.GroupHeaderListItem){T.push(t.removeItem(I[i]));I=t.getItems();}}if(L<I.length){I[L].setBindingContext(C,b.model);if(I[L].aDelegates){jQuery.each(I[L].aDelegates,function(i,v){v.vThis=C;});}}else{s=t.getId()+"-"+L;c=f(s,C);c.setBindingContext(C,b.model);t.addItem(c);}L=L+1;l=L;});for(i=I.length-1;i>=l;i=i-1){T.push(t.removeItem(I[i]));}setTimeout(function(){jQuery.each(T,function(i,v){v.destroy();});},1);};o.updateAggregatesFactory=function(n){return function(){jQuery.proxy(o.updateAggregation,this,n)();};};return o;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/AccessKeysHandler',['sap/ushell/EventHub','sap/ushell/ui/launchpad/ShortcutsHelpContainer'],function(E,S){"use strict";var a=function(){};a.prototype={keyCodes:jQuery.sap.KeyCodes,bFocusOnShell:true,bFocusPassedToExternalHandlerFirstTime:true,isFocusHandledByAnotherHandler:false,fnExternalKeysHandler:null,sLastExternalKeysHandlerUrl:null,fnExternalShortcuts:null,isleftAltPressed:false,bForwardNavigation:true,appOpenedHandler:function(){var c=hasher.getHash();if(c!==this.sLastExternalKeysHandlerUrl){this.fnExternalKeysHandler=null;}this.sLastExternalKeysHandlerUrl=c;},handleSearchKey:function(){var s=sap.ui.getCore().byId('sf');if(s&&$('#sf:visible').length===0){return;}jQuery(s).click();},setFocusOnSearchButton:function(e){e.preventDefault();var s=sap.ui.getCore().byId('sf');if(s){jQuery(s).focus();}},handleSearchAppFinderKey:function(e){var b=sap.ui.getCore().byId('appFinderSearch');if(!b||jQuery('#appFinderSearch:visible').length===0){return;}else if(jQuery('.sapUshellViewPortCenter').hasClass('centerClass')){jQuery(b).focus();e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();}},handleNavToMeArea:function(){var m=sap.ui.getCore().byId("mainShell");if(m&&m.getController().getModelConfiguration().appState!="headerless"){E.emit('showMeArea',Date.now());}setTimeout(function(){jQuery(".sapUshellActionItem:first").focus();},300);},handleSettingsButton:function(){E.emit('showMeArea',Date.now());setTimeout(function(){jQuery("#userSettingsBtn").focus();},300);},handleNavToNotifications:function(){var m=sap.ui.getCore().byId("mainShell"),s;if(m){s=m.getController().getModelConfiguration().appState;}if(s!="headerless"){E.emit('showNotifications',Date.now());setTimeout(function(){jQuery("#notificationsView .sapUshellNotificationsListItem:visible:first").focus();},2000);}},handleSettings:function(){var s,u=sap.ui.getCore().byId('userSettingsBtn');if(!u){s=sap.ui.getCore().byId("mainShell").oController;s.loadMeAreaView();u=sap.ui.getCore().byId('userSettingsBtn');}u.firePress({"hotkeys":"ctrl_comma"});},handleAccessOverviewKey:function(){var t=sap.ushell.resources.i18n,i=this.oModel.getProperty("/searchAvailable"),m=sap.ui.getCore().byId("mainShell"),c=[],s,d,b,o;if(m){b=m.getController().getModelConfiguration().appState;}this.aShortcutsDescriptions.forEach(function(v){c.push(new sap.m.Label({text:v.text,displayOnly:true}));c.push(new sap.m.Text({text:v.description}));});if(i){c.push(new sap.m.Label({text:"Alt+F",displayOnly:true}));c.push(new sap.m.Text({text:t.getText("hotkeyFocusOnSearchButton")}));}if(b!="headerless"){c.push(new sap.m.Label({text:"Alt+M",displayOnly:true}));c.push(new sap.m.Text({text:t.getText("hotkeyFocusOnMeArea")}));c.push(new sap.m.Label({text:"Alt+N",displayOnly:true}));c.push(new sap.m.Text({text:t.getText("hotkeyFocusOnNotifications")}));}c.push(new sap.m.Label({text:"Alt+S",displayOnly:true}));c.push(new sap.m.Text({text:t.getText("hotkeyFocusOnSettingsButton")}));c.push(new sap.m.Label({text:"Ctrl+Comma",displayOnly:true}));c.push(new sap.m.Text({text:t.getText("hotkeyOpenSettings")}));if(i){c.push(new sap.m.Label({text:"Ctrl+Shift+F",displayOnly:true}));c.push(new sap.m.Text({text:t.getText("hotkeyFocusOnSearchField")}));}s=new S({content:c});o=new sap.m.Button({text:t.getText("okBtn"),press:function(){d.close();}});d=new sap.m.Dialog({id:"hotKeysGlossary",title:t.getText("hotKeysGlossary"),contentWidth:"29.6rem",leftButton:o,afterClose:function(){d.destroy();}});d.addContent(s);d.open();},handleShortcuts:function(e){if(e.altKey&&!e.shiftKey&&!e.ctrlKey){switch(String.fromCharCode(e.keyCode)){case'M':this.handleNavToMeArea();break;case'N':this.handleNavToNotifications();break;case'S':this.handleSettingsButton();break;case'F':this.setFocusOnSearchButton(e);break;}}if(e.ctrlKey){if(e.shiftKey){if(e.keyCode===70){this.handleSearchKey();}}else{if(e.keyCode===188){this.handleSettings();}else if(e.keyCode===112){this.handleAccessOverviewKey();}else if(e.keyCode===83){this.handleSearchAppFinderKey(e);}}}},registerAppKeysHandler:function(h){this.fnExternalKeysHandler=h;this.sLastExternalKeysHandlerUrl=hasher.getHash();},resetAppKeysHandler:function(){this.fnExternalKeysHandler=null;},getAppKeysHandler:function(){return this.fnExternalKeysHandler;},registerAppShortcuts:function(h,s){this.fnExternalShortcuts=h;this.aShortcutsDescriptions=s;},_handleFocusBackToMe:function(e,i){this.bFocusOnShell=true;if(i){jQuery("#"+i).focus();}else if(!e){jQuery("#meAreaHeaderButton").focus();}else if(e.shiftKey){this.bForwardNavigation=false;if(e.keyCode===jQuery.sap.KeyCodes.TAB){jQuery("#sapUshellHeaderAccessibilityHelper").focus();}else if(e.keyCode===jQuery.sap.KeyCodes.F6){e.preventDefault();jQuery("#meAreaHeaderButton").focus();}}else{this.bForwardNavigation=true;e.preventDefault();if(!jQuery("#meAreaHeaderButton").length){jQuery("#sapUshellHeaderAccessibilityHelper").focus();}else{jQuery("#meAreaHeaderButton").focus();}}this.bFocusPassedToExternalHandlerFirstTime=true;},setIsFocusHandledByAnotherHandler:function(h){this.isFocusHandledByAnotherHandler=h;},sendFocusBackToShell:function(p){var e=undefined,i=undefined;var P=typeof p;if(P==="string"){i=p;}else if(P==="object"){e=p;}this._handleFocusBackToMe(e,i);},_handleEventUsingExteranlKeysHandler:function(e){if(!this.bFocusOnShell&&!this.isFocusHandledByAnotherHandler){if(this.fnExternalKeysHandler&&jQuery.isFunction(this.fnExternalKeysHandler)){this.fnExternalKeysHandler(e,this.bFocusPassedToExternalHandlerFirstTime);this.bFocusPassedToExternalHandlerFirstTime=false;}}this.setIsFocusHandledByAnotherHandler(false);},init:function(m){this.oModel=m;document.addEventListener("keydown",function(e){if(e.keyCode===16){return;}if(e.shiftKey){this.bForwardNavigation=false;}else{this.bForwardNavigation=true;}if(e.keyCode===this.keyCodes.TAB||e.keyCode===this.keyCodes.F6){setTimeout(function(){this._handleEventUsingExteranlKeysHandler(e);}.bind(this),0);}else{this._handleEventUsingExteranlKeysHandler(e);}if(e.keyCode===18){if(e.location===window.KeyboardEvent.DOM_KEY_LOCATION_LEFT){this.isleftAltPressed=true;}else{this.isleftAltPressed=false;}}if(this.isleftAltPressed||!e.altKey){this.handleShortcuts(e);if(this.fnExternalShortcuts){this.fnExternalShortcuts(e);}}}.bind(this),true);}};var A=new a();sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",a.prototype.appOpenedHandler.bind(A));return A;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/FlpMeasure',['jquery.sap.global'],function(q){"use strict";var P=function(){var p=false,b={};function M(h,n,s,i){this.hash=h;this.name=n;this.start=s;this.end=0;this.duration=0;this.info=i;}function B(h,n,s,a,c){this.hash=h;this.name=n;this.scenario=a;this.sequence=c;this.start=s;this.end=0;this.percent=null;this.duration=0;this.funcs={};}this.start=function(s,a,c){var t=q.sap.now(),o;if(!p){return;}if(b[s]===undefined||b[s]===null){b[s]={};}if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]===null){o=new B(this.hash(),a,t,s,c);b[s][o.name]=o;}};this.startFunc=function(s,a,c,f,i){if(!p)return;var t=q.sap.now();var d=null;if(b[s]===undefined||b[s]===null){b[s]={};}if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]===null){d=new B(this.hash(),a,t,s,c);b[s][a]=d;}var e=new M(this.hash(),f,t,i);b[s][a].funcs[e.hash]=e;return e.hash;};this.end=function(s,a){if(!p)return;var t=q.sap.now();if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]!=null){b[s][a].end=t;b[s][a].duration=Math.round(b[s][a].end-b[s][a].start);}};this.endFunc=function(s,a,f){if(!p)return;var t=q.sap.now();if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]!=null){b[s][a].end=t;b[s][a].duration=Math.round(b[s][a].end-b[s][a].start);b[s][a].funcs[f].end=t;b[s][a].funcs[f].duration=Math.round(b[s][a].funcs[f].end-b[s][a].funcs[f].start);}};this.calc=function(){if(!p)return;return b;};this.hash=function(){if(!p)return;var v=(new Date()).valueOf().toString()+Math.random().toString();var h=5381;for(var i=0;i<v.length;i++){var c=v.charCodeAt(i);h=((h<<5)+h)+c;}return h;};this.getActive=function(){return p;};this.setActive=function(o,c){if(p===o){return;}p=o;document.addEventListener('keyup',function(e){if(e.shiftKey&&e.ctrlKey&&e.altKey&&e.keyCode==77){window.calc=JSON.stringify(q.sap.flpmeasure.calc());window.open(q.sap.getResourcePath("sap/ushell/renderers/fiori2/stat.html"));}},false);return p;};var m=location.href.match(/sap-flp-measure=([^\&]*)/);if(m&&m[1]){if(m[1]==="true"||m[1]==="x"||m[1]==="X"){this.setActive(true);}else{this.setActive(true,m[1]);}}};q.sap.flpmeasure=q.sap.flpmeasure||new P();return q.sap.flpmeasure;});
sap.ui.predefine('sap/ushell/renderers/fiori2/History',function(){"use strict";var H=function(){this._history=[];this.backwards=false;this._historyPosition=-1;this._virtual={};};H.prototype.hashChange=function(n,o){var h=this._history.indexOf(n);if(h===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1);}this._history.push(n);this._historyPosition+=1;this.backwards=false;this.forwards=false;}else{this.backwards=this._historyPosition>h;this.forwards=this._historyPosition<h;this._historyPosition=h;}};H.prototype.pop=function(){var l;if(this._history.length>0){l=this._history.pop();this._historyPosition--;}return l;};H.prototype.isVirtualHashchange=function(n,o){return this._virtual.hasOwnProperty(o)&&this.getCurrentHash()===n&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===o;};H.prototype.setVirtualNavigation=function(h){this._virtual[h]=true;};H.prototype.getCurrentHash=function(){return this._history[this._historyPosition]||null;};H.prototype.getHashIndex=function(h){return this._history.indexOf(h);};H.prototype.getHistoryLength=function(){return this._history.length;};return H;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/Lifecycle',function(){"use strict";var l="sap.ushell",e,E={rendererLoaded:{oldNamespace:"sap.ushell.renderers.fiori2.Renderer",newEventName:"rendererLoaded"},componentCreated:{oldNamespace:"sap.ushell.components.container.ApplicationContainer",newEventName:"appComponentLoaded"},appOpened:{oldNamespace:"launchpad",newEventName:"appOpened"},appClosed:{oldNamespace:"launchpad",newEventName:"appClosed"},coreExtLoaded:{oldNamespace:"launchpad",newEventName:"coreResourcesFullyLoaded"}};function _(n,e,d){setTimeout(function(){sap.ui.getCore().getEventBus().publish(l,e,d);},0);}function a(n,s,d){var m=E[s];if(m!==undefined){_(l,m.newEventName,d);}}for(e in E){sap.ui.getCore().getEventBus().subscribe(E[e].oldNamespace,e,a);}},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/Navigation',function(){"use strict";var N=function(){this.SEARCH={ID:"ShellSearch",SEMANTICOBJECT:"shell",ACTION:"search"};sap.ushell.Container.getService("NavTargetResolution").registerCustomResolver({name:"Search App Container",isApplicable:function(h){return h==="#Action-search";},resolveHashFragment:function(h){var d=new jQuery.Deferred(),r={};if(h==="#Action-search"){r={"additionalInformation":"SAPUI5.Component=sap.ushell.renderers.fiori2.search.container","applicationType":"URL","url":jQuery.sap.getResourcePath("sap/ushell/renderers/fiori2/search/container"),"loadCoreExt":true,"loadDefaultDependencies":false};}d.resolve(r);return d.promise();}});};sap.ushell.Container.getService("NavTargetResolution").registerCustomResolver({name:"FLP Resolver",isApplicable:function(h){h=(typeof h==="string")?h:"";h=h.split("?")[0];return h==="#Shell-home"||h==="#shell-catalog";},resolveHashFragment:function(h){var d=new jQuery.Deferred(),r={};h=(typeof h==="string")?h:"";h=h.split("?")[0];if(h==="#Shell-home"||h==="#shell-catalog"){r={"additionalInformation":"SAPUI5.Component=sap.ushell.components.flp","applicationType":"URL","url":jQuery.sap.getResourcePath("sap/ushell/components/flp"),"loadCoreExt":false,"loadDefaultDependencies":false,"applicationDependencies":{asyncHints:{preloadBundles:["sap/fiori/flp-controls.js"]}}};}d.resolve(r);return d.promise();}});var N=new N();return N;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/Renderer',['sap/ui/core/UIComponent','./RendererExtensions','sap/ushell/ui/shell/ToolAreaItem','./FlpMeasure'],function(U,R,T,f){"use strict";var a=U.extend("sap.ushell.renderers.fiori2.Renderer",{metadata:{version:"1.56.5",dependencies:{version:"1.56.5",libs:["sap.ui.core","sap.m"],components:[]}}});a.prototype.createContent=function(){var p=jQuery.sap.getUriParameters().get("appState")||jQuery.sap.getUriParameters().get("sap-ushell-config"),w,v=this.getComponentData()||{},P,A={applications:{"Shell-home":{}},rootIntent:"Shell-home"},V;w=(p==="headerless-opt")?"headerless":p;if(w){if(!v.config){v.config={};}v.config.appState=w;v.config.appStateOrig=p;v.config.inHeaderLessOpt=(p==="headerless-opt");}if(v.config){P=["enablePersonalization","enableTagFiltering","enableLockedGroupsCompactLayout","enableCatalogSelection","enableSearchFiltering","enableTilesOpacity","enableDragIndicator","enableActionModeMenuButton","enableActionModeMenuButton","enableActionModeFloatingButton","enableTileActionsIcon","enableHideGroups"];if(v.config.rootIntent===undefined){v.config.migrationConfig=true;}v.config=jQuery.extend(A,v.config);if(v.config.applications["Shell-home"]){P.forEach(function(s){var b=v.config[s];if(b!==undefined){v.config.applications["Shell-home"][s]=b;}if(s!=="enablePersonalization"){delete v.config[s];}});}}f.start(0,"Creating Shell",0);if(v.config&&v.config.customViews){Object.keys(v.config.customViews).forEach(function(s){var V=v.config.customViews[s];sap.ui.view(s,{type:V.viewType,viewName:V.viewName,viewData:V.componentData});});}V=sap.ui.view('mainShell',{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.Shell",viewData:v});V.mProperties.height="100vh";sap.ushell.renderers.fiori2.utils.init(V.getController());this._oShellView=V;this.shellCtrl=V.oController;this.oAppsLifeCycle=sap.ushell.components.applicationIntegration.AppLifeCycle;this.oShellModel=this.oAppsLifeCycle.getElementsModel();return V;};a.prototype.getRootControl=function(){return this._oShellView;};a.prototype.getUIArea=function(){return this._oShellView&&this._oShellView.getUIArea();};a.prototype.createExtendedShellState=function(s,c){return this.oShellModel.createExtendedShellState(s,c);};a.prototype.applyExtendedShellState=function(s,c){this.oShellModel.applyExtendedShellState(s,c);};a.prototype.showLeftPaneContent=function(i,c,s){if(typeof i==="string"){this.oShellModel.addLeftPaneContent([i],c,s);}else{this.oShellModel.addLeftPaneContent(i,c,s);}};a.prototype.showHeaderItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.addHeaderItem([i],c,s);}else{this.oShellModel.addHeaderItem(i,c,s);}};a.prototype.showRightFloatingContainerItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.addRightFloatingContainerItem([i],c,s);}else{this.oShellModel.addRightFloatingContainerItem(i,c,s);}};a.prototype.showRightFloatingContainer=function(s){this.oShellModel.showRightFloatingContainer(s);};a.prototype.showToolAreaItem=function(i,c,s){this.oShellModel.addToolAreaItem(i,c,s);};a.prototype.showActionButton=function(i,c,s,I){var b=[],A=[],B;if(typeof i==="string"){i=[i];}b=i.filter(function(d){B=sap.ui.getCore().byId(d);return B instanceof sap.m.Button&&!(B instanceof sap.ushell.ui.launchpad.ActionItem);});A=i.filter(function(d){B=sap.ui.getCore().byId(d);return B instanceof sap.ushell.ui.launchpad.ActionItem;});if(b.length){this.convertButtonsToActions(b,c,s,I);}if(A.length){this.oShellModel.addActionButton(A,c,s,I);}this.toggleOverFlowActions();};a.prototype.showFloatingActionButton=function(i,c,s){if(typeof i==="string"){this.oShellModel.addFloatingActionButton([i],c,s);}else{this.oShellModel.addFloatingActionButton(i,c,s);}};a.prototype.showHeaderEndItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.addHeaderEndItem([i],c,s);}else{this.oShellModel.addHeaderEndItem(i,c,s);}};a.prototype.setHeaderVisibility=function(v,c,s){this.oShellModel.setHeaderVisibility(v,c,s);};a.prototype.showSubHeader=function(i,c,s){if(typeof i==="string"){this.oShellModel.addSubHeader([i],c,s);}else{this.oShellModel.addSubHeader(i,c,s);}};a.prototype.showSignOutItem=function(c,s){this.oShellModel.showSignOutButton(c,s);};a.prototype.showSettingsItem=function(c,s){this.oShellModel.showSettingsButton(c,s);};a.prototype.setFooter=function(F){this.shellCtrl.setFooter(F);};a.prototype.setShellFooter=function(p){var d=new jQuery.Deferred(),t=this,c,C,b=p.controlType,o=p.oControlProperties;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){if(this.lastFooterId){this.removeFooter();}this.lastFooterId=oInnerControl.getId();this.shellCtrl.setFooter(C);d.resolve(C);}}if(b){c=b.replace(/\./g,"/");sap.ui.require([c],function(e){C=new e(o);if(t.lastFooterId){t.removeFooter();}t.oShellModel.addElementToManagedQueue(C);t.lastFooterId=C.getId();t.shellCtrl.setFooter(C);d.resolve(C);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};a.prototype.setFooterControl=function(c,C){var s=c.replace(/\./g,"/"),o=sap.ui.require(s),b,d,r=false;if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}d=function(C){if(c){if(r){return new o(C);}else{var e=jQuery.sap.getObject(c);return new e(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};b=this.createItem(C,undefined,undefined,d);if(this.lastFooterId){this.removeFooter();}this.lastFooterId=b.getId();this.shellCtrl.setFooter(b);return b;};a.prototype.hideHeaderItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeHeaderItem([i],c,s);}else{this.oShellModel.removeHeaderItem(i,c,s);}};a.prototype.removeToolAreaItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeToolAreaItem([i],c,s);}else{this.oShellModel.removeToolAreaItem(i,c,s);}};a.prototype.removeRightFloatingContainerItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeRightFloatingContainerItem([i],c,s);}else{this.oShellModel.removeRightFloatingContainerItem(i,c,s);}};a.prototype.hideActionButton=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeActionButton([i],c,s);}else{this.oShellModel.removeActionButton(i,c,s);}this.toggleOverFlowActions();};a.prototype.toggleOverFlowActions=function(){jQuery.sap.measure.start("FLP:Shell.controller.toggleMeAreaView","show or hide actionbox if no actions in me area","FLP");var m=sap.ui.getCore().byId('meArea');var B={};try{if(m){if(m.actionBox){if(m.actionBox._getControlsIds().length===0){sap.ui.getCore().byId('overflowActions').setVisible(false);}else{m.actionBox._getControlsIds().forEach(function(b){var c=sap.ui.getCore().byId(b);if(c.getVisible()){throw B;}});sap.ui.getCore().byId('overflowActions').setVisible(false);}}}}catch(e){if(e!==B){throw e;}else{sap.ui.getCore().byId('overflowActions').setVisible(true);}}jQuery.sap.measure.end("FLP:Shell.controller.toggleMeAreaView");};a.prototype.hideLeftPaneContent=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeLeftPaneContent([i],c,s);}else{this.oShellModel.removeLeftPaneContent(i,c,s);}};a.prototype.hideFloatingActionButton=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeFloatingActionButton([i],c,s);}else{this.oShellModel.removeFloatingActionButton(i,c,s);}};a.prototype.hideHeaderEndItem=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeHeaderEndItem([i],c,s);}else{this.oShellModel.removeHeaderEndItem(i,c,s);}};a.prototype.hideSubHeader=function(i,c,s){if(typeof i==="string"){this.oShellModel.removeSubHeader([i],c,s);}else{this.oShellModel.removeSubHeader(i,c,s);}};a.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){var F=sap.ui.getCore().byId(this.lastFooterId);if(F){F.destroy();}this.lastFooterId=undefined;}};a.prototype.getCurrentViewportState=function(){return this.shellCtrl.getCurrentViewportState();};a.prototype.addShellSubHeader=function(p){var d=new jQuery.Deferred(),t=this,c,C,b=p.controlType,o=p.oControlProperties,i=p.bIsVisible,e=p.bCurrentState,s=p.aStates;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){if(i){this.showSubHeader(C.getId(),e,s);}d.resolve(C);}}if(b){c=b.replace(/\./g,"/");sap.ui.require([c],function(g){C=new g(o);if(i){t.showSubHeader(C.getId(),e,s);t.oShellModel.addElementToManagedQueue(C);}d.resolve(C);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};a.prototype.addSubHeader=function(c,C,i,b,s){var d=c.replace(/\./g,"/"),o=sap.ui.require(d),e,g,r=false;if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}g=function(C){if(c){if(r){return new o(C);}else{var h=jQuery.sap.getObject(c);return new h(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};e=this.createItem(C,b,s,g);if(i){this.showSubHeader(e.getId(),b,s);}return e;};a.prototype.addUserAction=function(p){var d=new jQuery.Deferred(),t=this,m=this.oShellModel.getModelToUpdate(),c,C,b=p.controlType,o=p.oControlProperties,i=p.bIsVisible,e=p.bCurrentState,s=p.aStates,I=p.bIsFirst||true,n;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){d.resolve(C);}}if(b){if(b==="sap.m.Button"){b="sap.ushell.ui.launchpad.ActionItem";}c=b.replace(/\./g,"/");sap.ui.require([c],function(g){var O=t.oShellModel.getModelToUpdate();t.oShellModel.setModelToUpdate(m,true);var h;if(o){if(o.id){h=o.id;}}C=sap.ui.getCore().byId(h)||new g(o);if(!C.getActionType){C=new g(o);}if(i){t.showActionButton(C.getId(),e,s,I);t.oShellModel.addElementToManagedQueue(C);}t.oShellModel.setModelToUpdate(O,false);d.resolve(C);});}else{n="You must specify control type in order to create it";jQuery.sap.log.warning(n);d.reject(n);}return d.promise();};a.prototype.addActionButton=function(c,C,i,b,s,I){var d,o,e,g,r=false;if(c==="sap.m.Button"){c="sap.ushell.ui.launchpad.ActionItem";}d=c.replace(/\./g,"/");o=sap.ui.require(d);if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}g=function(C){if(c){if(r){return new o(C);}else{var h=jQuery.sap.getObject(c);return new h(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};e=this.createItem(C,b,s,g);if(i){this.showActionButton(e.getId(),b,s,I);}return e;};a.prototype.addFloatingButton=function(p){var d=new jQuery.Deferred(),t=this,c,C,b=p.controlType,o=p.oControlProperties,i=p.bIsVisible,e=p.bCurrentState,s=p.aStates;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){if(i){t.showFloatingActionButton(oItem.getId(),e,s);t.oShellModel.addElementToManagedQueue(C);}d.resolve(C);}}if(b){c=b.replace(/\./g,"/");}else{c="sap/m/Button";}sap.ui.require([c],function(g){C=new g(o);if(i){this.showFloatingActionButton(oItem.getId(),e,s);}d.resolve(C);});return d.promise();};a.prototype.addFloatingActionButton=function(c,C,i,b,s){var d,o,e,g,r=false;if(!c){c="sap.m.Button";}d=c.replace(/\./g,"/");o=sap.ui.require(d);if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}g=function(C){if(c){if(r){return new o(C);}else{var h=jQuery.sap.getObject(c);return new h(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};e=this.createItem(C,b,s,g);if(i){this.showFloatingActionButton(e.getId(),b,s);}return e;};a.prototype.addSidePaneContent=function(p){var d=new jQuery.Deferred(),t=this,c,C,b=p.controlType,o=p.oControlProperties,i=p.bIsVisible,e=p.bCurrentState,s=p.aStates;if(o&&o.id&&sap.ui.getCore().byId(o.id)){C=sap.ui.getCore().byId(o.id);if(C){d.resolve(C);}}if(b){c=b.replace(/\./g,"/");sap.ui.require([c],function(g){C=new g(o);if(i){t.oShellModel.addElementToManagedQueue(C);t.showLeftPaneContent(oItem.getId(),e,s);}d.resolve(C);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};a.prototype.addLeftPaneContent=function(c,C,i,b,s){var d=c.replace(/\./g,"/"),o=sap.ui.require(d),e,g,r;if(o){r=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}g=function(C){if(c){if(r){return new o(C);}else{var h=jQuery.sap.getObject(c);return new h(C);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};e=this.createItem(C,b,s,g);if(i){this.showLeftPaneContent(e.getId(),b,s);}return e;};a.prototype.addHeaderItem=function(c,C,i,b,s){if(typeof(arguments[0])==='object'&&typeof(arguments[1])==='boolean'){C=arguments[0];i=arguments[1];b=arguments[2];s=arguments[3];}else{jQuery.sap.log.warning("sap.ushell.renderers.fiori2.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!");}var p=C;p.showSeparator=false;var d=function(C){return new sap.ushell.ui.shell.ShellHeadItem(C);},I=this.createItem(p,b,s,d);if(i){this.showHeaderItem(I.getId(),b,s);}return I;};a.prototype.addRightFloatingContainerItem=function(c,i,C,s){var b=function(c){return new sap.m.NotificationListItem(c);},I=this.createItem(c,C,s,b);if(i){this.showRightFloatingContainerItem(I.getId(),C,s);}return I;};a.prototype.addToolAreaItem=function(c,i,C,s){var b=function(c){return new T(c);},I=this.createItem(c,C,s,b);if(i){this.showToolAreaItem(I.getId(),C,s);}return I;};a.prototype.addHeaderEndItem=function(c,C,i,b,s){var p=C;p.showSeparator=false;var d=function(C){return new sap.ushell.ui.shell.ShellHeadItem(C);},I=this.createItem(p,b,s,d);if(i){this.showHeaderEndItem(I.getId(),b,s);}return I;};a.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration();};a.prototype.addEndUserFeedbackCustomUI=function(c,s){this.shellCtrl.addEndUserFeedbackCustomUI(c,s);};a.prototype.addUserPreferencesEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e);};a.prototype.setHeaderTitle=function(t,c,C){var s,o=null,b;if(C&&C.id&&sap.ui.getCore().byId(C.id)){o=sap.ui.getCore().byId(C.id);this.shellCtrl.setHeaderTitle(t,o);}else if(c){s=c.replace(/\./g,"/");b=sap.ui.require(s);if(b){o=new b(C);this.shellCtrl.setHeaderTitle(t,o);}else{sap.ui.require([s],function(b){o=new b(C);this.shellCtrl.setHeaderTitle(t,o);});}}else{this.shellCtrl.setHeaderTitle(t,o);}};a.prototype.setLeftPaneVisibility=function(l,v){this.oShellModel.setLeftPaneVisibility(v,false,[l]);};a.prototype.showToolArea=function(l,v){this.oShellModel.showShellItem("/toolAreaVisible",l,v);};a.prototype.setHeaderHiding=function(h){return this.oShellModel.setHeaderHiding(h);};a.prototype.setFloatingContainerContent=function(c,C,s){this.shellCtrl.setFloatingContainerContent("floatingContainerContent",[c.getId()],C,s);};a.prototype.setFloatingContainerVisibility=function(v){this.shellCtrl.setFloatingContainerVisibility(v);};a.prototype.getFloatingContainerState=function(){return this.shellCtrl.getFloatingContainerState();};a.prototype.getFloatingContainerVisiblity=function(){return this.shellCtrl.getFloatingContainerVisibility();};a.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility();};a.prototype.setFloatingContainerDragSelector=function(e){this.shellCtrl.setFloatingContainerDragSelector(e);};a.prototype.makeEndUserFeedbackAnonymousByDefault=function(e){this.shellCtrl.makeEndUserFeedbackAnonymousByDefault(e);};a.prototype.showEndUserFeedbackLegalAgreement=function(s){this.shellCtrl.showEndUserFeedbackLegalAgreement(s);};a.prototype.LaunchpadState={App:"app",Home:"home"};a.prototype.createInspection=function(A,c,C,s){this.oShellModel.createInspection(A,c,C,s);};a.prototype.createTriggers=function(t,c,s){this.oShellModel.createTriggers(t,c,s);};a.prototype.convertButtonsToActions=function(i,c,s,I){var p={},b,t=this;i.forEach(function(d){b=sap.ui.getCore().byId(d);p.id=b.getId();p.text=b.getText();p.icon=b.getIcon();p.tooltip=b.getTooltip();p.enabled=b.getEnabled();p.visible=b.getVisible();if(b.mEventRegistry&&b.mEventRegistry.press){p.press=b.mEventRegistry.press[0].fFunction;}b.destroy();t.addActionButton("sap.ushell.ui.launchpad.ActionItem",p,p.visible,c,s,I);});};a.prototype.createItem=function(c,C,s,b){var i;if(c&&c.id){i=sap.ui.getCore().byId(c.id);}if(!i){i=b(c);if(C){this.oShellModel.addElementToManagedQueue(i);}}return i;};a.prototype.addEntryInShellStates=function(n,e,A,r,s){this.oShellModel.addEntryInShellStates(n,e,A,r,s);};a.prototype.removeCustomItems=function(s,i,c,S){if(typeof i==="string"){this.oShellModel.removeCustomItems(s,[i],c,S);}else{this.oShellModel.removeCustomItems(s,i,c,S);}};a.prototype.addCustomItems=function(s,i,c,S){if(typeof i==="string"){this.oShellModel.addCustomItems(s,[i],c,S);}else{this.oShellModel.addCustomItems(s,i,c,S);}};a.prototype.addRightViewPort=function(v){this.shellCtrl.oViewPortContainer.addRightViewPort(v);this.shellCtrl.oViewPortContainer.navTo('rightViewPort',v.getId(),'show');};a.prototype.addLeftViewPort=function(v){this.shellCtrl.oViewPortContainer.addLeftViewPort(v);this.shellCtrl.oViewPortContainer.navTo('leftViewPort',v.getId(),'show');};a.prototype.getShellController=function(){return this.shellCtrl;};a.prototype.getViewPortContainerCurrentState=function(){return this.shellCtrl.oViewPortContainer.getCurrentState();};a.prototype.ViewPortContainerNavTo=function(n,t,A){return this.shellCtrl.oViewPortContainer.navTo(n,t,A);};a.prototype.switchViewPortStateByControl=function(o,s){var t=this,c=false;if(o&&o.setEnabled&&typeof o.setEnabled==="function"){c=true;}if(c){o.addStyleClass("sapUshellShellHeadItemOverrideDisableStyle");o.setEnabled(false);}function A(){o.setEnabled(true);o.removeStyleClass("sapUshellShellHeadItemOverrideDisableStyle");t.shellCtrl.oViewPortContainer.detachAfterSwitchStateAnimationFinished(A);}if(c){this.ViewPortContainerAttachAfterSwitchStateAnimationFinished(A);}this.shellCtrl.oViewPortContainer.switchState(s);};a.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=function(b){this.shellCtrl.oViewPortContainer.attachAfterSwitchStateAnimationFinished(b);};a.prototype.setMeAreaSelected=function(s){this.shellCtrl.setMeAreaSelected(s);};a.prototype.getMeAreaSelected=function(){return this.shellCtrl.getMeAreaSelected();};a.prototype.setNotificationsSelected=function(s){this.shellCtrl.setNotificationsSelected(s);};a.prototype.getNotificationsSelected=function(){return this.shellCtrl.getNotificationsSelected();};a.prototype.addShellDanglingControl=function(c){this.shellCtrl.getView().addDanglingControl(c);};a.prototype.getShellConfig=function(){return(this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{});};a.prototype.getEndUserFeedbackConfiguration=function(){return this.shellCtrl.oEndUserFeedbackConfiguration;};a.prototype.reorderUserPrefEntries=function(e){return this.shellCtrl._reorderUserPrefEntries(e);};a.prototype.addUserProfilingEntry=function(e){this.shellCtrl.addUserProfilingEntry(e);};a.prototype.logRecentActivity=function(r){if(!r.appType){r.appType="App";}if(!r.appId){r.appId=r.url;}return this.shellCtrl._logRecentActivity(r);};return a;});
sap.ui.predefine('sap/ushell/renderers/fiori2/RendererExtensions',function(){"use strict";function _(C){a("rendererLoaded",{rendererName:"fiori2"});}function a(E,D){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.renderers.fiori2.Renderer",E,D);},0);}sap.ushell.renderers.fiori2.utils={};sap.ushell.renderers.fiori2.utils.publishExternalEvent=a;sap.ushell.renderers.fiori2.utils.init=_;function b(I,L,x){sap.ushell.Container.getRenderer("fiori2").showSubHeader(I.getId(),false,[L,x]);}function c(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideSubHeader(I.getId(),false,[L,x]);}function d(I,L,x){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(I.getId(),false,[L,x]);}function e(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideHeaderItem(I.getId(),false,[L,x]);}function f(B,L,x){sap.ushell.Container.getRenderer("fiori2").showActionButton(B.getId(),false,[L,x]);}function g(B,L,x){sap.ushell.Container.getRenderer("fiori2").hideActionButton(B.getId(),false,[L,x]);}function h(C,L,x){sap.ushell.Container.getRenderer("fiori2").showLeftPaneContent(C.getId(),false,[L,x]);}function i(L,x){sap.ushell.Container.getRenderer("fiori2").hideLeftPaneContent(false,[L,x]);}function j(I,L,x){sap.ushell.Container.getRenderer("fiori2").showFloatingActionButton(I.getId(),false,[L,x]);}function k(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideFloatingActionButton(I.getId(),false,[L,x]);}function l(I,L,x){sap.ushell.Container.getRenderer("fiori2").showHeaderEndItem(I.getId(),false,[L,x]);}function m(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideHeaderEndItem(I.getId(),false,[L,x]);}function n(){return sap.ushell.Container.getRenderer("fiori2").getModelConfiguration();}function o(I,L,T,x){var y=sap.ui.getCore().byId(I);if(x){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(y.getId(),T,[L]);}}function p(C,S){sap.ushell.Container.getRenderer("fiori2").addEndUserFeedbackCustomUI(C,S);}function q(x){sap.ushell.Container.getRenderer("fiori2").addUserPreferencesEntry(x);}function r(T){sap.ushell.Container.getRenderer("fiori2").setHeaderTitle(T);}function s(L,V){sap.ushell.Container.getRenderer("fiori2").setLeftPaneVisibility(L,V);}function t(H){sap.ushell.Container.getRenderer("fiori2").setHeaderHiding(H);}function u(F){sap.ushell.Container.getRenderer("fiori2").setFooter(F);}function v(){sap.ushell.Container.getRenderer("fiori2").removeFooter();}function R(){this.addHeaderItem=d;this.setHeaderItemVisibility=o;this.addSubHeader=b;this.removeSubHeader=c;this.addHeaderEndItem=l;this.removeHeaderItem=e;this.removeHeaderEndItem=m;this.addEndUserFeedbackCustomUI=p;this.addOptionsActionSheetButton=f;this.removeOptionsActionSheetButton=g;this.setFooter=u;this.removeFooter=v;this.addUserPreferencesEntry=q;this.setHeaderTitle=r;this.setHeaderHiding=t;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=j;this.removeFloatingActionButton=k;this.setLeftPaneContent=h;this.removeLeftPaneContent=i;this.setLeftPaneVisibility=s;this.getConfiguration=n;}var w=new R();return w;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/Shell.controller',['sap/ushell/ui5service/ShellUIService','sap/ui/Device','sap/ushell/CanvasShapesManager','./AccessKeysHandler','./History','./Lifecycle','sap/ushell/components/applicationIntegration/AppLifeCycle','sap/ushell/services/AppConfiguration','sap/ushell/services/AppType','sap/ushell/services/Message','sap/ushell/services/ShellNavigation','sap/ushell/ui/launchpad/Fiori2LoadingDialog','sap/ushell/utils','sap/ushell/resources','sap/ushell/UserActivityLog','sap/ushell/EventHub','sap/ushell/Config'],function(S,D,C,A,H,L,a,b,c,M,d,F,u,r,U,E,f){"use strict";var g=true,h=true,p=false,B=false,s,j=a.getElementsModel(),m,o={embedded:0,newWindowThenEmbedded:1,newWindow:1,replace:0},n={embedded:"embedded",newWindowThenEmbedded:"newWindowThenEmbedded",newWindow:"newWindow",replace:"replace"},k={},l;sap.ui.controller("sap.ushell.renderers.fiori2.Shell",{onInit:function(){h=true;B=false;g=true;var v=this.getView();var e=window.matchMedia("(min-width: 600px)"),i;var k=(v.getViewData()?v.getViewData().config:{})||{};a.parseStatefulContainerConfiguration(k.statefulApplicationContainer);this.bMeAreaSelected=false;this.bNotificationsSelected=false;this.oEndUserFeedbackConfiguration={showAnonymous:true,anonymousByDefault:true,showLegalAgreement:true,showCustomUIContent:true,feedbackDialogTitle:true,textAreaPlaceholder:true,customUIContent:undefined};this.bMeAreaLoaded=false;k["enableBackGroundShapes"]=k.enableBackGroundShapes===undefined?true:k.enableBackGroundShapes;l=this._historyBackNavigation;this.initShellModel(k);i=function(w){m.setProperty('/isPhoneWidth',!w.matches);};if(e.addListener){e.addListener(i);i(e);}v.setModel(m);v.setModel(r.i18nModel,"i18n");v.oShellHeader.setModel(m);v.oShellHeader.setModel(r.i18nModel,"i18n");sap.ui.getCore().getEventBus().subscribe("externalSearch",this.externalSearchTriggered,this);this._setConfigurationToModel();if(k.moveEditHomePageActionToShellHeader){sap.ui.getCore().getEventBus().subscribe("showCatalog",this._hideEditButton,this);}sap.ui.getCore().getEventBus().subscribe("launchpad","contentRendered",this._loadCoreExt,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",this.setBackGroundShapes,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","coreResourcesFullyLoaded",this._postCoreExtActivities,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",this.delayedCloseLoadingScreen,this);sap.ui.getCore().getEventBus().subscribe("launchpad","toggleContentDensity",this.toggleContentDensity,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",this._loadCoreExtNonUI5,this);sap.ui.getCore().getEventBus().subscribe("launchpad","appClosed",this.logApplicationUsage,this);sap.ui.getCore().getEventBus().subscribe("launchpad","shellFloatingContainerDockedIsResize",this._onResizeWithDocking,this);sap.ui.getCore().getEventBus().subscribe("launchpad","launchpadCustomRouterRouteMatched",this._centerViewPort,this);sap.ushell.Container.getServiceAsync("AppLifeCycle");s.addHeaderEndItem(["NotificationsCountButton"],false,["home","app","minimal"],true);this.history=new H();this.oViewPortContainer=sap.ui.getCore().byId("viewPortContainer");a.init(k.appState,this.oViewPortContainer,k.rootIntent,k.disableHomeAppCache,{ownerComponent:this.getOwnerComponent()});this.oNotificationsCountButton=sap.ui.getCore().byId("NotificationsCountButton");this.oFiori2LoadingDialog=sap.ui.getCore().byId("Fiori2LoadingDialog");this.oShellNavigation=sap.ushell.Container.getService("ShellNavigation");this.oShellNavigation.registerNavigationFilter(this._handleEmptyHash.bind(this));this.oShellNavigation.init(this.doHashChange.bind(this));this.oShellNavigation.registerNavigationFilter(this.handleDataLoss.bind(this));sap.ushell.Container.getServiceAsync("Message").then(function(w){w.init(this.doShowMessage.bind(this));}.bind(this));sap.ushell.Container.setLogonFrameProvider(this._getLogonFrameProvider());A.init(m);window.onbeforeunload=function(){if(sap.ushell.Container&&sap.ushell.Container.getDirtyFlag()){if(!r.browserI18n){r.browserI18n=r.getTranslationModel(window.navigator.language).getResourceBundle();}return r.browserI18n.getText("dataLossExternalMessage");}};if(m.getProperty("/contentDensity")){a.getAppMeta()._applyContentDensityClass();}D.media.attachHandler(this.onScreenSizeChange.bind(this),null,D.media.RANGESETS.SAP_STANDARD);this.onScreenSizeChange(D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD));this.initShellUIService();if(this.getView().oShellNavigationMenu){this.getView().oShellNavigationMenu.setModel(m);}sap.ui.getCore().attachThemeChanged(this.redrawBackGroundShapes);if(k.sessionTimeoutIntervalInMinutes){var q=20000,t=this;setTimeout(function(){t._createSessionHandler(k);},q);}},initShellModel:function(k){s=j;s.init(k);m=s.getModel();},redrawBackGroundShapes:function(){if(k.enableBackGroundShapes){C.drawShapes();}},setBackGroundShapes:function(){var v=this.getView(),m=v.getModel(),e=m.getProperty('/animationMode')!=='minimal';if(!B&&k.enableBackGroundShapes){B=true;C.drawShapes();C.enableAnimationDrawing(e);}},initShellUIService:function(){a.initShellUIService({fnOnBackNavigationChange:this.onBackNavigationChange.bind(this)});if(k.enableOnlineStatus){sap.ui.require(["sap/ushell/ui5service/UserStatus"],function(e){this.oUserStatus=new e({scopeObject:this.getOwnerComponent(),scopeType:"component"});this.oUserStatus.attachEnabledStatusChanged(function(i){this.getModel().setProperty("/userStatusEnabled",i.mParameters.data);}.bind(this));this.oUserStatus.attachStatusChanged(function(i){this.getModel().setProperty("/userStatus",i.mParameters.data);if(i.mParameters.data==null){this.getModel().setProperty("/userStatusUserEnabled",false);}else{this.getModel().setProperty("/userStatusUserEnabled",true);}}.bind(this));}.bind(this));}},onBackNavigationChange:function(e){this.isBackNavigationChanged=true;var i=e.getParameters().data,m=this.getModel(),q=m.getProperty('/currentState/');if(i){l=i;if(q.stateName==='minimal'||q.stateName==='standalone'||q.stateName==='embedded'){sap.ushell.Container.getRenderer('fiori2').showHeaderItem('backBtn',true);}}else{l=this._historyBackNavigation;}},toggleContentDensity:function(e,i,q){var t=q.contentDensity==="compact";a.getAppMeta()._applyContentDensityByPriority(t);},loadMeAreaView:function(){},_handleEmptyHash:function(e){e=(typeof e==="string")?e:"";e=e.split("?")[0];if(e.length===0){var v=this.getView()?this.getView().getViewData():{};k=v.config||{};if(k.migrationConfig){return this.oShellNavigation.NavigationFilterStatus.Continue;}if(k.rootIntent){setTimeout(function(){window.hasher.setHash(k.rootIntent);},0);return this.oShellNavigation.NavigationFilterStatus.Abandon;}}return this.oShellNavigation.NavigationFilterStatus.Continue;},_setConfigurationToModel:function(){var v=this.getView().getViewData(),e,i;if(v){k=v.config||{};}if(k){if(k.states){i=m.getProperty('/states');for(e in k.states){if(k.states.hasOwnProperty(e)){i[e]=k.states[e];}}m.setProperty('/states',i);}if(k.appState==="headerless"||k.appState==="merged"||k.appState==="blank"){m.setProperty("/personalization",false);k.enablePersonalization=false;}else if(k.enablePersonalization!==undefined){m.setProperty("/personalization",k.enablePersonalization);}if(k.changeEndUserFeedbackTitle!==undefined){this.oEndUserFeedbackConfiguration.feedbackDialogTitle=k.changeEndUserFeedbackTitle;}if(k.changeEndUserFeedbackPlaceholder!==undefined){this.oEndUserFeedbackConfiguration.textAreaPlaceholder=k.changeEndUserFeedbackPlaceholder;}if(k.showEndUserFeedbackAnonymousCheckbox!==undefined){this.oEndUserFeedbackConfiguration.showAnonymous=k.showEndUserFeedbackAnonymousCheckbox;}if(k.makeEndUserFeedbackAnonymousByDefault!==undefined){this.oEndUserFeedbackConfiguration.anonymousByDefault=k.makeEndUserFeedbackAnonymousByDefault;}if(k.showEndUserFeedbackLegalAgreement!==undefined){this.oEndUserFeedbackConfiguration.showLegalAgreement=k.showEndUserFeedbackLegalAgreement;}if(k.enableSetTheme!==undefined){m.setProperty("/setTheme",k.enableSetTheme);}m.setProperty("/contentDensity",k.enableContentDensity===undefined?true:k.enableContentDensity);if(k.title){m.setProperty("/title",k.title);}if(k.migrationConfig!==undefined){m.setProperty("/migrationConfig",k.migrationConfig);}if(k.enableUserDefaultParameters!==undefined){m.setProperty("/userDefaultParameters",k.enableUserDefaultParameters);}if(k.disableHomeAppCache!==undefined){m.setProperty("/disableHomeAppCache",k.disableHomeAppCache);}m.setProperty("/enableHelp",!!k.enableHelp);m.setProperty("/searchAvailable",(k.enableSearch!==false));if(k.sizeBehavior!==undefined){m.setProperty("/sizeBehavior",k.sizeBehavior);}else{m.setProperty("/sizeBehavior","Responsive");}m.bindProperty('/animationMode').attachChange(this.handleAnimationModeChange.bind(this));m.setProperty("/animationMode",k.animationMode);this._getPersonalizer({container:"flp.launchpad.animation.mode",item:"animationMode"}).getPersData().then(function(t){m.setProperty("/animationMode",t?t:k.animationMode);k.animationMode=t?t:k.animationMode;}.bind(this));var q=this._getTrackingUserActivies();q.done(function(t){if(t!==undefined){m.setProperty("/enableTrackingActivity",t);}else{m.setProperty("/enableTrackingActivity",true);}});}},_getTrackingUserActivies:function(){var e=this._getPersonalizer({container:"flp.settings.FlpSettings",item:"userActivitesTracking"}).getPersData();e.fail(function(i){jQuery.sap.log.error("Failed to load anchor bar state from the personalization",i,"sap.ushell.components.flp.settings.FlpSettings");});return e;},_hideEditButton:function(){var e=sap.ui.getCore().byId("ActionModeBtn");if(e){e.setVisible(false);}},_getPreviousPageDirty:function(){return p;},_setPreviousPageDirty:function(e){p=e;},getModelConfiguration:function(){var v=this.getView().getViewData(),e,i;if(v){e=v.config||{};i=jQuery.extend({},e);}delete i.applications;return i;},_getLogonFrameProvider:function(){var v=this.getView();return{create:function(){return v.createIFrameDialog();},show:function(){v.showIFrameDialog();},destroy:function(){v.destroyIFrameDialog();}};},onExit:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","contentRendered",this._loadCoreExt,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",this.setBackGroundShapes,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",this.delayedCloseLoadingScreen,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","toggleContentDensity",this.toggleContentDensity,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",this._loadCoreExtNonUI5,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","appClosed",this.logApplicationUsage,this);sap.ui.getCore().getEventBus().unsubscribe("sap.ushell","coreResourcesFullyLoaded",this._postCoreExtActivities,this);sap.ui.getCore().getEventBus().unsubscribe("launchpad","launchpadCustomRouterRouteMatched",this._centerViewPort,this);sap.ui.getCore().getEventBus().unsubscribe("externalSearch",this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().unsubscribe("showCatalog",this._hideEditButton,this);D.media.detachHandler(this.onScreenSizeChange.bind(this),null,D.media.RANGESETS.SAP_STANDARD);this.oShellNavigation.hashChanger.destroy();this.getView().aDanglingControls.forEach(function(i){if(i.destroyContent){i.destroyContent();}i.destroy();});var e=this.getView().oShellHeader;if(e){e.destroy();}U.deactivate();s.destroy();s=undefined;},handleAnimationModeChange:function(){var v=this.getView(),m=v.getModel(),e=m.getProperty('/animationMode'),i=e!=='minimal';C.enableAnimationDrawing(i);sap.ui.getCore().getEventBus().publish("launchpad","animationModeChange",e);},getAnimationType:function(){return"show";},onCurtainClose:function(e){jQuery.sap.log.warning("Closing Curtain",e);},handleDataLoss:function(e,i){if(!h){h=true;this.closeLoadingScreen();return this.oShellNavigation.NavigationFilterStatus.Custom;}if(sap.ushell.Container.getDirtyFlag()){if(!r.browserI18n){r.browserI18n=r.getTranslationModel(window.navigator.language).getResourceBundle();}if(confirm(r.browserI18n.getText("dataLossInternalMessage"))){sap.ushell.Container.setDirtyFlag(false);p=true;return this.oShellNavigation.NavigationFilterStatus.Continue;}h=false;window.history.back();return this.oShellNavigation.NavigationFilterStatus.Custom;}return this.oShellNavigation.NavigationFilterStatus.Continue;},doShowMessage:function(t,i,P){sap.ui.require(["sap/m/MessageToast","sap/m/MessageBox"],function(q,v){if(t===M.Type.ERROR){var w=f.last("/core/extension/SupportTicket");if(sap.ushell.Container&&w&&i!==r.i18n.getText("supportTicketCreationFailed")){sap.ui.require(["sap/ushell/ui/launchpad/EmbeddedSupportErrorMessage"],function(x){try{var y=new x("EmbeddedSupportErrorMessage",{title:P.title||r.i18n.getText("error"),content:new sap.m.Text({text:i})});y.open();}catch(e){v.show(i,v.Icon.ERROR,P.title||r.i18n.getText("error"));}});}else{v.show(i,v.Icon.ERROR,P.title||r.i18n.getText("error"));}}else if(t===M.Type.CONFIRM){if(P.actions){v.show(i,v.Icon.QUESTION,P.title,P.actions,P.callback);}else{v.confirm(i,P.callback,P.title);}}else{q.show(i,{duration:P.duration||3000});}});},_isColdStart:function(){if(this.history.getHistoryLength()<=1){return true;}this._isColdStart=function(){return false;};return false;},_setEnableHashChange:function(v){h=v;},_logRecentActivity:function(R){if(this._getConfig()&&s.getModel().getProperty("/enableTrackingActivity")){setTimeout(function(){if(sap.ushell.Container){b.addActivity(R);}},1500);}},_logOpenAppAction:function(e){if(k&&k.enableTilesOpacity&&k.enableRecentActivity&&j.getModel().getProperty("/enableTrackingActivity")){setTimeout(function(){if(sap.ushell.Container){sap.ushell.Container.getServiceAsync("UserRecents").then(function(i){i.addAppUsage(e);});}},1500);}},doHashChange:function(e,i,O,q,P){jQuery.sap.measure.start("FLP:ShellController.doHashChange","doHashChange","FLP");u.addTime("ShellControllerHashChange");return this._doHashChange(this,e,i,O,q,P).then(function(){jQuery.sap.measure.end("FLP:ShellController.doHashChange");},function(v){jQuery.sap.measure.end("FLP:ShellController.doHashChange");});},_doHashChange:function(e,i,q,O,t,P){var I,v,w;e.lastApplicationFullHash=t?O+t:O;if(!h){h=true;e.closeLoadingScreen();return jQuery.when();}if(P){e.hashChangeFailure(e.history.getHistoryLength(),P.message,null,"sap.ushell.renderers.fiori2.Shell.controller",false);return jQuery.when();}if(sap.m.InstanceManager&&g){sap.m.InstanceManager.closeAllDialogs();sap.m.InstanceManager.closeAllPopovers();}g=true;e.openLoadingScreen();if(u.getParameterValueBoolean("sap-ushell-no-ls")){e.closeLoadingScreen();}v=e.history.getHistoryLength();w=e.fixShellHash(i);e.history.hashChange(w,O);e.currentAppBeforeNav=b.getCurrentApplication();jQuery.sap.flpmeasure.end(0,"Creating Shell");jQuery.sap.flpmeasure.start(0,"targetResolution",1);return e._resolveHashFragment(w).then(function(R,x){jQuery.sap.flpmeasure.end(0,"targetResolution");jQuery.sap.flpmeasure.start(0,"CreateComponent",3);var y=x?x.semanticObject+"-"+x.action:"",k=e._getConfig(),z=!!(R&&R.componentHandle),T=R&&R.ui5ComponentName;R=e._calculateNavigationMode(x,R);if(R&&(R.navigationMode===n.newWindow||u.isNativeWebGuiNavigation(R))){if(k&&k.enableRecentActivity){var G=b.getMetadata(R);var J={};J.title=G.title;J.appType=R.applicationType;J.url=w;J.appId=w;e._logRecentActivity(J);}e._openAppInNewWindowAndRestore(R);return;}if(e.getModel().getProperty("/migrationConfig")){k.migrationConfig=false;e.getModel().setProperty("/migrationConfig",false);if(R&&w==='#'){k.rootIntent="";}else if(w==='#'){setTimeout(function(){window.hasher.setHash(k.rootIntent);},0);return;}}if(k&&k.applications&&k.applications[y]){R.applicationConfiguration=k.applications[y];}I=a.isAppInCache("application-"+y);if(z||I||!T){e._initiateApplication(R,w,x,v);return;}a.removeApplication(y);b.setApplicationInInitMode();sap.ui.getCore().getEventBus().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:T});jQuery.sap.measure.start("FLP:ShellController.UI5createComponent","UI5 createComponent","FLP");a.createComponent(R,x).done(function(K){jQuery.sap.measure.end("FLP:ShellController.UI5createComponent");jQuery.sap.flpmeasure.end(0,"CreateComponent");e._initiateApplication(R,w,x,v);}).fail(function(K){b.setCurrentApplication(e.currentAppBeforeNav);e.hashChangeFailure(v,"Failed to load UI5 component for navigation intent "+w,K,"sap.ushell.renderers.fiori2.Shell.controller",false);});},function(x){var y;y="Failed to resolve navigation target: \""+w+"\""+". This is most likely caused by an incorrect SAP Fiori launchpad content configuration"+" or by missing role assignment.";e.hashChangeFailure(v,y,x,"sap.ushell.renderers.fiori2.Shell.controller",false);});},_initiateApplication:function(R,e,P,O){jQuery.sap.measure.start("FLP:ShellController._initiateApplication","_initiateApplication","FLP");var i=b.getMetadata(R),q=f.last("/core/extension/SupportTicket");if(i.title){window.document.title=i.title;}else{jQuery.sap.log.debug("Shell controller._initiateApplication: the title of the window is not changed because most probably the application was resolved with undefined");}if(q){setTimeout(function(){sap.ushell.UserActivityLog.activate();},0);}this._logOpenAppAction(e);try{this.navigate(P,e,i,R);}catch(t){if(t.stack){jQuery.sap.log.error("Application initialization (Intent: \n"+e+"\n failed due to an Exception:\n"+t.stack);}this.hashChangeFailure(O,t.name,t.message,i?i.title:"",false);}finally{if(R&&R.coreResourcesFullyLoaded&&!this._pluginLoadingTriggered){this._loadRendererExtensionPlugins();}}jQuery.sap.measure.end("FLP:ShellController._initiateApplication");},_resolveHashFragment:function(e){jQuery.sap.measure.start("FLP:ShellController._resolveHashFragment","_resolveHashFragment","FLP");var R,P,i=sap.ushell.Container.getService("URLParsing").parseShellHash(e),q=new jQuery.Deferred(),k=this._getConfig();P=i&&i.params||{};if(i&&i.contextRaw&&i.contextRaw==="navResCtx"&&P&&P.additionalInformation&&(P.additionalInformation[0]||P.additionalInformation[0]==="")&&P.applicationType&&P.applicationType[0]&&P.url&&P.url[0]&&P.navigationMode&&(P.navigationMode[0]||P.additionalInformation[0]==="")){P=i.params||{};R={additionalInformation:P.additionalInformation[0],applicationType:P.applicationType[0],url:P.url[0],navigationMode:P.navigationMode[0]};if(P.title){R.text=P.title[0];}q.resolve(R,i);}else{if(window["sap-ushell-async-libs-promise-directstart"]){window["sap-ushell-async-libs-promise-directstart"].then(function(t){q.resolve(t.resolvedHashFragment,i);delete window["sap-ushell-async-libs-promise-directstart"];},function(t){q.reject(t);delete window["sap-ushell-async-libs-promise-directstart"];});return q.promise();}sap.ushell.Container.getService("NavTargetResolution").resolveHashFragment(e).done(function(R){if(i&&(i.semanticObject+"-"+i.action)===k.rootIntent){R.navigationMode="embedded";}jQuery.sap.measure.end("FLP:ShellController._resolveHashFragment");q.resolve(R,i);}).fail(function(t){q.reject(t);});}return q.promise();},_calculateNavigationMode:function(P,R){if(!R){return undefined;}var N=R.navigationMode;if(N===n.newWindowThenEmbedded){if(this._isColdStart()||(P.contextRaw&&P.contextRaw==="navResCtx")||this.history.backwards){R.navigationMode=n.embedded;}else{R.navigationMode=n.newWindow;if(!u.isNativeWebGuiNavigation(R)){R.url=this._getCurrentLocationHash();}}return R;}if(N===n.newWindow&&this._isColdStart()){R.navigationMode=n.replace;return R;}return R;},_usesNavigationRedirect:function(e){if(!e){return new jQuery.Deferred().reject().promise();}var t=this,i=e.getInstance({});if(i&&typeof i.navigationRedirect==="function"){var q=new jQuery.Deferred();var N=i.navigationRedirect();if(N&&typeof N.then==="function"){N.then(function(v){jQuery.sap.log.warning("Performing navigation redirect to hash "+v);i.destroy();t.history.pop();sap.ushell.Container.getService("ShellNavigation").toExternal({target:{shellHash:v}},undefined,false);q.resolve(true);},function(){q.reject();});return q.promise();}}return new jQuery.Deferred().reject().promise();},navigate:function(P,e,i,R){jQuery.sap.measure.start("FLP:ShellController.navigate","navigate","FLP");var N=(jQuery.isPlainObject(R)?R.navigationMode:null),t=this;if(N===null){if(this._isColdStart()){window.hasher.setHash("");return;}h=false;this.history.pop();this._windowHistoryBack(1);return;}R=this._calculateNavigationMode(P,R);N=(jQuery.isPlainObject(R)?R.navigationMode:null);if(N===n.embedded){var q=this._usesNavigationRedirect(R.componentHandle);q.then(null,function(){t._handleEmbeddedNavMode(e,P,i,R);if(P&&P.contextRaw==="navResCtx"){jQuery.sap.log.error(" This path will no longer be supported in 1.40");h=false;if(P&&P.params&&P.params.original_intent&&P.params.original_intent[0]){window.hasher.replaceHash(P.params.original_intent[0]);t.history._history[0]=P.params.original_intent[0];}}});jQuery.sap.measure.end("FLP:ShellController.navigate");return;}if(N===n.replace){h=false;this._changeWindowLocation(R.url);return;}if(N===n.newWindow){this._openAppInNewWindowAndRestore(R);return;}this.hashChangeFailure(this.history.getHistoryLength(),"Navigation mode is not recognized",null,"sap.ushell.renderers.fiori2.Shell.controller",false);},_openAppInNewWindowAndRestore:function(R){h=false;if(u.isNativeWebGuiNavigation(R)){try{var i=u.appendUserIdToUrl("sap-user",R.url);var q=u.getPrivateEpcm();var t=o[R.navigationMode];if(u.hasNavigationModeCapability()){q.doNavigate(i,t||o[n.embedded]);}else{q.doNavigate(i);}}catch(e){if(e.stack){jQuery.sap.log.error("Application initialization failed due to an Exception:\n"+e.stack);}this.hashChangeFailure(this.history.getHistoryLength(),e.name,e.message,R.text,false);}}else{this._openAppNewWindow(R.url);}this.history.pop();var v=R.componentHandle&&R.componentHandle.getInstance&&R.componentHandle.getInstance({});if(v){v.destroy();}this._windowHistoryBack(1);b.setCurrentApplication(this.currentAppBeforeNav);return;},_handleEmbeddedNavMode:function(e,P,i,R){jQuery.sap.measure.start("FLP:ShellController._handleEmbeddedNavMode","_handleEmbeddedNavMode","FLP");var q,I,t;this.resetShellUIServiceHandlers();a.getAppMeta().setAppIcons(i);q='-'+P.semanticObject+'-'+P.action;I=e==="#"||(k.rootIntent&&k.rootIntent===P.semanticObject+"-"+P.action);t=P?P.semanticObject+"-"+P.action:"";a.switchViewState(a.calculateElementsState(I?"home":"app",R.applicationType,k.appState,R.explicitNavMode));if(I){a.getShellUIService().setBackNavigation();}this._handleHomeAndBackButtonsVisibility();a.handleControl(t,q,R,this.getWrappedApplicationWithMoreStrictnessInIntention.bind(this),this.closeLoadingScreen.bind(this));this.closeLoadingScreen();if(this.currentAppBeforeNav){var v=a.getStatefulContainer(this.currentAppBeforeNav.applicationType);if(v){v.onApplicationOpened(R.applicationType);}}jQuery.sap.measure.end("FLP:ShellController._handleEmbeddedNavMode");},_centerViewPort:function(){this.oViewPortContainer.switchState("Center");},_isShellHomeIntent:function(i){return i==="#"||i===k.rootIntent;},getWrappedApplicationWithMoreStrictnessInIntention:function(i,e,R,q,t){var v,w=this;setTimeout(function(){setTimeout(function(){var x;if(m.getProperty("/currentState/stateName")==="app"){x="shellAppTitle";}A.sendFocusBackToShell(x);setTimeout(function(){w.readNavigationEnd();},500);},100);sap.ui.getCore().getEventBus().publish("launchpad","appOpening",R);jQuery.sap.log.info('app is being opened');},0);if(k.applications){R.applicationConfiguration=k.applications[i];}v=a.getAppContainer(q,R,this._isColdStart());R.sShellHash=i;a.publishNavigationStateEvents(v,R,this.onAppAfterRendering.bind(this,R));v.addStyleClass('sapUshellApplicationPage');if(!t){v.addStyleClass("sapUShellApplicationContainerLimitedWidth");}if(this._isDock()&&window.matchMedia('(min-width: 106.4rem)').matches){v.addStyleClass("sapUShellDockingContainer");v.removeStyleClass("sapUShellApplicationContainerLimitedWidth");}else if(this._isDock()){v.removeStyleClass("sapUShellApplicationContainerLimitedWidth");}v.toggleStyleClass('sapUshellDefaultBackground',!e.hideLightBackground);a.getAppMeta()._applyContentDensityByPriority();v.onfocusin=function(){A.bFocusOnShell=false;A.bFocusPassedToExternalHandlerFirstTime=false;};v.onfocusout=function(){A.bFocusOnShell=true;A.bFocusPassedToExternalHandlerFirstTime=true;};a.addControl(v);setTimeout(function(){w.closeLoadingScreen();},0);jQuery.sap.measure.end("FLP:ShellController.getWrappedApplication");return v;},resetShellUIServiceHandlers:function(){a.resetShellUIServiceHandlers();this.isBackNavigationChanged=false;},onAppAfterRendering:function(e){var i=a.getShellUIService();setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","appOpened",e);jQuery.sap.log.info('app was opened');},0);var q=a._publicEventDataFromResolutionResult(e);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appOpened",q);if(i){if(!a.getIsHierarchyChanged()){i.setHierarchy();}if(!a.getIsTitleChanged()){i.setTitle();}if(!a.getIsRelatedAppsChanged()){i.setRelatedApps();}if(!this.isBackNavigationChanged){i.setBackNavigation();}}s.updateStateProperty("application/icon",a.getAppMeta().getAppIcon(),true);s.updateStateProperty("application/showNavMenuTitle",this.bNavMenuTitleVisible,true);},_saveHomePageComponent:function(){if(this.oHomeApp){return;}var t=this,e="sap.ushell.components.container.ApplicationContainer",i=function(q,v,w){t.oHomeApp=w.component;sap.ui.getCore().getEventBus().unsubscribe(e,'componentCreated',i);};sap.ui.getCore().getEventBus().subscribe(e,'componentCreated',i);},hashChangeFailure:function(i,e,q,t,v){this.reportError(e,q,t);this.closeLoadingScreen();this.delayedMessageError(r.i18n.getText("fail_to_start_app_try_later"));g=false;if(i===0){window.hasher.setHash("");}else{if(jQuery.sap.getUriParameters().get("bFallbackToShellHome")){window.hasher.setHash("");}else{h=v;sap.ushell.Container.setDirtyFlag(p);this._windowHistoryBack(1);}}},reportError:function(e,i,q){jQuery.sap.log.error(e,i,q);},delayedMessageError:function(e){setTimeout(function(){if(sap.ushell.Container!==undefined){sap.ushell.Container.getService("Message").error(e);}},0);},fixShellHash:function(e){if(!e){e='#';}else if(e.charAt(0)!=='#'){e='#'+e;}return e;},_openAppNewWindow:function(e){var i=window.open(e);if(!i){var q=r.i18n.getText("fail_to_start_app_popup_blocker",[window.location.hostname]);this.delayedMessageError(q);}},_windowHistoryBack:function(i){window.history.back(i);},_changeWindowLocation:function(e){window.location.href=e;},handleEndItemsOverflow:function(P){var e=this.getModel().getProperty("/currentState/headEndItems");if(e.length===1||(e.length===2&&e.indexOf("NotificationsCountButton")!=-1)){return;}function i(){s.removeHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);var q=sap.ui.getCore().byId('headEndItemsOverflow');if(q){q.destroy();}}if(P.name==='Phone'||P.name==='Tablet'){if(e.indexOf("endItemsOverflowBtn")===-1){s.addHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);}else{i();s.addHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);}}else if(P.name==="Desktop"){if(P.showOverFlowBtn){if(e.indexOf("endItemsOverflowBtn")===-1){s.addHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);}}else{i();}}},isHeadEndItemOverflow:function(){var e=0,q,t=this.getModel().getProperty("/currentState/headEndItems");if(t.indexOf("endItemsOverflowBtn")===-1){return false;}else{var v=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;var w=3;if(v==="Phone"){w=1;}for(var i=0;i<t.length;i++){q=sap.ui.getCore().byId(t[i]);if(q.getVisible()){e++;}}if(sap.ui.getCore().byId("endItemsOverflowBtn").getVisible()){return e>w+1;}else{return e>w;}}},isHeadEndItemInOverflow:function(e){return e!=="ENDITEMSOVERFLOWBTN"&&!this.isHeadEndItemNotInOverflow(e);},isHeadEndItemNotInOverflow:function(e){if(this.isHeadEndItemOverflow()){if(e==="NOTIFICATIONSCOUNTBUTTON"||e==="ENDITEMSOVERFLOWBTN"){return true;}else{var i=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;if(i==="Tablet"){return e==="SF"||e==="FLOATINGCONTAINERBUTTON";}else if(i==="Desktop"){return e==="SF"||e==="FLOATINGCONTAINERBUTTON"||e==="COPILOTBTN";}else{return i!=="Phone";}}}else if(e==="ENDITEMSOVERFLOWBTN"){return false;}else{return true;}},pressEndItemsOverflow:function(e){var P=sap.ui.getCore().byId('headEndItemsOverflow');function i(){if(P.isOpen()){P.close();}}if(!P){var q=new sap.ui.model.Filter('','EQ','a');q.fnTest=this.isHeadEndItemInOverflow.bind(this);P=new sap.m.Popover("headEndItemsOverflow",{placement:sap.m.PlacementType.Bottom,showHeader:false,showArrow:false,content:{path:"/currentState/headEndItems",filters:[q],factory:function(I,t){var v=sap.ui.getCore().byId(t.getObject());v.detachPress(i);v.attachPress(i);return v;}}});P.addStyleClass("sapUshellPopupContainer sapMPopoverheadEndItemsOverflow");P.updateAggregation=this.getView().updateShellAggregation;P.setModel(m);this.getView().aDanglingControls.push(P);}if(P.isOpen()){P.close();}else{P.updateAggregation("content");P.openBy(e.getSource());}},externalSearchTriggered:function(e,i,q){m.setProperty("/searchTerm",q.searchTerm);q.query=q.searchTerm;},onAfterNavigate:function(e){var t=e.mParameters?e.mParameters.toId:undefined;this.closeLoadingScreen();u.addTime("ShellController.onAfterNavigate");if(t==="application"+"-"+k.rootIntent){var i=sap.ui.getCore().byId("configBtn");if(i){i.focus();}}a.onAfterNavigate(e.getParameter("fromId"),e.getParameter("from"),t);},logApplicationUsage:function(e,N,i){if(k&&k.enableRecentActivity){var I=i.appId,q=I,R={};R.title=i.usageTitle;R.appType=c.APP;R.url='#'+this.lastApplicationFullHash;if(I.indexOf('-')>0){q=I.substr(I.indexOf('-')+1);}R.appId='#'+q;if(q==="Action-search"){R.appType=c.SEARCH;}this._logRecentActivity(R);}},openLoadingScreen:function(){jQuery.sap.measure.start("FLP:ShellController.openLoadingScreen","openLoadingScreen","FLP");if(this.oFiori2LoadingDialog){var e=m.getProperty('/animationMode');var e=e||'full';this.oFiori2LoadingDialog.openLoadingScreen(e);}jQuery.sap.measure.end("FLP:ShellController.openLoadingScreen");},closeLoadingScreen:function(){if(this.oFiori2LoadingDialog){this.oFiori2LoadingDialog.closeLoadingScreen();}},readNavigationEnd:function(){var e=document.getElementById("sapUshellLoadingAccessibilityHelper-loadingComplete");if(e){e.setAttribute("aria-live","polite");e.innerHTML=r.i18n.getText("loadingComplete");setTimeout(function(){e.setAttribute("aria-live","off");e.innerHTML="";},0);}},delayedCloseLoadingScreen:function(){setTimeout(function(){this.closeLoadingScreen();}.bind(this),600);},togglePane:function(e){var i=e.getSource(),q=i.getSelected();sap.ui.getCore().getEventBus().publish("launchpad","togglePane",{currentContent:i.getModel().getProperty("/currentState/paneContent")});if(e.getParameter("id")==="categoriesBtn"){i.getModel().setProperty("/currentState/showCurtainPane",!q);}else{i.getModel().setProperty("/currentState/showPane",!q);}},_switchViewPortStateByControl:function(O,e){var i=false,v=this.oViewPortContainer;if(O&&O.setEnabled&&typeof O.setEnabled==="function"){i=true;}if(i){O.addStyleClass("sapUshellShellHeadItemOverrideDisableStyle");O.setEnabled(false);}function q(){O.setEnabled(true);O.removeStyleClass("sapUshellShellHeadItemOverrideDisableStyle");v.detachAfterSwitchStateAnimationFinished(q);}if(i){v.attachAfterSwitchStateAnimationFinished(q);}v.switchState(e);},onScreenSizeChange:function(P){this.validateShowLogo(P);this.handleNavMenuTitleVisibility(P);this._handleHomeAndBackButtonsVisibility(P);this.handleEndItemsOverflow(P);},_handleHomeAndBackButtonsVisibility:function(P){var m=j.getModel(),i=jQuery("#mainShell").width()<1024&&jQuery(".sapUshellContainerDocked").length>0,I=m.getProperty('/currentViewPortState')==='Center',e=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name,q=sap.ui.getCore().byId("homeBtn"),t=sap.ui.getCore().byId("backBtn"),v=e==="Desktop",w=e!=="Phone"||I;if(i){if(q){v=false;}}if(q){q.setVisible(v);}if(t){t.setVisible(w);}},validateShowLogo:function(P){var e;var i=this.getModel().getProperty('/currentState/stateName');var I=i==='merged'||i==='headerless';if(P){e=P.name;}else{e=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;}var q=true;if(e==="Phone"&&!this.bMeAreaSelected||I){q=false;}s.updateStateProperty("showLogo",q,false,["home","app","blank","blank-home","minimal","lean"],true);},handleNavMenuTitleVisibility:function(P){this.bNavMenuTitleVisible=false;if(P.name!=="Desktop"){this.bNavMenuTitleVisible=true;}s.updateStateProperty("application/showNavMenuTitle",this.bNavMenuTitleVisible,true);},navigateFromShellApplicationNavigationMenu:function(i){if(window.hasher.getHash()!==i.substr(1)){this.oViewPortContainer.switchState("Center");window.hasher.setHash(i);}var e=sap.ui.getCore().byId("shellAppTitle");if(e){e.close();}},_loadCoreExtNonUI5:function(e,i,q){if(q&&(q.applicationType=="NWBC"||q.applicationType=="TR")){setTimeout(this._loadCoreExt.bind(this),2000);}},_postCoreExtActivities:function(){sap.ushell.Container.getService("UsageAnalytics").init(r.i18n.getText("usageAnalytics"),r.i18n.getText("i_agree"),r.i18n.getText("i_disagree"),r.i18n.getText("remind_me_later"));this.getView().createPostCoreExtControls();},_loadRendererExtensionPlugins:function(){var v=this.getView()?this.getView().getViewData():{},k=v.config||{},e=jQuery.sap.getUriParameters().get("sap-ushell-xx-pluginmode")==="delayed",t=this;if(!this._pluginLoadingTriggered){this._pluginLoadingTriggered=true;if(!sap.ushell.Container.getService("PluginManager").getRegisteredPlugins().RendererExtensions.init){sap.ushell.Container.getService("PluginManager").registerPlugins({init:{component:"sap.ushell.components.shell.defaults",url:jQuery.sap.getResourcePath("sap/ushell/components/shell/defaults")}});}jQuery.sap.log.info("Triggering load of 'RendererExtension' plug-ins after loading core-ext module (after home page content rendered)",null,"sap.ushell.renderers.fiori2.Shell");if(!k.inHeaderLessOpt){if(e){setTimeout(function(){sap.ushell.Container.getService("PluginManager").loadPlugins("RendererExtensions").always(function(){t._publishCoreExtLoadedEvent();});},5000);}else{sap.ushell.Container.getService("PluginManager").loadPlugins("RendererExtensions").always(function(){t._publishCoreExtLoadedEvent();});}}else{this._publishCoreExtLoadedEvent();}}},_loadCoreExt:function(){jQuery.sap.measure.end("FLP:Container.InitLoading");E.once("CoreResourcesComplementLoaded").do(this._loadRendererExtensionPlugins.bind(this));E.emit("loadCoreResourcesComplement");},_publishCoreExtLoadedEvent:function(){setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","coreExtLoaded");},0);setTimeout(function(){sap.ui.getCore().getEventBus().publish("shell","FLP-FMP");},5000);},getCurrentViewportState:function(){var v=m.getProperty('/currentViewPortState');return v;},makeEndUserFeedbackAnonymousByDefault:function(e){this.oEndUserFeedbackConfiguration.anonymousByDefault=e;},showEndUserFeedbackLegalAgreement:function(e){this.oEndUserFeedbackConfiguration.showLegalAgreement=e;},_activateFloatingUIActions:function(w){if(w<417){this.oFloatingUIActions.disable();}else{this.oFloatingUIActions.enable();}},setFloatingContainerDragSelector:function(e){jQuery(e).addClass("sapUshellShellFloatingContainerSelector");sap.ui.require(["sap/ushell/UIActions"],function(i){if(!this.oFloatingUIActions){this.oFloatingUIActions=new sap.ushell.UIActions({containerSelector:".sapUiBody",wrapperSelector:'.sapUshellShellFloatingContainerWrapper',draggableSelector:'.sapUshellShellFloatingContainerWrapper',rootSelector:".sapUiBody",cloneClass:"sapUshellFloatingContainer-clone",dragCallback:this._handleFloatingContainerUIStart.bind(this),endCallback:this._handleFloatingContainerDrop.bind(this),moveTolerance:3,onDragStartUIHandler:this._onDragStartUI.bind(this),onDragEndUIHandler:this._setFloatingContainerHeight.bind(this),dragAndScrollCallback:this._doDock.bind(this),switchModeDelay:1000,isLayoutEngine:false,isTouch:false,elementToCapture:e,defaultMouseMoveHandler:function(){},debug:jQuery.sap.debug()});}else{this.oFloatingUIActions.elementsToCapture=jQuery(e);}this._activateFloatingUIActions(jQuery(window).width());var t;jQuery(window).bind("resize",function(){clearTimeout(t);t=setTimeout(this._activateFloatingUIActions(jQuery(window).width()),300);}.bind(this));}.bind(this));},_doDock:function(e){jQuery.sap.measure.start("FLP:Shell.controller._doDock","dragging co-pilot element","FLP");var i=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(i.name=="Desktop"){var w=jQuery(window).width();if(e){e.docked={};var q=e.docked;if(e.moveX>=w-64){q.dockPos="right";q.setIsDockingAreaOpen=true;this._openDockingArea(e);}else if(e.moveX<64){q.dockPos="left";q.setIsDockingAreaOpen=true;this._openDockingArea(e);}else{if(this._isDockingAreaOpen()){this._closeDockingArea(e);}if(jQuery("#canvas").hasClass('sapUshellContainerDocked')){this._handleCloseCanvas(e);}}}}jQuery.sap.measure.end("FLP:Shell.controller._doDock");},_finishDoDock:function(e){this._openDockingArea(false);var i=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");i.put("lastState","docked:"+e.dockPos);this._handleOpenCanvas(e);var w=jQuery('#sapUshellFloatingContainerWrapper');w.css("height","100%");jQuery("#shell-floatingContainer").addClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsDocked",e.dockPos);if(jQuery(".sapUShellApplicationContainerLimitedWidth").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellApplicationContainerLimitedWidth");jQuery('#application-Action-toappnavsample').addClass("sapUShellDockingContainer");}},_onResizeWithDocking:function(){this.onScreenSizeChange(D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD));setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","appFinderWithDocking");},300);},_onDragStartUI:function(e){jQuery.sap.measure.start("FLP:Shell.controller._onDragStartUI","start drag","FLP");if(this._isDock()){var i=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");i.put("lastState","floating");jQuery("#sapUshellFloatingContainerWrapper").removeClass('sapUshellContainerDocked');jQuery(".sapUshellShellFloatingContainerFullHeight").removeClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsUnDocked");jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");jQuery("#sapUshellFloatingContainerWrapper").addClass('sapUshellContainerDockedMinimizeCoPilot');jQuery(jQuery(".sapUshellContainerDockedMinimizeCoPilot")).on('webkitAnimationEnd oanimationend msAnimationEnd animationend',this._handleAnimations(false));this._handleCloseCanvas(e);}jQuery.sap.measure.end("FLP:Shell.controller._onDragStartUI");},_handleAnimations:function(i,e){var q=jQuery('#canvas');var w=jQuery('#sapUshellFloatingContainerWrapper');if(i){q.addClass("sapUshellContainerDockedLaunchpadTranisation");if(q.hasClass('sapUshellContainer-Narrow-Right')||e=="right"){jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("closeRight",true);}else{jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("closeLeft",true);}w.addClass(" sapUshellContainerDockedExtendCoPilot");setTimeout(function(){if(q.hasClass('sapUshellContainer-Narrow-Right')||e=="right"){jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("closeRight",false);jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("openRight",true);}else if(q.hasClass('sapUshellContainer-Narrow-Left')||e=="left"){jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("closeLeft",false);jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("openLeft",true);}},300);this._onResizeWithDocking();}else{jQuery("#sapUshellFloatingContainerWrapper").addClass("sapUshellContainerDockedExtendCoPilot");if(q.hasClass('sapUshellContainer-Narrow-Right')||e=="right"){jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("openRight",false);}else{jQuery(".sapUshellContainerDockedLaunchpadTranisation").toggleClass("openLeft",false);}setTimeout(function(){q.removeClass("sapUshellContainerDockedLaunchpadTranisation  closeLeft  openLeft closeRight openRight");},550);}var t=sap.ui.getCore().byId('shell-header');t._handleResizeChange();},_openDockingArea:function(e){var i=e?e.docked:false;var I=i?i.setIsDockingAreaOpen:false;if(I&&jQuery("#DockinaAreaDiv").length==0){var q=sap.ui.getCore().getConfiguration().getRTL();if((i.dockPos==="right"&&e.clone&&!q)||(i.dockPos==="left"&&e.clone&&q)){jQuery('<div id="DockinaAreaDiv"  class="sapUshellShellDisplayDockingAreaRight">').appendTo(e.clone.parentElement);}else if((i.dockPos==="left"&&e.clone&&!q)||(i.dockPos==="right"&&e.clone&&q)){jQuery('<div id="DockinaAreaDiv"  class="sapUshellShellDisplayDockingAreaLeft">').appendTo(e.clone.parentElement);}e.clone.oDockedProp={};e.clone.oDockedProp.dockPos=i.dockPos;}else if(!I){this._closeDockingArea();}},_closeDockingArea:function(e){setTimeout(function(){jQuery('.sapUshellShellDisplayDockingAreaRight').remove();jQuery('.sapUshellShellDisplayDockingAreaLeft').remove();},150);var i=sap.ui.getCore().byId('shell-header');if(i){i._handleResizeChange();}},_isDock:function(){return(jQuery('.sapUshellContainerDocked').size()!=0);},_isDockingAreaOpen:function(){return(jQuery('.sapUshellShellDisplayDockingAreaRight').size()!=0||jQuery('.sapUshellShellDisplayDockingAreaLeft').size()!=0);},_handleOpenCanvas:function(e){var i=jQuery('#canvas');var q=jQuery('.sapUshellShellHead');var I=sap.ui.getCore().getConfiguration().getRTL();if((e.dockPos==="right"&&!I)||(e.dockPos==="left"&&I)){i.addClass('sapUshellContainer-Narrow-Right sapUshellContainerDocked ');q.addClass('sapUshellContainerDocked');}if((e.dockPos==="left"&&!I)||(e.dockPos==="right"&&I)){i.addClass('sapUshellContainer-Narrow-Left sapUshellContainerDocked ');q.addClass('sapUshellContainerDocked');}var v=sap.ui.getCore().byId("viewPortContainer");if(v){v._handleSizeChange();}},_handleCloseCanvas:function(e){var i=jQuery('#canvas');var q=jQuery('.sapUshellShellHead');if(e){e.docked.setIsDockingAreaOpen=false;}if(i.hasClass('sapUshellContainer-Narrow-Right')){i.removeClass('sapUshellContainer-Narrow-Right sapUshellContainerDocked sapUshellMoveCanvasRight');q.removeClass('sapUshellContainerDocked');this._openDockingArea(e);this._setFloatingContainerHeight();}if(i.hasClass('sapUshellContainer-Narrow-Left')){i.removeClass('sapUshellContainer-Narrow-Left sapUshellContainerDocked sapUshellMoveCanvasLeft');q.removeClass('sapUshellContainerDocked');this._openDockingArea(e);this._setFloatingContainerHeight();}if(jQuery(".sapUShellDockingContainer").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellDockingContainer");jQuery('#application-Action-toappnavsample').addClass("sapUShellApplicationContainerLimitedWidth");}this._onResizeWithDocking();var v=sap.ui.getCore().byId("viewPortContainer");if(v){v._handleSizeChange();}},_setFloatingContainerHeight:function(e){var w=jQuery(window).width();var W=jQuery('#sapUshellFloatingContainerWrapper');if(this._isDock()){if(e&&(e.clientX>=w-64||e.clientX<64)){W.addClass(' sapUshellContainerDocked');W.addClass("sapUshellContainerDockedMinimizeCoPilot");jQuery(W).on('webkitAnimationEnd oanimationend msAnimationEnd animationend',this._handleAnimations(true));}}else if(!this._isDock()){jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");}},_handleFloatingContainerDrop:function(e,i,q){jQuery.sap.measure.start("FLP:Shell.controller._handleFloatingContainerDrop","drop floating container","FLP");var t=i.firstChild?sap.ui.getCore().byId(i.firstChild.id):undefined,v=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.FloatingContainer"),w=jQuery(window).width(),W=jQuery(window).height(),P=q.deltaX/w,x=q.deltaY/W,O=i.style.visibility,y=i.style.display,z=parseFloat(i.style.left.replace("%","")),G=parseFloat(i.style.top.replace("%",""));i.style.visibility='hidden';i.style.display='block';if(typeof(z)==='number'){P=z+100*q.deltaX/w;}if(typeof(G)==='number'){x=G+100*q.deltaY/W;}if(this._isDockingAreaOpen()){x=0;}i.setAttribute("style","left:"+P+"%;top:"+x+"%;position:absolute;");i.visibility=O;i.display=y;v.put("floatingContainerStyle",i.getAttribute("style"));if(t){t.handleDrop();if(!!q.clone.oDockedProp&&this._isDockingAreaOpen()){this._finishDoDock(q.clone.oDockedProp);}}jQuery.sap.measure.end("FLP:Shell.controller.handleFloatingContainerDrop");},_handleFloatingContainerUIStart:function(i,q){jQuery.sap.measure.start("FLP:Shell.controller._handleFloatingContainerUIStart","starts dragging floating container","FLP");var t=q;t.style.display="none";if(window.getSelection){var v=window.getSelection();try{v.removeAllRanges();}catch(e){}}jQuery.sap.measure.end("FLP:Shell.controller._handleFloatingContainerUIStart");},getFloatingContainerState:function(){var e=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");var i="floating";if(e!=null){i=e.get("lastState");if(i==null){i="floating";}}return i;},setFloatingContainerVisibility:function(v){var e=this.getFloatingContainerState();if(e){if(e=="floating"){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}else if(e.indexOf("docked")!=-1){if(v==true){var i=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(i.name=="Desktop"){var w=jQuery('#sapUshellFloatingContainerWrapper');w.addClass("sapUshellContainerDocked");jQuery("#canvas, .sapUshellShellHead").addClass("sapUshellContainerDocked");w.css("height","100%");sap.ui.getCore().byId("shell-floatingContainer").addStyleClass("sapUshellShellFloatingContainerFullHeight");var V=sap.ui.getCore().byId("viewPortContainer");if(V){V._handleSizeChange();}if(sap.ui.getCore().getConfiguration().getRTL()){if(e.indexOf("right")!=-1){jQuery("#canvas").addClass('sapUshellContainer-Narrow-Left');this._handleAnimations(true,"left");}else{jQuery("#canvas").addClass('sapUshellContainer-Narrow-Right');this._handleAnimations(true,"right");}}else{if(e.indexOf("right")!=-1){jQuery("#canvas").addClass('sapUshellContainer-Narrow-Right');this._handleAnimations(true,"right");}else{jQuery("#canvas").addClass('sapUshellContainer-Narrow-Left');this._handleAnimations(true,"left");}}setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}.bind(this),400);}else{jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState").put("lastState","floating");this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}if(jQuery(".sapUShellApplicationContainerLimitedWidth").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellApplicationContainerLimitedWidth");jQuery('#application-Action-toappnavsample').addClass("sapUShellDockingContainer");}}else{if(sap.ui.getCore().getConfiguration().getRTL()){if(e.indexOf("right")!=-1){this._handleAnimations(false,"left");}else{this._handleAnimations(false,"right");}}else{if(e.indexOf("right")!=-1){this._handleAnimations(false,"right");}else{this._handleAnimations(false,"left");}}var V=sap.ui.getCore().byId("viewPortContainer");if(V){V._handleSizeChange();}setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}.bind(this),400);if(jQuery(".sapUShellDockingContainer").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellDockingContainer");jQuery('#application-Action-toappnavsample').addClass("sapUShellApplicationContainerLimitedWidth");}}jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");this._onResizeWithDocking();var V=sap.ui.getCore().byId("viewPortContainer");if(V){V._handleSizeChange();}}}},getFloatingContainerVisibility:function(){return this.getView().getOUnifiedShell().getFloatingContainerVisible();},setFloatingContainerContent:function(P,i,e,q){s.setFloatingContainerContent(P,i,e,q);},getRightFloatingContainerVisibility:function(){var R=this.getView().getOUnifiedShell().getRightFloatingContainer(),e=R&&R.getVisible();return e;},setHeaderTitle:function(t,i){if(typeof t!=="string"){throw new Error("sTitle type is invalid");}this.getView().getOUnifiedShell().getHeader().setTitleControl(t,i);},addEndUserFeedbackCustomUI:function(e,i){if(e){this.oEndUserFeedbackConfiguration.customUIContent=e;}if(i===false){this.oEndUserFeedbackConfiguration.showCustomUIContent=i;}},setFooter:function(e){var i=this.getView().getOUnifiedShell();if(typeof e!=="object"||!e.getId){throw new Error("oFooter value is invalid");}if(i.getFooter()!==null){jQuery.sap.log.warning("You can only set one footer. Replacing existing footer: "+i.getFooter().getId()+", with the new footer: "+e.getId()+".");}i.setFooter(e);},removeFooter:function(){this.getView().getOUnifiedShell().setFooter(null);},addUserPreferencesEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateUserPrefModel(e);},addUserProfilingEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateProfilingModel(e);},_validateUserPrefEntryConfiguration:function(e){if((!e)||(typeof e!=="object")){throw new Error("object oConfig was not provided");}if(!e.title){throw new Error("title was not provided");}if(!e.value){throw new Error("value was not provided");}if(typeof e.entryHelpID!=="undefined"){if(typeof e.entryHelpID!=="string"){throw new Error("entryHelpID type is invalid");}else if(e.entryHelpID===""){throw new Error("entryHelpID type is invalid");}var i=sap.ui.getCore().byId('shell-header');i._handleResizeChange();}if(e.title&&typeof e.title!=="string"){throw new Error("title type is invalid");}if(typeof e.value!=="function"&&typeof e.value!=="string"&&typeof e.value!=="number"){throw new Error("value type is invalid");}if(e.onSave&&typeof e.onSave!=="function"){throw new Error("onSave type is invalid");}if(e.content&&typeof e.content!=="function"){throw new Error("content type is invalid");}if(e.onCancel&&typeof e.onCancel!=="function"){throw new Error("onCancel type is invalid");}},_createSessionHandler:function(k){var t=this;sap.ui.require(["sap/ushell/SessionHandler"],function(e){t.oSessionHandler=new e();t.oSessionHandler.init({oModel:t.getModel(),keepSessionAlivePopupText:k.keepSessionAlivePopupText,pageReloadPopupText:k.pageReloadPopupText,preloadLibrariesForRootIntent:k.preloadLibrariesForRootIntent,sessionTimeoutReminderInMinutes:k.sessionTimeoutReminderInMinutes,sessionTimeoutIntervalInMinutes:k.sessionTimeoutIntervalInMinutes,enableAutomaticSignout:k.enableAutomaticSignout});});},_getSessionHandler:function(){return this.oSessionHandler;},_navBack:function(){this.bMeAreaSelected=false;l();},_historyBackNavigation:function(){window.history.back();},_updateUserPrefModel:function(e){var i=this._getModelEntryFromEntryObject(e),q=m.getProperty("/userPreferences/entries");q.push(i);q=this._reorderUserPrefEntries(q);m.setProperty("/userPreferences/entries",q);},_updateProfilingModel:function(e){var i=this._getModelEntryFromEntryObject(e),q=m.getProperty("/userPreferences/profiling")||[];q.push(i);m.setProperty("/userPreferences/profiling",q);},_getModelEntryFromEntryObject:function(e){return{"entryHelpID":e.entryHelpID,"title":e.title,"editable":e.content?true:false,"valueArgument":e.value,"valueResult":null,"onSave":e.onSave,"onCancel":e.onCancel,"contentFunc":e.content,"contentResult":null,"icon":e.icon};},_reorderUserPrefEntries:function(e){var q,t;for(var i=0;i<e.length;i++){if(e[i].entryHelpID==="flpSettingsEntry"){q=i;}else if(e[i].entryHelpID==="themes"){t=i;}if(q!=undefined&&t!=undefined){var v=e.splice(q,1);e.splice(t+1,0,v[0]);break;}}return e;},onAfterViewPortSwitchState:function(e){var t=e.getParameter("to");var i=sap.ui.getCore().byId("shellAppTitle");m.setProperty("/currentViewPortState",t);if(this.applicationKeyHandler){A.registerAppKeysHandler(this.applicationKeyHandler);this.applicationKeyHandler=undefined;}sap.ui.getCore().getEventBus().publish("launchpad","afterSwitchState",e);if(t==="Center"){i.setVisible(true);this.bMeAreaSelected=false;}else{i.setVisible(false);if(t==="Right"){this.bMeAreaSelected=false;}else if(t=="RightCenter"){this.applicationKeyHandler=A.getAppKeysHandler();A.bFocusOnShell=false;if(sap.ui.getCore().byId("notificationsView")){A.registerAppKeysHandler(sap.ui.getCore().byId("notificationsView").getController().keydownHandler.bind(sap.ui.getCore().byId("notificationsView")));}}}this.validateShowLogo();this._handleHomeAndBackButtonsVisibility();},getModel:function(){return m;},_getConfig:function(){return k?k:{};},_getPersonalizer:function(P){var e=sap.ushell.Container.getService("Personalization");var i=sap.ui.core.Component.getOwnerComponentFor(this.getView());var q={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true};return e.getPersonalizer(P,q,i);},_getCurrentLocationHash:function(){return window.location.hash;},setMeAreaSelected:function(e){this.bMeAreaSelected=e;},getMeAreaSelected:function(){return this.bMeAreaSelected;},setNotificationsSelected:function(e){this.bNotificationsSelected=e;},getNotificationsSelected:function(){return this.bNotificationsSelected;}});},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/Shell.view',['sap/ui/core/IconPool','sap/ui/Device','sap/ui/core/CustomData','sap/ui/core/theming/Parameters','sap/ui/core/routing/HashChanger','sap/ui/core/HTML','sap/ui/model/Filter','sap/ushell/UserActivityLog','./Navigation','sap/ushell/ui/launchpad/ActionItem','sap/ushell/ui/launchpad/Fiori2LoadingDialog','sap/ushell/ui/launchpad/ViewPortContainer','sap/ushell/ui/shell/SplitContainer','sap/ushell/ui/shell/RightFloatingContainer','sap/ushell/ui/shell/ShellLayout','sap/ushell/ui/shell/ShellHeader','sap/ushell/ui/shell/ShellHeadItem','sap/ushell/ui/shell/ShellTitle','sap/ushell/ui/shell/ShellAppTitle','sap/ushell/ui/shell/ShellNavigationMenu','sap/ushell/ui/shell/ToolArea','sap/ushell/ui/shell/NavigationMiniTile','sap/ushell/ui/footerbar/ContactSupportButton','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/renderers/fiori2/AccessKeysHandler','sap/m/StandardListItem','sap/m/Button','sap/m/Dialog','sap/ushell/resources','sap/ushell/utils','sap/ushell/Config'],function(I,D,C,T,H,a,F,U,N,A,b,V,S,R,c,d,e,f,g,h,j,k,l,m,n,o,B,p,r,u,q){"use strict";function s(i,t){return sap.ui.getCore().byId(t.getObject());}sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{createContent:function(t){this.oShellAppTitleStateEnum={SHELL_NAV_MENU_ONLY:0,ALL_MY_APPS_ONLY:1,SHELL_NAV_MENU:2,ALL_MY_APPS:3};var v=this.getViewData()||{},w=v.config||{},x=(w.appState==="embedded")?true:false,y,z=new e({id:"configBtn",tooltip:"{i18n>showGrpsBtn_tooltip}",ariaLabel:"{i18n>showGrpsBtn_tooltip}",icon:I.getIconURI("menu2"),selected:{path:"/currentState/showPane"},press:[t.togglePane,t]}),E=sap.ui.getCore().getConfiguration().getRTL()?"feeder-arrow":"nav-back",G=new e({id:"homeBtn",tooltip:"{i18n>homeBtn_tooltip}",ariaLabel:"{i18n>homeBtn_tooltip}",icon:I.getIconURI("home"),target:w.rootIntent?"#"+w.rootIntent:"#"}),J=new e({id:"backBtn",tooltip:"{i18n>backBtn_tooltip}",ariaLabel:"{i18n>backBtn_tooltip}",icon:I.getIconURI(E),press:t._navBack.bind(t)}),K,L,M;;this._allowUpToThreeActionInShellHeader(w);J.setShowSeparator(false);G.setShowSeparator(false);G.addCustomData(new m({key:"aria-disabled",value:"false",writeToDom:true}));G.addEventDelegate({onsapskipback:function(i){if(n.getAppKeysHandler()){i.preventDefault();n.bFocusOnShell=false;}},onsapskipforward:function(i){if(n.getAppKeysHandler()){i.preventDefault();n.bFocusOnShell=false;}}});z.addEventDelegate({onsapskipforward:function(i){if(n.getAppKeysHandler()){i.preventDefault();n.bFocusOnShell=false;}},onfocusin:function(){n.bFocusOnShell=true;n.bFocusPassedToExternalHandlerFirstTime=true;}});this.aDanglingControls=[];if(!w.preventLoadingDialogAtStartup){y=new b({id:"Fiori2LoadingDialog",text:""});this.aDanglingControls.push(y);}K=this.initViewPortContainer(t);if(u.isNotificationsEnabled()){L=new sap.ushell.ui.shell.ShellHeadItem({id:"NotificationsCountButton",icon:sap.ui.core.IconPool.getIconURI("ui-notifications"),visible:true,enabled:false}).addStyleClass("sapUshellPlaceHolders");L.setShowSeparator(false);this.aDanglingControls.push(L);}M=new sap.ushell.ui.shell.ShellHeadItem({id:"meAreaHeaderButton",icon:'{/userImage/personPlaceHolder}',visible:true,enabled:false}).addStyleClass("sapUshellPlaceHolders");M.setShowSeparator(false);this.aDanglingControls.push(M);if(w.enablePersonalization!==false){var O="openCatalogBtn";var P=r.i18n.getText("open_appFinderBtn");var Q='sap-icon://sys-find';var W=function(){jQuery.sap.measure.start("FLP:AppFinderLoadingStartToEnd","AppFinderLoadingStartToEnd","FLP");var i="Shell-home&/appFinder/catalog";if(this.data("isShellHeader")){var i1=new RegExp("^"+i);if(i1.test(hasher.getHash())){window.location.reload();return;}}setTimeout(function(){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(j1){j1.toExternal({target:{shellHash:"#"+i}});});},D.system.desktop?0:500);};var X=!w.disableAppFinder;if(w.moveAppFinderActionToShellHeader){if(!this.oOpenCatalogItem){this.oOpenCatalogItem=new e(O,{icon:Q,tooltip:P,text:P,press:W,showSeparator:false,visible:X});if(w.enableHelp){this.oOpenCatalogItem.addStyleClass('help-id-openCatalogActionItem');}this.oOpenCatalogItem.data("isShellHeader",true);}}else if(!this.oOpenCatalogItem){this.oOpenCatalogItem=new A(O,{text:P,icon:Q,actionType:'action',press:W,visible:X});if(w.enableHelp){this.oOpenCatalogItem.addStyleClass('help-id-openCatalogActionItem');}}this.aDanglingControls.push(this.oOpenCatalogItem);if(w.moveEditHomePageActionToShellHeader){jQuery.sap.measure.start("FLP:Shell.view.createContent","create the edit home page button as shell head enditem","FLP");if(!this.oTileActionsButton){this.oTileActionsButton=new e("ActionModeBtn",{icon:'sap-icon://edit',visible:false,showSeparator:false});this.oTileActionsButton.data("isShellHeader",true);if(w.enableHelp){this.oTileActionsButton.addStyleClass('help-id-openCatalogActionItem');}}this.aDanglingControls.push(this.oTileActionsButton);jQuery.sap.measure.end("FLP:Shell.view.createContent");}}var Y=new e({id:"endItemsOverflowBtn",tooltip:"{i18n>shellHeaderOverflowBtn_tooltip}",ariaLabel:"{i18n>shellHeaderOverflowBtn_tooltip}",icon:"sap-icon://overflow",press:[t.pressEndItemsOverflow,t],visible:true,showSeparator:false});this.aDanglingControls.push(Y);var Z=new S({id:'shell-split',showSecondaryContent:{path:"/currentState/showPane"},secondaryContent:{path:"/currentState/paneContent",factory:s},content:K,subHeader:{path:"/currentState/subHeader",factory:s}});var $=new j({id:'shell-toolArea',toolAreaItems:{path:"/currentState/toolAreaItems",factory:s}});var _=new R({id:'right-floating-container',top:'6.875',hideItemsAfterPresentation:true,visible:'{/currentState/showRightFloatingContainer}',floatingContainerItems:{path:"/currentState/RightFloatingContainerItems",factory:s},insertItemsWithAnimation:{path:'/animationMode',formatter:function(i){return i!=='minimal';}}});var a1=new f("shellTitle",{text:{path:"/title"}});var b1=function(i1,j1){var k1=j1.getProperty("icon");var l1=j1.getProperty("title");var m1=j1.getProperty("subtitle");var n1=j1.getProperty("intent");if(!k1){k1="sap-icon://circle-task-2";}var o1=(new o({type:"Active",title:l1,description:m1,icon:k1,customData:[new C({key:"intent",value:n1})],press:function(p1){var q1=p1.getSource().getCustomData();if(q1&&q1.length>0){for(var i=0;i<q1.length;i++){if(q1[i].getKey()==="intent"){var r1=q1[i].getValue();if(r1&&r1[0]==="#"){t.navigateFromShellApplicationNavigationMenu(r1);return;}}}}}})).addStyleClass("sapUshellNavigationMenuListItems");return o1;};var c1=function(i,i1){var j1=i1.getProperty("icon");var k1=i1.getProperty("title");var l1=i1.getProperty("subtitle");var m1=i1.getProperty("intent");if(!l1&&!j1){j1="sap-icon://documents";}return new k({title:k1,subtitle:l1,icon:j1,intent:m1,press:function(){var n1=this.getIntent();if(n1&&n1[0]==='#'){t.navigateFromShellApplicationNavigationMenu(n1);}}});};var d1=new h("shellNavigationMenu",{title:"{/currentState/application/title}",icon:"{/currentState/application/icon}",showTitle:{path:"/currentState/application/showNavMenuTitle"},showRelatedApps:(w.appState==="lean")?false:true,items:{path:"/currentState/application/hierarchy",factory:b1.bind(this)},miniTiles:{path:"/currentState/application/relatedApps",factory:c1.bind(this)},visible:{path:'/ShellAppTitleState',formatter:function(i){return i===this.oShellAppTitleStateEnum.SHELL_NAV_MENU;}.bind(this)}});this.oShellNavigationMenu=d1;var e1;e1=new g({id:"shellAppTitle",text:"{/currentState/application/title}",tooltip:r.i18n.getText("shellNavMenu_openMenuTooltip"),navigationMenu:d1});e1.addEventDelegate({onsapskipforward:function(i){if(n.getAppKeysHandler()){i.preventDefault();n.bFocusOnShell=false;}}});var f1=new F('','EQ','a'),g1,h1;f1.fnTest=t.isHeadEndItemNotInOverflow.bind(t);g1=new d({id:'shell-header',showLogo:{path:"/currentState/showLogo"},headItems:{path:"/currentState/headItems",factory:s},headEndItems:{path:"/currentState/headEndItems",factory:s,filters:[f1]},visible:{path:"/currentState/headerVisible"},title:a1,appTitle:e1,showSeparators:false});g1.setAccessKeyHandler(n);this.oShellHeader=g1;this.addEventDelegate({"onBeforeRendering":function(){this.oShellHeader.createUIArea(this.getUIArea().getId());}},this);h1=new c({id:"shell",header:g1,toolArea:$,rightFloatingContainer:_,floatingContainerVisible:false,canvasSplitContainer:Z,toolAreaVisible:{path:"/currentState/toolAreaVisible"},headerVisible:{path:"/currentState/headerVisible"},backgroundColorForce:false,showBrandLine:false,showAnimation:false,enableCanvasShapes:w.enableBackGroundShapes===undefined?true:w.enableBackGroundShapes});h1._setStrongBackground(true);this.setOUnifiedShell(h1);g1.setShellLayout(h1);if(x){g1.setLogo(sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'));}else{this.initShellBarLogo(g1);}this.setDisplayBlock(true);this.aDanglingControls=this.aDanglingControls.concat([sap.ui.getCore().byId('viewPortContainer'),G,J,z]);h1.updateAggregation=this.updateShellAggregation;g1.updateAggregation=this.updateShellAggregation;$.updateAggregation=this.updateShellAggregation;_.updateAggregation=this.updateShellAggregation;Z.updateAggregation=this.updateShellAggregation;this.logonIFrameReference=null;u.setPerformanceMark("FLP - Shell.view rendering started!");return h1;},_allowUpToThreeActionInShellHeader:function(i){if(Object.keys(i).length!=0){var t=[i.moveAppFinderActionToShellHeader,i.moveUserSettingsActionToShellHeader,i.moveGiveFeedbackActionToShellHeader,i.moveContactSupportActionToShellHeader,i.moveEditHomePageActionToShellHeader];var v=0;for(var w=0;w<5;w++){if(v===3){t[w]=false;}else if(t[w]){v++;}}i.moveAppFinderActionToShellHeader=t[0];i.moveUserSettingsActionToShellHeader=t[1];i.moveGiveFeedbackActionToShellHeader=t[2];i.moveContactSupportActionToShellHeader=t[3];i.moveEditHomePageActionToShellHeader=t[4];}},_createPostCoreExtControls:function(i,t){var v=new i({id:'shell-floatingContainer',content:{path:"/currentState/floatingContainerContent",factory:s}});v.addCustomData(new m({key:"tabindex",value:"-1",writeToDom:true}));v.addEventDelegate({onsapskipforward:function(E){E.preventDefault();n.setIsFocusHandledByAnotherHandler(true);n.sendFocusBackToShell(E);},onsapskipback:function(E){if(n.getAppKeysHandler()){E.preventDefault();n.bFocusOnShell=false;}}});var w=sap.ui.getCore().byId("shell"),M=w.getModel();v.setModel(M);this.aDanglingControls.push(v);var x=new t({id:'shell-floatingActions',floatingActions:{path:"/currentState/floatingActions",factory:s}});x.updateAggregation=this.updateShellAggregation;var y=this.getOUnifiedShell();y.setFloatingContainer(v);y.setFloatingActionsContainer(x);this._createAllMyAppsView();},createPostCoreExtControls:function(){sap.ui.require(["sap/ushell/ui/shell/FloatingContainer","sap/ushell/ui/shell/ShellFloatingActions"],this._createPostCoreExtControls.bind(this));},_createAllMyAppsView:function(){var i=function(t){if(t.isEnabled()){this.oAllMyAppsView=sap.ui.view("allMyAppsView",{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.allMyApps.AllMyApps",viewData:{_fnGetShellModel:this.getModel.bind(this)},height:"100%",visible:{path:'/ShellAppTitleState',formatter:function(v){return v!==this.oShellAppTitleStateEnum.SHELL_NAV_MENU;}.bind(this)}}).addStyleClass("sapUshellAllMyAppsView");this.oAllMyAppsView.addCustomData(new m({key:"aria-label",value:r.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.getOUnifiedShell().getHeader().getAppTitle().setAllMyApps(this.oAllMyAppsView);}}.bind(this);sap.ushell.Container.getServiceAsync("AllMyApps").then(i);},getOUnifiedShell:function(){return this.oUnifiedShell;},setOUnifiedShell:function(i){this.oUnifiedShell=i;},_getIconURI:function(i){var t=null;if(i){var v=/url[\s]*\('?"?([^\'")]*)'?"?\)/.exec(i);if(v){t=v[1];}}return t;},initShellBarLogo:function(i){var M=jQuery.sap.getModulePath("sap.ushell");i.setLogo(M+'/themes/base/img/sap_55x27.png');var t=this;sap.ui.getCore().attachThemeChanged(function(){if(i.bIsDestroyed){return;}var v=T.get("sapUiGlobalLogo");if(v){v=t._getIconURI(v);if(v){i.setLogo(v);}else{i.setLogo(M+'/themes/base/img/sap_55x27.png');}}else{i.setLogo(M+'/themes/base/img/sap_55x27.png');}});u.setPerformanceMark("FLP-TimeToFirstMeaningfullPaint_setLogo");},initViewPortContainer:function(i){var v=new V({id:"viewPortContainer",defaultState:sap.ushell.ui.launchpad.ViewPortState.Center,afterNavigate:jQuery.proxy(i.onAfterNavigate,i),afterSwitchState:jQuery.proxy(i.onAfterViewPortSwitchState,i)});return v;},updateShellAggregation:function(t){var w=this.mBindingInfos[t],x=this.getMetadata().getJSONKeys()[t],y;jQuery.each(this[x._sGetter](),jQuery.proxy(function(i,v){this[x._sRemoveMutator](v);},this));jQuery.each(w.binding.getContexts(),jQuery.proxy(function(i,v){y=w.factory(this.getId()+"-"+i,v)?w.factory(this.getId()+"-"+i,v).setBindingContext(v,w.model):"";this[x._sMutator](y);},this));},getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell";},createIFrameDialog:function(){var i=null,L=this.logonIFrameReference,t;var _=function(){if(L){L.remove();}return jQuery('<iframe id="SAMLDialogFrame" src="" frameborder="0" height="100%" width="100%"></iframe>');};var v=function(){i.addStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').addClass('sapUshellSamlDialogHidden');};this.destroyIFrameDialog();var w=new B({text:r.i18n.getText("samlCloseBtn"),press:function(){sap.ushell.Container.cancelLogon();}});var x=new a("SAMLDialogFrame");this.logonIFrameReference=_();x.setContent(this.logonIFrameReference.prop('outerHTML'));i=new p({id:"SAMLDialog",title:r.i18n.getText("samlDialogTitle"),contentWidth:"50%",contentHeight:"50%",rightButton:w}).addStyleClass("sapUshellIframeDialog");t=q.last("/core/extension/SupportTicket");if(t){var y=new l();y.setWidth('150px');y.setIcon('');i.setLeftButton(y);}i.addContent(x);i.open();v();this.logonIFrameReference=jQuery('#SAMLDialogFrame');return this.logonIFrameReference[0];},destroyIFrameDialog:function(){var i=sap.ui.getCore().byId('SAMLDialog');if(i){i.destroy();}this.logonIFrameReference=null;},showIFrameDialog:function(){var i=sap.ui.getCore().byId('SAMLDialog');if(i){i.removeStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').removeClass('sapUshellSamlDialogHidden');}},addDanglingControl:function(i){this.aDanglingControls.push(i);}});},false);
sap.ui.predefine('sap/ushell/resources',['sap/ui/model/resource/ResourceModel'],function(R){"use strict";var r={};r.getTranslationModel=function(l){var t=new R({bundleUrl:jQuery.sap.getModulePath("sap.ushell.renderers.fiori2.resources.resources",".properties"),bundleLocale:l});return t;};r.i18nModel=r.getTranslationModel(sap.ui.getCore().getConfiguration().getLanguage());r.i18n=r.i18nModel.getResourceBundle();return r;},true);
sap.ui.predefine('sap/ushell/services/AllMyApps',[],function(){"use strict";function A(c,p,s){var S=s&&s.config,e=false,d={},P={HOME:0,EXTERNAL:1,CATALOG:2};this.isEnabled=function(){e=(!S||(S.enabled!==false))?true:false;return e;};this.isHomePageAppsEnabled=function(){return(!S||(S.showHomePageApps!==false))?true:false;};this.isCatalogAppsEnabled=function(){return(!S||(S.showCatalogApps!==false))?true:false;};this.isExternalProviderAppsEnabled=function(){return(!S||(S.showExternalProviders!==false))?true:false;};this.registerExternalProvider=function(a,o){if(!a||(a==="")){return;}if(!o.getTitle||!o.getData){return;}d[a]=o;};this.getDataProviders=function(){return d;};this.getProviderTypeEnum=function(){return P;};this.init=function(){};}A.hasNoAdapter=true;return A;},true);
sap.ui.predefine('sap/ushell/services/AppConfiguration',["sap/ushell/utils"],function(u){"use strict";function A(){var m={},a=true,c=null,I=[],b=[];sap.ui.getCore().getEventBus().subscribe("sap.ushell.renderers.fiori2.Renderer","appOpened",d,this);function d(C,E,D){a=false;if(b.length){for(var i=0;i<b.length;i++){b[i]();}b.length=0;}}this.addActivity=function(r){var U=sap.ushell.Container.getService("UserRecents");return U.addActivity(r);};this.setApplicationInInitMode=function(){a=true;};this.getApplicationRequestQueue=function(){return b;};this.getCurrentAppliction=function(o){return c;};this.getCurrentApplication=this.getCurrentAppliction;this.getMetadata=function(o){if(!o){o=c;}if(o){var h=hasher&&hasher.getHash?hasher.getHash():'',k=this._processKey(h);if(!(m.hasOwnProperty(k))||!m[k].complete){this.addMetadata(o,k);}if(!m[k]){m[k]={complete:false};}if(!m[k].title){m[k].title=o.text||sap.ushell.resources.i18n.getText("default_app_title");}return m[k];}return{};};this._processKey=function(C){var i=C.split('?')[0],p=C.split('?')[1],s,P={},S,f='',g='',o;if(p){s=p.split('&');s.forEach(function(h){var j=h.split('=');P[j[0]]=j[1];});S=Object.keys(P).sort();S.forEach(function(k,h){g=h?'&':'?';f+=g+k+'='+P[k];});return i+f;}o=sap.ushell.Container.getService("URLParsing").parseShellHash(C);i=o?o.semanticObject+"-"+o.action:"";return i;};this.setCurrentApplication=function(o){c=o;if(b.length){b.length=0;}};this.setHeaderHiding=function(){jQuery.sap.log.warning("Application configuration headerHiding property is deprecated and has no effect");};this.addApplicationSettingsButtons=function(B){if(a){b.push(function(){e(B);});}else{e(B);}};function e(B){var i,f=[],r=sap.ushell.Container.getRenderer("fiori2");for(i=0;i<B.length;i++){var C=B[i];f.push(C.getId());C.setIcon(C.getIcon()||sap.ui.core.IconPool.getIconURI('customize'));if(sap.ushell.resources.i18n.getText("userSettings")===C.getProperty("text")){C.setProperty("text",sap.ushell.resources.i18n.getText("userAppSettings"));}C.setType(sap.m.ButtonType.Unstyled);}if(sap.ushell.Container&&r){if(I.length){r.hideActionButton(I,true);}I=f;r.showActionButton(f,true,undefined,true);}}this.setWindowTitle=function(t){window.document.title=t;};this.setIcons=function(i){jQuery.sap.setIcons(i);};this.setApplicationFullWidth=function(v){var V=sap.ui.getCore().byId("viewPortContainer");V.setApplicationFullWidth(v);};this.getSettingsControlAsync=function(){var D=new jQuery.Deferred();sap.ui.require(["sap/ushell/ui/footerbar/SettingsButton"],function(S){D.resolve(new S());});return D.promise();};this.getSettingsControl=function(){var s="sap/ushell/ui/footerbar/SettingsButton",o="sap.ushell.ui.footerbar.SettingsButton",S=sap.ui.require(s);if(S){return new S();}jQuery.sap.require(o);S=jQuery.sap.getObject(o);return new S();};this.getApplicationName=function(o){var M,s=(o&&o.additionalInformation)||null;if(s){M=/^SAPUI5\.Component=(.+)$/i.exec(s);if(M){return M[1];}}return null;};this.getApplicationUrl=function(o){var U=(o&&o.url)||null,s="P_TCODE",i;if(U){if(o.applicationType==="NWBC"&&U.indexOf(s)){return U;}i=U.indexOf("?");if(i>=0){U=U.slice(0,i);}if(U.slice(-1)!=='/'){U+='/';}}return U;};this.getPropertyValueFromConfig=function(C,p,r){var v;if(r&&C.hasOwnProperty(p+"Resource")){v=r.getText(C[p+"Resource"]);}else if(C.hasOwnProperty(p)){v=C[p];}return v;};this.getPropertyValueFromManifest=function(l,p,P){var M=p[P].manifestEntryKey,s=p[P].path,o=l.getManifestEntry(M);return jQuery.sap.getObject(s,undefined,o);};this.addMetadata=function(o,k){try{var C=this.getApplicationName(o),U=this.getApplicationUrl(o),l,f,p={"fullWidth":{"manifestEntryKey":"sap.ui","path":"fullWidth"},"hideLightBackground":{"manifestEntryKey":"sap.ui","path":"hideLightBackground"},"title":{"manifestEntryKey":"sap.app","path":"title"},"icon":{"manifestEntryKey":"sap.ui","path":"icons.icon"},"favIcon":{"manifestEntryKey":"sap.ui","path":"icons.favIcon"},"homeScreenIconPhone":{"manifestEntryKey":"sap.ui","path":"icons.phone"},"homeScreenIconPhone@2":{"manifestEntryKey":"sap.ui","path":"icons.phone@2"},"homeScreenIconTablet":{"manifestEntryKey":"sap.ui","path":"icons.tablet"},"homeScreenIconTablet@2":{"manifestEntryKey":"sap.ui","path":"icons.tablet@2"},"startupImage320x460":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x920"},"startupImage640x920":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x920"},"startupImage640x1096":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x1096"},"startupImage768x1004":{"manifestEntryKey":"sap.ui","path":"icons.startupImage768x1004"},"startupImage748x1024":{"manifestEntryKey":"sap.ui","path":"icons.startupImage748x1024"},"startupImage1536x2008":{"manifestEntryKey":"sap.ui","path":"icons.startupImage1536x2008"},"startupImage1496x2048":{"manifestEntryKey":"sap.ui","path":"icons.startupImage1496x2048"},"compactContentDensity":{"manifestEntryKey":"sap.ui5","path":"contentDensities.compact"},"cozyContentDensity":{"manifestEntryKey":"sap.ui5","path":"contentDensities.cozy"}},g,s,i,M,P,h,r,j=o&&o.componentHandle;if(k){if(!(m.hasOwnProperty(k))){m[k]={complete:false};}if(!m[k].complete){if(j){l=j.getMetadata();}else if(C){jQuery.sap.log.warning("No component handle available for '"+C+"'; SAPUI5 component metadata is incomplete",null,"sap.ushell.services.AppConfiguration");return;}if(l){f=l.getConfig();M=(l.getManifest()!==undefined);m[k].complete=true;if(f){h=f.resourceBundle||"";if(h){if(h.slice(0,1)!=='/'){h=U+h;}r=jQuery.sap.resources({url:h,locale:sap.ui.getCore().getConfiguration().getLanguage()});}}for(P in p){if(p.hasOwnProperty(P)){if(M){m[k][P]=this.getPropertyValueFromManifest(l,p,P);}if(f&&m[k][P]===undefined){m[k][P]=this.getPropertyValueFromConfig(f,P,r);}}}m[k].version=l.getVersion();m[k].technicalName=l.getComponentName();}else if(u.isApplicationTypeEmbeddedInIframe(o.applicationType)){var w="/~canvas;window=app/wda/",n=o.url.indexOf(w),W="/bc/gui/sap/its/webgui",q=o.url.indexOf(W);if(n>=0){m[k].technicalName=o.url.substring((n+w.length),o.url.indexOf("/",(n+w.length)));}m[k].complete=true;if(q>=0){var E="etransaction=",t=o.url.indexOf(E,q+W.length),v=o.url.indexOf("&",t),x=(v>=0)?v:o.url.length;m[k].technicalName=o.url.substring(t+E.length,x)+" (TCODE)";}}else{jQuery.sap.log.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration");}}g=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];s=(U&&U[U.length-1]==='/')?U.substring(0,U.length-1):U;i=function(U){if(U.match(/^https?:\/\/.*/)){return false;}return U&&U[0]!=='/';};g.forEach(function(z){var O=m[k][z],F=null;if(O){F=i(O)?s+"/"+O:O;}m[k][z]=F;});}}catch(y){jQuery.sap.log.warning("Application configuration could not be parsed");}};}return new A();},true);
sap.ui.predefine('sap/ushell/services/AppLifeCycle',["sap/ui/base/EventProvider"],function(E){"use strict";var S="appLoaded";function A(a,c,p,C){var o,e,v;this.getCurrentApplication=function(){return o;};this.attachAppLoaded=function(d,f,l){e.attachEvent(S,d,f,l);};this.detachAppLoaded=function(f,l){e.detachEvent(S,f,l);};e=new E();v=sap.ui.getCore().byId("viewPortContainer");if(!v||typeof v.attachAfterNavigate!=="function"){jQuery.sap.log.error("Error during instantiation of AppLifeCycle service","Could not attach to afterNavigate event","sap.ushell.services.AppLifeCycle");return;}v.attachAfterNavigate(function(b){var d,f,s,g,h=false;if(b.mParameters.toId.indexOf("applicationShellPage")===0){f=b.mParameters.to.getApp();}else if(b.mParameters.toId.indexOf("application")===0){f=b.mParameters.to;}if(f&&typeof f.getComponentHandle==="function"&&f.getComponentHandle()){g=f.getComponentHandle().getInstance();}else{d=f.getAggregation("child");if(d){g=d.getComponentInstance();}}if(g&&g.getId()==="application-Shell-home-component"){h=true;}s=f&&typeof f.getApplicationType==="function"&&f.getApplicationType();if((!s||s==="URL")&&g){s="UI5";}o={applicationType:s,componentInstance:g,homePage:h};setTimeout(function(){e.fireEvent(S,o);},0);});}A.hasNoAdapter=true;return A;},true);
sap.ui.predefine('sap/ushell/services/AppState',["sap/ushell/services/_AppState/WindowAdapter","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/Sequentializer","sap/ushell/utils"],function(W,S,A,a,u){"use strict";function g(c){return u.isDefined(c)&&u.isDefined(c.transient)?!!c.transient:true;}function b(o,c,p,C){this._oConfig=C&&C.config;this._sSessionKey="";this._oAdapter=new S(o);this._oAdapter=new W(this,this._oAdapter,C);}b.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey();}return this._sSessionKey;};b.prototype.getAppState=function(k){var d=new jQuery.Deferred(),t=this,o;this._loadAppState(k).done(function(k,D){o=new A(t,k,false,D);d.resolve(o);}).fail(function(m){o=new A(t,k);d.resolve(o);});return d.promise();};b.prototype._getGeneratedKey=function(){var s=sap.ushell.Container.getService("Personalization").getGeneratedKey();s=("AS"+s).substring(0,40);return s;};b.prototype.createEmptyAppState=function(c,t){var k=this._getGeneratedKey(),o,s="",d="",U=u.isDefined(t)?t:g(this._oConfig);if(c){if(!(c instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getName==="function"){s=c.getMetadata().getName()||"";}if(!s&&c.getMetadata&&c.getMetadata().getComponentName){s=c.getMetadata().getComponentName();}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getManifest==="function"&&typeof c.getMetadata().getManifest()==="object"&&typeof c.getMetadata().getManifest()["sap.app"]==="object"){d=c.getMetadata().getManifest()["sap.app"].ach||"";}}o=new A(this,k,true,undefined,s,d,U);return o;};b.prototype.createEmptyUnmodifiableAppState=function(c){var k=this._getGeneratedKey(),o;o=new A(this,k,false);return o;};b.prototype._saveAppState=function(k,d,s,c,t){var e=this._getSessionKey(),U=u.isDefined(t)?t:g(this._oConfig);return this._oAdapter.saveAppState(k,e,d,s,c,U);};b.prototype._loadAppState=function(k){return this._oAdapter.loadAppState(k);};b._getSequentializer=function(){return new a();};b.WindowAdapter=W;b.hasNoAdapter=false;return b;},true);
sap.ui.predefine('sap/ushell/services/AppType',[],function(){"use strict";return{OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",APP:"Application",getDisplayName:function(a){switch(a){case this.OVP:case this.SEARCH:case this.FACTSHEET:case this.COPILOT:return a;default:return"App";}}};});
sap.ui.predefine('sap/ushell/services/ClientSideTargetResolution',["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/AppConfiguration","sap/ushell/services/_ClientSideTargetResolution/InboundProvider","sap/ushell/services/_ClientSideTargetResolution/InboundIndex","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Search","sap/ushell/services/_ClientSideTargetResolution/StagedLogger","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/navigationMode","sap/ushell/Config","sap/ui/thirdparty/URI"],function(u,c,a,I,b,V,S,l,f,n,C,U){"use strict";function d(A,o,p,s){this._init.apply(this,arguments);}var g="";var O={apply:"apply",applied:"applied"};d.prototype._init=function(A,o,p,s){this._iLogId=0;sap.ui.lazyRequire("sap/ui/generic/app/navigation/service/SelectionVariant");if(!this._implementsServiceInterface(A)){jQuery.sap.log.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return;}this._oInboundProvider=new I(A.getInbounds.bind(A));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=s;this._oAdapter=A;};d.prototype._implementsServiceInterface=function(A){if(typeof A.getInbounds==="function"){return true;}return false;};d.prototype._getURLParsing=function(){if(!this._oURLParsing){this._oURLParsing=sap.ushell.Container.getService("URLParsing");}return this._oURLParsing;};d.prototype._isFullLocalWDAResolution=function(m){var o=m.inbound,r=o&&o.resolutionResult;if(this._oServiceConfiguration&&this._oServiceConfiguration.config&&this._oServiceConfiguration.config["enableWdaLocalResolution"]===false){return false;}return!(!o||!r||!(r["sap.wda"])||!(r.applicationType==="WDA"));};d.prototype._isLocalWDAResolution=function(m){var o=m.inbound,r=o&&o.resolutionResult;if(this._oServiceConfiguration&&this._oServiceConfiguration.config&&this._oServiceConfiguration.config["enableWdaLocalResolution"]===false){return false;}return!(!o||!r||!(r.applicationType==="WDA"));};d.prototype._isFullLocalWebguiResolution=function(m){var o=m.inbound,r=o&&o.resolutionResult;if(this._oServiceConfiguration&&this._oServiceConfiguration.config&&this._oServiceConfiguration.config["enableWebguiLocalResolution"]===false){return false;}return!(!o||!r||!(r["sap.gui"])||!(r.applicationType==="TR"));};d.prototype._isLocalWebguiNowrapResolution=function(m){var o=m.inbound,r=o&&o.resolutionResult;if(this._oServiceConfiguration&&this._oServiceConfiguration.config&&this._oServiceConfiguration.config["enableWebguiLocalResolution"]===false){return false;}return!((!o||!r||!(r.applicationType==="TR")||!(r.url.indexOf("/~canvas;")>=0)||!(r.url.indexOf("app/transaction/APB_LPD_CALL_")===-1)));};d.prototype._isLocalWebguiWrapResolution=function(m){var o=m.inbound,r=o&&o.resolutionResult;if(this._oServiceConfiguration&&this._oServiceConfiguration.config&&this._oServiceConfiguration.config["enableWebguiLocalResolution"]===false){return false;}return!((!o||!r||!(r.applicationType==="TR")||!(r.url.indexOf("/~canvas;")>=0)||!(r.url.indexOf("app/transaction/APB_LPD_CALL_")>=0)));};d.prototype._isLocalNativeWebguiWrapResolution=function(m){var o=m.inbound,r=o&&o.resolutionResult;if(this._oServiceConfiguration&&this._oServiceConfiguration.config&&this._oServiceConfiguration.config["enableNativeWebguiLocalResolution"]===false){return false;}return!((!o||!r||!(r.applicationType==="TR")||!(r.url.indexOf("/its/webgui")>=0)||!(r.url.indexOf("APB_LPD_CALL_")!==-1)));};d.prototype._isLocalNativeWebguiNowrapResolution=function(m){var o=m.inbound,r=o&&o.resolutionResult;if(this._oServiceConfiguration&&this._oServiceConfiguration.config&&this._oServiceConfiguration.config["enableNativeWebguiLocalResolution"]===false){return false;}return!((!o||!r||!(r.applicationType==="TR")||!(r.url.indexOf("/its/webgui")>=0)||!(r.url.indexOf("APB_LPD_CALL_")===-1)));};d.prototype._hasRenameTo=function(m){return m.inbound&&m.inbound.signature&&m.inbound.signature.parameters&&Object.keys(m.inbound.signature.parameters).some(function(k){return!!(m.inbound.signature.parameters[k].renameTo);});};d.prototype._removeUnusedComplexParameterValuesFromDefaultList=function(m){m.defaultedParamNames=m.defaultedParamNames.filter(function(N){if(m.intentParamsPlusAllDefaults[N]&&!jQuery.isArray(m.intentParamsPlusAllDefaults[N])){if(!(m.resolutionResult.oNewAppStateMembers&&m.resolutionResult.oNewAppStateMembers[N])){return false;}}return true;});};d.prototype._mapDefaultParameterNames=function(m){var p=jQuery.sap.getObject("inbound.signature.parameters",undefined,m)||{},M={};m.defaultedParamNames.forEach(function(N){var s=(p[N]&&p[N].renameTo)||N;if(M[s]){jQuery.sap.log.error("renaming of defaultedParamNames creates duplicates"+N+"->"+s);}else{M[s]=true;}});m.mappedDefaultedParamNames=Object.keys(M).sort();};d.prototype._mixAppStateIntoResolutionResultAndRename=function(m,A){var D=new jQuery.Deferred(),t=this,N,s,o;var r=m.resolutionResult;function e(T){var v;t._removeUnusedComplexParameterValuesFromDefaultList(T);t._mapDefaultParameterNames(T);v=n.compute(jQuery.sap.getObject("inbound.resolutionResult.applicationType",undefined,T),(T.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(T.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}).applicationType,C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(T.resolutionResult,v);delete T.resolutionResult.oNewAppStateMembers;D.resolve(T);}function h(r){return(r.oNewAppStateMembers&&!jQuery.isEmptyObject(r.oNewAppStateMembers));}function j(L,P){return jQuery.isArray(L)&&L.some(function(v){return(P.indexOf(v)!==-1);});}function k(v,P){var w,x,y;if(v&&v.selectionVariant){w=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(v.selectionVariant));y=w.getSelectOptionsPropertyNames()||[];x=w.getParameterNames()||[];if(j(y,P)||j(x,P)){return true;}}return false;}function p(v,R,P,w){var x=new sap.ui.generic.app.navigation.service.SelectionVariant(),y=v.getParameterNames()||[],z=v.getSelectOptionsPropertyNames()||[],B,E;y.forEach(function(F){B=v.getParameter(F);if(w&&!P[F]){R.deleted=true;return;}if(P[F]&&P[F].renameTo){if((x.getParameter(P[F].renameTo)===undefined)&&(x.getSelectOption(P[F].renameTo)===undefined)){x.addParameter(P[F].renameTo,B);R.changed=true;}else{jQuery.sap.log.error("renaming of appstate creates duplicates "+F+"->"+P[F].renameTo);}}else{if((x.getParameter(F)===undefined)&&(x.getSelectOption(F)===undefined)){x.addParameter(F,B);}}});z.forEach(function(F){E=v.getSelectOption(F);if(w&&!P[F]){R.deleted=true;return;}if(P[F]&&P[F].renameTo){if((x.getSelectOption(P[F].renameTo)===undefined)&&(x.getParameter(P[F].renameTo)===undefined)){x.massAddSelectOption(P[F].renameTo,E);R.changed=true;}else{jQuery.sap.log.error("renaming of appstate creates duplicates "+F+"->"+P[F].renameTo);}}else{if((x.getSelectOption(F)===undefined)&&(x.getParameter(F)===undefined)){x.massAddSelectOption(F,E);}}});y.forEach(function(F){v.removeParameter(F);});z.forEach(function(F){v.removeSelectOption(F);});x.getParameterNames().forEach(function(F){v.addParameter(F,x.getParameter(F));});x.getSelectOptionsPropertyNames().forEach(function(F){v.massAddSelectOption(F,x.getSelectOption(F));});return v;}function q(v){if(v===undefined||jQuery.isPlainObject(v)){return false;}return true;}function M(v){var w=v.getData()||{},x,y={};var z=m.inbound.signature;if(w.selectionVariant){x=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(w.selectionVariant));}else{x=new sap.ui.generic.app.navigation.service.SelectionVariant();}if(h(r)){Object.keys(r.oNewAppStateMembers).forEach(function(E){x.massAddSelectOption(E,r.oNewAppStateMembers[E].Ranges);});}var B=z.additionalParameters==="ignored";x=p(x,y,z.parameters,B);if(x.getParameterNames().length!==0||x.getSelectOptionsPropertyNames().length!==0||y.deleted){w.selectionVariant=x.toJSONObject();}if(!y.changed&&!y.deleted&&!h(r)){e(m);return;}v.setData(w);v.save().done(function(){m.intentParamsPlusAllDefaults["sap-xapp-state"]=[v.getKey()];m.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[v.getKey()];e(m);});}if(!h(r)&&!t._hasRenameTo(m)){e(m);}else{s=m.intentParamsPlusAllDefaults["sap-xapp-state"]&&m.intentParamsPlusAllDefaults["sap-xapp-state"][0];if(s){A.getAppState(s).done(function(v){var P=c.constructParameterDominatorMap(m.inbound.signature.parameters);o=v.getData();if(q(o)){delete r.oNewAppStateMembers;e(m);}if(r.oNewAppStateMembers){Object.keys(r.oNewAppStateMembers).forEach(function(w){var x=P[w].dominatedBy;if(k(o,x)){delete r.oNewAppStateMembers[w];}});}if(!h(r)&&!t._hasRenameTo(m)){e(m);}else{N=A.createEmptyAppState(undefined,true);if(N){N.setData(v.getData());M(N);}}});}else if(h(r)){M(A.createEmptyAppState(undefined,true));}else{e(m);}}return D.promise();};d.prototype._extractInboundFilter=function(o){if(!this._oAdapter.hasSegmentedAccess){return undefined;}if(typeof o!=="string"){return undefined;}var F=o.indexOf("#")===0?o:"#"+o;var s=this._getURLParsing().parseShellHash(F);if(!s||!s.semanticObject||!s.action){return undefined;}return[{semanticObject:s.semanticObject,action:s.action}];};d.prototype.resolveHashFragment=function(h){var t=this,D=new jQuery.Deferred(),B=this._oAdapter.resolveHashFragmentFallback&&this._oAdapter.resolveHashFragmentFallback.bind(this._oAdapter),s=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(s).then(function(e){t._resolveHashFragment(h,B,e).done(function(o){return D.resolve(o);}).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.resolveTileIntent=function(h){var t=this,D=new jQuery.Deferred(),s=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(s).then(function(o){t._resolveTileIntent(h,undefined,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.resolveTileIntentInContext=function(e,h){var o,D=new jQuery.Deferred();o=b.createIndex(e.concat(V.getInbounds()));this._resolveTileIntent(h,undefined,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));return D.promise();};d.prototype._resolveHashFragment=function(h,B,e){var j=this._getURLParsing(),t=this,D=new jQuery.Deferred(),F=h.indexOf("#")===0?h:"#"+h,s=j.parseShellHash(F);if(s===undefined){jQuery.sap.log.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject().promise();}s.formFactor=u.getFormFactor();this._getMatchingInbounds(s,e,{bExcludeTileInbounds:true}).fail(function(E){jQuery.sap.log.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning("Could not resolve "+h,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");D.reject("Could not resolve navigation target");return;}M=m[0];c.whenDebugEnabled(function(){function k(K,v){return this[K]===undefined?"<undefined>":v;}function r(p,v){return(p==="_original")?undefined:k.call(this,p,v);}var o=JSON.stringify(M,r,"   ");jQuery.sap.log.debug("The following target will now be resolved",o,"sap.ushell.services.ClientSideTargetResolution");});t._resolveSingleMatchingTarget(M,B,F).done(function(o){D.resolve(o);}).fail(D.reject.bind(D));});return D.promise();};d.prototype._resolveEasyAccessMenuIntent=function(o,m,B,F){var e="Intent must be either #Shell-startGUI or #Shell-startWDA";if(o.action==="startGUI"){return this._resolveEasyAccessMenuIntentWebgui(o,m,B,F,true);}if(o.action==="startWDA"){return this._resolveEasyAccessMenuIntentWDA(o,m);}return Promise.reject("The easy access menu intent "+o.semanticObject+"-"+o.action+" could not be resolved: "+e);};d.prototype._resolveEasyAccessMenuIntentWDA=function(o,m){var s,A,e,t=this;A=o.params["sap-ui2-wd-app-id"][0];s=(jQuery.sap.getObject("params.sap-ui2-wd-conf-id",undefined,o)||[])[0];e=Object.keys(o.params).reduce(function(r,p){if(p!=="sap-ui2-wd-app-id"&&p!=="sap-ui2-wd-conf-id"){r[p]=o.params[p];}return r;},{});return new Promise(function(r,R){t._buildWdaURI(A,s,e).done(function(h){var j=o.params.hasOwnProperty("sap-system-src")&&o.params["sap-system-src"][0];var k={url:h.toString(),applicationType:"NWBC",text:A,additionalInformation:"","sap-system":o.params["sap-system"][0]};if(typeof j==="string"){k["sap-system-src"]=j;}if(m&&m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult["sap.platform.runtime"]){k["sap.platform.runtime"]=m.inbound.resolutionResult["sap.platform.runtime"];}r(k);}).fail(function(E){R(E);});});};d.prototype._buildNativeWebGuiURI=function(t,s,e){var h,o;h="/gui/sap/its/webgui?%7etransaction="+t+"&%7enosplash=1";o=new U(h);return this._spliceSapSystemIntoURI(o,g,s,e,"NATIVEWEBGUI",O.apply);};d.prototype._buildWdaURI=function(A,s,o){var e,h,j,k,m=jQuery.extend(true,{},o);if(s){m["sap-wd-configId"]=s;}e=m["sap-system"][0];delete m["sap-system"];if(m.hasOwnProperty("sap-system-src")){h=m["sap-system-src"][0];delete m["sap-system-src"];}j="/ui2/nwbc/~canvas;window=app/wda/"+A+"/"+"?"+this._getURLParsing().paramsToString(m);k=new U(j);return this._spliceSapSystemIntoURI(k,g,e,h,"WDA",O.apply);};d.prototype._resolveEasyAccessMenuIntentWebgui=function(o,m,B,F,e){var t=this;return new Promise(function(r,R){var s;if(o.params["sap-system-src"]){s=o.params["sap-system-src"][0];}t._buildNativeWebGuiURI(o.params["sap-ui2-tcode"][0],o.params["sap-system"][0],s).done(function(h){delete m.intentParamsPlusAllDefaults["sap-ui2-tcode"];t._mapParameterNamesAndRemoveObjects(m);var j=t._blendParamsIntoNativeWebGUI(m.inbound,m.mappedIntentParamsPlusSimpleDefaults,h);if(j&&m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult["sap.platform.runtime"]){j["sap.platform.runtime"]=m.inbound.resolutionResult["sap.platform.runtime"];}j["sap-system"]=o.params["sap-system"][0];if(e){j.text=o.params["sap-ui2-tcode"][0];}r(j);}).fail(function(E){R(E);});});};d.prototype._resolveSingleMatchingTarget=function(m,B,F){var t=this,D=new jQuery.Deferred(),o=this._getURLParsing(),e=o.parseShellHash(F);if(e.semanticObject==="Shell"&&(e.action==="startWDA"||e.action==="startGUI")){this._resolveEasyAccessMenuIntent(e,m,B,F).then(function(r){var N=n.compute(jQuery.sap.getObject("inbound.resolutionResult.applicationType",undefined,m),(m.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(m.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}),C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(r,N);D.resolve(r);},function(E){D.reject(E);});return D.promise();}this._mapParameterNamesAndRemoveObjects(m);this._mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var h=t._determineResultProcessor(m);delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(p){return p!=="sap-tag";});var s=jQuery.sap.getObject('inbound.resolutionResult.url',undefined,m);h(m,B,F,s).then(function(r){jQuery.sap.log.debug("Intent was resolved to the following target",JSON.stringify(m.resolutionResult,null,3),"sap.ushell.services.ClientSideTargetResolution");u.shallowMergeObject(m.resolutionResult,r);D.resolve(m.resolutionResult);},function(M){if(M.indexOf("fallback:")>=0){t._constructFallbackResolutionResult.call(this,m,B,F).then(function(r){u.shallowMergeObject(m.resolutionResult,r);D.resolve(m.resolutionResult);},D.reject.bind(D));}else{D.reject(M);}});});return D.promise();};d.prototype._resolveTileIntent=function(h,B,o){var e=this._getURLParsing(),t=this,D=new jQuery.Deferred(),F=h.indexOf("#")===0?h:"#"+h,s=e.parseShellHash(F);if(s===undefined){jQuery.sap.log.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject("Cannot parse shell hash").promise();}s.formFactor=u.getFormFactor();this._getMatchingInbounds(s,o,{bExcludeTileInbounds:false}).fail(function(E){jQuery.sap.log.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning("Could not resolve "+h,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");D.reject("No matching targets found");return;}M=m[0];t._resolveSingleMatchingTileIntent(M,B,F).done(D.resolve.bind(D)).fail(D.reject.bind(D));});return D.promise();};d.prototype._resolveSingleMatchingTileIntent=function(m,B,F){var D=new jQuery.Deferred(),t=this;this._mapParameterNamesAndRemoveObjects(m);this._mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var e=t._determineResultProcessor(m);delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(p){return p!=="sap-tag";});var s=jQuery.sap.getObject('inbound.resolutionResult.url',undefined,m);e(m,B,F,s).then(function(r){u.shallowMergeObject(m.resolutionResult,r);var T=jQuery.extend(true,{},m.inbound.tileResolutionResult);T.startupParameters=m.effectiveParameters;T.navigationMode=m.resolutionResult.navigationMode;if(!T.navigationMode){T.navigationMode=n.getNavigationMode(m.resolutionResult);}D.resolve(T);jQuery.sap.log.debug("Tile Intent was resolved to the following target",JSON.stringify(T,null,3),"sap.ushell.services.ClientSideTargetResolution");},function(M){D.reject(M);});});return D.promise();};d.prototype._determineResultProcessor=function(m){var o=m.inbound,r=o&&o.resolutionResult;function e(P,R){jQuery.sap.log.debug("Resolution result will be constructed via "+P+" processor",R,"sap.ushell.services.ClientSideTargetResolution");}if(!o||!r){e("FALLBACK","the inbound or the inbound resolutionResult member was not available");return this._constructFallbackResolutionResult.bind(this);}if(r.applicationType==="SAPUI5"){e("SAPUI5","inbound resolutionResult had SAPUI5 applicationType");return this._constructSAPUI5ResolutionResult.bind(this);}var h=this._isFullLocalWDAResolution(m);if(h){e("WDA full url construction");return this._constructFullWDAResolutionResult.bind(this);}var j=this._isLocalWDAResolution(m);if(j){e("WDA");return this._constructWDAResolutionResult.bind(this);}var k=this._isFullLocalWebguiResolution(m);if(k){e("NON-WRAPPED WEBGUI full url construction");return this._constructFullWebguiResolutionResult.bind(this);}var p=this._isLocalWebguiNowrapResolution(m);if(p){e("NON-WRAPPED WEBGUI");return this._constructWebguiNowrapResult.bind(this);}var q=this._isLocalWebguiWrapResolution(m);if(q){e("WRAPPED WEBGUI");return this._constructWebguiWrapResult.bind(this);}var s=this._isLocalNativeWebguiNowrapResolution(m);if(s){e("NATIVE NON-WRAPPED WEBGUI");return this._constructNativeWebguiNowrapResult.bind(this);}var t=this._isLocalNativeWebguiWrapResolution(m);if(t){e("NATIVE WRAPPED WEBGUI");return this._constructNativeWebguiWrapResult.bind(this);}if(r.applicationType==="URL"){e("URL","inbound resolutionResult had URL applicationType");return this._constructURLResolutionResult.bind(this);}if(r.applicationType==="WCF"){e("WCF","inbound resolutionResult had WCF applicationType");return this._constructWCFResolutionResult.bind(this);}e("FALLBACK","could not apply any result processor to inbound resolutionResult: "+JSON.stringify(r,null,"   "));return this._constructFallbackResolutionResult.bind(this);};d.prototype._stripURI=function(o,s,e,h){var D=new jQuery.Deferred(),t=this;if(typeof s==="undefined"){this._stripURIWithSystemAlias(o,s,h,undefined).fail(function(E){D.reject(E);}).done(function(N){D.resolve(N);});return D.promise();}this._resolveSystemAlias(s,e).fail(function(E){D.reject(E);}).done(function(r){t._stripURIWithSystemAlias(o,s,h,r).fail(function(E){D.reject(E);}).done(function(N){D.resolve(N);});});return D.promise();};d.prototype._resolveSystemAlias=function(s,e){var h=typeof e==="string";var j=[s];if(h){j.unshift(e);}var k=u.generateLocalStorageKey("sap-system-data",j);var L=u.getLocalStorage();var m=L.getItem(k);var o={};if(m){try{o=JSON.parse(m);}catch(E){return new jQuery.Deferred().reject("Cannot parse system data from local storage at key '"+k+"'. Data: "+m);}return new jQuery.Deferred().resolve(o).promise();}else if(h){return new jQuery.Deferred().reject("Cannot find data for system '"+s+"' in local storage using key '"+k+"'");}if(typeof this._oAdapter.resolveSystemAlias!=="function"){return new jQuery.Deferred().reject("fallback: the adapter does not implement resolveSystemAlias").promise();}return this._oAdapter.resolveSystemAlias(s);};d.prototype._stripURIWithSystemAlias=function(o,s,e,r){var t=this,h,j,T,k,D=new jQuery.Deferred(),p=new jQuery.Deferred();o.protocol("");o.hostname("");o.port("");t._removeParametersFromURI(o,["sap-client","sap-language"]);if(!jQuery.isPlainObject(r)||typeof s!=="string"){return D.resolve(o).promise();}j=t._selectSystemAliasDataName(r,new U(window.location.toString()).protocol());h=r[j];k=(typeof h.pathPrefix==="string")&&h.pathPrefix;if(k!==""){p.resolve(k);}else{this._resolveSystemAlias("").fail(function(E){D.reject(E);}).done(function(R){var m=R[j];p.resolve(m.pathPrefix);});}p.fail(function(E){D.reject(E);}).done(function(k){if(k&&k.length>0){T=o.path();T=T.replace(k,"");if(T.indexOf("/")!==0){T="/"+T;}o.path(T);}if(e==="NATIVEWEBGUI"&&r.hasOwnProperty("rfc")){T=o.path();T=T.split(";").filter(function(P){return P.indexOf("~sysid=")!==0&&P.indexOf("~service=")!==0&&P.indexOf("~loginGroup=")!==0&&P.indexOf("~messageServer=")!==0&&P.indexOf("~sncNameR3=")!==0&&P.indexOf("~sncQoPR3=")!==0;}).join(";");o.path(T);}D.resolve(o);});return D.promise();};d.prototype._removeParametersFromURI=function(o,p){var B={},t;p.forEach(function(P){B[P]=true;});t=o.query();t=t.split("&").filter(function(P){var s=(P.split("=")[0]||"").toLowerCase();return!B.hasOwnProperty(s);}).join("&");o.query(t);};d.prototype._spliceSapSystemIntoUrlURI=function(o,s,e,h){var t=this,D=new jQuery.Deferred();if(s===g||typeof s==="undefined"){if(this._isAbsoluteURI(o)){return D.resolve(o);}t._applyAliasToURI(e,h,o,"URL").fail(function(E){D.reject(E);}).done(function(j){D.resolve(j);});return D.promise();}this._resolveSystemAlias(s).fail(function(E){D.reject(E);}).done(function(r){var j=t._selectSystemAliasDataName(r,new U(window.location.toString()).protocol()),k=r[j],m;if((o.protocol()||"").toLowerCase()===j&&(o.hostname()||"")===k.host&&(o.path().indexOf(k.pathPrefix)===0)){o.protocol("");o.hostname("");m=o.path().replace(k.pathPrefix,"");o.path(m);t._removeParametersFromURI(o,["sap-language","sap-client"]);t._applyAliasToURI(e,h,o,"URL").fail(function(E){D.reject(E);}).done(function(p){D.resolve(p);});}else{D.resolve(o);}});return D.promise();};d.prototype._spliceSapSystemIntoURI=function(o,s,e,h,j,k){var D=new jQuery.Deferred(),t=this;if(k!==O.apply&&k!==O.applied){throw new Error("Invalid system alias semantic was provided: '"+k+"'");}if(k===O.applied&&((typeof e==="undefined"||s===e))){return D.resolve(o).promise();}if(k===O.apply&&typeof s==="undefined"&&typeof e==="undefined"){return D.resolve(o).promise();}if(j==="URL"&&k==O.applied){return this._spliceSapSystemIntoUrlURI(o,s,e,h);}(new Promise(function(r){if(k===O.apply){r({targetUri:o,alias:e?e:s,sapSystemSrc:e?h:undefined});return;}t._stripURI(o,s,undefined,j).fail(function(E){D.reject(E);}).done(function(m){r({targetUri:m,alias:e});});})).then(function(A){t._applyAliasToURI(A.alias,A.sapSystemSrc,A.targetUri,j).fail(function(E){D.reject(E);}).done(function(m){D.resolve(m);});});return D.promise();};d.prototype._applyAliasToURI=function(s,e,o,h){var t=this,N=o,D=new jQuery.Deferred();this._resolveSystemAlias(s,e).fail(function(E){D.reject(E);}).done(function(r){var v=t._validateResolvedSystemAlias(r);if(!v.isValid){t._reportResolvedSystemAliasValidationErrors(v);D.reject("Invalid system alias definition");return D;}var j=t._selectSystemAliasDataName(r,new U(window.location.toString()).protocol()),k=r[j],q,L,m;if(s===g&&k.host===""&&(k.port===0||k.port==="")){j="";}N.protocol(j);N.hostname(k.host);N.port(k.port);t._interpolatePathPrefixIntoURI(N,h,k.pathPrefix).fail(function(E){D.reject(E);}).done(function(N){q=N.query();if(typeof r.client==="string"&&r.client!==""){q=q+(q.length>0?"&":"")+"sap-client="+r.client;}if(typeof r.language==="string"&&r.language!==""){L=r.language;}else{m=sap.ushell.Container.getUser();if(!m){jQuery.sap.log.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");L="en";}else{L=m.getLanguage();}}q=q+(q.length>0?"&":"")+"sap-language="+L;N.query(q);if(r.hasOwnProperty("rfc")&&h==="NATIVEWEBGUI"){var w=t._constructNativeWebguiParameters(r.rfc,k.host,N);var p=N.path()+";"+w;N.path(p);o._parts.path=p;}D.resolve(N);});});return D.promise();};d.prototype._constructNativeWebguiParameters=function(s,e){var r,R,h,t,j;h=!!s.systemId;if(h){t=[s.systemId&&("~sysid="+s.systemId),s.loginGroup&&("~loginGroup="+s.loginGroup),s.sncNameR3&&("~messageServer="+encodeURIComponent(s.sncNameR3)),s.sncNameR3&&("~sncNameR3="+encodeURIComponent(s.sncNameR3)),s.sncQoPR3&&("~sncQoPR3="+s.sncQoPR3)].filter(function(o){return(typeof o==="string")&&(o!=="");});}else{j=(s.host||"");R=j.toLowerCase()===e.toLowerCase();r=/^[/][HGMR][/].*/.test(j);if(j.length>0&&!R&&!r){jQuery.sap.log.error("Invalid connect string provided in 'host' field of system alias","Data for rfc destination provided are: "+JSON.stringify(s,null,3),"sap.ushell.services.ClientSideTargetResolution");}t=[j&&!r&&!R&&("~rfcHostName="+j),r&&("~connectString="+encodeURIComponent(j)),s.service&&("~service="+s.service),s.sncNameR3&&("~sncNameR3="+encodeURIComponent(s.sncNameR3)),s.sncQoPR3&&("~sncQoPR3="+s.sncQoPR3)].filter(function(o){return(typeof o==="string")&&(o!=="");});}return t.join(";").replace(/(%[A-F0-9]{2})/g,function(E){return E.toLowerCase();});};d.prototype._interpolatePathPrefixIntoURI=function(o,s,p){var t=this,D=new jQuery.Deferred(),T;if(s==="URL"&&p.length===0){return D.resolve(o).promise();}function e(P){var r=P+o.path();o.path(r.replace(/\/+/g,"/"));D.resolve(o);}if(p.length>0){if((s==="WDA"||s==="WEBGUI")&&o.path().indexOf("~canvas")>=0){T=o.path();T="/~canvas"+T.split("~canvas")[1];o.path(T);}e(p);}else{this._resolveSystemAlias("",undefined).fail(function(E){D.reject(E);}).done(function(r){var h=t._selectSystemAliasDataName(r,new U(window.location.toString()).protocol()),P=r[h].pathPrefix;e(P);});}return D.promise();};d.prototype._selectSystemAliasDataName=function(s,B){if(s.hasOwnProperty("https")){return"https";}if(s.hasOwnProperty("http")){return"http";}jQuery.sap.log.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined;};d.prototype._getRenameParameterName=function(p,s,P){if(!P||!jQuery.isArray(P)){return p;}if(s&&s.parameters&&s.parameters[p]&&s.parameters[p].renameTo){return s.parameters[p].renameTo;}return p;};d.prototype._mapParameterNamesAndRemoveObjects=function(m){var t=this,N={},o=m.intentParamsPlusAllDefaults;Object.keys(o).sort().forEach(function(p){var r=t._getRenameParameterName(p,m.inbound.signature,o[p]);if(jQuery.isArray(m.intentParamsPlusAllDefaults[p])){if(N[r]){jQuery.sap.log.error("collision of values during parameter mapping : \""+p+"\" -> \""+r+"\"");}else{N[r]=m.intentParamsPlusAllDefaults[p];}}});m.mappedIntentParamsPlusSimpleDefaults=N;};d.prototype._constructFullWDAResolutionResult=function(m,B,F){var t=this,o=jQuery.sap.getObject("inbound.resolutionResult",undefined,m),M=m.mappedIntentParamsPlusSimpleDefaults||{};var s=o.systemAlias;if(M["sap-system"]){s=M["sap-system"][0];}var e;if(M["sap-system-src"]){e=M["sap-system-src"][0];}var h={"sap-system":[s]};if(typeof e==="string"){h["sap-system-src"]=[e];}return new Promise(function(r,R){t._buildWdaURI(o["sap.wda"].applicationId,o["sap.wda"].configId,h).done(function(w){var M=m.mappedIntentParamsPlusSimpleDefaults;t._constructWDAURLParameters(M,m.mappedDefaultedParamNames).then(function(j){var k=t._appendParametersToURI(w,j);var s=M["sap-system"]&&M["sap-system"][0];var e=M["sap-system-src"]&&M["sap-system-src"][0];var p=t._createWDAResolutionResult(m.inbound,k,s,e);r(p);},function(E){R(E);});}).fail(function(E){R(E);});});};d.prototype._constructFullWebguiResolutionResult=function(m,B,F){var t=this,o=m.inbound,e=o&&o.resolutionResult,M=m.mappedIntentParamsPlusSimpleDefaults||{};var s=e.systemAlias;if(M["sap-system"]){s=M["sap-system"][0];}var h;if(M["sap-system-src"]){h=M["sap-system-src"][0];}return new Promise(function(r,R){t._buildNativeWebGuiURI(o.resolutionResult["sap.gui"].transaction,s,h).done(function(j){t._mapParameterNamesAndRemoveObjects(m);var k=t._blendParamsIntoNativeWebGUI(m.inbound,m.mappedIntentParamsPlusSimpleDefaults,j);if(k&&m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult["sap.platform.runtime"]){k["sap.platform.runtime"]=m.inbound.resolutionResult["sap.platform.runtime"];}k["sap-system"]=s;r(k);}).fail(R);});};d.prototype._constructWDAResolutionResult=function(m,B,F,s){var t=this,o=m.inbound,e=o&&o.resolutionResult,M=m.mappedIntentParamsPlusSimpleDefaults;var w=new U(s);var h=M["sap-system"]&&M["sap-system"][0];var j=M["sap-system-src"]&&M["sap-system-src"][0];return Promise.all([(new Promise(function(D,r){t._spliceSapSystemIntoURI(w,e.systemAlias,h,j,"WDA",e.systemAliasSemantics||O.applied).fail(r).done(D);})),t._constructWDAURLParameters(M,m.mappedDefaultedParamNames)]).then(function(r){var W=r[0];var k=r[1];var p=t._appendParametersToURI(W,k);var R=t._createWDAResolutionResult(o,p,h,j);return R;},function(E){return Promise.reject(E);});};d.prototype._createWDAResolutionResult=function(o,F,s,e){var r={"sap-system":s,url:F,text:o.title,applicationType:"NWBC"};if(typeof e==="string"){r["sap-system-src"]=e;}["additionalInformation","applicationDependencies"].forEach(function(p){if(o.resolutionResult.hasOwnProperty(p)){r[p]=o.resolutionResult[p];}});return r;};d.prototype._appendParametersToURI=function(o,s){var p=o.search();if(s){p=p+((p.indexOf("?")<0)?"?":"&")+s;}return o.search(p).toString();};d.prototype._constructWDAURLParameters=function(p,m){var t=this;return new Promise(function(r,R){var e=jQuery.extend(true,{},p);if(m.length>0){e["sap-ushell-defaultedParameterNames"]=[JSON.stringify(m)];}delete e["sap-system"];sap.ushell.Container.getService("ShellNavigation").compactParams(e,["sap-xapp-state","sap-ushell-defaultedParameterNames","sap-intent-params"],undefined,true).fail(function(E){R(E);}).done(function(E){var s=t._getURLParsing().paramsToString(E);r(s);});});};d.prototype._constructWebguiNowrapResult=function(m,B,F,s){var t=this,o=m.inbound,e=o&&o.resolutionResult;var r={};var w=new U(s);var E=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var h=E["sap-system"]&&E["sap-system"][0];var j=E["sap-system-src"]&&E["sap-system-src"][0];r["sap-system"]=h;delete E["sap-system"];if(typeof j==="string"){r["sap-system-src"]=j;delete E["sap-system-src"];}var k=t._getUnnecessaryWebguiParameters(E,o||{});this._removeObjectKey(E,k);return new Promise(function(R,p){t._spliceSapSystemIntoURI(w,e.systemAlias,h,j,"WEBGUI",r.systemAliasSemantics||O.applied).fail(p).done(function(w){var q=t._getURLParsing().paramsToString(E);var P=w.search();if(q){P=P+((P.indexOf("?")<0)?"?":"&")+q;}w.search(P);["additionalInformation","applicationDependencies"].forEach(function(v){if(o.resolutionResult.hasOwnProperty(v)){r[v]=o.resolutionResult[v];}});r.url=w.toString();r.text=o.title;r.applicationType="NWBC";R(r);});});};d.prototype._constructWebguiWrapResult=function(m,B,F,s){var t=this,o=m.inbound,e=o&&o.resolutionResult;var r={};var w=new U(s);var E=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var h=E["sap-system"]&&E["sap-system"][0];var j=E["sap-system-src"]&&E["sap-system-src"][0];r["sap-system"]=h;delete E["sap-system"];if(typeof j==="string"){r["sap-system-src"]=j;delete E["sap-system-src"];}return new Promise(function(R,k){t._spliceSapSystemIntoURI(w,e.systemAlias,h,j,"WEBGUI",e.systemAliasSemantics||O.applied).fail(k).done(function(w){var p=w.search();p=t._injectEffectiveParametersIntoWebguiPobjectParam(p,E,"&","=");w.search(p);["additionalInformation","applicationDependencies"].forEach(function(P){if(o.resolutionResult.hasOwnProperty(P)){r[P]=o.resolutionResult[P];}});r.url=w.toString();r.text=o.title;r.applicationType="NWBC";R(r);});});};d.prototype._constructWCFResolutionResult=function(m,B,F,s){var t=this,o=new U(s),e=m.inbound,h=e&&e.resolutionResult,E=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults),j,k;if(E["sap-system"]){j=E["sap-system"][0];delete E["sap-system"];}if(E["sap-system-src"]){k=E["sap-system-src"][0];delete E["sap-system-src"];}return new Promise(function(r,R){t._spliceSapSystemIntoURI(o,h.systemAlias,j,k,"WCF",h.systemAliasSemantics||O.apply).done(function(p){var P=t._getURLParsing().paramsToString(E),q=t._appendParametersToUrl(P,p.toString());var v={url:q,text:"",additionalInformation:"",applicationType:"WCF",fullWidth:true};r(v);}).fail(function(p){R(p);});});};d.prototype._injectEffectiveParametersIntoWebguiPobjectParam=function(q,p,Q,s){var e,P="P_OBJECT"+s,m=132;var h=this._getURLParsing().privparamsToString(p,"%25","%21");if(!h){return q;}var j="";this._amendGuiParam("P_OBJECT",q,Q,s,function(k){var r=k.replace(P,"");j=decodeURIComponent(r);if(j.length>0){j=j+"%25";}return P;});h=j+h;var o={pObjX:"",pObject:""};h.match(new RegExp(".{1,"+m+"}","g")).map(function(k){return encodeURIComponent(k);}).forEach(function(k,G){var r="P_OBJECT";var t="pObject";if(G>0){r="P_OBJ"+G;t="pObjX";}var v=o[t].length===0?"":Q;o[t]=o[t]+v+r+s+k;});e=[o.pObjX,o.pObject].filter(function(k){return k.length>0;}).join(Q);var A=this._amendGuiParam("P_OBJECT",q,Q,s,function(F){return e;});if(A.found){return A.query;}return q+(q.length===0?"":Q)+e;};d.prototype._amendGuiParam=function(t,q,Q,s,A){var F=false,p=t+s;var e=q.split(Q).map(function(P){if(P.indexOf(p)!==0){return P;}F=true;return A(P);}).filter(function(P){return typeof P!=="undefined";}).join(Q);return{found:F,query:e};};d.prototype._parseWebguiTransactionQueryParam=function(t){var T="^(.+?)(%20|(%20)(.+))?$",r=new RegExp(T,"i"),s,p={hasParameters:null,transactionParamName:"",transactionCode:"",parameters:[]};var P=t.split("=");if(P.length>2){return{"error":"Found more than one assignment ('=') in the transaction query parameter","details":"Only one '=' sign is expected in "+t};}if(P.length<2||typeof P[1]==="undefined"||P[1].length===0){return{"error":"The transaction query parameter must specify at least the transaction name","details":"Got "+t+" instead."};}p.transactionParamName=P[0];s=P[1];var m=s.match(r);if(!m){return{"error":"Cannot parse ~transaction query parameter value.","details":s+" should match /"+T+"/"};}p.transactionCode=m[1];if(m[2]&&m[2]!=="%20"){var e=m[4]||"";e.split("%3b").forEach(function(N){var h=N.split("%3d"),j=h[0];if(j&&typeof j==="string"&&j.length>0){p.parameters.push({name:j,value:h[1]});}});}p.hasParameters=false;if(p.parameters.length>0){p.hasParameters=true;p.transactionCode=p.transactionCode.replace(/^[*]/,"");}return p;};d.prototype._injectEffectiveParametersIntoWebguiQueryParam=function(t,p){var P=this._parseWebguiTransactionQueryParam(t);if(P.error){jQuery.sap.log.error(P.error,P.details,"sap.ushell.services.ClientSideTargetResolution");return t;}var e=P.parameters.map(function(j){return j.name.toUpperCase()+"%3d"+j.value;});var o={};Object.keys(p).forEach(function(k){o[k.toUpperCase()]=p[k];});var s=this._getURLParsing().privparamsToString(o,"%3b","%3d");if(s){e.push(s);}var h=e.length>0;return P.transactionParamName+"="+(h?"*":"")+P.transactionCode+(h?"%20":"")+e.join("%3b");};d.prototype._constructNativeWebguiWrapResult=function(m,B,F,s){var t=this,o=m.inbound,e=o&&o.resolutionResult,r={};var w=new U(s);var E=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var h=E["sap-system"]&&E["sap-system"][0];var j=E["sap-system-src"]&&E["sap-system-src"][0];r["sap-system"]=h;delete E["sap-system"];if(typeof j==="string"){r["sap-system-src"]=j;delete E["sap-system-src"];}return new Promise(function(R,k){t._spliceSapSystemIntoURI(w,e.systemAlias,h,j,"NATIVEWEBGUI",e.systemAliasSemantics||O.applied).fail(k).done(function(w){var p=w.search();var P=p.split("&").map(function(q){var v;if(q.indexOf("?%7etransaction")===0||q.indexOf("%7etransaction")===0){v=t._injectEffectiveParametersIntoWebguiPobjectParam(q,E,"%3b","%3d");return v;}return q;}).join("&");w.search(P);["additionalInformation","applicationDependencies"].forEach(function(q){if(o.resolutionResult.hasOwnProperty(q)){r[q]=o.resolutionResult[q];}});r.url=w.toString();r.text=o.title;r.applicationType="TR";R(r);});});};d.prototype._isWebguiBusinessParameter=function(N,v){var e;if(arguments.length===1){e=N.split(/[=](.+)?/);if(e.length>1){return this._isWebguiBusinessParameter.apply(this,e);}}return!(N.indexOf("sap-")===0||N.charAt(0)==="~");};d.prototype._getWebguiNonBusinessParameters=function(p){var t=this,N;N=c.filterObject(p,function(k,v){return!t._isWebguiBusinessParameter(k,v);});return N;};d.prototype._getWebguiBusinessParameters=function(p){var B=c.filterObject(p,this._isWebguiBusinessParameter);return B;};function i(p,o){return o&&o.signature&&o.signature&&o.signature.parameters&&o.signature.parameters[p]&&o.signature.parameters[p].required===true;}d.prototype._getUnnecessaryWebguiParameters=function(e,o){var h=i("DYNP_OKCODE",o)||i("DYNP_NO1ST",o);var B=[];if(h){return[];}var j=this._getWebguiBusinessParameters(e);function k(s){return s.toUpperCase();}var N=Object.keys(j).map(k).sort();function m(A,p){if(A.length!==p.length){return false;}return A.every(function(v,q){return A[q]==p[q];});}if(m(["DYNP_NO1ST","DYNP_OKCODE"],N)||m(["DYNP_OKCODE"],N)||m(["DYNP_NO1ST"],N)){B=Object.keys(j);}return B;};d.prototype._constructNativeWebguiNowrapResult=function(m,B,F,s){var t=this,o=m.inbound,r=o&&o.resolutionResult,e={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true,"sap-system-src":true};var w=new U(s);var E=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);var h=E["sap-system"]&&E["sap-system"][0];var j=E["sap-system-src"]&&E["sap-system-src"][0];Object.keys(E).forEach(function(p){if(e[p.toLowerCase()]){delete E[p];}});return new Promise(function(R,k){t._spliceSapSystemIntoURI(w,r.systemAlias,h,j,"NATIVEWEBGUI",r.systemAliasSemantics||O.applied).fail(k).done(function(w){var r=t._blendParamsIntoNativeWebGUI(m.inbound,m.mappedIntentParamsPlusSimpleDefaults,w);R(r);});});};d.prototype._removeObjectKey=function(o,k){k.forEach(function(K){delete o[K];});};d.prototype._blendParamsIntoNativeWebGUI=function(o,m,w){var t=this,F={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true};var r={};var e=jQuery.extend(true,{},m);var s=e["sap-system"]&&e["sap-system"][0];var h=e["sap-system-src"]&&e["sap-system-src"][0];r["sap-system"]=s;if(typeof h==="string"){r["sap-system-src"]=h;}Object.keys(e).forEach(function(q){if(F[q.toLowerCase()]){delete e[q];}});var j=t._getUnnecessaryWebguiParameters(e,o||{});this._removeObjectKey(e,j);var E=this._getWebguiNonBusinessParameters(e);this._removeObjectKey(e,Object.keys(E));var p=w.search();var P=p.split("&").map(function(q){var N;if(!t._isWebguiBusinessParameter(q)){if(q.indexOf("=")>=0){N=q.split("=");if(!E.hasOwnProperty(N[0])){E[N[0]]=N[1];}}else{jQuery.sap.log.error("Found no '=' separator of Webgui non-business parameter. Parameter will be skipped.","'"+q+"'","sap.ushell.services.ClientSideTargetResolution");}return undefined;}var v;if(q.indexOf("?%7etransaction")===0||q.indexOf("%7etransaction")===0){v=t._injectEffectiveParametersIntoWebguiQueryParam(q,e,"%3b","%3d");return v;}return q;}).filter(function(q){return typeof q!=="undefined";}).join("&");var k=t._getURLParsing().paramsToString(E);P=[P,k.replace("~","%7e")].join("&");w.search(P);["additionalInformation","applicationDependencies","sap.platform.runtime"].forEach(function(q){if(o.resolutionResult.hasOwnProperty(q)){r[q]=o.resolutionResult[q];}});r.url=w.toString();r.text=o.title;r.applicationType="TR";return r;};d.prototype._constructSAPUI5ResolutionResult=function(m,B,F,s){var o=m.inbound,e,h,j,E,r={};["applicationType","additionalInformation","applicationDependencies"].forEach(function(p){if(o.resolutionResult.hasOwnProperty(p)){r[p]=o.resolutionResult[p];}});r.url=s;if(r.applicationDependencies&&typeof r.url==="undefined"){r.url="";}if(typeof r.url==="undefined"){return Promise.reject("Cannot resolve intent: url was not specified in matched inbound");}E=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);r.reservedParameters={};var R={"sap-ui-fl-max-layer":true,"sap-ui-fl-control-variant-id":true};Object.keys(R).forEach(function(N){var v=E[N];if(v){delete E[N];r.reservedParameters[N]=v;}});m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(D){return!R[D];});if(m.mappedDefaultedParamNames.length>0){E["sap-ushell-defaultedParameterNames"]=[JSON.stringify(m.mappedDefaultedParamNames)];}h=E["sap-system"]&&E["sap-system"][0];j=E["sap-system-src"]&&E["sap-system-src"][0];r["sap-system"]=h;if(typeof j==="string"){r["sap-system-src"]=j;}m.effectiveParameters=E;e=this._getURLParsing().paramsToString(E);if(e){r.url=s+((s.indexOf("?")<0)?"?":"&")+e;}if(typeof o.resolutionResult.ui5ComponentName!=="undefined"){r.ui5ComponentName=o.resolutionResult.ui5ComponentName;}r.text=o.title;return Promise.resolve(r);};d.prototype._isAbsoluteURI=function(o){return(o.protocol()||"").length>0;};d.prototype._absoluteUrlDefinedByUser=function(o,s,e){if(!e||e===O.applied){return this._isAbsoluteURI(o)&&!s;}if(e===O.apply){return this._isAbsoluteURI(o);}throw new Error("Invalid system alias semantics: '"+e+"'");};d.prototype._constructURLResolutionResult=function(m,B,F,s){var t=this,o=m.inbound,e=o&&o.resolutionResult,r={};var h=new U(s);var E=jQuery.extend(true,{},m.mappedIntentParamsPlusSimpleDefaults);if(m.inbound&&m.inbound.action==="launchURL"&&m.inbound.semanticObject==="Shell"){delete E["sap-external-url"];}var j=E["sap-system"]&&E["sap-system"][0];var k=E["sap-system-src"]&&E["sap-system-src"][0];r["sap-system"]=j;delete E["sap-system"];if(typeof k==="string"){r["sap-system-src"]=k;delete E["sap-system-src"];}return(new Promise(function(R,p){if(t._absoluteUrlDefinedByUser(h,e.systemAlias,e.systemAliasSemantics)){R(s);}else{t._spliceSapSystemIntoURI(h,e.systemAlias,j,k,"URL",e.systemAliasSemantics||O.applied).fail(p).done(function(q){var v=q.toString();R(v);});}})).then(function(p){var P=t._getURLParsing().paramsToString(E);return t._appendParametersToUrl(P,p);},Promise.reject.bind(Promise)).then(function(p){["additionalInformation","applicationDependencies"].forEach(function(P){if(o.resolutionResult.hasOwnProperty(P)){r[P]=o.resolutionResult[P];}});r.url=p;r.text=o.title;r.applicationType="URL";return Promise.resolve(r);},Promise.reject.bind(Promise));};d.prototype._appendParametersToUrl=function(p,s){var e,F;if(p){var h=s.match(/#.*/);if(h){F=h;e=s.replace(h,"");}else{e=s;F="";}s=e+((s.indexOf("?")<0)?"?":"&")+p+F;}return s;};d.prototype._constructFallbackResolutionResult=function(m,B,F){var e={},D;Object.keys(m.intentParamsPlusAllDefaults).forEach(function(p){if(jQuery.isArray(m.intentParamsPlusAllDefaults[p])){e[p]=m.intentParamsPlusAllDefaults[p];}});D=m.mappedDefaultedParamNames||m.defaultedParamNames;if(D.length>0){e["sap-ushell-defaultedParameterNames"]=[JSON.stringify(D)];}if(typeof B!=="function"){jQuery.sap.log.error("Cannot resolve hash fragment",F+" has matched an inbound that cannot be resolved client side"+" and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter","sap.ushell.services.ClientSideTargetResolution");return Promise.reject("Cannot resolve hash fragment: no fallback provided.");}jQuery.sap.log.warning("Cannot resolve hash fragment client side",F+" has matched an inbound that cannot be resolved client side. Using fallback logic","sap.ushell.services.ClientSideTargetResolution");return new Promise(function(r,R){B(F,jQuery.extend(true,{},m.inbound),e).done(function(o){var h={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(function(p){if(o.hasOwnProperty(p)){h[p]=o[p];}});r(h);}).fail(R.bind(null));});};d.prototype.getDistinctSemanticObjects=function(){var D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(o){var s={};o.getAllInbounds().forEach(function(e){if(typeof e.semanticObject==="string"&&e.semanticObject!=="*"&&!e.hideIntentLink&&e.semanticObject.length>0){s[e.semanticObject]=true;}});D.resolve(Object.keys(s).sort());},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.getLinks=function(A){var N,t=this,s,p,e,D=new jQuery.Deferred(),o;if(arguments.length===1&&jQuery.isPlainObject(arguments[0])){N=arguments[0];o=jQuery.extend(true,{},N);["action","semanticObject"].forEach(function(h){if(N.hasOwnProperty(h)){o[h]=N[h];}});if(o.appStateKey){o.params=o.params||{};o.params["sap-xapp-state"]=[o.appStateKey];delete o.appStateKey;}}else if(arguments.length<=3){jQuery.sap.log.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");s=arguments[0];p=arguments[1];e=arguments[2];o={semanticObject:s,params:p,ignoreFormFactor:e};}else{return D.reject("invalid arguments for getLinks").promise();}this._oInboundProvider.getInbounds().then(function(h){t._getLinks(o,h).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._validateGetSemanticObjectLinksArgs=function(A){var s=A.semanticObject,e=A.action,h=!A.hasOwnProperty("action");if(typeof s!=="undefined"||h){if(typeof s!=="string"){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must be a string, got "+Object.prototype.toString.call(s)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(h&&s.match(/^\s+$/)){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must be a non-empty string, got '"+s+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(!h&&s.length===0){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must not be an empty string, got '"+s+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}}if(typeof e!=="undefined"){if(typeof e!=="string"){jQuery.sap.log.error("invalid input for _getLinks","the action must be a string, got "+Object.prototype.toString.call(e)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}if(e.length===0){jQuery.sap.log.error("invalid input for _getLinks","the action must not be an empty string, got '"+e+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}}return undefined;};d.prototype._getLinks=function(A,o){var s=A.semanticObject,e=A.action,p=A.params,w=!!A.withAtLeastOneUsedParam,t=!!A.treatTechHintAsFilter,h=A.ignoreFormFactor,j=A.hasOwnProperty("sortResultsBy")?A.sortResultsBy:"intent";if(A.hasOwnProperty("sortResultOnTexts")){jQuery.sap.log.warning("the parameter 'sortResultOnTexts' was experimantal and is no longer supported","getLinks results will be sorted by '"+j+"'","sap.ushell.services.ClientsideTargetResolution");}var k={bExcludeTileInbounds:true};var E=this._validateGetSemanticObjectLinksArgs(A);if(A.tags){k.tags=A.tags;}if(E){return new jQuery.Deferred().reject(E).promise();}if(s==="*"){return jQuery.when([]);}function m(q,p){var B=q.paramsToString(p);return B?"?"+B:"";}var q=this._getURLParsing(),D=new jQuery.Deferred(),F=u.getFormFactor(),r=q.parseParameters(m(q,p)),v={semanticObject:(s===""?undefined:s),action:e,formFactor:(h?undefined:F),params:r};if(t){v.treatTechHintAsFilter=true;}this._getMatchingInbounds(v,o,k).done(function(M){var x={},R=M.map(function(z){var B=s||z.inbound.semanticObject,G="#"+B+"-"+z.inbound.action,N;if(B==="*"){return undefined;}if(z.inbound.action==="*"){return undefined;}if(z.inbound&&z.inbound.hasOwnProperty("hideIntentLink")&&z.inbound.hideIntentLink===true){return undefined;}if(!x.hasOwnProperty(G)){x[G]={matchingInbound:z.inbound,count:1};if(z.inbound.signature.additionalParameters==="ignored"){N=c.filterObjectKeys(r,function(Q){return(Q.indexOf("sap-")===0)||z.inbound.signature.parameters.hasOwnProperty(Q);},false);}else{N=r;}if(w){var J=Object.keys(N).some(function(Q){return Q.indexOf("sap-")!==0;});if(!J){x[G].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined;}}var K=c.inboundSignatureMeetsParameterOptions(z.inbound.signature.parameters,A.paramsOptions||[]);if(!K){x[G].hideReason="inbound signature does not meet the requested parameter filter options";return undefined;}var L={"intent":G+m(q,N),"text":z.inbound.title};if(z.inbound.icon){L.icon=z.inbound.icon;}if(z.inbound.subTitle){L.subTitle=z.inbound.subTitle;}if(z.inbound.shortTitle){L.shortTitle=z.inbound.shortTitle;}var P=jQuery.sap.getObject('inbound.signature.parameters.sap-tag.defaultValue.value',undefined,z);if(P){L.tags=[P];}return L;}else{x[G].count++;}return undefined;}).filter(function(z){return typeof z==="object";});if(j!=="priority"){R.sort(function(G,z){return G[j]<z[j]?-1:1;});}if(R.length===0){jQuery.sap.log.debug("_getLinks returned no results");}else if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.DEBUG){if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.TRACE){var y=[];var H=[];R.forEach(function(z){var B=z.intent.split("?")[0];if(x[B].hideReason){H.push(["-",B+"("+x[B].hideReason+")\n"," text:",z.text+"\n"," full intent:",z.intent].join(" "));}else{y.push(["-",B,x[B].count>1?"("+(x[B].count-1)+" others matched)\n":"\n","text:",z.text+"\n","full intent:",z.intent].join(" "));}});jQuery.sap.log.debug("_getLinks filtered to the following unique intents:","\n"+y.join("\n"),"sap.ushell.services.ClientSideTargetResolution");jQuery.sap.log.debug("_getLinks would have also returned the following unique intents, but something prevented this:",H.join("\n"),"sap.ushell.services.ClientSideTargetResolution");}else{jQuery.sap.log.debug("_getLinks filtered to unique intents.","Reporting histogram: \n - "+Object.keys(x).join("\n - "),"sap.ushell.services.ClientSideTargetResolution");}}D.resolve(R);}).fail(D.reject.bind(D));return D.promise();};d.prototype._getMatchingInbounds=function(s,o,e){var t=this,T,A,L,h,j,E,p,D=new jQuery.Deferred();if(e){T=e.tags;E=e.bExcludeTileInbounds;}c.whenDebugEnabled(function(){L=++t._iLogId;});l.begin(function(){function k(M){var q=M.action||(typeof M.action==="undefined"?"<any>":"<invalid-value>");var r=M.semanticObject||(typeof M.semanticObject==="undefined"?"<any>":"<invalid-value>");return t._getURLParsing().constructShellHash({semanticObject:r,action:q,params:M.params});}var m=k(s);return{logId:L,title:"Matching Intent '"+m+"' to inbounds (form factor: "+(s.formFactor||'<any>')+")",moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]};});j=s.semanticObject;A=s.action;h=T?o.getSegmentByTags(T):o.getSegment(j,A);if(E){p=h.filter(function(k){return!k.tileResolutionResult||!k.tileResolutionResult.isCustomTile;});}else{p=h;}S.match(s,p,{},c.isDebugEnabled()).then(function(k){l.log(function(){return{logId:L,stage:1,prefix:"\u2718",lines:Object.keys(k.noMatchReasons||{}).map(function(q){return q+" "+k.noMatchReasons[q];})};});l.log(function(){var q=k.matchResults.map(function(M){return f.formatInbound(M.inbound);});return{logId:L,stage:1,prefix:q.length>0?"\u2705":"\u2718",lines:q.length>0?q:["No inbound was matched"]};});var m=Object.keys(k.missingReferences||[]);if(m.length===0){l.log(function(){return{logId:L,stage:2,prefix:"\u2705",line:"No need to resolve references"};});return new jQuery.Deferred().resolve({matchResults:k.matchResults,referencesToInclude:null}).promise();}l.log(function(){return{logId:L,stage:2,line:"@ Must resolve the following references:",prefix:"\u2022",lines:m};});var r=new jQuery.Deferred();sap.ushell.Container.getService("ReferenceResolver").resolveReferences(m).done(function(R){l.log(function(){return{logId:L,stage:2,line:"\u2705 resolved references with the following values:",prefix:"\u2022",lines:Object.keys(R).map(function(q){return q+": '"+R[q]+"'";})};});r.resolve({matchResults:k.matchResults,referencesToInclude:R});}).fail(function(q){l.log(function(){return{logId:L,stage:2,prefix:"\u274c",line:"Failed to resolve references: "+q};});D.resolve([]);});return r.promise();}).then(function(k){var m,M,r=k.referencesToInclude;if(!r){l.log(function(){return{logId:L,stage:3,line:"rematch was skipped (no references to resolve)",prefix:"\u2705"};});return new jQuery.Deferred().resolve(k).promise();}M=k.matchResults;m=M.map(function(q){return q.inbound;});return S.match(s,m,r,0).then(function(F){l.log(function(){var M=F.matchResults||[];if(M.length>=1){return{logId:L,stage:3,line:"The following inbounds re-matched:",lines:M.map(function(q){return f.formatInbound(q.inbound);}),prefix:"\u2705"};}return{logId:L,stage:3,line:"No inbounds re-matched",prefix:"-"};});return F;});}).then(function(F){var m=F.matchResults||[];if(m.length<=1){l.log(function(){return{logId:L,stage:4,line:"Nothing to sort"};});D.resolve(m);return;}var k=S.sortMatchingResultsDeterministic(F.matchResults||[]);l.log(function(){var q=k.map(function(M){return f.formatInbound(M.inbound||{})+(M.matchesVirtualInbound?" (virtual)":"")+"\n[ Sort Criteria ] "+"\n * 1 * sap-priority: '"+M["sap-priority"]+"'"+"\n * 2 * Sort string: '"+M.priorityString+"\n * 3 * Deterministic blob: '"+S.serializeMatchingResult(M)+"'";});return{logId:L,stage:4,line:"Sorted inbounds as follows:",lines:q,prefix:".",number:true};});D.resolve(k);});return D.promise().then(function(m){l.end(function(){return{logId:L};});return m;});};d.prototype._isIntentSupportedOne=function(s,o){var D=new jQuery.Deferred(),e=this._getURLParsing().parseShellHash(s);if(s==="#"){D.resolve(true);return D.promise();}if(e===undefined){return D.reject("Could not parse shell hash '"+s+"'").promise();}e.formFactor=u.getFormFactor();this._getMatchingInbounds(e,o,{bExcludeTileInbounds:true}).done(function(t){D.resolve(t.length>0);}).fail(function(){D.reject();});return D.promise();};d.prototype.isIntentSupported=function(e){var t=this,D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(o){t._isIntentSupported(e,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._isIntentSupported=function(e,o){var t=this,D=new jQuery.Deferred(),s={};D.resolve();function h(j,k){s[j]={supported:k};}var r=[];e.forEach(function(j){var N=t._isIntentSupportedOne(j,o);N.fail(function(E){r.push(E);});N.done(function(k){h(j,k);});D=jQuery.when(D,N);});var R=new jQuery.Deferred();D.done(function(){R.resolve(s);}).fail(function(){R.reject("One or more input intents contain errors: "+r.join(", "));});return R.promise();};d.prototype.getUserDefaultParameterNames=function(){var t=this,D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(o){var r;try{r=t._getUserDefaultParameterNames(o.getAllInbounds());D.resolve(r);}catch(e){D.reject("Cannot get user default parameters from inbounds: "+e);}},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._getUserDefaultParameterNames=function(e){var r={simple:{},extended:{}};e.forEach(function(t){var s=t.signature&&t.signature.parameters||[];Object.keys(s).forEach(function(p){var P=s[p],R,E,h,o;if(P){if(P.filter&&P.filter.format==="reference"){h=P.filter.value;}else if(P.defaultValue&&P.defaultValue.format==="reference"){h=P.defaultValue.value;}if(typeof h==="string"){o=sap.ushell.Container.getService("ReferenceResolver");R=o.extractUserDefaultReferenceName(h);if(typeof R==="string"){r.simple[R]={};}E=o.extractExtendedUserDefaultReferenceName(h);if(typeof E==="string"){r.extended[E]={};}}}});});return r;};d.prototype.getEasyAccessSystems=function(m){var r={},A,v,D;m=m||"sapMenu";if(this._oHaveEasyAccessSystemsDeferreds[m]){return this._oHaveEasyAccessSystemsDeferreds[m].promise();}this._oHaveEasyAccessSystemsDeferreds[m]=new jQuery.Deferred();D=this._oHaveEasyAccessSystemsDeferreds[m];function e(o,s,v){return o&&o.semanticObject&&o.semanticObject==="Shell"&&o.action&&v[m][o.action]&&o.deviceTypes&&s!==undefined&&o.deviceTypes[s];}A={startGUI:{priority:3,appType:"TR"},startWDA:{priority:2,appType:"WDA"},startURL:{priority:1,appType:"URL"}};v={userMenu:{startGUI:true,startWDA:true,startURL:true},sapMenu:{startGUI:true,startWDA:true,startURL:false}};this._oInboundProvider.getInbounds().then(function(o){var L={};o.getAllInbounds().filter(function(h){return e(h,u.getFormFactor(),v);}).forEach(function(E){var s;if(jQuery.isPlainObject(E.signature.parameters["sap-system"])&&E.signature.parameters["sap-system"].hasOwnProperty("filter")){s=jQuery.sap.getObject("signature.parameters.sap-system.filter.value",undefined,E);}if(typeof s==="string"){var h=A[E.action].priority;var j=A[E.action].appType;if(!r[s]){L[s]=-1;r[s]={appType:{}};}if(L[s]<h){r[s].text=E.title;L[s]=h;}r[s].appType[j]=true;}else{jQuery.sap.log.warning("Cannot extract sap-system from easy access menu inbound: "+f.formatInbound(E),"This parameter is supposed to be a string. Got '"+s+"' instead.","sap.ushell.services.ClientSideTargetResolution");}});D.resolve(r);},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._reportResolvedSystemAliasValidationErrors=function(v){jQuery.sap.log.error("Invalid system alias definition: "+v.debug,"ERRORS:"+v.errors.map(function(e){return"\n - "+e;}).join(""),"sap.ushell.services.ClientSideTargetResolution");};d.prototype._validateResolvedSystemAlias=function(r){function v(F){var e=[];if(typeof F.host!=="string"){e.push("host field must be a string");}if(typeof F.port!=="number"&&typeof F.port!=="string"){e.push("port field must be a number or a string");}if(typeof F.pathPrefix!=="string"){e.push("pathPrefix field must be a string");}return e;}var e=[],h=r.hasOwnProperty("https"),H=r.hasOwnProperty("http");if(!H&&!h){e.push("at least one of 'http' or 'https' fields must be defined");}if(h){v(r.https).forEach(function(E){e.push("https>"+E);});}if(H){v(r.http).forEach(function(E){e.push("http>"+E);});}if(e.length>0){return{isValid:false,errors:e,debug:JSON.stringify(r,null,3)};}return{isValid:true};};d.hasNoAdapter=false;return d;},true);
sap.ui.predefine('sap/ushell/services/CommonDataModel',["sap/ushell/services/_CommonDataModel/PersonalizationProcessor","sap/ushell/services/ClientSideTargetResolution"],function(P){"use strict";var S="sap.ushell.services.CommonDataModel";function C(a,c,p,s){var t=this,o=new jQuery.Deferred();function f(m){o.reject(m);}this._oAdapter=a;this._oPersonalizationProcessor=new P();this._oSitePromise=o.promise();this._oContentProviderIndex={};a.getSite().done(function(b){t._oOriginalSite=jQuery.extend(true,{},b);a.getPersonalization().done(function(d){t._oPersonalizationProcessor.mixinPersonalization(b,d).done(function(e){t._oPersonalizedSite=t._ensureCompleteSite(e);o.resolve(t._oPersonalizedSite);}).fail(f);}).fail(f);}).fail(f);}C.prototype.getHomepageGroups=function(){var d=new jQuery.Deferred();this._oSitePromise.then(function(s){var g=(s&&s.site&&s.site.payload&&s.site.payload.groupsOrder)?s.site.payload.groupsOrder:[];d.resolve(g);});return d.promise();};C.prototype.getGroups=function(){var d=new jQuery.Deferred();this._oSitePromise.then(function(s){var g=[];Object.keys(s.groups).forEach(function(k){g.push(s.groups[k]);});d.resolve(g);});return d.promise();};C.prototype.getGroup=function(i){var d=new jQuery.Deferred();this._oSitePromise.then(function(s){var g=s.groups[i];if(g){d.resolve(g);}else{d.reject("Group "+i+" not found");}});return d.promise();};C.prototype.getSite=function(){return this._oSitePromise;};C.prototype.getGroupFromOriginalSite=function(g){var d=new jQuery.Deferred();if(typeof g==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[g]){d.resolve(jQuery.extend(true,{},this._oOriginalSite.groups[g]));}else{d.reject("Group does not exist in original site.");}return d.promise();};C.prototype.save=function(){var d=new jQuery.Deferred(),t=this;this._oPersonalizationProcessor.extractPersonalization(this._oPersonalizedSite,this._oOriginalSite).done(function(e){if(e){t._oAdapter._storePersonalizationData(e).done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}});return d.promise();};function l(){var p=sap.ushell.Container.getService("PluginManager");return p.loadPlugins("ContentProvider");}C.prototype._getUnreferencedCatalogApplications=function(e){var u={};var a=Object.keys(e.applications).map(function(A){return e.applications[A]["sap.app"].id;}).reduce(function(i,A){i[A]=true;return i;},{});var c=e.catalogs;Object.keys(c).forEach(function(s){var A=c[s].payload.appDescriptors;A.map(function(o){return o.id;}).filter(function(b){return!a[b];}).forEach(function(b){if(!u.hasOwnProperty(s)){u[s]={};}u[s][b]=true;});});return u;};C.prototype._formatUnreferencedApplications=function(c,u){return"One or more apps from "+c+" content provider are not listed among the applications section of the extended site and will be discarded - "+Object.keys(u).map(function(s){var b=Object.keys(u[s]).map(function(U){return"'"+U+"'";});return"From catalog '"+s+"': "+b.join(", ");}).join("; ");};C.prototype._removeUnreferencedApplications=function(e,u){Object.keys(e.catalogs).forEach(function(c){var o=e.catalogs[c].payload;var a=o.appDescriptors;o.appDescriptors=a.filter(function(A){return u[c]&&!u[c][A.id];});});};C.prototype.getExtensionSites=function(){var t=this;var d=new jQuery.Deferred();l().done(function(){var c=Object.keys(t._oContentProviderIndex),T=c.length;if(T===0){d.resolve([]);return;}var g=c.map(function(s,i){var o=t._oContentProviderIndex[s];var G;try{G=o.getSite();if(!G||typeof G.then!=="function"){throw"getSite does not return a Promise";}}catch(e){G=Promise.reject("call to getSite failed: "+e);}return G.then(function(s,E){var a=jQuery.extend(true,{},E);var u=t._getUnreferencedCatalogApplications(E);if(Object.keys(u).length>0){var b=t._formatUnreferencedApplications(s,u);jQuery.sap.log.error(b,null,S);t._removeUnreferencedApplications(a,u);}var L={providerId:s,success:true,site:a};d.notify(L);return L;}.bind(null,s),function(s,E){return{providerId:s,success:false,error:E};}.bind(null,s));});Promise.all(g).then(function(L){d.resolve(L);});});return d.promise();};C.prototype.registerContentProvider=function(i,s){if(this._oContentProviderIndex[i]){jQuery.sap.log.error("a content provider with ID '"+i+"' is already registered",null,S);return;}this._oContentProviderIndex[i]=s;jQuery.sap.log.debug("ContentProvider '"+i+"' was registered",null,S);};C.prototype._ensureCompleteSite=function(p){if(p.groups){var g=p.groups;Object.keys(g).forEach(function(k){if(!g[k]){delete g[k];}else{if(!g[k].payload){g[k].payload={};}if(!g[k].payload.links){g[k].payload.links=[];}if(!g[k].payload.tiles){g[k].payload.tiles=[];}if(!g[k].payload.groups){g[k].payload.groups=[];}}});}return p;};C.prototype.getPlugins=(function(){var d,e,p;e=function(s,o){var a,n=Object.keys(o).length;if(n===0){return{};}if(!o.hasOwnProperty("Shell-plugin")){jQuery.sap.log.error("Cannot find inbound with id 'Shell-plugin' for plugin '"+s+"'","plugin startup configuration cannot be determined correctly",S);return{};}if(n>1){jQuery.sap.log.warning("Multiple inbounds are defined for plugin '"+s+"'","plugin startup configuration will be determined using "+"the signature of 'Shell-plugin' inbound.",S);}a=jQuery.sap.getObject("signature.parameters",undefined,o["Shell-plugin"])||{};return Object.keys(a).reduce(function(r,N){var D=jQuery.sap.getObject(N+".defaultValue.value",undefined,a);if(typeof D==="string"){r[N]=D;}return r;},{});};d=function(o){Object.keys(o).filter(function(s){return typeof o[s]==="object";}).forEach(function(s){o[s]=d(o[s]);});return Object.freeze(o);};return function(o){if(o!==undefined){p=o;}if(p){return jQuery.when(p);}p={};return this.getSite().then(function(s){var a=s.applications||{};Object.keys(a).filter(function(A){return"plugin"===jQuery.sap.getObject("type",undefined,this[A]["sap.flp"]);},a).forEach(function(b){var c,f,g=this[b],h={};if(!jQuery.isPlainObject(g["sap.platform.runtime"])){jQuery.sap.log.error("Cannot find 'sap.platform.runtime' section for plugin '"+b+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel");}else if(!jQuery.isPlainObject(g["sap.platform.runtime"].componentProperties)){jQuery.sap.log.error("Cannot find 'sap.platform.runtime/componentProperties' section for plugin '"+b+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel");}else{h=g["sap.platform.runtime"].componentProperties;}p[b]={url:h.url,component:g["sap.ui5"].componentName};var i=jQuery.sap.getObject("crossNavigation.inbounds",undefined,g["sap.app"])||{};f=e(b,i);c=jQuery.extend(h.config||{},f);if(c){p[b].config=c;}if(h.asyncHints){p[b].asyncHints=h.asyncHints;}},a);return d(p);},function(E){return E;});};})();C.hasNoAdapter=false;return C;},true);
sap.ui.predefine('sap/ushell/services/Container',['sap/ushell/utils','sap/ushell/System','sap/ushell/Ui5ServiceFactory','sap/ui/core/service/ServiceFactoryRegistry','sap/ui/core/Control'],function(u,S,U,a,C){"use strict";var b="sap.ushell.services.Container",c="sap.ushell.Container.dirtyState.",o,p,f;function d(){close();}function r(){document.location="about:blank";}function g(P){if(p&&p[P]){return p[P];}return"sap.ushell.adapters."+P;}function h(s){return(o.services&&o.services[s])||{};}function j(n,s,P,A){var e=h(n).adapter||{},i=e.module||g(s.getPlatform())+"."+n+"Adapter";function m(){return new(jQuery.sap.getObject(i))(s,P,{config:e.config||{}});}if(A){return new Promise(function(q,t){var M=i.replace(/\./g,'/');sap.ui.require([M],function(){try{q(m());}catch(v){t(v);}});});}else{jQuery.sap.require(i);return m();}}function k(A){var E=new sap.ui.base.EventProvider(),m=false,R=[],n={},s="sap.ushell.Container."+A.getSystem().getPlatform()+".remoteSystem.",q={},G,t,L=u.getLocalStorage(),v=new u.Map(),w="sap.ushell.Container."+A.getSystem().getPlatform()+".sessionTermination",x=this;this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.cancelXHRLogon();}};this.createRenderer=function(e,i){var B,D,F;jQuery.sap.measure.start("FLP:Container.InitLoading","Initial Loading","FLP");u.setPerformanceMark("FLP - renderer created");e=e||o.defaultRenderer;if(!e){throw new Error("Missing renderer name");}F=(o.renderers&&o.renderers[e])||{};D=F.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);if(F.componentData&&F.componentData.config){B={config:F.componentData.config};}function H(){var I=new(jQuery.sap.getObject(D))({componentData:B});var J;if(D==="sap.ushell.renderers.fiori2.Renderer"){J=I.getRootControl();}if(!J){J=I instanceof sap.ui.core.UIComponent?new sap.ui.core.ComponentContainer({component:I,height:"100%",width:"100%"}):I;}if(!(J instanceof sap.ui.core.Control)){throw new Error("Unsupported renderer type for name "+e);}J.placeAt=function(K,P){var M=K,N="canvas",O=document.body;if(K===O.id){M=document.createElement("div");M.setAttribute("id",N);M.classList.add("sapUShellFullHeight");switch(P){case"first":if(O.firstChild){O.insertBefore(M,O.firstChild);break;}case"only":O.innerHTML='';default:O.appendChild(M);}K=N;P='';}C.prototype.placeAt.call(this,K,P);};n[e]=I;E.fireEvent("rendererCreated",{renderer:I});return J;}if(i){return new Promise(function(I,J){var M=D.replace(/\./g,'/');sap.ui.require([M],function(){try{I(H());}catch(K){J(K);}});});}else{jQuery.sap.require(D);return H();}};this.getRenderer=function(e){var i,B;e=e||o.defaultRenderer;if(e){i=n[e];}else{B=Object.keys(n);if(B.length===1){i=n[B[0]];}else{jQuery.sap.log.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",undefined,b);}}if(i instanceof sap.ui.core.ComponentContainer){return i.getComponentInstance();}return i;};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){var i,D=new jQuery.Deferred(),B=jQuery.sap.uid(),F,P=0,H=this.DirtyState.CLEAN;function I(){if(P===0||H===x.DirtyState.DIRTY){D.resolve(H);jQuery.sap.log.debug("getGlobalDirty() Resolving: "+H,null,"sap.ushell.Container");}}function J(K){if(K.key.indexOf(c)===0&&K.newValue!==x.DirtyState.INITIAL&&K.newValue!==x.DirtyState.PENDING){jQuery.sap.log.debug("getGlobalDirty() Receiving event key: "+K.key+" value: "+K.newValue,null,"sap.ushell.Container");if(K.newValue===x.DirtyState.DIRTY||K.newValue===x.DirtyState.MAYBE_DIRTY){H=K.newValue;}P-=1;I();}}try{L.setItem(B,"CHECK");L.removeItem(B);}catch(e){jQuery.sap.log.warning("Error calling localStorage.setItem(): "+e,null,"sap.ushell.Container");return D.resolve(this.DirtyState.MAYBE_DIRTY).promise();}if(G){throw new Error("getGlobalDirty already called!");}G=D;window.addEventListener('storage',J);D.always(function(){window.removeEventListener('storage',J);G=undefined;});for(i=L.length-1;i>=0;i-=1){F=L.key(i);if(F.indexOf(c)===0){if(L.getItem(F)==='PENDING'){L.removeItem(F);jQuery.sap.log.debug("getGlobalDirty() Cleanup of unresolved 'PENDINGS':"+F,null,"sap.ushell.Container");}else{P+=1;u.localStorageSetItem(F,this.DirtyState.PENDING,true);jQuery.sap.log.debug("getGlobalDirty() Requesting status for: "+F,null,"sap.ushell.Container");}}}I();setTimeout(function(){if(D.state()!=="resolved"){D.resolve('MAYBE_DIRTY');jQuery.sap.log.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container");}},P*2000);return D.promise();};this.getLogonSystem=function(){return A.getSystem();};this.getUser=function(){return A.getUser();};this.getDirtyFlag=function(){for(var i=0;i<R.length;i++){m=m||R[i].call();}return m;};this.setDirtyFlag=function(i){m=i;};this.sessionKeepAlive=function(){if(A.sessionKeepAlive){A.sessionKeepAlive();}};this.registerDirtyStateProvider=function(D){if(typeof D!=="function"){throw new Error("fnDirty must be a function");}R.push(D);};this.getService=function(e,P,i){var B={},M,K,D,F,H,I;function J(Q){var T=new jQuery.Deferred();if(!Q){throw new Error("Missing system");}T.resolve(j(e,Q,P));sap.ushell.Container.addRemoteSystem(Q);return T.promise();}if(!e){throw new Error("Missing service name");}if(e.indexOf(".")>=0){throw new Error("Unsupported service name");}H=h(e);M=H.module||"sap.ushell.services."+e;K=M+"/"+(P||"");I={config:H.config||{}};function N(Q,F){B.createAdapter=J;return new Q(F,B,P,I);}function O(D,i){var Q;if(D.hasNoAdapter){Q=new D(B,P,I);}else{F=j(e,A.getSystem(),P,i);if(i){return F.then(function(T){var Q=N(D,T);v.put(K,Q);return Q;});}else{Q=N(D,F);}}v.put(K,Q);return i?Promise.resolve(Q):Q;}if(!v.containsKey(K)){if(i){return new Promise(function(Q){sap.ui.require([M.replace(/[.]/g,"/")],function(T){Q(O(T,true));});});}else{D=sap.ui.requireSync(M.replace(/[.]/g,"/"));return O(D);}}if(i){return Promise.resolve(v.get(K));}else{return v.get(K);}};this.getServiceAsync=function(e,P){return Promise.resolve(this.getService(e,P,true));};function y(){var B,D,i,K;for(i=L.length-1;i>=0;i-=1){K=L.key(i);if(K.indexOf(s)===0){try{B=K.substring(s.length);D=JSON.parse(L.getItem(K));q[B]=new S(D);}catch(e){L.removeItem(K);}}}return q;}function z(){if(typeof OData==='undefined'){return;}function e(i,B,F){jQuery.sap.log.warning(i,null,"sap.ushell.Container");if(F){setTimeout(F.bind(null,i),5000);}return{abort:function(){return;}};}OData.read=function(i,B,F){return e("OData.read('"+(i&&i.Uri?i.requestUri:i)+"') disabled during logout processing",B,F);};OData.request=function(i,B,F){return e("OData.request('"+(i?i.requestUri:"")+"') disabled during logout processing",B,F);};}this.addRemoteSystem=function(e){var i=e.getAlias(),O=q[i];if(O){if(O.toString()===e.toString()){return;}jQuery.sap.log.warning("Replacing "+O+" by "+e,null,"sap.ushell.Container");}else{jQuery.sap.log.debug("Added "+e,null,"sap.ushell.Container");}q[i]=e;u.localStorageSetItem(s+i,e);};this.addRemoteSystemForServiceUrl=function(e){var M,i={baseUrl:";o="};if(!e||e.charAt(0)!=='/'||e.indexOf('//')===0){return;}M=/^[^?]*;o=([^\/;?]*)/.exec(e);if(M&&M.length>=2){i.alias=M[1];}e=e.replace(/;[^\/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){i.platform="hana";i.alias=i.alias||"hana";}else if(/^\/sap\/opu\//.test(e)){i.platform="abap";}if(i.alias&&i.platform){this.addRemoteSystem(new S(i));}};this.attachLogoutEvent=function(F){E.attachEvent("Logout",F);};this.detachLogoutEvent=function(F){E.detachEvent("Logout",F);};this.attachRendererCreatedEvent=function(F){E.attachEvent("rendererCreated",F);};this.detachRendererCreatedEvent=function(F){E.detachEvent("rendererCreated",F);};this.logout=function(){var D=new jQuery.Deferred();function i(){A.logout(true).always(function(){L.removeItem(w);D.resolve();});}function B(){if(E.fireEvent("Logout",true)){i();}else{setTimeout(i,1000);}}function F(){var q,H=[];if(t){window.removeEventListener('storage',t);}u.localStorageSetItem(w,"pending");x._suppressOData();q=x._getRemoteSystems();Object.keys(q).forEach(function(I){try{H.push(j("Container",q[I]).logout(false));}catch(e){jQuery.sap.log.warning("Could not create adapter for "+I,e.toString(),"sap.ushell.Container");}L.removeItem(s+I);});jQuery.when.apply(jQuery,H).done(B);}if(typeof A.addFurtherRemoteSystems==='function'){A.addFurtherRemoteSystems().always(F);}else{F();}return D.promise();};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.setLogonFrameProvider(e);}};this.setXhrLogonTimeout=function(P,T){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(P,T);}};this.getFLPUrl=function(){var e=u.getLocationHref(),H=e.indexOf(this.getService("URLParsing").getShellHash(e));if(H===-1){return e;}return e.substr(0,H-1);};this._closeWindow=d;this._redirectWindow=r;this._getRemoteSystems=y;this._suppressOData=z;sap.ui.getCore().getEventBus().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",function(e,i,D){x.addRemoteSystemForServiceUrl(D);});if(typeof A.logoutRedirect==='function'){t=function(e){function i(){x._closeWindow();x._redirectWindow();}if(sap.ushell.Container!==x){return;}if(e.key.indexOf(s)===0&&e.newValue&&e.newValue!==L.getItem(e.key)){u.localStorageSetItem(e.key,e.newValue);}if(e.key===w){if(e.newValue==="pending"){x._suppressOData();if(E.fireEvent("Logout",true)){i();}else{setTimeout(i,1000);}}}};window.addEventListener('storage',t);}this._getFunctionsForUnitTest=function(){return{createAdapter:j};};}function l(s){s.forEach(function(e){var i=U.createServiceFactory(e);a.register("sap.ushell.ui5service."+e,i);});}sap.ushell.bootstrap=function(P,A){var e,E;jQuery.sap.initMobile();if(sap.ushell.Container!==undefined){E=new Error("Unified shell container is already initialized - cannot initialize twice.\nStacktrace of first initialization:"+f);jQuery.sap.log.error(E,E.stack,b);throw E;}sap.ushell.Container=null;f=(new Error()).stack;o=jQuery.extend({},true,window["sap-ushell-config"]||{});p=A;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"]);}if(o.modulePaths){Object.keys(o.modulePaths).forEach(function(m){jQuery.sap.registerModulePath(m,o.modulePaths[m]);});}e=j("Container",new S({alias:"",platform:o.platform||P}));l(["Personalization","URLParsing","CrossApplicationNavigation"]);return e.load().then(function(){var i,m,n;var D,L;sap.ushell.Container=new k(e);m=sap.ushell.Container;L=(function(){var q,s;var t=window["sap-ushell-config"];if(!t||!t.services){return false;}q=t.services.PluginManager;s=q&&q.config;return s&&s.loadPluginsFromSite;})();if(L){i=m.getService("CommonDataModel");D=i.getPlugins();}else{D=jQuery.when({});}return D.then(function(q){var s=jQuery.extend(true,{},o.bootstrapPlugins,q);n=m.getService("PluginManager");n.registerPlugins(s);});});};});
sap.ui.predefine('sap/ushell/services/LaunchPage',[],function(){"use strict";function L(a,c){var t=this,T=[];this.getGroups=function(){var p=a.getGroups();p.fail(function(){jQuery.sap.log.error("getGroups failed");});return p;};this.getDefaultGroup=function(){var p=a.getDefaultGroup();p.fail(function(){jQuery.sap.log.error("getDefaultGroup failed");});return p;};this.getGroupTitle=function(g){return a.getGroupTitle(g);};this.getGroupId=function(g){return a.getGroupId(g);};this.getGroupTiles=function(g){return a.getGroupTiles(g);};this.getLinkTiles=function(g){return a.getLinkTiles(g);};this.addGroupAt=function(s,i){var p,b=i;if(a.addGroupAt){p=a.addGroupAt(s,i);p.fail(function(){jQuery.sap.log.error("addGroup "+s+" failed");});}else{var d=new jQuery.Deferred();p=a.addGroup(s);p.done(function(n,g){var m=this.moveGroup(n,b),e=n;m.done(function(){d.resolve(e);});m.fail(function(){d.reject();});}.bind(this));p.fail(function(){jQuery.sap.log.error("addGroup "+s+" failed");d.reject();});return d.promise();}return p;};this.addGroup=function(s){var p=a.addGroup(s);p.fail(function(){jQuery.sap.log.error("addGroup "+s+" failed");});return p;};this.removeGroup=function(g,i){var p=a.removeGroup(g,i);p.fail(function(){jQuery.sap.log.error("Fail to removeGroup "+t.getGroupTitle(g));});return p;};this.resetGroup=function(g,i){var p=a.resetGroup(g,i);p.fail(function(){jQuery.sap.log.error("Fail to resetGroup "+t.getGroupTitle(g));});return p;};this.isGroupRemovable=function(g){return a.isGroupRemovable(g);};this.isGroupLocked=function(g){if(typeof a.isGroupLocked==="function"){return a.isGroupLocked(g);}return false;};this.moveGroup=function(g,n){var p=a.moveGroup(g,n);p.fail(function(){jQuery.sap.log.error("Fail to moveGroup "+t.getGroupTitle(g));});return p;};this.setGroupTitle=function(g,s){var p=a.setGroupTitle(g,s);p.fail(function(){jQuery.sap.log.error("Fail to set Group title: "+t.getGroupTitle(g));});return p;};this.hideGroups=function(h){var d=jQuery.Deferred();if(typeof a.hideGroups!=="function"){d.reject('hideGroups() is not implemented in the Adapter.');}else{a.hideGroups(h).done(function(){d.resolve();}).fail(function(m){jQuery.sap.log.error("Fail to store groups visibility."+m);d.reject();});}return d.promise();};this.isGroupVisible=function(g){if(typeof a.isGroupVisible==="function"){return a.isGroupVisible(g);}return true;};this.addTile=function(C,g){var p=a.addTile(C,g);p.fail(function(){jQuery.sap.log.error("Fail to add Tile: "+t.getCatalogTileId(C));});return p;};this.removeTile=function(g,o,i){var p=a.removeTile(g,o,i);p.fail(function(){jQuery.sap.log.error("Fail to remove Tile: "+t.getTileId(o));});return p;};this.moveTile=function(o,s,i,S,b,n){var p=a.moveTile(o,s,i,S,b,n);p.fail(function(){jQuery.sap.log.error("Fail to move Tile: "+t.getTileId(o));});return p;};this.isLinkPersonalizationSupported=function(o){if(typeof a.isLinkPersonalizationSupported==="function"){return a.isLinkPersonalizationSupported(o);}return false;};this.getTileId=function(o){return a.getTileId(o);};this.getTileTitle=function(o){return a.getTileTitle(o);};this.getTileType=function(o){if(a.getTileType){return a.getTileType(o);}return'tile';};this.getTileView=function(o){var d=a.getTileView(o);if(!jQuery.isFunction(d.promise)){d=jQuery.Deferred().resolve(d).promise();}return d;};this.getAppBoxPressHandler=function(o){if(a.getAppBoxPressHandler){return a.getAppBoxPressHandler(o);}return undefined;};this.getTileSize=function(o){return a.getTileSize(o);};this.getTileTarget=function(o){return a.getTileTarget(o);};this.getTileDebugInfo=function(o){if(typeof a.getTileDebugInfo==="function"){return a.getTileDebugInfo(o);}return undefined;};this.isTileIntentSupported=function(o){if(typeof a.isTileIntentSupported==="function"){return a.isTileIntentSupported(o);}return true;};this.refreshTile=function(o){a.refreshTile(o);};this.setTileVisible=function(o,n){return a.setTileVisible(o,n);};this.registerTileActionsProvider=function(p){if(typeof p!=='function'){throw new Error("Tile actions Provider is not a function");}T.push(p);};this.getTileActions=function(o){var b=[];var A;if(typeof a.getTileActions==='function'){A=a.getTileActions(o);if(A&&A.length&&A.length>0){b.push.apply(b,A);}}for(var i=0;i<T.length;i++){A=T[i](o);if(A&&A.length&&A.length>0){b.push.apply(b,A);}}return b;};this.getCatalogs=function(){return a.getCatalogs();};this.isCatalogsValid=function(){return a.isCatalogsValid();};this.getCatalogData=function(C){if(typeof a.getCatalogData!=="function"){jQuery.sap.log.warning("getCatalogData not implemented in adapter",null,"sap.ushell.services.LaunchPage");return{id:this.getCatalogId(C)};}return a.getCatalogData(C);};this.getCatalogError=function(C){return a.getCatalogError(C);};this.getCatalogId=function(C){return a.getCatalogId(C);};this.getCatalogTitle=function(C){return a.getCatalogTitle(C);};this.getCatalogTiles=function(C){var p=a.getCatalogTiles(C);p.fail(function(){jQuery.sap.log.error("Fail to get Tiles of Catalog: "+t.getCatalogTitle(C));});return p;};this.getCatalogTileId=function(o){return a.getCatalogTileId(o);};this.getCatalogTileTitle=function(C){return a.getCatalogTileTitle(C);};this.getCatalogTileSize=function(C){return a.getCatalogTileSize(C);};this.getCatalogTileViewControl=function(C){if(typeof a.getCatalogTileViewControl==="function"){return a.getCatalogTileViewControl(C);}else{var d=new jQuery.Deferred(),r=this.getCatalogTileView(C);d.resolve(r);return d.promise();}};this.getCatalogTileView=function(C){return a.getCatalogTileView(C);};this.getCatalogTileTargetURL=function(C){return a.getCatalogTileTargetURL(C);};this.getCatalogTileTags=function(C){if(typeof a.getCatalogTileTags==="function"){return a.getCatalogTileTags(C);}return[];};this.getCatalogTileKeywords=function(C){return a.getCatalogTileKeywords(C);};this.getCatalogTilePreviewTitle=function(C){return a.getCatalogTilePreviewTitle(C);};this.getCatalogTilePreviewSubtitle=function(C){if(a.getCatalogTilePreviewSubtitle){return a.getCatalogTilePreviewSubtitle(C);}};this.getCatalogTilePreviewIcon=function(C){return a.getCatalogTilePreviewIcon(C);};this.addBookmark=function(p,g){var P,d,m;if(!p.title){jQuery.sap.log.error("Add Bookmark - Missing title");throw new Error("Title missing in bookmark configuration");}if(!p.url){jQuery.sap.log.error("Add Bookmark - Missing URL");throw new Error("URL missing in bookmark configuration");}if(g&&this.isGroupLocked(g)){d=new jQuery.Deferred();P=d.promise();m='Tile cannot be added, target group ('+this.getGroupTitle(g)+')is locked!';d.reject(m);jQuery.sap.log.error(m);}else{P=a.addBookmark(p,g);P.fail(function(){jQuery.sap.log.error("Fail to add bookmark for URL: "+p.url+" and Title: "+p.title);});}return P;};this.countBookmarks=function(u){if(!u||typeof u!=="string"){jQuery.sap.log.error("Fail to count bookmarks. No valid URL");throw new Error("Missing URL");}var p=a.countBookmarks(u);p.fail(function(){jQuery.sap.log.error("Fail to count bookmarks");});return p;};this.deleteBookmarks=function(u){if(!u||typeof u!=="string"){throw new Error("Missing URL");}var p=a.deleteBookmarks(u);p.fail(function(){jQuery.sap.log.error("Fail to delete bookmark for: "+u);});return p;};this.updateBookmarks=function(u,p){if(!u||typeof u!=="string"){jQuery.sap.log.error("Fail to update bookmark. No valid URL");throw new Error("Missing URL");}if(!p||typeof p!=="object"){jQuery.sap.log.error("Fail to update bookmark. No valid parameters, URL is: "+u);throw new Error("Missing parameters");}var P=a.updateBookmarks(u,p);P.fail(function(){jQuery.sap.log.error("Fail to update bookmark for: "+u);});return P;};this.onCatalogTileAdded=function(s){return a.onCatalogTileAdded(s);};};L.hasNoAdapter=false;return L;},true);
sap.ui.predefine('sap/ushell/services/Message',[],function(){"use strict";function M(){var s=null;this.init=function(S){s=S;return this;};this.show=function(t,m,p){if(!m){jQuery.sap.log.error("Message must not be empty.");}else{if(s){s(t,m,p||{});}else{jQuery.sap.log.error("MessageService not initialized. [Message: '"+m+"']");}}};this.info=function(m,d){this.show(M.Type.INFO,m,{duration:d||3000});};this.error=function(m,t){m=(t!==undefined)?t+" , "+m:m;jQuery.sap.log.error(m);this.show(M.Type.ERROR,m,{title:t});};this.confirm=function(m,c,t,a){this.show(M.Type.CONFIRM,m,{title:t,callback:c,actions:a});};};M.Type={INFO:0,ERROR:1,CONFIRM:2};M.hasNoAdapter=true;return M;},true);
sap.ui.predefine('sap/ushell/services/NavTargetResolution',["sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/navigationMode","sap/ui/thirdparty/URI"],function(b,u,n,U){"use strict";function N(A,c,p,s){var S=s&&s.config,I=function(){return!!(S&&S.enableClientSideTargetResolution);},r=function(h){var o=I()?this._resolveHashFragmentClientSide(h):A.resolveHashFragment(h);return o;},l,R=[{name:"DefaultAdapter",isApplicable:function(){return true;},resolveHashFragment:r.bind(this)}],C;this._isClientSideTargetResolutionEnabled=I;this._nextResolveHashFragment=function(a,h){var o,f;o=a.pop();if(o.isApplicable(h)){jQuery.sap.log.info("NavTargetResolution: custom resolver "+o.name+" resolves "+h);f=this._nextResolveHashFragment.bind(this,a);return o.resolveHashFragment(h,f);}return this._nextResolveHashFragment(a,h);};this._resolveHashFragmentClientSide=function(h){var H=this._validateHashFragment(h),f;if(!H.success){return new jQuery.Deferred().reject(h+" is not a valid hash fragment").promise();}f=H.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(f);};this._resolveHashFragmentClientSideAndFixApplicationType=function(f){var d=new jQuery.Deferred();sap.ushell.Container.getService("ClientSideTargetResolution").resolveHashFragment(f).done(function(o){if(o&&o.applicationType==="SAPUI5"){o.applicationType="URL";}d.resolve(o);}).fail(function(){d.reject.apply(d,arguments);});return d.promise();};this._validateHashFragment=function(h){var H="",v={success:false};if(h&&h.charAt(0)!=="#"){throw new u.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolution");}H=h.substring(1);if(H){v.success=true;}v.hashFragmentWithoutHash=H;return v;};this.expandCompactHash=function(h){var o=sap.ushell.Container.getService("URLParsing"),P,d=new jQuery.Deferred();P=o.parseShellHash(h);if(P&&P.params&&P.params["sap-intent-param"]){sap.ushell.Container.getService("AppState").getAppState(P.params["sap-intent-param"][0]).done(function(a){var v=a.getData("sap-intent-param"),H=h;if(v){H=sap.ushell.Container.getService("URLShortening").expandParamGivenRetrievalFunction(h,"sap-intent-param",function(){return v;});}d.resolve(H);}).fail(function(){d.resolve(h);});}else{d.resolve(h);}return d.promise();};var w=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(o){var m,a;if(typeof o!=="object"){return;}delete o["sap.platform.runtime"];if(o&&o.applicationType&&o.applicationType==="SAPUI5"){o.applicationType="URL";}if(o.applicationType==="URL"){m=/^SAPUI5\.Component=(.*)/.exec(o.additionalInformation);a=m&&m[1];if(a){o.ui5ComponentName=a;}}};this._getSapSystem=function(h,o){var a;if(o&&o["sap-system"]){return o["sap-system"];}if(o&&o.url){a=jQuery.sap.getUriParameters(o.url).get("sap-system");if(a){return a;}}if(w.indexOf(o.applicationType)>=0&&h&&h.substring(1)){a=jQuery.sap.getUriParameters(h.substring(1)).get("sap-system");if(a){return a;}}return undefined;};this.resolveHashFragment=function(h){var d=new jQuery.Deferred(),a=/sap-ushell-enc-test=([^&]*)(&.*)?$/,m,e,f,t=this;u.addTime("resolveHashFragment");jQuery.sap.measure.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(h).done(function(H){if(H.indexOf("sap-ushell-enc-test")>=0){m=a.exec(H);if(m){e=m[1];if(e!=="A%20B%2520C"){sap.ushell.Container.getService("Message").error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");}H=H.replace(/sap-ushell-enc-test=([^&]*)&/,"");H=H.replace(/(&|\?)sap-ushell-enc-test=([^&]*)$/,"");}}var P=t._invokeResolveHashChain(H);if(typeof A.processPostResolution==="function"){P=A.processPostResolution(H,P);}P.done(function(o){t._adjustResolutionResultForUi5Components(o);if(jQuery.isPlainObject(o)){if(!o.hasOwnProperty("navigationMode")){o.navigationMode=n.getNavigationMode(o,b.getCurrentAppliction());}o.externalNavigationMode=n.getExternalNavigationMode(o.navigationMode);}if(jQuery.isPlainObject(o)&&!o.hasOwnProperty("sap-system")){f=t._getSapSystem(h,o);if(f){o["sap-system"]=f;}}jQuery.sap.measure.end("sap.ushell.navigation.resolveHashFragment");b.setCurrentApplication(o);d.resolve(o);}).fail(function(M){d.reject(M);});}).fail(function(M){d.reject(M);});return d.promise();};this._invokeResolveHashChain=function(h){var o=R.map(function(a){return a;});return this._nextResolveHashFragment(o,h).done(function(a){C=a;});};this.baseResolveHashFragment=r.bind(this);this._getGetLinksResolver=function(a){var g;if(this._isClientSideTargetResolutionEnabled()){g=this._getLinksClientSide.bind(this);return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}if(Object.prototype.toString.apply(a.paramsOptions)==="[object Array]"&&a.paramsOptions.length>0){jQuery.sap.log.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution","provided parameters options: "+JSON.stringify(a.paramsOptions,null,4),"sap.ushell.services.NavTargetResolution");}g=A&&A.getLinks&&A.getLinks.bind(A);if(g){return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}g=A&&A.getSemanticObjectLinks&&A.getSemanticObjectLinks.bind(A);if(g){return{resolver:g,warning:a.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true};}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined};};this.getLinks=function(a){var t=this,d=a.semanticObject,P=a.params,i=a.ignoreFormFactor,o=a.ui5Component,e=a.appStateKey,f=a.compactIntents,g,h,j=new jQuery.Deferred(),k,m;if(/\?/.test(d)){throw new Error("Parameter must not be part of semantic object");}g=(P===undefined)?undefined:JSON.parse(JSON.stringify(P));if(e){g=g||{};g["sap-xapp-state"]=encodeURIComponent(e);}k=sap.ushell.Container.getService("ShellNavigation");var q=t._getGetLinksResolver(a),H,v;if(q.warning){jQuery.sap.log.warning("A problem occurred while determining the resolver for getLinks",q.warning,"sap.ushell.services.NavTargetResolution");}m=q.resolver;if(m){H=function(E){j.reject(E);};v=function(x){if(f){t._shortenGetSemanticObjectLinksResults(x,o).done(function(y){j.resolve(y);});}else{j.resolve(x);}};if(q.isGetSemanticObjectLinksCall){h={target:{semanticObject:d,action:"dummyAction"},params:g};k.hrefForExternal(h,true,o,true).done(function(x){var M=x.params||g;m(d,M,i).done(v).fail(H);}).fail(function(M){j.reject(M);});}else{m(a).done(v).fail(H);}}else{j.resolve([]);}return j.promise();};this.getDistinctSemanticObjects=function(){if(this._isClientSideTargetResolutionEnabled()){var o=sap.ushell.Container.getService("ClientSideTargetResolution");return o.getDistinctSemanticObjects();}if(A&&A.getDistinctSemanticObjects){return A.getDistinctSemanticObjects.call(A);}jQuery.sap.log.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolution");return new jQuery.Deferred().reject("Cannot execute getDistinctSemanticObjects").promise();};this._getLinksClientSide=function(a){var d=new jQuery.Deferred(),e,o=new jQuery.Deferred(),f=sap.ushell.Container.getService("URLParsing");if((a.params||{}).hasOwnProperty("sap-intent-param")){e="#"+a.semanticObject+"-"+"dummyAction?"+f.paramsToString(a.params);this.expandCompactHash(e).done(function(E){o.resolve(f.parseShellHash(E).params);}).fail(d.reject.bind(d));}else{o.resolve(a.params);}o.done(function(E){sap.ushell.Container.getService("ClientSideTargetResolution").getLinks(a).done(d.resolve.bind(d)).fail(d.reject.bind(d));});return d.promise();};this._shortenGetSemanticObjectLinksResults=function(g,o){var t=this,a=[],i=0,P=g.length,d=sap.ushell.Container.getService("URLParsing"),e=sap.ushell.Container.getService("ShellNavigation"),D=new jQuery.Deferred();g.forEach(function(f){var h=d.parseShellHash(f.intent),j=e.compactParams(h.params,undefined,o);a.push(j);a[i].done(function(k,m){a[k]={text:f.text,intent:"#"+h.semanticObject+"-"+h.action+"?"+d.paramsToString(m)};}.bind(t,i)).fail(function(k,m){jQuery.sap.log.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form","Failure message: "+m+"; intent had title ''"+f.title+"'' and link ''"+f.intent+"'","sap.ushell.services.NavTargetResolution");a[k]={text:f.text,intent:f.intent};}.bind(t,i)).always(function(){P--;if(P===0){D.resolve(a);}});i++;});return D.promise();};this.isIntentSupported=function(i){var m={},o;if(this._isClientSideTargetResolutionEnabled()){o=sap.ushell.Container.getService("ClientSideTargetResolution");return o.isIntentSupported(i);}if(A.isIntentSupported){return A.isIntentSupported(i);}i.forEach(function(a){m[a]={supported:undefined};});return(new jQuery.Deferred()).resolve(m).promise();};this.isNavigationSupported=function(i){var o=sap.ushell.Container.getService("URLParsing"),d=new jQuery.Deferred(),a=[];a=i.map(function(e){if(typeof e==="string"){return e;}return"#"+o.constructShellHash(e);});this.isIntentSupported(a).done(function(e){var f=a.map(function(g){return e[g]||{supported:false};});d.resolve(f);}).fail(d.reject.bind(d));return d.promise();};this.registerCustomResolver=function(o){if(typeof o.name!=="string"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have name {string} member");return false;}if(typeof o.isApplicable!=="function"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have isApplicable member");return false;}if(typeof o.resolveHashFragment!=="function"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have \"resolveHashFragment\" member");return false;}R.push(o);return true;};if(S&&jQuery.isArray(S.resolveLocal)){l=S.resolveLocal.map(function(a){return a.linkId;});this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(h){if(h===""){return"#";}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return"#";}h="#"+a.semanticObject+"-"+a.action;return h;},_getIndex:function(o){var h=this.cleanHash(o);return l.indexOf(h.substring(1));},isApplicable:function(o){return this._getIndex(o)>=0;},resolveHashFragment:function(h){var d,i=this._getIndex(h),o,a,e,f;d=new jQuery.Deferred();o=JSON.parse(JSON.stringify(S.resolveLocal[i].resolveTo));a=sap.ushell.Container.getService("URLParsing").parseShellHash(h);if(a&&a.params){f=sap.ushell.Container.getService("URLParsing").paramsToString(a.params);if(f){e=o.url.indexOf('?')>=0;o.url=o.url+(e?"&":"?")+f;}}d.resolve(o);return d.promise();}});}this.registerCustomResolver({name:"StandaloneLocalResolver",aElement:undefined,cleanHash:function(h){if(h===""){return undefined;}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return undefined;}h="#"+a.semanticObject+"-"+a.action;return h;},isRunStandaloneHash:function(h){return typeof h==="string"&&h.indexOf("#Shell-runStandaloneApp")===0;},isApplicable:function(h){h=this.cleanHash(h);if(!h){return false;}return h==="#Test-url"||h==="#Test-local1"||h==="#Test-local2"||h==="#Test-config"||h==="#Test-clear"||this.isRunStandaloneHash(h);},parseUrl:function(a){if(!this.aElement){this.aElement=window.document.createElement('a');}this.aElement.href=a;return this.aElement;},resolveHashFragment:function(h){var d=new jQuery.Deferred(),e=null,t=this,f,P,L,g,i,j,k,o,F=h,m;h=this.cleanHash(h);if(!h){return false;}e={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp"},"none":{applicationType:"URL",url:"",additionalInformation:""}};function q(K){if(localStorage){return localStorage[K];}return undefined;}function v(o,K){var f={},a;for(a in o){if(o.hasOwnProperty(a)){if(a!==K){f[a]=o[a];}}}return f;}function x(a){if(u.calculateOrigin(t.parseUrl(a))!==u.calculateOrigin(window.location)){return undefined;}var D=(new U(t.parseUrl(a).href)).normalizePathname().pathname(),E=jQuery.sap.getObject("runStandaloneAppFolderWhitelist",0,S),G;if(!E){return undefined;}for(G in E){if(E.hasOwnProperty(G)){if(E[G]){if(G==="*"||D.indexOf((new U(t.parseUrl(G).href)).normalizePathname().pathname())===0){return a;}}}}return undefined;}function y(K){return jQuery.sap.getUriParameters().get(K);}function z(a,K){return(a.params&&a.params[K]&&a.params[K][0])||y(K);}function B(K,V){if(localStorage){localStorage[K]=V;}}if(e[h]){f=e[h];}else if(h==="#Test-clear"){B("sap.ushell.#Test-local1",undefined);B("sap.ushell.#Test-local2",undefined);jQuery.sap.log.info("NavTargetResolution: Local storage keys for #Test have been cleared");f=e["#Test-config"];}else if(this.isRunStandaloneHash(h)){L={applicationType:"URL"};P=sap.ushell.Container.getService("URLParsing").parseShellHash(F);g=(z(P,"sap-ushell-SAPUI5.Component")&&"SAPUI5.Component="+z(P,"sap-ushell-SAPUI5.Component"))||(z(P,"sap-ushell-additionalInformation"));m=z(P,"sap-ushell-url")||"";o=v(P.params,"sap-ushell-SAPUI5.Component");o=v(o,"sap-ushell-additionalInformation");o=v(o,"sap-ushell-url");j=sap.ushell.Container.getService("URLParsing").paramsToString(o);k=m.indexOf('?')>=0;if(j){m=m+(k?(((m[m.length-1]!=="&")&&"&")||""):"?")+j;}L.url=x(m);L.additionalInformation=g;f=L;}else if(h==="#Test-local1"||h==="#Test-local2"||h==="#Test-url"){f=q("sap.ushell."+h);if(!f||f==="undefined"){L={applicationType:"URL"};}else{L=JSON.parse(f);}if((window.location.hostname==="localhost")||(S&&S.allowTestUrlComponentConfig)){i="sap-ushell-test-"+h.substring(6);g=y(i+"-additionalInformation");if(g){L.additionalInformation=g;}m=y(i+"-url");if(m){L.url=x(m);}}if(!L.url){jQuery.sap.log.info("NavTargetResolution: No configured app for "+h+" found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ");jQuery.sap.log.info("NavTargetResolution: Defaulting to config app ...\n");d.reject("URL is not resolvable");return d.promise();}L.url=x(L.url);f=L;}if(f.url===undefined){d.reject("URL is not resolvable");return d.promise();}jQuery.sap.log.info("NavTargetResolution: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url="+encodeURIComponent((f&&f.url)||"")+"&sap-ushell-test-local1-additionalInformation="+encodeURIComponent((f&&f.additionalInfo)||"")+"#Test-local1");jQuery.sap.log.info("NavTargetResolution: Resolving "+h+" to "+JSON.stringify(f));d.resolve(f);return d.promise();}});this.getCurrentResolution=function(){return C;};};N.hasNoAdapter=false;return N;},true);
sap.ui.predefine('sap/ushell/services/PageBuilding',["sap/ui2/srvc/factory","sap/ui2/srvc/page"],function(f,p){"use strict";function P(a,c){this.getFactory=function(){return a.getFactory();};this.getPage=function(s){return a.getFactory().createPage(s);};this.getPageSet=function(i){var d=new jQuery.Deferred();a.getFactory().createPageSet(i,d.resolve.bind(d),d.reject.bind(d));return d.promise();};}P.hasNoAdapter=false;return P;},true);
sap.ui.predefine('sap/ushell/services/Personalization',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/_Personalization/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/_Personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/_Personalization/WindowAdapterContainer","sap/ui/base/ManagedObject"],function(u,p,a,C,W,T,P,b,V,c,d,e,M){"use strict";function f(A,o,s,g){this._oConfig=(g&&g.config)||{};this._seed=(g&&g.config&&typeof g.config.seed==="string"&&g.config.seed)||"12345678901AFERANDOMBETTER";while(this._seed.length<40){this._seed=this._seed+this._seed;}this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new W(this,A)};this._oAdapterWindowOnly={lazy:false,instance:new W(this,undefined)};this._oContainerMap=new u.Map();this._oPendingOperationsMap=new u.Map();}f.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseeded by subsequent save";f.prototype.constants=a;f.prototype._configureAppVariantStorage=function(A){var t=this,D="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!A){A={adapter:{module:D}};}if(Object.keys(A).length===0||A.enabled===false){return;}var s=(A.adapter&&A.adapter.module)||D;var g=s.split(".").join("/");var h=function(){t._oAppVariantAdapterLoadPromise=t._oAppVariantAdapterLoadPromise||(function(){var o=new jQuery.Deferred();try{sap.ui.require([g],R);}catch(r){o.reject(r);}function R(i){try{var j=new i();var w=new W(t,j);o.resolve(w);}catch(E){o.reject(E);}}return o.promise();})();return t._oAppVariantAdapterLoadPromise;};return{lazy:true,create:h};};f.prototype.getGeneratedKey=function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=s.length,r="",t=this;var R=function(i){return(t._seed.charCodeAt(i)+Math.floor(Math.random()*g))%g;};if(window&&window.crypto&&window.crypto.getRandomValues){var h=new Uint32Array(40);window.crypto.getRandomValues(h);R=function(i){return(h[i]+t._seed.charCodeAt(i))%s.length;};}var j=function(i){return s[R(i)];};while(r.length<40){r+=j(r.length);}return r;};f.prototype.getPersonalizer=function(o,s,g){g=g||this._getApplicationComponent();return new b(this,this._oAdapterWithBackendAdapter.instance,o,s,g);};f.prototype._getApplicationComponent=function(){var o;var O=M._sOwnerId;if(O){o=sap.ui.getCore().getComponent(O);if(o instanceof sap.ui.core.UIComponent){return o;}}return undefined;};f.prototype.getTransientPersonalizer=function(){return new T();};f.prototype.getContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,false,o);};f.prototype.createEmptyContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,true,o);};f.prototype._createContainer=function(s,S,g,o){var t=this,l,h,i,j,A,k,U,D=new jQuery.Deferred();if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}l=p.isLaunchpadReload();U=!!(p.isAppVariant(o)&&(!S||!S.shared)&&this._oAppVariantAdapterWithBackendAdapter);A=p.adjustScope(S,l);if(U){var m=o.getManifestObject();A.component=o;A.appVarId=m.getEntry("/sap.ui5/appVariantId");A.appVersion=m.getEntry("/sap.app/applicationVersion/version");}k=p.addContainerPrefix(s);i=U?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;h=t._oAdapterWindowOnly;j=p.pickAdapter(S,l,h,i);p.loadAdapter(j).then(function(L){var n;var q=new C(t,L,k,A,o);var r=L&&L.supportsGetWithoutSubsequentLoad===true;if(g&&r){n=new jQuery.Deferred();n.resolve(q);}else{n=q.load();}n.fail(function(){D.reject();}).done(function(){if(g||q._isExpired()){q.clear();}D.resolve(q);});},function(E){D.reject(E);});return D.promise();};f.prototype.delContainer=function(s,S){var D={},o,g="",t=this;S=t._adjustScope(S,false);g=p.addContainerPrefix(s);D=new jQuery.Deferred();o=t._pendingContainerOperations_cancelAddNext(s,null);o.always(function(){t.getContainer(s,S).fail(function(){t._pendingContainerOperations_cancelAddNext(s,D);D.reject();}).done(function(h){var A;t._pendingContainerOperations_cancelAddNext(s,D);A=S.validity===0?t._oAdapterWindowOnly:t._oAdapterWithBackendAdapter;p.loadAdapter(A).then(function(l){l.delAdapterContainer(g,S).fail(function(){D.reject();}).done(function(){D.resolve();});},function(){D.reject();});});});return D.promise();};f.prototype._pendingContainerOperations_flushAddNext=function(s,D){var o,S;o=this._oPendingOperationsMap.get(s);if(!o){o=new jQuery.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;if(typeof o._sapFnSave==="function"){S=o._sapFnSave;o._sapFnSave=undefined;S();}return o;};f.prototype._pendingContainerOperations_cancelAddNext=function(s,D){var o;o=this._oPendingOperationsMap.get(s);if(!o){o=new jQuery.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}if(o._sapTimeoutId){clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;o.resolve(f.prototype.SAVE_DEFERRED_DROPPED);}return o;};f.prototype.getPersonalizationContainer=function(s){var g="",o={},D={};if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}g=p.addContainerPrefix(s);if(this._oContainerMap.containsKey(g)){return this._oContainerMap.get(g).promise();}D=new jQuery.Deferred();o=new P(this._oAdapterWithBackendAdapter.instance,g);o.done(function(h){D.resolve(h);}).fail(function(h){D.reject(h);});this._oContainerMap.put(g,D);return D.promise();};f.prototype.delPersonalizationContainer=function(s){var D={},g="",t=this;g=p.addContainerPrefix(s);D=new jQuery.Deferred();this.getPersonalizationContainer(s).fail(function(){D.reject();}).done(function(o){t._oAdapterWithBackendAdapter.instance.delAdapterContainer(g).fail(function(){D.reject();}).done(function(){t._oContainerMap.remove(g);D.resolve();});});return D.promise();};f.prototype._adjustScope=p.adjustScope;f.hasNoAdapter=false;f.ContextContainer=C;f.Variant=c;f.VariantSet=d;f.VariantSetAdapter=V;f.WindowAdapter=W;f.WindowAdapterContainer=e;return f;},true);
sap.ui.predefine('sap/ushell/services/PluginManager',[],function(){"use strict";var S="sap.ushell.services.PluginManager",a="sap-ushell-plugin-type",b="RendererExtensions",c="sap.ushell.components.shell.defaults",s=[b,"UserDefaults","UserImage","ContentProvider"];function P(){var t=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};s.forEach(function(p){t._oPluginCollection[p]={};t._oCategoryLoadingProgress[p]=new jQuery.Deferred();});this._handlePluginCreation=function(C,p,o){var t=this,d=(t._oPluginCollection[C])[p];try{if(d.hasOwnProperty("component")){if(t._mInitializedComponentPromise.hasOwnProperty(d.component)){t._mInitializedComponentPromise[d.component].then(function(){t._instantiateComponent(d,o);},function(){t._instantiateComponent(d,o);});}else{t._mInitializedComponentPromise[d.component]=t._instantiateComponent(d,o);}}else{jQuery.sap.log.error("Invalid plugin configuration. The plugin "+p+" must contain a <component> key",S);}}catch(e){jQuery.sap.log.error("Error while loading bootstrap plugin: "+d.component||"",S);if(o){o.reject(e);}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js";};this._handleXhrAuthentication=function(A,C){var x;if(A&&["true",true,"X"].indexOf(A["sap-ushell-xhr-authentication"])>-1){if(!C){jQuery.sap.log.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,S);return jQuery.when();}if(A.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){x=parseInt(A["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(x)){jQuery.sap.log.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",C,"': '",A["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,S);}else{sap.ushell.Container.setXhrLogonTimeout(C,x);}}return jQuery.ajax(C+"/"+this._getFileNameForXhrAuth());}else{return jQuery.when();}};this._instantiateComponent=function(p,o){var d=new jQuery.Deferred(),C=jQuery.extend(true,{},p),A={ui5ComponentName:C.component,url:C.url};function g(e){return function(E){e=e||"Cannot create UI5 plugin component: (componentId/appdescrId :"+A.ui5ComponentName+")\n"+E+" properties "+JSON.stringify(A)+"\n This indicates a plugin misconfiguration, see e.g. Note 2316443.";E=E||"";jQuery.sap.log.error(e,E.stack,S);if(o){o.reject.apply(this,arguments);}d.reject.apply(this,arguments);};}function l(){sap.ushell.Container.getService("Ui5ComponentLoader").createComponent(A).done(function(L){if(o){o.resolve();}d.resolve.apply(this,arguments);}).fail(g());}C.name=C.component;delete C.component;A.applicationDependencies=C;if(C.config){A.applicationConfiguration=C.config;delete C.config;}A.loadDefaultDependencies=false;this._handleXhrAuthentication(A.applicationConfiguration,C.url).done(l).fail(g("XHR logon for FLP plugin failed"));return d.promise();};this.getSupportedPluginCategories=function(){return jQuery.extend(true,[],s);};this.getRegisteredPlugins=function(){return jQuery.extend(true,{},this._oPluginCollection);};this.registerPlugins=function(p){var t=this,C,o;if(!p){return;}sap.ushell.utils.addTime("PluginManager.registerPlugins");Object.keys(p).sort().forEach(function(d){C=p[d]||{};o=C.config||{};if(C.enabled===false){return;}if(C.enabled===undefined){C.enabled=true;}if(C&&C.hasOwnProperty("module")){jQuery.sap.log.error("Plugin "+d+" cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.",S);jQuery.sap.require(C.module);return;}if(o&&o.hasOwnProperty(a)){if(jQuery.inArray(o[a],s)!==-1){(t._oPluginCollection[o[a]])[d]=jQuery.extend(true,{},p[d]);}else{jQuery.sap.log.warning("Plugin "+d+" will not be inserted into the plugin collection of the PluginManager, because of unsupported category "+o[a],S);}}else{(t._oPluginCollection[b])[d]=jQuery.extend(true,{},p[d]);}});};this.getPluginLoadingPromise=function(p){if(this._oCategoryLoadingProgress.hasOwnProperty(p)){return this._oCategoryLoadingProgress[p].promise();}};this.loadPlugins=function(p){var t=this,d,o,e;sap.ushell.utils.setPerformanceMark("FLP -- PluginManager.startLoadPlugins");sap.ushell.utils.addTime("PluginManager.startLoadPlugins["+p+"]");if(jQuery.inArray(p,s)!==-1){if(t._oCategoryLoadingProgress[p].pluginLoadingTriggered!==undefined){return t._oCategoryLoadingProgress[p].promise();}else{t._oCategoryLoadingProgress[p].pluginLoadingTriggered=true;}if(Object.keys(t._oPluginCollection[p]).length>0){d=[];e=Object.keys(t._oPluginCollection[p]);if(jQuery.sap.getUriParameters().get("sap-ushell-xx-pluginmode")==="discard"&&p==="RendererExtensions"){e=e.filter(function(i){return t._oPluginCollection[p][i].component===c;});}e.forEach(function(f){o=new jQuery.Deferred();d.push(o.promise());t._handlePluginCreation(p,f,o);});jQuery.when.apply(undefined,d).done(function(){sap.ushell.utils.addTime("PluginManager.endLoadPlugins["+p+"]");sap.ushell.utils.setPerformanceMark("FLP -- PluginManager.endLoadPlugins");t._oCategoryLoadingProgress[p].resolve();}).fail(t._oCategoryLoadingProgress[p].reject.bind());}else{t._oCategoryLoadingProgress[p].resolve();}}else{jQuery.sap.log.error("Plugins with category "+p+" cannot be loaded by the PluginManager",S);t._oCategoryLoadingProgress[p].reject("Plugins with category "+p+" cannot be loaded by the PluginManager");}return t._oCategoryLoadingProgress[p].promise();};}P.hasNoAdapter=true;return P;},true);
sap.ui.predefine('sap/ushell/services/ReferenceResolver',["sap/ushell/User"],function(U){"use strict";function a(){this.getValue=function(r){var d=new jQuery.Deferred();var v;if(r==="User.env.sap-ui-legacy-date-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyDateFormat();}if(r==="User.env.sap-ui-legacy-number-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyNumberFormat();}if(r==="User.env.sap-ui-legacy-time-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyTimeFormat();}if(r==="User.env.sap-language"){v=sap.ushell.Container.getUser().getLanguage();}if(r==="User.env.sap-languagebcp47"){v=sap.ushell.Container.getUser().getLanguageBcp47();}if(r==="User.env.sap-accessibility"){v=(sap.ushell.Container.getUser().getAccessibilityMode())?'X':undefined;}if(r==="User.env.sap-statistics"){v=(sap.ui.getCore().getConfiguration().getStatistics())?"true":undefined;}if(r==="User.env.sap-theme"){v=sap.ushell.Container.getUser().getTheme(U.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}if(r==="User.env.sap-theme-name"){v=sap.ushell.Container.getUser().getTheme();}if(r==="User.env.sap-theme-NWBC"){v=sap.ushell.Container.getUser().getTheme(U.prototype.constants.themeFormat.NWBC);}d.resolve({"value":v});return d.promise();};}function R(c,p,C){this._getUserEnvReferenceResolver=function(){if(!this.oUserEnvReferenceResolver){this.oUserEnvReferenceResolver=new a();}return this.oUserEnvReferenceResolver;};this.resolveReferences=function(r){var t=this,d=new jQuery.Deferred(),u,b=[],A=true,D={},o={},e;var f=r.map(function(s){var g;if(s.indexOf("User.env.")===0){g=s;o[g]=1;}if(s.indexOf("UserDefault.")===0){g=t._extractAnyUserDefaultReferenceName(s);D[g]=1;}if(typeof g!=="string"){A=false;jQuery.sap.log.error("'"+s+"' is not a legal reference name","sap.ushell.services.ReferenceResolver");}return{full:s,name:g};});if(!A){return d.reject("One or more references could not be resolved").promise();}Object.keys(D).forEach(function(n){u=u||sap.ushell.Container.getService("UserDefaultParameters");b.push(u.getValue(n));});Object.keys(o).forEach(function(n){e=e||t._getUserEnvReferenceResolver();b.push(e.getValue(n));});jQuery.when.apply(jQuery,b).done(function(){var k={};var i=0,g=arguments;Object.keys(D).forEach(function(n){D[n]=g[i];i=i+1;});Object.keys(o).forEach(function(n){o[n]=g[i];i=i+1;});f.forEach(function(h){var m;if(h.full.indexOf("UserDefault.extended.")===0){m=t.mergeSimpleAndExtended(D[h.name]);if(!jQuery.isEmptyObject(m)){k[h.full]=m;}else{k[h.full]=undefined;}}else if(h.full.indexOf("UserDefault.")===0){k[h.full]=D[h.name].value;}else if(h.full.indexOf("User.env.")===0){k[h.full]=o[h.name].value;}});d.resolve(k);});return d.promise();};this._extractAnyUserDefaultReferenceName=function(r){var P=this.extractExtendedUserDefaultReferenceName(r);if(typeof P==="string"){return P;}return this.extractUserDefaultReferenceName(r);};this.extractExtendedUserDefaultReferenceName=function(r){if(typeof r!=="string"||r.indexOf("UserDefault.extended.")!==0){return undefined;}return r.replace(/^UserDefault[.]extended[.]/,"");};this.extractUserDefaultReferenceName=function(r){if(typeof r!=="string"||r.indexOf("UserDefault.")!==0||r.indexOf("UserDefault.extended.")===0){return undefined;}return r.replace(/^UserDefault[.]/,"");};this.mergeSimpleAndExtended=function(v){var m=jQuery.extend(true,{},v.extendedValue);if(typeof v.value==="string"){if(!jQuery.isArray(m.Ranges)){m.Ranges=[];}m.Ranges.push({"Sign":"I","Option":"EQ","Low":v.value,"High":null});}return m;};};R.hasNoAdapter=true;return R;},true);
sap.ui.predefine('sap/ushell/services/ShellNavigation',["sap/ushell/services/ShellNavigationHashChanger"],function(S){"use strict";function a(c,p,s){function r(){sap.ui.require(['sap/m/MessageBox'],function(M){M.show("Due to a configuration change on the server,\nclient and server are out of sync.\n We strongly recommend to reload the page soon.\nReload page now?",{icon:sap.m.MessageBox.Icon.ERROR,title:"Client out of sync with server.",actions:[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.NO],onClose:function(A){if(A===sap.m.MessageBox.Action.YES){window.setTimeout(function(){window.location.reload();},0);}}});});}var o=s&&s.config;this.hashChanger=new S(o);this.isInitialNavigation=function(){return this.hashChanger.isInitialNavigation();};this.hrefForExternal=function(A,v,C,b){return this.hashChanger.hrefForExternal(A,v,C,b);};this.hrefForAppSpecificHash=function(A){return this.hashChanger.hrefForAppSpecificHash(A);};this.compactParams=function(P,R,C,t){return this.hashChanger.compactParams(P,R,C,t);};this.toExternal=function(A,C,w){this.hashChanger.toExternal(A,C,w);};this.toAppHash=function(A,w){this.hashChanger.toAppHash(A,w);};this.init=function(f){hasher.prependHash="";sap.ui.core.routing.HashChanger.replaceHashChanger(this.hashChanger);var b=sap.ui.getCore().getEventBus();b.subscribe("sap.ui.core.UnrecoverableClientStateCorruption","RequestReload",r);this.hashChanger.initShellNavigation(f);return this;};this.NavigationFilterStatus=this.hashChanger.NavigationFilterStatus;this.registerNavigationFilter=function(f){this.hashChanger.registerNavigationFilter(f);};this.unregisterNavigationFilter=function(f){this.hashChanger.unregisterNavigationFilter(f);};}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/ShellNavigationHashChanger',["sap/ui/core/routing/HashChanger","sap/ui/thirdparty/hasher"],function(H,h){"use strict";function c(){var a=window.history.length;var m={onHashChanged:function(){if(window.history.length!==a){m.onHashChanged=function(){};m.isInitialNavigation=function(){return false;};}},isInitialNavigation:function(){return true;}};return m;}var S=H.extend("sap.ushell.services.ShellNavigatonHashChanger",{constructor:function(C){var u;this.oServiceConfig=C;if(jQuery.sap.getUriParameters().get("sap-ushell-reload")){if(jQuery.sap.getUriParameters().get("sap-ushell-reload")==="X"||jQuery.sap.getUriParameters().get("sap-ushell-reload")==="true"){u=true;}else{u=false;}}if(u!==undefined){if(typeof this.oServiceConfig!=="object"){this.oServiceConfig={};}this.oServiceConfig.reload=u;}H.apply(this);this._initializedByShellNav=false;this.oURLShortening=sap.ushell.Container.getService("URLShortening");this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.aNavigationFilters=[];this.NavigationFilterStatus={Continue:"Continue",Custom:"Custom",Abandon:"Abandon"};this.privgetCurrentShellHash=function(){var r=this.privsplitHash(h.getHash());return{hash:"#"+((r&&r.shellPart)?r.shellPart:"")};};this.privconstructHash=function(A){var o=this.privgetCurrentShellHash();o.hash=o.hash+A;return o;};this.privconstructShellHash=function(s){return sap.ushell.Container.getService("URLParsing").constructShellHash(s);};this.privsplitHash=function(s){var o,b,A;if(s===undefined||s===null||s===""){return{shellPart:null,appSpecificRoute:null,intent:null,params:null};}o=sap.ushell.Container.getService("URLParsing").parseShellHash(s);if(o===undefined||o===null){return null;}b=(o.params&&!jQuery.isEmptyObject(o.params))?o.params:null;A=o.appSpecificRoute;o.appSpecificRoute=undefined;return{shellPart:this.privstripLeadingHash(this.privconstructShellHash(o))||null,appSpecificRoute:A||null,intent:(o.semanticObject&&o.action&&(o.semanticObject+"-"+o.action+(o.contextRaw||"")))||null,params:b};};this.privsetHash=function(f,A,w){h.prependHash="";f=this.privstripLeadingHash(f);A=A||"";if(w===undefined){w=true;}if(w){this.fireEvent("hashSet",{sHash:A});h.setHash(f);}else{this.fireEvent("hashReplaced",{sHash:A});h.replaceHash(f);}};this.privstripLeadingHash=function(s){if(s[0]==='#'){return s.substring(1);}return s;};this.registerNavigationFilter=function(f){if(typeof f!=="function"){throw new Error("fnFilter must be a function");}this.aNavigationFilters.push(f);};this.unregisterNavigationFilter=function(f){if(typeof f!=="function"){throw new Error("fnFilter must be a function");}this.aNavigationFilters=this.aNavigationFilters.filter(function(r){return r!==f;});};function a(o,t){this.oAppState=undefined;this.oPromise=(new jQuery.Deferred()).resolve();this.getNextKey=function(){this.oAppState=sap.ushell.Container.getService("AppState").createEmptyAppState(o,t);return this.oAppState.getKey();};this.store=function(v){var n;this.oAppState.setData(v);n=this.oAppState.save();this.oPromise=jQuery.when(this.oPromise,n);};this.getPromise=function(){return this.oPromise;};}this.compactParams=function(p,r,o,t){var U=sap.ushell.Container.getService("URLParsing"),s,b,R,P,d=new jQuery.Deferred(),e=U.constructShellHash({"target":{"semanticObject":"SO","action":"action"},"params":p},s);if(p===undefined||Object.keys(p).length===0){return d.resolve(p).promise();}s=new a(o,t);R=this.oURLShortening.compactHash(e,r,s);b=U.parseParameters(R.hash.match(/\?.*/)[0]);P=s.getPromise();P.done(function(){d.resolve(b);}).fail(function(m){d.reject(m);});return d;};this.hrefForExternal=function(A,v,o,b){var r=this.hrefForExternalNoEnc(A,v,o,b);function e(R,v){if(v===true){R.hash=encodeURI(R.hash);}else{R=encodeURI(R);}return R;}if(!b){return e(r,v);}var d=new jQuery.Deferred();r.done(function(R){d.resolve(e(R,v));}).fail(d.reject.bind(d));return d;};this.hrefForExternalNoEnc=function(A,v,o,b){var t,p,d,s=new a(o),r;t=this.privhrefForExternalNoEnc(A,s);if(v===true){r={hash:t.hash,params:t.params,skippedParams:t.skippedParams};}else{r=t.hash;}if(!b){return r;}p=s.getPromise();d=new jQuery.Deferred();p.done(function(){d.resolve(r);}).fail(function(m){d.reject(m);});return d;};this.privhrefForExternalNoEnc=function(A,s){var r;if(A===undefined){return this.privgetCurrentShellHash();}if(A&&A.target&&(typeof A.target.semanticObject==="string"||typeof A.target.shellHash==="string")){r="#"+this.privconstructShellHash(A);return this.oURLShortening.compactHash(r,undefined,s);}return this.privgetCurrentShellHash();};this.privgetAppHash=function(A){var s,o;if(A&&A.target&&(typeof A.target.shellHash==="string")){o=sap.ushell.Container.getService("URLParsing").parseShellHash(A.target.shellHash);s=o&&o.appSpecificRoute;s=s&&s.substring(2);}return s;};this.hrefForAppSpecificHash=function(A){return encodeURI(this.privconstructHash(this.privappHashPrefix+A).hash);};this.toExternal=function(A,o,w){var s,b=new a(o),d;s=this.privhrefForExternalNoEnc(A,b).hash;d=this.privgetAppHash(A);this.privsetHash(s,d,w);};this.toAppHash=function(A,w){var s=this.privconstructHash(this.privappHashPrefix+A).hash;this.privsetHash(s,A,w);};}});S.prototype.initShellNavigation=function(s){this._oInitialNavigationManager=c();if(this._initializedByShellNav){jQuery.sap.log.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false;}this.privfnShellCallback=s;h.changed.add(this.treatHashChanged,this);if(!h.isActive()){h.initialized.addOnce(this.treatHashChanged,this);h.init();}else{this.treatHashChanged(h.getHash());}this._initializedByShellNav=true;return true;};S.prototype.init=function(){if(this._initialized){jQuery.sap.log.info("init already called on this ShellNavigationHashChanger instance.");return false;}var n=this.privsplitHash(h.getHash()),a=n&&(n.appSpecificRoute||"  ").substring(2);this.fireEvent("hashChanged",{newHash:a});this._initialized=true;return true;};S.prototype.treatHashChanged=function(n,o){if(this.inAbandonFlow){return;}this._oInitialNavigationManager.onHashChanged();var a,O,N,b,s,d,f,g,E,i,F,j,k;n=this.oURLShortening.expandHash(n);o=this.oURLShortening.expandHash(o);N=this.privsplitHash(n);b=this.privsplitHash(o);if(!N){E=new Error("Illegal new hash - cannot be parsed: '"+n+"'");this.fireEvent("shellHashChanged",{newShellHash:n,newAppSpecificRoute:null,oldShellHash:(b?b.shellPart:o),error:E});this.privfnShellCallback(n,null,(b?b.shellPart:o),(b?b.appSpecificRoute:null),E);return;}else{s=N.intent;}if(!b){b={shellPart:o,appSpecificRoute:null};}else{d=b.intent;}for(i=0;i<this.aNavigationFilters.length;i=i+1){try{F=this.aNavigationFilters[i].call(undefined,n,o);j=F;if(typeof F!=="string"){j=F.status;k=F.hash;}if(j===this.NavigationFilterStatus.Custom){if(k&&k.length>0){this.inAbandonFlow=true;h.replaceHash(k);this.inAbandonFlow=false;}return;}if(j===this.NavigationFilterStatus.Abandon){this.inAbandonFlow=true;h.replaceHash(o);this.inAbandonFlow=false;return;}}catch(e){jQuery.sap.log.error("Error while calling Navigation filter! ignoring filter...",e.message,"sap.ushell.services.ShellNavigation");}}if(s===d&&(o!==undefined)){if(!this._parametersChanged(N.params,b.params)){a=(N.appSpecificRoute||"  ").substring(2);O=(b.appSpecificRoute||"  ").substring(2);jQuery.sap.log.info("Inner App Hash changed from '"+O+"' to '"+a+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent("hashChanged",{newHash:a,oldHash:O});return;}if(this.hasListeners("shellHashParameterChanged")){f=sap.ushell.Container.getService("URLParsing").paramsToString(N.params);g=sap.ushell.Container.getService("URLParsing").paramsToString(b.params);jQuery.sap.log.info("Shell hash parameters changed from '"+g+"' to '"+f+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent("shellHashParameterChanged",{oNewParameters:N.params,oOldParameters:b.params});return;}}function r(l){window.location.hash='#'+encodeURI(l);window.location.reload();}if(o!==undefined){if(this.oServiceConfig&&this.oServiceConfig.reload){r(n);}}jQuery.sap.log.info("Outer shell hash changed from '"+o+"' to '"+n+"'",null,"sap.ushell.services.ShellNavigation");this.fireEvent("shellHashChanged",{newShellHash:N.shellPart,newAppSpecificRoute:N.appSpecificRoute,oldShellHash:b.shellPart,oldAppSpecificRoute:b.appSpecificRoute});this.privfnShellCallback(N.shellPart,N.appSpecificRoute,b.shellPart,b.appSpecificRoute);};S.prototype.isInitialNavigation=function(){return this._oInitialNavigationManager&&this._oInitialNavigationManager.isInitialNavigation();};S.prototype._parametersChanged=function(n,o){return!jQuery.sap.equal(n,o);};S.prototype.setHash=function(s){this.toAppHash(s,true);};S.prototype.replaceHash=function(s){this.toAppHash(s,false);};S.prototype.getHash=function(){return this.getAppHash();};S.prototype.getAppHash=function(){var n=this.privsplitHash(h.getHash()),a=n&&(n.appSpecificRoute||"  ").substring(2);return a;};S.prototype.destroy=function(){h.changed.remove(this.treatHashChanged,this);H.prototype.destroy.apply(this,arguments);};return S;},true);
sap.ui.predefine('sap/ushell/services/SupportTicket',["sap/ushell/Config"],function(C){"use strict";function S(a,c,p,s){this.createTicket=function(o){return a.createTicket(o);};this.isEnabled=function(){return C.last("/core/extension/SupportTicket");};}S.hasNoAdapter=false;return S;},true);
sap.ui.predefine('sap/ushell/services/URLParsing',["sap/ui/thirdparty/URI"],function(U){"use strict";function b(){var r=/^(([A-Za-z0-9_\/]+)-([A-Za-z0-9_\/\-]+)(~([A-Z0-9a-z=+\/]+))?)?([?]([^&]|(&[^\/]))*&?)?$/;this.getShellHash=function(s){var a=/[^#]*#(([^&]|&[^\/])*)(&\/.*)?/,m=a.exec(s);if(m){return m[1];}return undefined;};this.getHash=function(u){var a=/#(.*)/,m=a.exec(u);if(m){return m[1];}return undefined;};this.isIntentUrl=function(u){var a=/^#/,t,l,T,L,h,p;if(typeof u!=="string"){return false;}if(!a.test(u)){t=(new U(u)).normalize();T=t.protocol()+"://"+t.host()+t.pathname();l=(new U(window.location.href)).normalize();L=l.protocol()+"://"+l.host()+l.pathname();if(T!==L){return false;}}h=this.getHash(u);if(!h){return false;}p=this.parseShellHash(h);if(p&&p.semanticObject&&p.action){return true;}return false;};this.parseParameters=function(p){if(!p){return{};}return jQuery.sap.getUriParameters(p).mParams||{};};this.paramsToString=function(p){return this.privparamsToString(p,"&","=");};this.privparamsToString=function(p,d,A){var f,a,k,i,l,s="";f="";a=null;l=[];for(a in p){if(p.hasOwnProperty(a)){l.push(a);}}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(p[a])){for(i=0;i<p[a].length;i=i+1){s+=f+encodeURIComponent(a)+A+encodeURIComponent(p[a][i]);f=d;}}else{s+=f+encodeURIComponent(a)+A+encodeURIComponent(p[a]);f=d;}}return s;};this.parseShellHash=function(h){var a=r,s,S,A,C,p,m,d;if(!h){return undefined;}s=this.splitHash(h);m=a.exec(s.shellPart);if(m){S=m[2];A=m[3];C=m[5];p=m[6];d=this.parseParameters(p);return{semanticObject:S,action:A,contextRaw:C,params:d,appSpecificRoute:s.appSpecificRoute};}if(s.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:s.appSpecificRoute};}return undefined;};this.privstripLeadingHash=function(h){if(h[0]==='#'){return h.substring(1);}return h;};this.splitHash=function(h){var a=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/,m,s,A;if(h===undefined||h===null||h===""){return{};}m=a.exec(h);s=m[1];if(s!==""&&!r.test(s)){return{};}A=m[2];if(s||A){return{shellPart:s,appSpecificRoute:A};}return{};};function c(u,a){if(a){return u+a;}return u;}this.constructShellHash=function(s){var d,p,e,i=null,k,l=[],f="?",a=null;if(!s){return"";}if(!s.target){s.target={};s.target.semanticObject=s.semanticObject;s.target.action=s.action;s.target.contextRaw=s.contextRaw;}if(s.target.shellHash||s.target.shellHash===""){e=this.privstripLeadingHash(s.target.shellHash);return c(e,s.appSpecificRoute);}if(s.target.semanticObject&&s.target.action){d=s.target.semanticObject+"-"+s.target.action.replace(/[?].*/,"");}else{return c("",s.appSpecificRoute);}if(s.target.contextRaw){d+="~"+s.target.contextRaw;}f="?";a=null;l=[];for(a in s.params){if(s.params.hasOwnProperty(a)){l.push(a);}}p=(s.params&&JSON.parse(JSON.stringify(s.params)))||{};if(s.appStateKey){l.push("sap-xapp-state");p["sap-xapp-state"]=s.appStateKey;}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(p[a])){if(p[a].length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<p[a].length;i=i+1){d+=f+encodeURIComponent(a)+"="+encodeURIComponent(p[a][i]);f="&";}}else{d+=f+encodeURIComponent(a)+"="+encodeURIComponent(p[a]);f="&";}}return c(d,s.appSpecificRoute);};this.addSystemToServiceUrl=function(s,C){var R,o,S=C;if(!s||s.indexOf('/')!==0||s.indexOf('//')===0){throw new sap.ushell.utils.Error("Invalid URL: "+s,"sap.ushell.services.URLParsing");}if(C instanceof sap.ui.core.Component){o=(typeof C.getComponentData==="function")&&C.getComponentData();S=o&&o.startupParameters&&o.startupParameters["sap-system"]&&o.startupParameters["sap-system"][0];}R=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!S&&!C&&R&&R.url){S=jQuery.sap.getUriParameters(R.url).get("sap-system");}if(/^[^?]*(;mo([\/;?]|$))/.test(s)){s=s;}else if(/^[^?]*(;o=([\/;?]|$))/.test(s)){s=s.replace(/;o=([\/;?]|$)/,(S?";o="+S:"")+"$1");}else if(!/^[^?]*;o=/.test(s)&&S){s=s.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+S+"$2");}sap.ushell.Container.addRemoteSystemForServiceUrl(s);return s;};};b.hasNoAdapter=true;return b;},true);
sap.ui.predefine('sap/ushell/services/URLShortening',[],function(){"use strict";function U(){var t=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(v,s){var V,k;if(typeof v!=="string"||/^[A-Z0-9]{40}$/.test(v)){return v;}try{V=JSON.parse(v);}catch(e){jQuery.sap.log.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return v;}k=s&&s.getNextKey();this._storeValue(k,V,s);return k;};this.compactHash=function(u,r,s){var S,k,R,p,o,a,b=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(r){r.forEach(function(A){b.push(A);});}o=sap.ushell.Container.getService("URLParsing");S=o.parseShellHash(u);if(!S){jQuery.sap.log.error("the URL "+u+' is not compliant. It may break the product and cause unwanted navigation behavior.');return{hash:u};}p='';if(u.charAt(0)==='#'){p='#';}var v=S&&S.params&&S.params["sap-xapp-state"]&&S.params["sap-xapp-state"][0];if(v){S.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(v,s)];u=p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:S.params,appSpecificRoute:S.appSpecificRoute});}if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}if(S&&((S.params&&S.params[t.ABBREV_PARAM_NAME]))){return{hash:u};}k=s&&s.getNextKey();R=this._splitParameters(S.params,b,k);if(!R.key){return{hash:u};}a=o.paramsToString(R.tailParams);this._storeValue(R.key,a,s);return{hash:p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:R.headParams,appSpecificRoute:S.appSpecificRoute}),params:R.headParams,skippedParams:R.tailParams};};this.checkHashLength=function(u){var s,r,p,o;if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}o=sap.ushell.Container.getService("URLParsing");s=o.parseShellHash(u);p='';if(u.charAt(0)==='#'){p='#';}r=this._splitParameters(s.params,[],"DummyKey");if(r.key){jQuery.sap.log.error("Application startup parameter length exceeds "+t.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete r.headParams[this.ABBREV_PARAM_NAME];return{hash:p+o.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:r.headParams,appSpecificRoute:s.appSpecificRoute}),params:r.headParams,skippedParams:r.tailParams};}jQuery.sap.log.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:u};};this._findIndex=function(a,T){var r=a.indexOf(T);if(r>=0){return r;}r=-1;a.every(function(A,i){if(A.length>0&&A[A.length-1]==="*"&&A.substring(0,A.length-1)===T.substring(0,A.length-1)){r=i;return false;}return true;});return r;};this._cmpByList=function(a,A,b){var i,c;a=a||[];if(A===b){return 0;}i=this._findIndex(a,A);c=this._findIndex(a,b);if(i>=0&&c>=0){if((i-c)!==0){return i-c;}if(A<b){return-1;}if(A>b){return+1;}return 0;}if(i>=0){return-1;}if(c>=0){return+1;}if(A<b){return-1;}return+1;};this._sortByPriority=function(l,r){return l.sort(this._cmpByList.bind(this,r));};this._splitParameters=function(p,r,K){var a,i,k,h={},b={},c=false,o,d,e=0,f,l=[];if(!K||typeof K!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!");}for(a in p){if(Object.prototype.hasOwnProperty.call(p,a)){l.push(a);}}l.sort();l=this._sortByPriority(l,r);for(k=0;k<l.length;k=k+1){a=l[k];o=p[a];if(o.length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<o.length;i=i+1){d=p[a][i];f=a.length+d.length;if(f+e>this.URL_PARAMS_LENGTH_LIMIT){if(b[a]){b[a].push(d);}else{b[a]=[d];}c=true;}else if(h[a]){h[a].push(d);}else{h[a]=[d];}e=e+f+1;}}if(c){h[this.ABBREV_PARAM_NAME]=[K];}return{key:K,tailParams:b,headParams:h};};this.expandHash=function(u){var r=function(k){return t._retrieveValue(k);};return this.expandParamGivenRetrievalFunction(u,this.ABBREV_PARAM_NAME,r);};this.expandParamGivenRetrievalFunction=function(u,p,r){var s,v,k,a,b;if(typeof u!=="string"){return u;}s=sap.ushell.Container.getService("URLParsing").parseShellHash(u);k=s&&s.params&&s.params[p]&&s.params[p][0];if(!k){return u;}a='';if(u.charAt(0)==='#'){a='#';}v=r(k);if(!v){return u;}b=this._blendParameters(s.params,p,v);return a+sap.ushell.Container.getService("URLParsing").constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:b,appSpecificRoute:s.appSpecificRoute});};this._retrieveValue=function(k){return undefined;};this._storeValue=function(k,v,s){if(s&&typeof s.store==="function"){s.store(v);}};this._blendParameters=function(p,P,v){var n=sap.ushell.Container.getService("URLParsing").parseParameters("?"+v),a;delete p[P];for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(p[a]){p[a]=p[a].concat(n[a]);}else{p[a]=n[a];}}}return p;};};U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/Ui5ComponentHandle',[],function(){"use strict";var U=function(c){this._oComponent=c;};U.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],function(){});};U.prototype.getInstance=function(){return this._oComponent;};U.prototype.getMetadata=function(){return this._oComponent.getMetadata();};return U;});
sap.ui.predefine('sap/ushell/services/Ui5ComponentLoader',["sap/ushell/services/Ui5ComponentHandle","sap/ushell/services/_Ui5ComponentLoader/utils","sap/ushell/EventHub"],function(U,u,e){"use strict";function a(c,p,C){this._oConfig=(C&&C.config)||{};this._defaultBundle={name:"core-ext-light",count:4,debugName:"core-ext-light-dbg",path:"sap/fiori/"};this.createComponent=function(A,P,w){var o=A||{};var l=u.shouldLoadCoreExt(o);var b=u.shouldUseAmendedLoading(this._oConfig);var L=u.shouldLoadDefaultDependencies(o,this._oConfig,b);var d=o.applicationDependencies||{};u.logAnyApplicationDependenciesMessages(d.name,d.messages);if(!o.ui5ComponentName){return new jQuery.Deferred().resolve(A).promise();}delete o.loadCoreExt;delete o.loadDefaultDependencies;var f=this._createComponentData(o.componentData||{},o.url,o.applicationConfiguration,o.reservedParameters);var s=u.constructAppComponentId(P||{});var g=l&&b;var h=this._createComponentProperties(g,L,w,o.applicationDependencies||{},o.ui5ComponentName,o.url,s);U.onBeforeApplicationInstanceCreated.call(null,h);var D=new jQuery.Deferred();u.createUi5Component(h,f).then(function(i){var j=new U(i);o.componentHandle=j;var k=l&&(l||(b===false));if(k){o.coreResourcesFullyLoaded=k;}D.resolve(o);},function(E){var i=JSON.stringify(h,null,4);u.logInstantiateComponentError(h.name,E+"",E.status,E.stack,i);D.reject(E);});return D.promise();};this._createComponentData=function(b,s,A,t){var o=jQuery.extend(true,{startupParameters:{}},b);if(A){o.config=A;}if(t){o.technicalParameters=t;}if(u.urlHasParameters(s)){var d=u.getParameterMap(s);o.startupParameters=d.startupParameters;if(d["sap-xapp-state"]){o["sap-xapp-state"]=d["sap-xapp-state"];}}return o;};this._createComponentProperties=function(A,l,w,o,s,b,d){var f=jQuery.extend(true,{},o);if(!f.asyncHints){f.asyncHints=l?{"libs":["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"]}:{};}if(A){f.asyncHints.preloadBundles=f.asyncHints.preloadBundles||[];var g=this._prepareBundle();f.asyncHints.preloadBundles=f.asyncHints.preloadBundles.concat(g.aResources);}if(w){f.asyncHints.waitFor=w;}if(!f.name){f.name=s;}if(b){f.url=u.removeParametersFromUrl(b);}if(d){f.id=d;}return f;};this.loadCoreResourcesComplement=function(){if(this.loadCoreResourcesComplementPromise){return this.loadCoreResourcesComplementPromise.promise();}var o=this._prepareBundle(),d=new jQuery.Deferred();this._loadBundle(o).done(function(){e.emit("CoreResourcesComplementLoaded",{status:"success"});this.loadCoreResourcesComplementPromise=d;d.resolve();}.bind(this)).fail(function(){e.emit("CoreResourcesComplementLoaded",{status:"failed"});d.reject();});return d.promise();};this._prepareBundle=function(){var b,o={name:"CoreResourcesComplement"};if(this._validateConfiguredBundle()){b=this._oConfig.coreResourcesComplement;}else{b=this._defaultBundle;}if(window["sap-ui-debug"]===true){o.aResources=[b.path+b.debugName+".js"];}else{o.aResources=this._buildBundleResourcesArray(b.name,b.path,b.count);}return o;};this._validateConfiguredBundle=function(){var i=true,o=this._oConfig.coreResourcesComplement;if(!o){return false;}if(!o.name||typeof o.name!=="string"){jQuery.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'name' property");i=false;}if(!o.count||typeof o.count!=="number"){jQuery.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'count' property");i=false;}if(!o.debugName||typeof o.debugName!=="string"){jQuery.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'debugName' property");i=false;}if(!o.path||typeof o.path!=="string"){jQuery.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'path' property");i=false;}return i;};this._buildBundleResourcesArray=function(b,P,r){var R=arguments[3]||[],s=P;if(typeof b!=="string"||typeof s!=="string"||typeof r!=="number"){jQuery.sap.log.error("Ui5ComponentLoader: _buildBundleResourcesArray called with invalid arguments");return null;}if(s.substr(-1)!=="/"){s+="/";}if(r===1){R.push(s+b+".js");}if(R.length>=r){return R;}else{R.push(s+b+"-"+R.length+".js");return this._buildBundleResourcesArray(b,s,r,R);}};this._loadBundle=function(b){if(!b||!Array.isArray(b.aResources)||!b.name){jQuery.sap.log.error("Ui5ComponentLoader: _loadBundle called with invalid arguments");return null;}var P=[],d=new jQuery.Deferred();b.aResources.forEach(function(r){P.push(jQuery.sap._loadJSResourceAsync(r));});Promise.all(P).then(function(){d.resolve();}).catch(function(){jQuery.sap.log.error("Ui5ComponentLoader: failed to load bundle: "+b.name);d.reject();});return d.promise();};e.once("loadCoreResourcesComplement").do(function(){this.loadCoreResourcesComplement();}.bind(this));}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/UserDefaultParameterPersistence',[],function(){"use strict";var v=["value","extendedValue","noEdit","alwaysAskPlugin","_shellData","pluginData"];function U(a,c,p,C){this._oAdapter=a;this._oData={};};U.prototype._cleanseValue=function(V){var r=jQuery.extend(true,{},V),a;for(a in r){if(r.hasOwnProperty(a)){if(v.indexOf(a)<0){delete r[a];}}}return r;};U.prototype._testValue=function(V){return true;};U.prototype.loadParameterValue=function(p){var d=new jQuery.Deferred(),t=this;if(this._oData[p]){d.resolve(this._oData[p]);}else{this._oAdapter.loadParameterValue(p).done(function(V){var c=t._cleanseValue(V);if(t._testValue(c)){d.resolve(c);}else{jQuery.sap.log.error("flawed value returned from persistence");d.reject("flawed value returned from persistence");}}).fail(d.reject.bind(this));}return d.promise();};U.prototype.saveParameterValue=function(p,V){var d,c;if(!V){return this.deleteParameter(p);}c=this._cleanseValue(V);d=new jQuery.Deferred();if(!this._testValue(c)||(V&&V.noStore===true)){return d.resolve().promise();}this._oData[p]=c;return this._oAdapter.saveParameterValue(p,c);};U.prototype.deleteParameter=function(p){delete this._oData[p];return this._oAdapter.deleteParameter(p);};U.prototype.getStoredParameterNames=function(){var d=new jQuery.Deferred();this._oAdapter.getStoredParameterNames().done(function(r){r.sort();d.resolve(r);}).fail(d.reject.bind(d));return d.promise();};U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/UserDefaultParameters',['sap/ui/base/EventProvider','sap/ushell/utils'],function(E,u){"use strict";var e="valueStored";var s=["value","noEdit","noStore","extendedValue","alwaysAskPlugin"];function U(a,c,p,C){this._aPlugins=[];this._oUserDefaultParametersNames=undefined;this._oWasParameterPersisted={};var t=this,S=new E();function g(P){var v=(typeof P.getComponentData==="function"&&P.getComponentData()&&P.getComponentData().config&&P.getComponentData().config["sap-priority"])||0;if(typeof v!=="number"||isNaN(v)){return 0;}return v;}this._insertPluginOrdered=function(P,o){var d=g(o),i,f;for(i=0;(i<P.length)&&o;++i){f=g(P[i]);if(o&&(d>f)){P.splice(i,0,o);o=undefined;}}if(o){P.push(o);}return P;};this.registerPlugin=function(P){this._aPlugins=this._insertPluginOrdered(this._aPlugins,P);};function b(i,P,d,v,D){if(i>=P.length){D.resolve(v);return;}if(typeof P[i].getUserDefault!=="function"){b(i+1,P,d,v,D);return;}P[i].getUserDefault(d,v).done(function(n){if(n){b(i+1,P,d,n,D);}else{b(i+1,P,d,v,D);}}).fail(function(){jQuery.sap.log.error("invocation of getUserDefault(\""+d+"\") for plugin "+t._getComponentNameOfPlugin(P[i])+" rejected.",null,"sap.ushell.services.UserDefaultParameters");b(i+1,P,d,v,D);});return;}this._getStoreDate=function(){return new Date().toString();};this._storeValue=function(P,v,f){var t=this;var r=new jQuery.Deferred();var d=new jQuery.Deferred();if(f&&v.extendedValue){sap.ushell.Container.getService("ClientSideTargetResolution").getUserDefaultParameterNames(true).done(function(o){var h=t._extractKeyArrays(o);var i=h.extended;d.resolve(i.indexOf(P)<0);}).fail(function(){d.resolve(false);});}else{d.resolve(false);}d.done(function(R){if(R){v.extendedValue=undefined;}if(f&&t._isInitial(v)){v=undefined;t._oWasParameterPersisted[P]=false;}else{v._shellData=jQuery.extend(true,{storeDate:t._getStoreDate()},v._shellData);}sap.ushell.Container.getService("UserDefaultParameterPersistence").saveParameterValue(P,v).always(function(){var o={parameterName:P,parameterValue:u.clone(v||{})};S.fireEvent(e,o);r.resolve(P);});});return r.promise();};this._getPersistedValue=function(P){var o=sap.ushell.Container.getService("UserDefaultParameterPersistence");return o.loadParameterValue(P);};this._isInitial=function(v){return!v||(!v.value&&!v.extendedValue);};this._haveSameMembersValue=function(o,O,m){return m.every(function(r){return(o[r]===O[r]||jQuery.sap.equal(o[r],O[r]));});};this._getUserDefaultParameterNames=function(){if(!this._oUserDefaultParametersNames){this._oUserDefaultParametersNames=new jQuery.Deferred();sap.ushell.Container.getService("ClientSideTargetResolution").getUserDefaultParameterNames(true).done(function(P){var o=t._extractKeyArrays(P);var d=o.extended;var A=o.allParameters;var m=t._arrayToObject(A);if(m.length===0){t._oUserDefaultParametersNames.resolve({});}else{t._oUserDefaultParametersNames.resolve({aAllParameterNames:A,aExtendedParameterNames:d,oMetadataObject:m});}});}return this._oUserDefaultParametersNames.promise();};this._isRelevantParameter=function(P){var d=new jQuery.Deferred();this._getUserDefaultParameterNames().done(function(r){if(r.aAllParameterNames&&r.aAllParameterNames.indexOf(P)!==-1){d.resolve();}else{d.reject();}});return d.promise();};this.hasRelevantMaintainableParameters=function(){var t=this,r=new jQuery.Deferred(),h=false,G=[];t._getUserDefaultParameterNames().done(function(P){if(!jQuery.isEmptyObject(P)&&P.aAllParameterNames){P.aAllParameterNames.forEach(function(d){var o=t.getValue(d);G.push(o);o.done(function(v){if(v&&!v.hasOwnProperty("noEdit")){h=true;return;}});});jQuery.when.apply(undefined,G).done(function(){r.resolve(h);}).fail(function(){r.resolve();});}else{r.resolve();}});return r.promise();};this.getValue=function(P){var t=this,d=new jQuery.Deferred();this._isRelevantParameter(P).fail(function(){d.resolve({});}).done(function(){jQuery.when(t._getPersistedValue(P)).then(function(o){t._oWasParameterPersisted[P]=true;return jQuery.when(o||{});},function(){return jQuery.when({value:undefined});}).then(function(o){var G=new jQuery.Deferred(),v=u.clone(o),f=sap.ushell.Container.getService("PluginManager");var A=(!o._shellData&&t._isInitial(o))||o.noStore||o.alwaysAskPlugin;if(!A){d.resolve(v);return;}f.loadPlugins("UserDefaults").done(function(){b(0,t._aPlugins,P,o,G);}).fail(function(){jQuery.sap.log.error("Cannot get value for "+P+". One or more plugins could not be loaded.");G.reject("Initialization of plugins failed");});G.done(function(n){if(!t._oWasParameterPersisted[P]||!t._haveSameMembersValue(v,n,s)){t._oWasParameterPersisted[P]=true;t._storeValue(P,n);}d.resolve(n);}).fail(d.reject.bind(d));});});return d.promise();};this._addParameterValuesToParameters=function(P,d){var D=new jQuery.Deferred();var f=[];var t=this;d.forEach(function(h){var n=t.getValue(h);f.push(n);n.done(function(v){P[h].valueObject=v;});});jQuery.when.apply(jQuery,f).done(D.resolve.bind(D,P)).fail(D.reject.bind(D,P));return D.promise();};this._arrayToObject=function(P){var r={};P.forEach(function(d){r[d]={};});return r;};this._getComponentNameOfPlugin=function(P){if(typeof P!=="object"||typeof P.getMetadata!=="function"||!P.getMetadata()||typeof P.getMetadata().getComponentName!=="function"){return"'name of plugin could not be determined'";}return P.getMetadata().getComponentName()||"";};this._getEditorDataAndValue=function(d,A,f,m){var t=this;var P=[];var r=[];t._aPlugins.forEach(function(o,i){if(typeof o.getEditorMetadata==="function"){var n=new jQuery.Deferred();P.push(n);try{var h=P.length-1;o.getEditorMetadata(m).done(function(R){r[h]=R;}).always(function(){n.resolve();}).fail(function(){jQuery.sap.log.error("EditorMetadata for plugin "+t._getComponentNameOfPlugin(o)+"cannot be invoked.",null,"sap.ushell.services.UserDefaultParameters");n.resolve();});}catch(j){jQuery.sap.log.error("Error invoking getEditorMetaData on plugin: "+j+j.stack,null,"sap.ushell.services.UserDefaultParameters");n.resolve();}}});jQuery.when.apply(jQuery,P).done(function(){var h=[];var o=r.reverse().reduce(function(i,n){A.forEach(function(j){if(n[j]&&n[j].editorMetadata){i[j].editorMetadata=n[j].editorMetadata;}});return i;},m);A.forEach(function(i){if(!(o[i]&&o[i].editorMetadata)){h.push(i);}});t._addParameterValuesToParameters(o,A).done(function(i){var j=jQuery.extend(true,{},i),k;f.forEach(function(l){if(j[l]){j[l].editorMetadata=j[l].editorMetadata||{};j[l].editorMetadata.extendedUsage=true;}});k=Object.keys(j).splice(0);k.forEach(function(l){var n;if(j[l].valueObject&&j[l].valueObject.noEdit===true){delete j[l];n=h.indexOf(l);if(n>=0){h.splice(n,1);}}});if(h.length>0){jQuery.sap.log.error("The following parameter names have no editor metadata and thus likely no configured plugin:\n\""+h.join("\",\n\"")+"\".");}d.resolve(j);}).fail(d.reject.bind(d));});};this.editorGetParameters=function(){var d=new jQuery.Deferred();var t=this;this._getUserDefaultParameterNames().done(function(P){if(P.oMetadataObject.length===0){d.resolve({});}else{sap.ushell.Container.getService("PluginManager").loadPlugins("UserDefaults").done(function(){t._getEditorDataAndValue(d,P.aAllParameterNames,P.aExtendedParameterNames,P.oMetadataObject);}).fail(function(){jQuery.sap.log.error("One or more plugins could not be loaded");d.reject("Initialization of plugins failed");});}});return d.promise();};this._extractKeyArrays=function(P){var r={extended:[],simple:[],allParameters:[]};r.simple=(P&&P.simple&&Object.keys(P.simple).sort())||[];r.extended=(P&&P.extended&&Object.keys(P.extended).sort())||[];r.allParameters=r.simple.concat(r.extended.filter(function(d){return r.simple.indexOf(d)<0;})).sort();return r;};this.editorSetValue=function(P,v){return this._storeValue(P,v,true);};this.attachValueStored=function(f){S.attachEvent(e,f);};this.detachValueStored=function(f){S.detachEvent(e,f);};};U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/UserInfo',[],function(){"use strict";function U(a,c){this.getId=function(){return sap.ushell.Container.getUser().getId();};this.getUser=function(){return sap.ushell.Container.getUser();};this.getThemeList=function(){var p=a.getThemeList();p.fail(function(){jQuery.sap.log.error("getThemeList failed");});return p;};this.updateUserPreferences=function(){var p=a.updateUserPreferences(sap.ushell.Container.getUser());p.fail(function(){jQuery.sap.log.error("updateAttributes: ");});return p;};this.getLanguageList=function(){var p=a.getLanguageList();p.fail(function(){jQuery.sap.log.error("getLanguageList failed");});return p;};};U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/_AppState/AppState',[],function(){function A(S,k,m,d,a,b,t){this._oServiceInstance=S;this._sKey=k;this._sData=d;this._sAppName=a;this._sACHComponent=b;this._bTransient=t;if(m){this.setData=function(D){try{this._sData=JSON.stringify(D);}catch(e){jQuery.sap.log.error("Data can not be serialized","sap.ushell.services.AppState.AppState");this._sData=undefined;}};this.save=s.bind(this);}};function s(){var d=new jQuery.Deferred();this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient).done(function(){d.resolve();}).fail(function(m){d.reject(m);});return d.promise();}A.prototype.getData=function(){var o;if(this._sData===undefined||this._sData===""){return undefined;}try{o=JSON.parse(this._sData);}catch(e){jQuery.sap.log.error("Could not parse ["+this._sData+"]"+e);}return o;};A.prototype.getKey=function(){return this._sKey;};return A;});
sap.ui.predefine('sap/ushell/services/_AppState/LimitedBuffer',[],function(){"use strict";function L(c){this.index=-1;this.capacity=c;this.array=[];}L.prototype._clear=function(){this.array=[];this.index=-1;};L.prototype.addAsHead=function(k,v){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:k,value:v};};L.prototype.getByKey=function(k){var i,e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===k){return this.array[e];}}return undefined;};return L;});
sap.ui.predefine('sap/ushell/services/_AppState/Sequentializer',[],function(){"use strict";function S(){this.oLastPromise=new jQuery.Deferred();this.oLastPromise.resolve();};S.prototype.addToQueue=function(f){var n=new jQuery.Deferred();this.oLastPromise.always(function(){var r=f();r.done(function(){n.resolve.apply(n,arguments);}).fail(function(){n.reject.apply(n,arguments);});});this.oLastPromise=n;return n.promise();};return S;});
sap.ui.predefine('sap/ushell/services/_AppState/SequentializingAdapter',["sap/ushell/services/_AppState/Sequentializer"],function(S){"use strict";function a(u){this._oSequentializer=new S();this._oUnderlyingAdapter=u;};a.prototype.saveAppState=function(k,s,d,A,c){var f;f=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,k,s,d,A,c);return this._oSequentializer.addToQueue(f);};a.prototype.loadAppState=function(k){return this._oUnderlyingAdapter.loadAppState(k);};return a;});
sap.ui.predefine('sap/ushell/services/_AppState/WindowAdapter',["sap/ushell/services/_AppState/LimitedBuffer"],function(L){"use strict";var W=50;function a(){this._init.apply(this,arguments);}a.prototype._init=function(s,b,c){var i=c&&c.config&&c.config.initialAppStates||{};var I=c&&c.config&&c.config.initialAppStatesPromise;this._oServiceInstance=s;this._oBackendAdapter=b;if(!a.prototype.data){a.prototype.data=new L(W);}if(I){I.then(function(i){if(typeof i==="object"){Object.keys(i).forEach(function(k){a.prototype.data.addAsHead(k,i[k]);});}});}Object.keys(i).forEach(function(k){a.prototype.data.addAsHead(k,i[k]);});};a.prototype.saveAppState=function(k,s,d,A,c,t){this.sComponent=c;var D=new jQuery.Deferred();a.prototype.data.addAsHead(k,d);if(this._oBackendAdapter&&!t){return this._oBackendAdapter.saveAppState(k,s,d,A,c);}D.resolve();return D.promise();};a.prototype.loadAppState=function(k){var d=new jQuery.Deferred(),b=a.prototype.data.getByKey(k);if(b){setTimeout(function(){d.resolve(k,b.value);},0);return d.promise();}if(this._oBackendAdapter){this._oBackendAdapter.loadAppState(k).done(function(k,D){a.prototype.data.addAsHead(k,D);d.resolve(k,D);}).fail(d.reject.bind(d));return d.promise();}d.reject("AppState.js loadAppState: Application State could not be loaded");return d.promise();};return a;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Formatter',[],function(){"use strict";function f(i){return"#"+i.semanticObject+"-"+i.action+"{"+a(i.signature)+"}";}function p(i){var m=i.match(/^#(.+?)-(.+?)({(.+)})?$/);if(!m){throw"Cannot parse inbound";}var r={semanticObject:m[1],action:m[2],signature:{parameters:{}}};if(!m[3]){return r;}r.signature=b(m[4]);return r;}function a(i){var I=i||{},P=I.parameters||{},t={optional:"[FORMAT]",required:"FORMAT"},F={regexp:"/VALUE/",reference:"@VALUE@",value:"VALUE",plain:"VALUE",_unknown:"?VALUE?"},A={allowed:"<+>",notallowed:"<->",ignored:"<o>",_unknown:"<?>"};var h=P&&Object.prototype.toString.apply(P)==="[object Object]"&&Object.keys(P).length>0;if(!h){return"<no params>"+(A[I.additionalParameters]||A._unknown);}var r=[];Object.keys(P).forEach(function(s){var o=P[s],c=o.required?"required":"optional",d=o.filter&&o.filter.value,e=o.defaultValue&&o.defaultValue.value,g=(o.filter&&o.filter.format)||"plain",j=(o.defaultValue&&o.defaultValue.format)||"plain";var v=[],k=F[g]||F._unknown,l=F[j]||F._unknown;if(d){v.push(t["required"].replace("FORMAT",k.replace("VALUE",d)));}if(e){v.push(t["optional"].replace("FORMAT",l.replace("VALUE",e)));}r.push(t[c].replace("FORMAT",s+":"+v.join("")));});return r.join(",")+(A[I.additionalParameters]||A._unknown);}function b(c){function d(v){var V=[{re:new RegExp(/^[/](.+)[/]$/),format:"regexp"},{re:new RegExp(/^[@](.+)[@]$/),format:"reference"},{re:new RegExp(/^[?](.+)[?]$/),format:"???"}].reduce(function(r,D){var m=v.match(D.re);if(r){return r;}if(!m){return null;}return{format:D.format,value:m[1]};},null);if(V){return V;}return{value:v};}function e(j){var n,k,l,m,o,w,M,q,t,O,R,N;N="<no params>";n="[^\\]\\[]";R="("+n+"+?):("+n+"*)(.*)";O="\\["+R+"\\]";t=N+"|"+O+"|"+R;q=new RegExp("^"+t+"$");o={success:false,name:null,value:{}};M=j.match(q);if(!M){return o;}w=M.shift();while(M.length>0){m=M.shift();l=M.shift();k=M.shift();if(m){o.name=m;if(l){o.value.filter=d(l);}if(k){o.value.defaultValue=d(k.replace(/\[(.+)\]/,"$1"));}o.value.required=(w.charAt(0)!=="[");}}o.success=true;return o;}function g(j){return[{"<+>":"allowed"},{"<->":"notallowed"},{"<o>":"ignored"}].reduce(function(R,o,I,k){if(R){return R;}var l=Object.keys(o)[0];if(j===l){return o[l];}return null;},null);}function s(P){var I=[];P.split(":").reduce(function(j,n,k,l){var v,N,V;if(k===0){return n;}if(k<l.length-1){V=n.split(",");if(V.length>1){N=V.pop();v=V.join(",");}else{return j+":"+n;}}else{v=n;}I.push([j,v].join(":"));return N;},"");return I;}var r={parameters:{}};var A=c.substr(c.length-3,3);var h=!!A.match(/<[?o+-]>/);var P=c;if(h){P=c.substr(0,c.length-3);}var S=s(P);S.forEach(function(j){var o=e(j);if(!o.success){throw new Error("Cannot parse parameters from "+c);}if(o.name){r.parameters[o.name]=o.value;}});if(h){var i=g(A);if(i){r.additionalParameters=g(A);}}else{r.additionalParameters="ignored";}return r;}return{formatInboundSignature:a,parseInboundSignature:b,parseInbound:p,formatInbound:f};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/InboundIndex',[],function(){"use strict";function g(){return this.index.all;}function a(S){if(S==="*"||S===undefined){return this.index.all;}return(this.index.segment[S]||[]).concat(this.index.always);}function b(T){return T.map(function(d){return this.index.tag[d]||[];},this).reduce(function(u,I){Array.prototype.push.apply(u,I.filter(function(o){return o.isAlreadyInUnion?false:(o.isAlreadyInUnion=true);}));return u;},[]).map(function(I){delete I.isAlreadyInUnion;return I;});}var i=Object.create(Object.prototype,{getSegment:{value:a},getAllInbounds:{value:g},getSegmentByTags:{value:b}});function t(I,o){var T=jQuery.sap.getObject('signature.parameters.sap-tag.defaultValue.value',undefined,I);if(!T){return;}if(!o.tag[T]){o.tag[T]=[];}o.tag[T].push(I);}function s(I,o){var S=I.semanticObject;if(S==="*"){o.always.push(I);}else{if(!o.segment[S]){o.segment[S]=[];}o.segment[S].push(I);}}function c(I){var o={all:I,segment:{},always:[],tag:{}};I.forEach(function(d,e){if(!d){jQuery.sap.log.warning("Void inbound provided to indexer","the inbound will be skipped");return;}t(d,o);s(d,o);});return Object.create(i,{index:{value:o}});}return{createIndex:c,private:{tagInbound:t,createIndex:c,segmentInbound:s}};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/InboundProvider',["sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/InboundIndex"],function(v,i){"use strict";function I(){this._init.apply(this,arguments);};I.prototype._init=function(r){this._fnRetrieveInbounds=r;this._oInboundsRetrievalPromise=null;};I.prototype.getInbounds=function(s){if(s){return this._getSomeInbounds(s);}return this._getAllInbounds();};I.prototype._getSomeInbounds=function(s){var t=this;return new Promise(function(r,R){t._fnRetrieveInbounds(s).done(function(a){r(i.createIndex(a.concat(v.getInbounds())));}).fail(function(){R.apply(null,arguments);});});};I.prototype._getAllInbounds=function(){var t=this;if(this._oInboundsRetrievalPromise){return this._oInboundsRetrievalPromise;}this._oInboundsRetrievalPromise=new Promise(function(r,R){t._fnRetrieveInbounds().done(function(a){r(i.createIndex((a||[]).concat(v.getInbounds())));}).fail(function(){R.apply(null,arguments);});});return this._oInboundsRetrievalPromise;};return I;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Search',["sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Formatter"],function(u,v,f){"use strict";var A=[undefined,"GUI","WDA","UI5"];function a(M,I){var r=M.inbound.resolutionResult;if(!r){return"";}return["applicationType","ui5ComponentName","url","additionalInformation","text"].map(function(K){if(I){return r.hasOwnProperty(K)?K+":"+r[K]:"";}return r.hasOwnProperty(K)?r[K]:"";}).join("");}function b(M){return M.sort(function(p,q){if((p["sap-priority"]||0)-(q["sap-priority"]||0)!==0){return-((p["sap-priority"]||0)-(q["sap-priority"]||0));}if(p.priorityString<q.priorityString){return 1;}if(p.priorityString>q.priorityString){return-1;}return(a(p)<a(q))?1:-1;});}function e(I,M){var s;if(I&&I["sap-priority"]&&I["sap-priority"][0]){s=parseInt(I["sap-priority"][0],10);if(!isNaN(s)){M["sap-priority"]=s;}}return;}function m(V,F,K,M){var s;if(!F){return true;}if(!V&&V!==""){return false;}s=F.value;if(F.format==="reference"){if(/UserDefault\.extended\./.test(s)){jQuery.sap.log.error("Illegal inbound: extended user default '"+s+"' used as filter");return false;}if(K.hasOwnProperty(s)){return V===K[s];}M[s]=true;return true;}if(F.format==="value"||F.format==="plain"||F.format===undefined){return V===F.value;}else if(F.format==="regexp"){return!!V.match("^"+F.value+"$");}else{jQuery.sap.log.error("Illegal oFilter format");return false;}}function g(M){return M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult["sap.ui"]&&M.inbound.resolutionResult["sap.ui"].technology;}function c(I,s,K,M,D){var p={},q={};Object.keys(I).forEach(function(P){if(P!=="sap-ushell-defaultedParameterNames"){p[P]=I[P];}});if(!s){return p;}Object.keys(s).forEach(function(P){var t=s[P],T,V=false;if(!p[P]&&t.hasOwnProperty("defaultValue")){if(t.defaultValue.format&&t.defaultValue.format==="reference"){T=t.defaultValue.value;if(K.hasOwnProperty(T)){if(typeof K[T]==="string"){p[P]=[K[T]];V=true;}else if(typeof K[T]==="object"){p[P]=K[T];V=true;}}else{p[P]=[t.defaultValue];M.push(t.defaultValue.value);}}else{p[P]=[t.defaultValue.value];V=true;}if(V){q[P]=true;}}});Object.keys(q).sort().forEach(function(P){D.push(P);});return p;}function d(M,I){M.resolutionResult={};if(I&&I.resolutionResult&&I.resolutionResult.hasOwnProperty("sap.platform.runtime")){M.resolutionResult["sap.platform.runtime"]=I.resolutionResult["sap.platform.runtime"];}Object.keys(M.intentParamsPlusAllDefaults).slice(0).forEach(function(N){if(!jQuery.isArray(M.intentParamsPlusAllDefaults[N])){if(!M.resolutionResult.oNewAppStateMembers){M.resolutionResult.oNewAppStateMembers={};}M.resolutionResult.oNewAppStateMembers[N]=M.intentParamsPlusAllDefaults[N];}});}function h(r,M){r.forEach(function(R){M[R]=true;});}function i(M){var t=M.intentParamsPlusAllDefaults["sap-ui-tech-hint"]&&M.intentParamsPlusAllDefaults["sap-ui-tech-hint"][0];var I=M.defaultedParamNames&&(M.defaultedParamNames.indexOf("sap-ui-tech-hint")>=0);if(t&&g(M)===t){return I?1:2;}return 0;};function j(M){function p(N){var s="000"+N;return s.substr(s.length-3);}M.priorityString=[M.genericSO?"g":"x","TECM="+i(M),"MTCH="+p(M.countMatchingParams),"MREQ="+p(M.countMatchingRequiredParams),"NFIL="+p(M.countMatchingFilterParams),"NDEF="+p(M.countDefaultedParams),"POT="+p(M.countPotentiallyMatchingParams),"RFRE="+p(999-M.countFreeInboundParams),"TECP="+k(M)].join(" ");};function k(M){var t=g(M);var p=A.indexOf(t);return Math.max(0,p);}function l(I,p){var q=false;if(I.signature.additionalParameters==="allowed"||I.signature.additionalParameters==="ignored"){return true;}if(I.signature.additionalParameters==="notallowed"||I.signature.additionalParameters===undefined){q=Object.keys(p).every(function(P){return(!I.signature.parameters[P]&&P.indexOf("sap-")!==0)?false:true;});}else{jQuery.sap.log.error("Unexpected value of inbound for signature.additionalParameters");}return q;}function n(I,p,K,D){var M=p.reduce(function(r,q){var s=o(I,q,K,r.missingReferences);if(s.matches){r.matchResults.push(s);}else if(D){(function(){var N=r.noMatchReasons;var t=f.formatInbound(q);N[t]=s.noMatchReason+(s.noMatchDebug?"| DEBUG: "+s.noMatchDebug:"");})();}return r;},{matchResults:[],noMatchReasons:{},missingReferences:{}});return jQuery.when(M);}function o(I,p,K,M){var q={inbound:p};function N(E,F,G){E.matches=false;E.noMatchReason=F;E.noMatchDebug=G;return E;}function r(E){E.matches=true;E.matchesVirtualInbound=v.isVirtualInbound(p);return E;}q.genericSO=(p.semanticObject==="*");if(!(I.semanticObject===undefined||I.semanticObject===p.semanticObject||p.semanticObject==='*')){return N(q,"Semantic object \""+I.semanticObject+"\" did not match");}if(!(I.action===undefined||I.action===p.action)){return N(q,"Action \""+I.action+"\" did not match");}if(p.deviceTypes&&!(I.formFactor===undefined||p.deviceTypes[I.formFactor])){return N(q,"Form factor \""+I.formFactor+"\" did not match","Inbound: ["+Object.keys(p.deviceTypes).filter(function(E){return!!p.deviceTypes[E];}).join(", ")+"]");}var t=I.params&&I.params["sap-ui-tech-hint"]&&I.params["sap-ui-tech-hint"][0];if(I.treatTechHintAsFilter&&t){var s=g({inbound:p});if(s!==t){return N(q,"Tech Hint as filter \""+t+"\" did not match","Inbound: ["+s+"]");}}var R=[],D=[],w=I.params||{};var x=c(w,p.signature&&p.signature.parameters,K,R,D);q.intentParamsPlusAllDefaults=x;q.defaultedParamNames=D;e(x,q);var y=0,z=0,B=0,C=0;var S=Object.keys(p.signature.parameters).every(function(P){var V=x[P],E=V&&V[0],F=p.signature.parameters[P],G=w.hasOwnProperty(P);if(F.required&&(E===null||E===undefined)){return false;}if(F.filter){if(!m(E,F.filter,K,M)){return false;}if(G){++B;}}if(G&&F.required){++z;}if(G){++y;}if(!G&&(E===null||E===undefined)){++C;}var H=u.constructParameterDominatorMap(p.signature.parameters);var J=u.removeSpuriousDefaultedValues(q.intentParamsPlusAllDefaults,q.defaultedParamNames,H);q.intentParmsPlusAllDefaults=J.intentParmsPlusAllDefaults;q.defaultedParamNames=J.defaultedParamNames;return true;});q.countMatchingParams=y;q.countMatchingRequiredParams=z;q.countMatchingFilterParams=B;q.countDefaultedParams=D.length;q.countPotentiallyMatchingParams=Object.keys(w).length;q.countFreeInboundParams=C;if(!S){return N(q,"Inbound parameter signature did not match",f.formatInboundSignature(p.signature));}if(!l(p,x)){return N(q,"Additional parameters not allowed",f.formatInboundSignature(p.signature));}if(p.signature.additionalParameters==="ignored"){u.filterObjectKeys(x,function(E){if(E.indexOf("sap-")===0){return true;}if(p.signature.parameters.hasOwnProperty(E)){return true;}return false;},true);q.countPotentiallyMatchingParams=Object.keys(w).filter(function(E){return p.signature.parameters.hasOwnProperty(E);}).length;}d(q,p);j(q);h(R,M);return r(q);};return{match:n,matchOne:o,sortMatchingResultsDeterministic:b,matchesFilter:m,checkAdditionalParameters:l,addDefaultParameterValues:c,extractSapPriority:e,serializeMatchingResult:a};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/StagedLogger',["sap/ushell/services/_ClientSideTargetResolution/Utils"],function(u){"use strict";var _={};function b(g){var L,o,s=g();if(!s.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #begin method of StagedLogger.");}L=s.logId;if(_[L]){throw new Error("'cannot call #begin twice with same log id: '"+L+"'");}else{_[L]={};}o=_[L];o.title=s.title||null;o.moduleName=s.moduleName||null;var r=function(c,n){if(n===1){return c}else{return r(c,n-1)+c;}};o.stages=s.stages.map(function(S){return[S,r('-',S.length)];});return L;}function l(g){var L,c,s,d,p,S,n,A;A=g();if(!A.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.");}L=A.logId;S=A.stage;p=A.prefix;d=A.lines;s=A.line;n=A.number;if(!d&&s&&p){s=p+" "+s;}c=_[L].stages[S-1];if(s){c.push(s);}if(d){if(p){p=(s?" ":"")+p;}var f=d.map(function(s,i){return(n?(i+1):"")+(p?p+" ":"")+s;});c.push.apply(c,f);}}function e(g){var A,L,s;A=g();if(!A.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.");}s=A.logId;L=_[s];if(typeof L!=="object"){throw new Error("Logger .end was called on an already ended logger");}var c=L.stages.map(function(S){return S.join("\n");}).join("\n\n");jQuery.sap.log.debug("[REPORT #"+s+"] "+L.title,"\n"+c+"\n",L.moduleName);delete _[s];}function a(){return _;}return{begin:function(){if(!u.isDebugEnabled()){return;}b.apply(null,arguments);},log:function(){if(!u.isDebugEnabled()){return;}l.apply(null,arguments);},end:function(){if(!u.isDebugEnabled()){return;}e.apply(null,arguments);},_getLogs:a};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Utils',[],function(v,f){"use strict";function r(I,D,p){var o=D.slice(0);o.forEach(function(P,e){var s;var n=p[P].dominatedBy.some(function(k){if(I[k]&&(k!==P)&&D.indexOf(k)===-1){s=k;return true;}return false;});if(n&&(s!==P)){D.splice(e,1);delete I[P];}});return{intentParamsPlusAllDefaults:I,defaultedParamNames:D};}function c(p){var D={},R={};Object.keys(p).forEach(function(k){var s=p[k].renameTo||k;R[s]=R[s]||{"renameTo":s,"dominatedBy":[]};R[s].dominatedBy.push(k);R[s].dominatedBy=R[s].dominatedBy.sort();D[k]=R[s];});return D;}function a(o,F,I){var O=I?o:jQuery.extend(true,{},o);Object.keys(O).forEach(function(k){if(F(k)===false){delete O[k];}});return O;}function b(o,F){var e;e=Object.keys(o).reduce(function(e,k){var V=o[k];if(F(k,V)){e[k]=V;}return e;},{});return e;};function w(e){if(i()){e.call(null);}}function i(){var C=jQuery.sap.log.getLevel();if(C>=jQuery.sap.log.Level.DEBUG){return true;}return false;}function d(I,p){return p.every(function(P){var o,O,s;s=P.name;O=P.options;o=I[s];return Object.keys(O).every(function(e){var g=O[e];if(e==="required"){return!!(o||{}).required===g;}return false;});});}return{inboundSignatureMeetsParameterOptions:d,filterObjectKeys:a,filterObject:b,constructParameterDominatorMap:c,removeSpuriousDefaultedValues:r,whenDebugEnabled:w,isDebugEnabled:i};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds',[],function(){"use strict";var v={};var A=[{hideIntentLink:true,semanticObject:"Action",action:"search",deviceTypes:{desktop:true,tablet:true,phone:true},signature:{parameters:{},additionalParameters:"notallowed"},resolutionResult:{applicationType:"SAPUI5",ui5ComponentName:"sap.ushell.renderers.fiori2.search.container",additionalInformation:"SAPUI5.Component=sap.ushell.renderers.fiori2.search.container",url:jQuery.sap.getResourcePath("sap/ushell/renderers/fiori2/search/container"),loadCoreExt:false,loadDefaultDependencies:false}}];v.isVirtualInbound=function(i){return A.some(function(V){return V===i;});};v.getInbounds=function(){return A;};return v;});
sap.ui.predefine('sap/ushell/services/_CommonDataModel/PersonalizationProcessor',[],function(){"use strict";function P(){}P.prototype._getItemIndex=function(i,I){var r;for(r=0;r<i.length;r++){if(i[r].id===I){break;}}r=(r>=i.length)?-1:r;return r;};P.prototype._applyRenameGroup=function(g,n,o){var G,b=false;if(!n){return false;}if(g&&o&&o.groups&&o.groups[g]){G=o.groups[g];if(G.identification&&G.identification.title){o.groups[g].identification.title=n;b=true;}}return b;};P.prototype._applyGroupVisibility=function(g,G,o){var b=false;if(G===undefined){return false;}if(g&&o&&o.groups&&o.groups[g]){o.groups[g].identification.isVisible=G;b=true;}return b;};P.prototype.mixinPersonalization=function(o,p){var d=new jQuery.Deferred(),t=this;if(!p||jQuery.isEmptyObject(p)){return d.resolve(o).promise();}if(p.groups){Object.keys(p.groups).forEach(function(g){var G=p.groups[g];if(o.groups[g]){if(G.identification){if(G.identification.title){t._applyRenameGroup(g,G.identification.title,o);}if(G.identification.hasOwnProperty("isVisible")&&G.identification.isVisible===false){t._applyGroupVisibility(g,false,o);}}}});}this._applyAddGroups(o,p);if(p.removedGroups&&jQuery.isArray(p.removedGroups)){p.removedGroups.forEach(function(g){t._applyRemoveGroup(o,g);});}this._applyMoveGroup(o,p);this._applyItemChanges(o,p);this._applyTileSettings(o,p);return d.resolve(o).promise();};P.prototype._applyAddGroups=function(o,p){var n=[];o.site=o.site||{};o.site.payload=o.site.payload||{};o.site.payload.groupsOrder=o.site.payload.groupsOrder||[];o.groups=o.groups||{};if(jQuery.isArray(p.groupOrder)){o.site.payload.groupsOrder.forEach(function(g){if(p.groupOrder.indexOf(g)===-1){if((p.removedGroups&&p.removedGroups.indexOf(g)===-1)||!p.removedGroups){n.push(g);}}});}if(jQuery.isArray(p.groupOrder)&&p.addedGroups&&Object.keys(p.addedGroups).length>0){Object.keys(p.addedGroups).forEach(function(g){o.groups[g]=p.addedGroups[g];o.groups[g].payload.isPreset=false;});o.site.payload.groupsOrder=p.groupOrder;}n.forEach(function(N){o.site.payload.groupsOrder.push(N);});};P.prototype._checkRenameGroup=function(g,p,o,a){if(g&&p&&o){if(o[g]){if(p[g].identification.title!==o[g].identification.title){a=a||{};a.groups=a.groups||{};a.groups[g]=a.groups[g]||{};a.groups[g].identification=a.groups[g].identification||{};a.groups[g].identification.title=p[g].identification.title;}}}return a;};P.prototype._checkTileSettings=function(p,o){if(!p.modifiedTiles){return;}o.modifiedTiles=p.modifiedTiles;};P.prototype._applyTileSettings=function(s,p){var g,m;if(!p.modifiedTiles){return;}g=Object.keys(s.groups).map(function(k){return this[k];},s.groups);m=Object.keys(p.modifiedTiles).map(function(k){return this[k];},p.modifiedTiles);g.some(function(G){["tiles","links"].forEach(function(t){if(G.payload[t]){G.payload[t].some(function(T){var i;m.some(function(u,I){if(u.id===T.id){if(u.title!==undefined){T.title=u.title;}if(u.subTitle!==undefined){T.subTitle=u.subTitle;}if(u.info!==undefined){T.info=u.info;}i=I;return true;}return false;});if(i!==undefined){m.splice(i,1);}return m.length===0;});}});return m.length===0;});s.modifiedTiles=p.modifiedTiles;};P.prototype._checkGroupVisibility=function(g,p,o,a){if(g&&p&&o){if(o[g]){if(p[g].identification.isVisible!==o[g].identification.isVisible&&typeof p[g].identification.isVisible==="boolean"){a=a||{};a.groups=a.groups||{};a.groups[g]=a.groups[g]||{};a.groups[g].identification=a.groups[g].identification||{};a.groups[g].identification.isVisible=p[g].identification.isVisible;}}}return a;};P.prototype._addGroupToPersonalizationDelta=function(p,o,g){var s=false,G,n;if(p&&p.site&&p.site.payload&&p.site.payload.groupsOrder&&p.groups&&g&&p.groups[g]&&o){G=p.site.payload.groupsOrder;n=p.groups[g];o.addedGroups=o.addedGroups||{};o.addedGroups[g]={};o.addedGroups[g].identification=jQuery.extend({},n.identification);o.addedGroups[g].payload=jQuery.extend({},n.payload);o.addedGroups[g].payload.tiles=[];o.addedGroups[g].payload.links=[];o.groupOrder=G;s=true;}return s;};P.prototype.extractPersonalization=function(p,o){var d=new jQuery.Deferred(),a,b={},O,e,t=this;if(p&&p.groups&&o&&o.groups){a=p.groups;O=o.groups;e=this._getExtractHelperObject(o,p,b);Object.keys(O).forEach(function(g){t._checkRemoveGroup(p,b,g);t._extractFromOriginalSiteOneGroup(o,e,g,"tiles");t._extractFromOriginalSiteOneGroup(o,e,g,"links");});Object.keys(a).forEach(function(g){if(O[g]){t._checkRenameGroup(g,a,O,b);t._checkGroupVisibility(g,a,O,b);}else{t._addGroupToPersonalizationDelta(p,b,g);}t._extractFromPersonalizedSiteOneGroup(p,e,g,"tiles");t._extractFromPersonalizedSiteOneGroup(p,e,g,"links");});this._checkMoveGroup(p,o,b);this._checkTileSettings(p,b);this._cleanupRemovedGroups(o,b);if(e.oPersonalizationDelta.movedTiles&&jQuery.isEmptyObject(e.oPersonalizationDelta.movedTiles)){delete(e.oPersonalizationDelta.movedTiles);}if(e.oPersonalizationDelta.movedLinks&&jQuery.isEmptyObject(e.oPersonalizationDelta.movedLinks)){delete(e.oPersonalizationDelta.movedLinks);}}return d.resolve(b).promise();};P.prototype._checkRemoveGroup=function(p,o,O){var s=false;if(p&&p.groups&&o&&O){if(!p.groups[O]){o.removedGroups=o.removedGroups||[];o.groupOrder=o.groupOrder||[];if(o.removedGroups.indexOf(O)===-1){o.removedGroups.push(O);}if(p.site&&p.site.payload&&p.site.payload.groupsOrder&&jQuery.isArray(p.site.payload.groupsOrder)){o.groupOrder=p.site.payload.groupsOrder.slice(0);}}s=true;}return s;};P.prototype._applyRemoveGroup=function(o,g){var O,G,i;if(o&&o.groups&&o.site&&o.site.payload&&o.site.payload.groupsOrder&&g){O=o.groups;G=o.site.payload.groupsOrder;i=G.indexOf(g);if(!(i===-1)){G.splice(i,1);delete(O[g]);return true;}}return false;};P.prototype._checkMoveGroup=function(p,o,a){var b,O,c=false,s=false;if(p.site&&p.site.payload&&jQuery.isArray(p.site.payload.groupsOrder)&&o.site&&o.site.payload&&jQuery.isArray(o.site.payload.groupsOrder)){b=p.site.payload.groupsOrder;O=o.site.payload.groupsOrder;if(b.length===O.length){c=(function(){var S=false,i;for(i=0;i<O.length;i++){if(O[i]!==b[i]){S=true;break;}}return S;})();if(c){a.groupOrder=b;s=true;}}}return s;};P.prototype._applyMoveGroup=function(o,p){var s=false;if(jQuery.isArray(p.groupOrder)){o.site=o.site||{};o.site.payload=o.site.payload||{};if(!jQuery.isArray(o.site.payload.groupsOrder)){o.site.payload.groupsOrder=[];}if(o.site.payload.groupsOrder.length===p.groupOrder.length){o.site.payload.groupsOrder=p.groupOrder;s=true;}}return s;};P.prototype._getHashedItemsFromSite=function(s){var r=null;if(s&&s.groups){if(Object.keys(s.groups).length>0){r={};Object.keys(s.groups).forEach(function(g){var G=s.groups[g],a;r[g]={};if(G.payload){["tiles","links"].forEach(function(t){r[g][t]={};if(jQuery.isArray(G.payload[t])){a=G.payload[t];a.forEach(function(i,I){var b;if(i.id){b=i.id;r[g][t][b]={iIndex:I,sItemId:i};}});}});}});}}return r;};P.prototype._getExtractHelperObject=function(o,p,a){var r=null;r={};r.oHashedItemsOriginal=this._getHashedItemsFromSite(o)||{};r.oHashedItemsPersonalized=this._getHashedItemsFromSite(p);r.oPersonalizationDelta=a;return r;};P.prototype._extractFromOriginalSiteOneGroup=function(o,e,g,i){var s=false,O,m,M,p="movedTiles";i=i?i:"tiles";if(i!=="tiles"){p="movedLinks";}M=function(a,f){m[a]=m[a]?m[a]:{};m[a].fromGroup=f;m[a].toGroup=null;};if(e&&e.oHashedItemsPersonalized&&e.oPersonalizationDelta&&o&&o.groups&&o.groups[g]&&o.groups[g].payload&&jQuery.isArray(o.groups[g].payload[i])){O=o.groups[g].payload[i];e.oPersonalizationDelta[p]=e.oPersonalizationDelta[p]?e.oPersonalizationDelta[p]:{};m=e.oPersonalizationDelta[p];if(e.oHashedItemsPersonalized[g]){O.forEach(function(I){if(!e.oHashedItemsPersonalized[g][i][I.id]){M(I.id,g);}});s=true;}else{O.forEach(function(I){M(I.id,g);});s=true;}}return s;};P.prototype._handleItemChangeExtract=function(e,g,i){return false;};P.prototype._extractFromPersonalizedSiteOneGroup=function(p,e,g,i){var s=false,m,t,T=false,a,b=this,c="movedTiles";i=i?i:"tiles";if((i!=="tiles")&&(i!=="links")){return s;}if(i!=="tiles"){c="movedLinks";}if(e&&e.oPersonalizationDelta&&p&&p.groups&&p.groups[g]&&p.groups[g].payload&&jQuery.isArray(p.groups[g].payload[i])){a=p.groups[g].payload[i];e.oPersonalizationDelta[c]=e.oPersonalizationDelta[c]?e.oPersonalizationDelta[c]:{};m=e.oPersonalizationDelta[c];t=[];a.forEach(function(I,d){t.push(I.id);if(e.oHashedItemsOriginal[g]&&e.oHashedItemsOriginal[g][i][I.id]){if(m[I.id]){jQuery.sap.log.error("Extract personalization failed","The Tile ID "+I.id+" is not unique in the site","PersonalizationProcessor");delete(m[I.id]);}if(e.oHashedItemsOriginal[g][i][I.id].iIndex!==d){T=true;}b._handleItemChangeExtract(e,g,i);}else{T=true;if(m[I.id]){if(m[I.id].fromGroup&&(m[I.id].fromGroup!==g)){if(!m[I.id].toGroup){m[I.id].toGroup=g;b._handleItemChangeExtract(e,g,i);}}}else{m[I.id]={};m[I.id].fromGroup=null;m[I.id].toGroup=g;m[I.id].item=I;}}});if(T){e.oPersonalizationDelta.groups=e.oPersonalizationDelta.groups||{};e.oPersonalizationDelta.groups[g]=e.oPersonalizationDelta.groups[g]||{};e.oPersonalizationDelta.groups[g].payload=e.oPersonalizationDelta.groups[g].payload||{};if(i==="tiles"){e.oPersonalizationDelta.groups[g].payload.tileOrder=t;}else{e.oPersonalizationDelta.groups[g].payload.linkOrder=t;}}s=true;}return s;};P.prototype._cleanupRemovedGroups=function(o,p){var i,m;if(p.removedGroups&&p&&jQuery.isArray(p.removedGroups)&&(p.removedGroups.length>0)){p.removedGroups.forEach(function(g){if(o&&o.groups&&o.groups[g]&&o.groups[g].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(function(t){if(jQuery.isArray(o.groups[g].payload[t.sType])){i=o.groups[g].payload[t.sType];i.forEach(function(I){if(p[t.sPersonalizationDeltaType]){m=p[t.sPersonalizationDeltaType][I.id];if(m&&m.fromGroup&&(m.fromGroup===g)&&!m.toGroup){delete(p[t.sPersonalizationDeltaType][I.id]);}}});}});}});}};P.prototype._setItemOrderOnSiteCollection=function(o,i){var s=true,S=o.length,a,b={},I,c,C,f;if(!jQuery.isArray(o)||!jQuery.isArray(o)||(o.length!==i.length)){return false;}a=o.splice(0,o.length);for(I=0;I<i.length;I++){C=i[I];c=a.shift();if(c&&C===c.id){o.push(c);}else if(b[C]){o.push(b[C]);delete(b[C]);if(c){b[c.id]=c;}}else if(c){b[c.id]=c;f=false;while(a.length>0){c=a.shift();if(C===c.id){o.push(c);f=true;break;}else{b[c.id]=c;}}if(!f){s=false;}}}if(o.length!==S){s=false;}return s;};P.prototype._setItemOrderOnSiteGroupForItemType=function(o,d,i){var s=true,t,I;if((i==="tiles")||(i==="links")){I=(i==="tiles")?"tileOrder":"linkOrder";}else{return false;}if(d.payload&&jQuery.isArray(d.payload[I])&&(d.payload[I].length>0)){if(o.payload&&jQuery.isArray(o.payload[i])&&(o.payload[i].length>0)){t=this._setItemOrderOnSiteCollection(o.payload[i],d.payload[I]);if(!t){s=false;}}else{s=false;}}return s;};P.prototype._setItemOrderOnSite=function(o,p){var s=true,t,a=this;if(o.groups&&p.groups){Object.keys(p.groups).forEach(function(g){if(p.groups[g]&&o.groups[g]){t=a._setItemOrderOnSiteGroupForItemType(o.groups[g],p.groups[g],"tiles");if(!t){s=false;}t=a._setItemOrderOnSiteGroupForItemType(o.groups[g],p.groups[g],"links");if(!t){s=false;}}});}return s;};P.prototype._applyMoveItemsWithoutOrder=function(o,p,i){var s=true,t,T,I="tileOrder",d,a,b,O=[],c=this;function f(C,g){var s=true;if(o.groups[g]&&o.groups[g].payload&&p.groups&&p.groups[g]&&p.groups[g].payload&&jQuery.isArray(p.groups[g].payload[I])&&(p.groups[g].payload[I].length>0)){if(!jQuery.isArray(o.groups[g].payload[i])){o.groups[g].payload[i]=[];}o.groups[g].payload[i].push(C);}else{s=false;}return s;}if((i==="tiles")||(i==="links")){T=(i==="tiles")?"movedTiles":"movedLinks";I=(i==="tiles")?"tileOrder":"linkOrder";}else{return false;}if(!o||!o.groups||!o.site||!o.site.payload||!jQuery.isArray(o.site.payload.groupsOrder)||!p){return false;}if(p[T]){Object.keys(p[T]).forEach(function(e){d=p[T][e];if(d.fromGroup){if(d.toGroup){if(d.fromGroup!==d.toGroup){if(o.groups[d.fromGroup]&&o.groups[d.fromGroup].payload&&jQuery.isArray(o.groups[d.fromGroup].payload[i])){O=o.groups[d.fromGroup].payload[i];a=c._getItemIndex(O,e);if(a>=0){b=O.splice(a,1);t=f(b[0],d.toGroup);if(!t){s=false;}}else{s=false;}}else{s=false;}}else{s=false;}}else{if(o.groups[d.fromGroup]&&o.groups[d.fromGroup].payload&&jQuery.isArray(o.groups[d.fromGroup].payload[i])){O=o.groups[d.fromGroup].payload[i];a=c._getItemIndex(O,e);if(a>=0){O.splice(a,1);}else{s=false;}}else{s=false;}}}else if(d.toGroup){if(d.item&&!jQuery.isEmptyObject(d.item)){t=f(d.item,d.toGroup);if(!t){s=false;}}else{s=false;}}else{s=false;}});}return s;};P.prototype._applyItemChanges=function(o,p){var s=true,S;S=this._applyMoveItemsWithoutOrder(o,p,"tiles");if(!S){s=false;}S=this._applyMoveItemsWithoutOrder(o,p,"links");if(!S){s=false;}if(p.groups){S=this._setItemOrderOnSite(o,p);if(!S){s=false;}}return s;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/ContextContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat"],function(u,p,c,D){"use strict";function C(){this._init.apply(this,arguments);};C.prototype._init=function(s,a,b,S,o){this._oService=s;this._sContainerKey=b;this._oAdapterContainer={};this._oScope=S||p.adjustScope(S);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;var A;if(!(o instanceof sap.ui.core.UIComponent)&&o!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined");}if(o&&o.getMetadata&&o.getMetadata().getComponentName){A=o.getMetadata().getComponentName();}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey,this._oScope,A);return this;};C.prototype.getValidity=function(){return this._oScope.validity;};C.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new u.Map();};C.prototype.load=function(){var d={},P,t=this;d=new jQuery.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this.clear();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,d);P.always(function(){t._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){t._copyFromAdapter();if(t._isExpired()){t.clear();}d.resolve();});});return d.promise();};C.prototype._copyFromAdapter=function(){var t=this,a;a=t._oAdapterContainer.getItemKeys().splice(0);a.forEach(function(i){t._oItemMap.put(i,JSON.stringify(t._oAdapterContainer.getItemValue(i)));});this._aLoadedItemKeys=t._oItemMap.keys().splice(0);};C.prototype._isExpired=function(){var f,t,T;if(this.getValidity()===Infinity||this.getValidity()===0){return false;}t=this._getItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});T=f.format(this._getNow(),true);return t&&T>t;};C.prototype._getNow=function(){return new Date();};C.prototype._copyToAdapterUpdatingValidity=function(){var i=[],d=[],t=this,n,f,T,s;if(this._clear){i=this._oAdapterContainer.getItemKeys().splice(0);i.forEach(function(I){t._oAdapterContainer.delItem(I);});this._clear=false;}if(this.getValidity()===Infinity||this.getValidity()===0){this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE);}else{f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});n=this._getNow();s=f.format(n,true);T=f.format(new Date(n.getTime()+this.getValidity()*60000),true);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE,T);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE,s);}i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.cloneToObject(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};C.prototype.save=function(){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});return s.promise();};C.prototype.saveDeferred=function(n){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);function d(){P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});}s._sapFnSave=d;s._sapTimeoutId=setTimeout(d,n);return s.promise();};C.prototype.flush=function(){var s,P;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,s);P.fail(function(){s.reject();}).done(function(){s.resolve();});return s.promise();};C.prototype.getItemKeys=function(){var f=this._oItemMap.keys().filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});return f.map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};C.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0);};C.prototype.getItemValue=function(i){return this._getItemValueInternal(c.S_ITEM_PREFIX,i);};C.prototype._getItemValueInternal=function(P,i){if(typeof i!=="string"||typeof P!=="string"){return undefined;}return p.cloneToObject(this._oItemMap.get(P+i));};C.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};C.prototype.setItemValue=function(i,I){this._setItemValueInternal(c.S_ITEM_PREFIX,i,I);};C.prototype._setItemValueInternal=function(i,I,o){if(typeof I!=="string"||typeof i!=="string"){throw new u.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ");}if(I.length>40){jQuery.sap.log.error("Personalization Service item key/variant set name (\""+I+"\") should be less than 40 characters [current :"+I.length+"]");}this._oItemMap.put(i+I,JSON.stringify(o));};C.prototype.delItem=function(i){this._delItemInternal(c.S_ITEM_PREFIX,i);};C.prototype._delItemInternal=function(P,i){if(typeof i!=="string"){return undefined;}if(typeof P!=="string"){return undefined;}this._oItemMap.remove(P+i);};C.prototype.getKey=function(){return this._sContainerKey.substring(c.S_CONTAINER_PREFIX.length);};C.prototype.getUnmodifiableContainer=function(){var t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=(function(){var U={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(function(f){U[f]=function(n){throw new u.Error("Function "+n+" can't be called on unmodifiable container","ContextContainer"," ");}.bind(undefined,f);});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer","getValidity"].forEach(function(f){if(t[f]){U[f]=t[f].bind(t);}});return U;}());}return this._oUnmodifiableContainer;};return C;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet"],function(u,p,c,P){"use strict";function a(A,C){this._sContainerKey=C;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];var d={},t=this;this._init();d=new jQuery.Deferred();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=A.getAdapterContainer(this._sContainerKey);this.load().fail(function(){d.reject();}).done(function(){d.resolve(t);});return d.promise();};a.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new u.Map();this._oItemMap=new u.Map();};a.prototype.load=function(){var d={},i=[],v=[],I=[],m=[],t=this;function b(I){var n=[],e=[];n=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)!==0;});if(n.length===0){return I;}e=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});n.forEach(function(s){var o={},f="";f=c.S_ITEM_PREFIX+s;o=p.clone(t._oAdapterContainer.getItemValue(s));t._oAdapterContainer.setItemValue(f,o);t._oAdapterContainer.delItem(s);if(jQuery.inArray(f,e)===-1){e.push(f);}});return e;}d=new jQuery.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._init();this._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){i=t._oAdapterContainer.getItemKeys().splice(0);v=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)===0;});v.forEach(function(V){var o={};o=new P(V,t._oAdapterContainer);t._oVariantSetMap.put(V,o);});I=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)!==0;});m=b(I);m.forEach(function(s){t._oItemMap.put(s,p.clone(t._oAdapterContainer.getItemValue(s)));});t._aLoadedVariantSetKeys=t._oVariantSetMap.keys().splice(0);t._aLoadedItemKeys=t._oItemMap.keys().splice(0);d.resolve();});return d.promise();};a.prototype.save=function(){var s,i;this._serializeVariantSets();this._serializeItems();s=new jQuery.Deferred();function S(){s.resolve();}function f(){s.reject();}try{i=this._oAdapterContainer.save();i.fail(f);i.done(S);}catch(e){s.reject();}return s.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys().map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};a.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(c.S_ITEM_PREFIX+i);};a.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};a.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}this._oItemMap.put(c.S_ITEM_PREFIX+i,I);};a.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}if(this.containsItem(i)){this._oItemMap.remove(c.S_ITEM_PREFIX+i);}};a.prototype._serializeItems=function(){var i=[],d=[],t=this;i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.clone(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};a.prototype.getVariantSetKeys=function(){var v=[],b=[];b=this._oVariantSetMap.keys();v=b.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this._oVariantSetMap.containsKey(c.S_VARIANT_PREFIX+v);};a.prototype.getVariantSet=function(v){var s,V={};s=c.S_VARIANT_PREFIX+v;V=this._oVariantSetMap.get(s);return V;};a.prototype.addVariantSet=function(v){var e={},V={},s="";if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}s=c.S_VARIANT_PREFIX+v;e={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(s,e);V=new P(s,this._oAdapterContainer);this._oVariantSetMap.put(s,V);return V;};a.prototype._serializeVariantSets=function(){var v=[],d=[],t=this;v=this._oVariantSetMap.keys();v.forEach(function(V){var o={},b={};o=t._oVariantSetMap.get(V);b=o._serialize();t._oAdapterContainer.setItemValue(V,p.clone(b));});d=this._aLoadedVariantSetKeys.filter(function(V){return!(v.indexOf(V)>-1);});d.forEach(function(V){t._oAdapterContainer.delItem(V);});};a.prototype.delVariantSet=function(v){var s="";s=c.S_VARIANT_PREFIX+v;this._oVariantSetMap.remove(s);return this._oAdapterContainer.delItem(s);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariant',["sap/ushell/utils"],function(u){"use strict";function P(v,V,o){if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof V!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(o&&typeof o!=="object"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantKey=v;this._oVariantName=V;this._oItemMap=new u.Map();this._oItemMap.entries=o||{};};P.prototype.getVariantKey=function(){return this._oVariantKey;};P.prototype.getVariantName=function(){return this._oVariantName;};P.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(i);};P.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}return this._oItemMap.put(i,I);};P.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(i);};P.prototype.getItemKeys=function(){return this._oItemMap.keys();};P.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.remove(i);};P.prototype._serialize=function(){var i=[],v={},I={},t=this;v.name=this.getVariantName();i=this._oItemMap.keys();i.forEach(function(s){I[s]=t.getItemValue(s);});v.variantData=I;return v;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],function(u,p,P){"use strict";function c(v,a){var V,s,b,o,d;this._sVariantSetKey=v;this._oAdapterContainer=a;this._oVariantNameMap=new u.Map();this._oVariantMap=new u.Map();V=p.clone(this._oAdapterContainer.getItemValue(v));if(V.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=V.currentVariant;}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(V.hasOwnProperty("variants")){for(s in V.variants){if(V.variants.hasOwnProperty(s)){b=V.variants[s].name;o=V.variants[s].variantData;if(this._oVariantNameMap.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{this._oVariantNameMap.put(b,s);d=new P(s,b,o);this._oVariantMap.put(s,d);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;};c.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey;};c.prototype.setCurrentVariantKey=function(v){this._sCurrentVariantKey=v;};c.prototype.getVariantKeys=function(){return this._oVariantMap.keys();};c.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries));};c.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.get(v);};c.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantNameMap.get(v);};c.prototype.containsVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.containsKey(v);};c.prototype.addVariant=function(v){var m=0,V="",o={};m=parseInt(this._oVariantMap.keys().sort(function(a,b){return a-b;}).reverse()[0],10);V=isNaN(m)?"0":(m+1).toString();if(this._oVariantMap.containsKey(V)){throw new u.Error("Variant key '"+V+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantNameMap.containsKey(v)){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this._oVariantNameMap.get(v)+"' New key: '"+V+"') ': sap.ushell.services.Personalization"," ");}o=new P(V,v);this._oVariantMap.put(V,o);this._oVariantNameMap.put(v,V);return o;};c.prototype._serialize=function(){var v=[],V={},o={},t=this;V.currentVariant=this._sCurrentVariantKey;v=this.getVariantKeys();v.forEach(function(s){var a={};a=t._oVariantMap.get(s);o[s]=a._serialize();});V.variants=o;return V;};c.prototype.delVariant=function(v){var V=this._oVariantMap.get(v);if(V){this._oVariantNameMap.remove(V.getVariantName());this._oVariantMap.remove(v);}};return c;});
sap.ui.predefine('sap/ushell/services/_Personalization/Personalizer',["sap/ushell/utils"],function(u){"use strict";function P(s,a,p,S,c){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=a;this._oService=s;this._oScope=S;this._oComponent=c;if(!p||!p.container||!p.item||typeof p.container!=="string"||typeof p.item!=="string"){throw new u.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ");}this._sPersContainer=p.container;this._sPersItem=p.item;};P.prototype._getContainer=function(p){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(p,this._oScope,this._oComponent);}return this._oGetContainerPromise;};P.prototype.getPersData=function(){var d={},t=this;d=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){d.resolve(c.getItemValue(t._sPersItem));});d.fail(function(){jQuery.sap.log.error("Fail to get Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.setPersData=function(v){var d={},t=this;d=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.setItemValue(t._sPersItem,v);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});d.fail(function(){jQuery.sap.log.error("Fail to set Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.delPersData=function(){var d={},t=this,m;d=new jQuery.Deferred();this._oService.getPersonalizationContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.delItem(t._sPersItem);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});m=d.promise();m.fail(function(){jQuery.sap.log.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer);});return m;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/TransientPersonalizer',[],function(){"use strict";function T(){this._oValue=undefined;};T.prototype.getPersData=function(){var d;d=new jQuery.Deferred();d.resolve(this._oValue);return d.promise();};T.prototype.setPersData=function(v){var d;d=new jQuery.Deferred();this._oValue=v;d.resolve();return d.promise();};T.prototype.delPersData=function(){var d;d=new jQuery.Deferred();this._oValue=undefined;d.resolve();return d.promise();};T.prototype.setValue=function(v){this._oValue=v;};T.prototype.getValue=function(){return this._oValue;};return T;});
sap.ui.predefine('sap/ushell/services/_Personalization/Variant',["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],function(u,p){"use strict";function V(v,s,a){if(typeof s!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof a!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantSet=v;this._sVariantKey=s;this._sVariantName=a;};V.prototype.getVariantKey=function(){return this._sVariantKey;};V.prototype.getVariantName=function(){return this._sVariantName;};V.prototype.setVariantName=function(v){var o=this._oVariantSet._getVariantSet(),a;if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantSet.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant with name '"+v+"' already exists in variant set '"+this._oVariantSet._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,this._sVariantKey)){a=o.variants[this._sVariantKey];a.name=v;this._sVariantName=v;this._oVariantSet._serialize();}else{throw new u.Error("Variant does not longer exist"," ");}};V.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i)&&p.clone(v[i]);};V.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}var v,a=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!a){throw new u.Error("Variant does not longer exist"," ");}if(!a.variantData){a.variantData={};}v=a.variantData;v[i]=p.clone(I);this._oVariantSet._serialize();};V.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}var v=this.oAccess.variantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i);};V.prototype.getItemKeys=function(){var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData,i,I=[];for(i in v){if(Object.prototype.hasOwnProperty.call(v,i)){I.push(i);}}I.sort();return I;};V.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}var v=this.oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete v[i];this.oVariantSet._serialize();};return V;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariant","sap/ushell/services/_Personalization/Variant"],function(u,c,P,V){"use strict";function d(v,C){var s,a,o=new u.Map(),b=new u.Map(),e,f;this._oContextContainer=C;this._sVariantSetKey=v;this._oVariantSetData=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(s in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,s)){a=this._oVariantSetData.variants[s].name;e=this._oVariantSetData.variants[s].variantData;if(o.containsKey(a)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{o.put(a,s);f=new P(s,a,e);b.put(s,f);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;}d.prototype._getVariantSet=function(){return this._oVariantSetData;};d.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData);};d.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant;};d.prototype.setCurrentVariantKey=function(v){this._getVariantSet().currentVariant=v;this._serialize();};d.prototype.getVariantKeys=function(){var v=new u.Map(),o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){v.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.keys();};d.prototype.getVariantNamesAndKeys=function(){var v=new u.Map(),o=new u.Map(),a=this._getVariantSet(this._sVariantSetKey),s,b;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(s in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,s)){b=a.variants[s].name;if(v.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{v.put(b,s);}o.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.entries;};d.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s,a,b;if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v)){s=o.variants[v].name;b=o.variants[v].variantData;a=new V(this,v,s,b);return a;}return undefined;};d.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){if(v===o.variants[s].name){return s;}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return undefined;};d.prototype.containsVariant=function(v){var o=this._getVariantSet();if(typeof v!=="string"){return undefined;}return Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v);};d.prototype.addVariant=function(v){var k=[],m=0,s="",o={};k=this.getVariantKeys();m=parseInt(k.sort(function(a,b){return a-b;}).reverse()[0],10);s=isNaN(m)?"0":(m+1).toString();if(k.indexOf(s)>=0){throw new u.Error("Variant key '"+s+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this.getVariantKeyByName(v)+"' New key: '"+s+"') ': sap.ushell.services.Personalization"," ");}o=new V(this,s,v);this._getVariantSet(this._sVariantSetKey).variants[s]={name:v,variantData:{}};this._serialize();return o;};d.prototype.delVariant=function(v){var o;if(typeof v!=="string"){return undefined;}o=this._getVariantSet();if(o&&o.variants){delete this._oVariantSetData.variants[v];}this._serialize();};return d;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSetAdapter',["sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/VariantSet"],function(c,u,V){"use strict";function a(C){this._oContextContainer=C;};a.prototype.save=function(){return this._oContextContainer.save();};a.prototype.getVariantSetKeys=function(){var p=this._oContextContainer._getInternalKeys(),v=[];v=p.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this.getVariantSetKeys().indexOf(v)>=0;};a.prototype.getVariantSet=function(v){var o=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,v);if(!o){return undefined;}return new V(v,this._oContextContainer);};a.prototype.addVariantSet=function(v){var e={},o={};if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}e={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,v,e);o=new V(v,this._oContextContainer);return o;};a.prototype.delVariantSet=function(v){this._oContextContainer._delItemInternal(c.S_VARIANT_PREFIX,v);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapter',[],function(){"use strict";var W=function(p,b){this._oBackendAdapter=b;if(b){this.supportsGetWithoutSubsequentLoad=b.supportsGetWithoutSubsequentLoad;}};W.prototype.data={};W.prototype.getAdapterContainer=function(c,s,a){var b=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(c,s,a);var d=sap.ui.requireSync("sap/ushell/services/_Personalization/WindowAdapterContainer");return new d(c,s,b);};W.prototype.delAdapterContainer=function(c,s){var d=new jQuery.Deferred();delete W.prototype.data[c];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(c,s).done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};return W;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapterContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/WindowAdapter"],function(u,p,W){"use strict";function a(C,s,b){this._oBackendContainer=b;this._oItemMap=new u.Map();this._sContainerKey=C;};function c(C){var i,k=C.getItemKeys();for(i=0;i<k.length;i=i+1){C.delItem(k[i]);}}a.prototype.load=function(){var d=new jQuery.Deferred(),i,k,t=this;if(W.prototype.data[this._sContainerKey]){this._oItemMap.entries=p.clone(W.prototype.data[this._sContainerKey]);if(this._oBackendContainer){c(this._oBackendContainer);k=this.getItemKeys();for(i=0;i<k.length;i=i+1){this._oBackendContainer.setItemValue(k[i],this._oItemMap.get(k[i]));}}d.resolve();}else{if(this._oBackendContainer){this._oBackendContainer.load().done(function(){k=t._oBackendContainer.getItemKeys();for(i=0;i<k.length;i=i+1){t.setItemValue(k[i],t._oBackendContainer.getItemValue(k[i]));}W.prototype.data[t._sContainerKey]=p.clone(t._oItemMap.entries);d.resolve();}).fail(function(m){d.reject(m);});}else{W.prototype.data[this._sContainerKey]={};d.resolve();}}return d.promise();};a.prototype.save=function(){var d=new jQuery.Deferred();W.prototype.data[this._sContainerKey]=p.clone(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys();};a.prototype.containsItem=function(i){this._oItemMap.containsKey(i);};a.prototype.getItemValue=function(i){return this._oItemMap.get(i);};a.prototype.setItemValue=function(i,I){this._oItemMap.put(i,I);if(this._oBackendContainer){this._oBackendContainer.setItemValue(i,I);}};a.prototype.delItem=function(i){this._oItemMap.remove(i);if(this._oBackendContainer){this._oBackendContainer.delItem(i);}};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/constants',[],function(){"use strict";return{keyCategory:{"FIXED_KEY":"FIXED_KEY","GENERATED_KEY":"GENERATED_KEY"},writeFrequency:{"HIGH":"HIGH","LOW":"LOW"}};});
sap.ui.predefine('sap/ushell/services/_Personalization/constants.private',[],function(){"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"};});
sap.ui.predefine('sap/ushell/services/_Personalization/utils',["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private"],function(c,p){"use strict";function a(e,k){var m;for(m in k){if(typeof k[m]!=='function'){if(k.hasOwnProperty(m)){if(m===e){return true;}}}}return false;}function b(C){if(C.length>40){jQuery.sap.log.error("Personalization Service container key (\""+C+"\") should be less than 40 characters [current :"+C.length+"]");}return p.S_CONTAINER_PREFIX+C;}function d(o,L,t,P){if(o&&o.validity===0&&!L){return t;}return P;}function i(){var r=window["sap-ushell-config"]&&window["sap-ushell-config"].services&&window["sap-ushell-config"].services.ShellNavigation&&window["sap-ushell-config"].services.ShellNavigation.config&&window["sap-ushell-config"].services.ShellNavigation.config.reload;return r;}function f(s,L){var A={validity:Infinity,keyCategory:c.keyCategory.GENERATED_KEY,writeFrequency:c.writeFrequency.HIGH,clientStorageAllowed:false};if(s){A.validity=s.validity;if(A.validity===null||A.validity===undefined||typeof A.validity!=="number"){A.validity=Infinity;}if(!(typeof A.validity==="number"&&((A.validity>=0&&A.validity<1000)||A.validity===Infinity))){A.liftime=Infinity;}A.keyCategory=a(s.keyCategory,c.keyCategory)?s.keyCategory:A.keyCategory;A.writeFrequency=a(s.writeFrequency,c.writeFrequency)?s.writeFrequency:A.writeFrequency;if(typeof s.clientStorageAllowed==='boolean'&&(s.clientStorageAllowed===true||s.clientStorageAllowed===false)){A.clientStorageAllowed=s.clientStorageAllowed;}}if(A.validity===0&&L){A.validity=1440;}return A;}function l(A){if(!A.lazy){return jQuery.when(A.instance);}try{return A.create.call(null);}catch(e){return new jQuery.Deferred().reject(e).promise();}}function g(C){if(!C){return false;}var A=C.getManifestObject();if(!A){return false;}var s=A.getEntry("/sap.ui5/appVariantId");if(!s){return false;}var e=A.getComponentName();if(s===e){return false;}return true;}function h(o){if(o===undefined){return undefined;}try{return JSON.parse(o);}catch(e){return undefined;}}function j(o){if(o===undefined){return undefined;}try{return JSON.parse(JSON.stringify(o));}catch(e){return undefined;}}return{adjustScope:f,cloneToObject:h,clone:j,addContainerPrefix:b,pickAdapter:d,isAppVariant:g,loadAdapter:l,isLaunchpadReload:i};});
sap.ui.predefine('sap/ushell/services/_Ui5ComponentLoader/utils',[],function(){function c(C,o){var D=new jQuery.Deferred();C.componentData=o;C.async=true;sap.ui.component(C).then(function(f){D.resolve(f);},function(E){D.reject(E);});return D.promise();}function s(S){var A=(S&&S.hasOwnProperty("amendedLoading"))?S.amendedLoading:true;return A;}function a(A){var L=true;if(A.hasOwnProperty("loadCoreExt")){L=A.loadCoreExt;}return L;}function b(A,S,f){var L=true;if(A.hasOwnProperty("loadDefaultDependencies")){L=A.loadDefaultDependencies;}if(S&&S.hasOwnProperty("loadDefaultDependencies")){L=L&&S.loadDefaultDependencies;}L=L&&f;return L;}function d(p){var S=p.semanticObject||null;var A=p.action||null;if(!S||!A){return null;}return"application-"+S+"-"+A+"-component";}function u(U){return U&&U.indexOf("?")>=0;}function r(U){if(!U){return U;}var I=U.indexOf("?");if(I>=0){return U.slice(0,I);}return U;}function i(){return jQuery.sap.isDeclared('sap.fiori.core',true)||jQuery.sap.isDeclared('sap.fiori.core-ext-light',true);}function l(A,E,f,h,C){var j="The issue is most likely caused by application "+A,k="Failed to load UI5 component with properties: '"+C+"'.";if(h){k+=" Error likely caused by:\n"+h}else{k+=" Error: '"+E+"'";}if(f==="parsererror"){j+=", as one or more of its resources could not be parsed"}j+=". Please create a support incident and assign it to the support component of the respective application.";jQuery.sap.log.error(j,k,A);}function g(U){var p=jQuery.sap.getUriParameters(U).mParams,x=p["sap-xapp-state"],R;delete p["sap-xapp-state"];R={startupParameters:p};if(x){R["sap-xapp-state"]=x;}return R;}function e(A,m){if(!jQuery.isArray(m)){return;}m.forEach(function(M){var S=String.prototype.toLowerCase.call(M.severity||"");S=["trace","debug","info","warning","error","fatal"].indexOf(S)!==-1?S:"error";jQuery.sap.log[S](M.text,M.details,A);});}return{constructAppComponentId:d,getParameterMap:g,isCoreExtAlreadyLoaded:i,logAnyApplicationDependenciesMessages:e,logInstantiateComponentError:l,shouldLoadCoreExt:a,shouldLoadDefaultDependencies:b,shouldUseAmendedLoading:s,urlHasParameters:u,removeParametersFromUrl:r,createUi5Component:c};},false);
sap.ui.predefine('sap/ushell/ui/footerbar/ContactSupportButton',['sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/ui/launchpad/ActionItem','./ContactSupportButtonRenderer'],function(l,r,A,a){"use strict";var C=a.extend("sap.ushell.ui.footerbar.ContactSupportButton",{metadata:{library:"sap.ushell"}});C.prototype.init=function(){if(a.prototype.init){a.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://email');this.setText(r.i18n.getText("contactSupportBtn"));this.attachPress(this.showContactSupportDialog);this.setEnabled();};C.prototype.showContactSupportDialog=function(){sap.ui.require(['sap/ushell/services/Container','sap/ui/layout/form/SimpleForm','sap/ui/layout/form/SimpleFormLayout','sap/m/TextArea','sap/m/Link','sap/m/Label','sap/m/Text','sap/m/Dialog','sap/m/Button','sap/ushell/UserActivityLog'],function(b,S,c,T,L,d,e,D,B,U){var f="",u="",g="",h=[],o,i;i=function(){this.oDialog.removeContent(this.oBottomSimpleForm.getId());this.oBottomSimpleForm.destroy();if(this.oClientContext.navigationData.applicationInformation){f=this.oClientContext.navigationData.applicationInformation.applicationType;u=this.oClientContext.navigationData.applicationInformation.url;g=this.oClientContext.navigationData.applicationInformation.additionalInformation;}h.push(new e({text:this.translationBundle.getText("loginDetails")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("userFld")}));h.push(new e({text:this.oClientContext.userDetails.fullName||''}));h.push(new d({text:this.translationBundle.getText("serverFld")}));h.push(new e({text:window.location.host}));if(this.oClientContext.userDetails.eMail&&this.oClientContext.userDetails.eMail!==''){h.push(new d({text:this.translationBundle.getText("eMailFld")}));h.push(new e({text:this.oClientContext.userDetails.eMail||''}));}h.push(new d({text:this.translationBundle.getText("languageFld")}));h.push(new e({text:this.oClientContext.userDetails.Language||''}));if(this.oClientContext.shellState==="app"||this.oClientContext.shellState==="standalone"){h.push(new e({text:''}));h.push(new e({text:this.translationBundle.getText("navigationDataFld")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("hashFld")}));h.push(new e({text:this.oClientContext.navigationData.navigationHash||''}));h.push(new e({text:''}));h.push(new e({text:this.translationBundle.getText("applicationInformationFld")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("applicationTypeFld")}));h.push(new e({text:f}));h.push(new d({text:this.translationBundle.getText("urlFld")}));h.push(new e({text:u}));h.push(new d({text:this.translationBundle.getText("additionalInfoFld")}));h.push(new e({text:g}));}this.oBottomSimpleForm=new S('technicalInfoBox',{layout:c.ResponsiveLayout,content:h}).addStyleClass("sapUshellTechnicalInfoBox");if(sap.ui.Device.os.ios&&sap.ui.Device.system.phone){this.oBottomSimpleForm.addStyleClass("sapUshellContactSupportFixWidth");}o=this.oBottomSimpleForm.onAfterRendering;this.oBottomSimpleForm.onAfterRendering=function(){o.apply(this,arguments);var n=jQuery(this.getDomRef());n.attr("tabIndex",0);jQuery.sap.delayedCall(700,n,function(){this.focus();});};this.oDialog.addContent(this.oBottomSimpleForm);}.bind(this);this._embedLoginDetailsInBottomForm=i;this.translationBundle=r.i18n;this.oClientContext=U.getMessageInfo();this.oLink=new L({text:this.translationBundle.getText("technicalDataLink")});this.oBottomSimpleForm=new S("bottomForm",{editable:false,content:[this.oLink]});this.sendButton=new B("contactSupportSendBtn",{text:this.translationBundle.getText("sendBtn"),enabled:false,press:function(){var s=sap.ushell.Container.getService("SupportTicket"),t=this.oTextArea.getValue(),j={text:t,clientContext:this.oClientContext},p=s.createTicket(j);p.done(function(){sap.ushell.Container.getService("Message").info(this.translationBundle.getText("supportTicketCreationSuccess"));}.bind(this));p.fail(function(){sap.ushell.Container.getService("Message").error(this.translationBundle.getText("supportTicketCreationFailed"));}.bind(this));this.oDialog.close();}.bind(this)});this.cancelButton=new B("contactSupportCancelBtn",{text:this.translationBundle.getText("cancelBtn"),press:function(){this.oDialog.close();}.bind(this)});this.oTextArea=new T("textArea",{rows:7,liveChange:function(){if(/\S/.test(this.oTextArea.getValue())){this.sendButton.setEnabled(true);}else{this.sendButton.setEnabled(false);this.oTextArea.setValue("");}}.bind(this)});this.oTopSimpleForm=new S("topForm",{editable:false,content:[this.oTextArea],layout:c.ResponsiveGridLayout});this.oDialog=new D({id:"ContactSupportDialog",title:this.translationBundle.getText("contactSupportBtn"),contentWidth:"29.6rem",leftButton:this.sendButton,rightButton:this.cancelButton,initialFocus:"textArea",afterOpen:function(){jQuery("#textArea").on("focusout",function(){window.scrollTo(0,0);});},afterClose:function(){this.oDialog.destroy();}.bind(this)}).addStyleClass("sapUshellContactSupportDialog");this.oTextArea.setPlaceholder(this.translationBundle.getText("txtAreaPlaceHolderHeader"));this.oLink.attachPress(i.bind(this));this.oDialog.addCustomData(new A({key:"aria-label",value:this.translationBundle.getText("ContactSupportArialLabel"),writeToDom:true}));this.oDialog.addContent(this.oTopSimpleForm);this.oDialog.addContent(this.oBottomSimpleForm);this.oDialog.open();}.bind(this));};C.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling 'Contact Support' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.ContactSupportButton");}e=false;}a.prototype.setEnabled.call(this,e);};return C;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/ContactSupportButtonRenderer',['sap/ui/core/Renderer','sap/m/ButtonRenderer'],function(R,B){"use strict";var C=R.extend(B);return C;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/AccessibilityCustomData',['jquery.sap.global','sap/ui/core/CustomData','sap/ushell/library'],function(q,C,l){"use strict";var A=C.extend("sap.ushell.ui.launchpad.AccessibilityCustomData"),o=C.prototype._checkWriteToDom;A.prototype._checkWriteToDom=function(r){var k=this.getKey().toLowerCase(),i=sap.ui.getCore().getConfiguration().getAccessibility();if(!i){return;}if(k.indexOf("aria")===0||k==="role"||k==="tabindex"){if(!this.getWriteToDom()){return null;}var v=this.getValue();if(typeof v!="string"){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the value is not a string.");return null;}if(!(sap.ui.core.ID.isValid(k))||(k.indexOf(":")!=-1)){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the key is not valid (must be a valid sap.ui.core.ID without any colon).");return null;}if(k==q.sap._FASTNAVIGATIONKEY){v=/^\s*(x|true)\s*$/i.test(v)?"true":"false";}else if(k.indexOf("sap-ui")==0){q.sap.log.error("CustomData with key "+k+" should be written to HTML of "+r+" but the key is not valid (may not start with 'sap-ui').");return null;}return{key:k,value:v};}else{return o.apply(this,arguments);}};return A;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/ActionItem',['sap/m/Button','sap/ushell/library','./ActionItemRenderer'],function(B,l){"use strict";var A=B.extend("sap.ushell.ui.launchpad.ActionItem",{metadata:{library:"sap.ushell",properties:{actionType:{type:"string",group:"Appearance",defaultValue:'standard'}},events:{press:{},afterRendering:{}}}});A.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.sOrigType=undefined;};A.prototype.setActionType=function(t){if(!this.sOrigType){this.sOrigType=this.getType();}if(t==='action'){this.setType(sap.m.ButtonType.Unstyled);this.addStyleClass("sapUshellActionItem");}else{this.sOrigType?this.setType(this.sOrigType):this.setType(sap.m.ButtonType.Standard);this.removeStyleClass("sapUshellActionItem");}this.setProperty('actionType',t,true);};return A;});
sap.ui.predefine('sap/ushell/ui/launchpad/ActionItemRenderer',['sap/m/ButtonRenderer','sap/ui/core/Renderer'],function(B,R){"use strict";var A=R.extend(B);return A;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/Fiori2LoadingDialog',['sap/ui/core/Control','sap/ushell/library'],function(C,l){"use strict";var F=C.extend("sap.ushell.ui.launchpad.Fiori2LoadingDialog",{metadata:{library:"sap.ushell",properties:{text:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}}}});F.prototype.init=function(){var b=document.getElementsByTagName("body")[0],e=document.createElement("DIV"),a=document.createElement("DIV"),c=document.createElement("DIV"),d=document.createElement("DIV"),f=document.createElement("DIV"),g=document.createElement("DIV"),h=document.createElement("DIV");this._oBusyIndicator=this.getBusyIndicator();this._oBusyIndicator.setBusyIndicatorDelay(100);this._firstLoading=true;this._start=0;this._end=0;h.setAttribute("id","sapUshellFiori2LoadingArea");h.setAttribute("class","sapUshellFiori2LoadingDialogArea");h.setAttribute("style","height: 0px; width: 0px; overflow: hidden; float: left;");b.insertBefore(h,b.firstChild);d.setAttribute("id","sapUshellLoadingAccessibilityHelper");d.setAttribute("class","sapUshellLoadingAccessibilityHelper");f.setAttribute("id","sapUshellLoadingAccessibilityHelper-appInfo");f.setAttribute("aria-atomic","true");d.appendChild(f);g.setAttribute("id","sapUshellLoadingAccessibilityHelper-loadingComplete");g.setAttribute("aria-atomic","true");g.setAttribute("aria-live","polite");d.appendChild(g);h.appendChild(d);c.setAttribute("id","sapUshellFiori2LoadingDialog");c.setAttribute("style","z-index: 8;visibility: visible;");c.setAttribute("class","sapUshellShellHidden");e.setAttribute("id","sapUshellFiori2LoadingOverlay");e.setAttribute("class","sapUshellFiori2LoadingDialogOverlayStyle");c.appendChild(e);a.setAttribute("id","sapUshellFiori2LoadingBusyIndicator");c.appendChild(a);b.insertBefore(c,h);this._oBusyIndicator.placeAt("sapUshellFiori2LoadingBusyIndicator");};F.prototype.getBusyIndicator=function(){return new sap.m.BusyIndicator("fiori2LoadingDialogBusyIndicator");};F.prototype.openLoadingScreen=function(a){this.start=new Date().getTime();var j=jQuery("#sapUshellFiori2LoadingOverlay");a=a||"full";jQuery("#sapUshellFiori2LoadingDialog").toggleClass("sapUshellShellHidden",false);if(this._firstLoading){this._firstLoading=false;if(a==='minimal'){j.toggleClass("sapUshellInitialLoadingDialogOverlayNoAnimation",true);}else{j.toggleClass("sapUshellInitialLoadingDialogOverlayAnimation",true);}}else{if(a==='minimal'){j.toggleClass("sapUshellLoadingDialogOverlayNoAnimation",true);}else{j.toggleClass("sapUshellLoadingDialogOverlayAnimation",true);}}if(a!=='minimal'){jQuery.sap.measure.start("FLP:LoadingDialogClassAdding","LoadingDialog","FLP");var b=sap.ui.getCore().byId('fiori2LoadingDialogBusyIndicator');if(b){b.addStyleClass('sapUshellLoadingDialogBusyIndicatorAnimation');}jQuery.sap.measure.end("FLP:LoadingDialogClassAdding");}};F.prototype.isOpen=function(){return!jQuery("#sapUshellFiori2LoadingDialog").hasClass("sapUshellShellHidden");};F.prototype.closeLoadingScreen=function(){var j=jQuery("#sapUshellFiori2LoadingOverlay");j.toggleClass("sapUshellAnimationPaused",true);var r=function(){var b=sap.ui.getCore().byId('fiori2LoadingDialogBusyIndicator');jQuery("#sapUshellFiori2LoadingDialog").toggleClass("sapUshellShellHidden",true);j.toggleClass("sapUshellLoadingDialogOverlayNoAnimation",false);j.toggleClass("sapUshellLoadingDialogOverlayAnimation",false);j.toggleClass("sapUshellInitialLoadingDialogOverlayAnimation",false);if(b){b.removeStyleClass('sapUshellLoadingDialogBusyIndicatorAnimation');}};if(j[0]&&j[0].getBoundingClientRect().width<100){r();j.toggleClass("sapUshellAnimationPaused",false);}else{j.toggleClass("sapUshellAnimationPaused",false);setTimeout(function(){r();},500);}};F.prototype.exit=function(){this._oBusyIndicator.destroy();};return F;});
sap.ui.predefine('sap/ushell/ui/launchpad/ShortcutsHelpContainer',["sap/ui/core/Control","./ShortcutsHelpContainerRenderer"],function(C){"use strict";var S=C.extend("sap.ushell.ui.launchpad.ShortcutsHelpContainer",{metadata:{aggregations:{content:{type:"sap.ui.core.Element",multiple:true,singularName:"content"}}}});return S;});
sap.ui.predefine('sap/ushell/ui/launchpad/ShortcutsHelpContainerRenderer',['jquery.sap.global'],function(q){"use strict";var S={};S.render=function(r,c){var C=c.getContent()||[];r.write("<div");r.writeControlData(c);r.addClass("sapUshelShortcutsHelpContainer");r.writeClasses();r.writeAccessibilityState(c,{role:"group"});r.write(">");C.forEach(function(e){var s=e.isA("sap.m.Label")?"sapUshelShortcutsHelpContainerLabel":"sapUshelShortcutsHelpContainerText";r.write("<div");r.addClass(s);r.writeClasses();r.write(">");r.renderControl(e);r.write("</div>");});r.write("</div>");};return S;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/Tile',['jquery.sap.global','sap/ui/base/ManagedObject','sap/ui/core/Control','sap/ushell/library','sap/ui/core/Icon','sap/ushell/resources','sap/ushell/ui/launchpad/AccessibilityCustomData','./TileRenderer'],function(q,M,C,l,I,r,A){"use strict";var T=C.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{long:{type:"boolean",group:"Misc",defaultValue:false},uuid:{type:"string",group:"Misc",defaultValue:null},tileCatalogId:{type:"string",group:"Misc",defaultValue:null},isCustomTile:{type:"boolean",group:"Misc",defaultValue:false},target:{type:"string",group:"Misc",defaultValue:null},visible:{type:"boolean",group:"Misc",defaultValue:true},debugInfo:{type:"string",group:"Misc",defaultValue:null},rgba:{type:"string",group:"Misc",defaultValue:null},animationRendered:{type:"boolean",group:"Misc",defaultValue:false},isLocked:{type:"boolean",group:"Misc",defaultValue:false},showActionsIcon:{type:"boolean",group:"Misc",defaultValue:false},tileActionModeActive:{type:"boolean",group:"Misc",defaultValue:false},ieHtml5DnD:{type:"boolean",group:"Misc",defaultValue:false},navigationMode:{type:"string",group:"Misc",defaultValue:null},isDraggedInTabBarToSourceGroup:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{tileViews:{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},pinButton:{type:"sap.ui.core.Control",multiple:true,singularName:"pinButton"}},events:{press:{},coverDivPress:{},afterRendering:{},showActions:{},deletePress:{}}}});T.prototype.getActionSheetIcon=function(){if(!this.getTileActionModeActive()){return undefined;}if(!this.actionSheetIcon){this.actionSheetIcon=new I({src:"sap-icon://overflow"});this.actionSheetIcon.setTooltip(r.i18n.getText("configuration.category.tile_actions"));this.actionSheetIcon.addStyleClass('sapUshellTileActionIconDivBottomInner');}return this.actionSheetIcon;};T.prototype.ontap=function(e,u){q.sap.log.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");this.firePress();};T.prototype.destroy=function(s){this.destroyTileViews();C.prototype.destroy.call(this,s);};T.prototype.addTileView=function(o,s){o.setParent(null);M.prototype.addAggregation.call(this,"tileViews",o,s);};T.prototype.destroyTileViews=function(){if(this.mAggregations["tileViews"]){this.mAggregations["tileViews"].length=0;}};T.prototype.onAfterRendering=function(){if(this.getIsDraggedInTabBarToSourceGroup()===true){var t=this.getParent();t.removeAggregation("tiles",this,false);}var R;R=this.getRgba();if(R){this._redrawRGBA();}this.fireAfterRendering();};T.prototype._launchTileViaKeyboard=function(e){if(this.getTileActionModeActive()){this.fireCoverDivPress({id:this.getId()});}else{if(e.target.tagName!=="BUTTON"){var t=this.getTileViews()[0],p=false,c,o;if(t.firePress){t.firePress({id:this.getId()});}else if(t.getComponentInstance){c=t.getComponentInstance();if(c._oController&&c._oController.oView.getContent()){o=c._oController.oView.getContent()[0];if(o&&o.firePress){o.firePress({id:this.getId()});}}}else{while(t.getContent&&!p){t=t.getContent()[0];if(t.firePress){t.firePress({id:this.getId()});p=true;}}}}}};T.prototype.onsapenter=function(e){this._launchTileViaKeyboard(e);if(!this.getTileActionModeActive()){this._announceLoadingApplication();}};T.prototype.onsapspace=function(e){this._launchTileViaKeyboard(e);if(!this.getTileActionModeActive()){this._announceLoadingApplication();}};T.prototype.onfocusin=function(e){var c=this.getDomRef().getAttribute("class"),p;p=c?c.indexOf("sapUshellPlusTile")!==-1:false;if(!p){var j=q(this.getDomRef()).prevUntil("h3"),a,s="",t,n,b;if(j.length>0){a=j[j.length-1].previousSibling;}else{a=this.getDomRef().previousSibling;}if(a){s=a.getAttribute('id');}b=this.getDomRef().querySelector(".sapUshellTileInner");var d=this.getDomRef().querySelector(".sapUshellTileDeleteClickArea .sapUiIcon");var f=d?d.id:"";if(b&&b.children&&b.children[0]){var g=(s&&s!=="")?"sapUshellCatalogAccessibilityTileText":"sapUshellDashboardAccessibilityTileText";t=b.children[0].getAttribute('id');var L=[g,t,f,s];n=this.getId()+"_navigationMode";var N=document.getElementById(n);if(N==null){var h=this.getNavigationMode();if(h){N=document.createElement("div");var i=document.createAttribute("id");i.value=n;N.setAttributeNode(i);N.style.display="none";var k=r.i18n.getText(h+"NavigationMode");if(k){N.innerHTML=k;}else{q.sap.log.warning("could not get the navigation mode text of this tile to be added on the aria-labelledBby attribute");}b.appendChild(N);L.splice(1,0,n);}}else{L.splice(1,0,n);}this.getDomRef().setAttribute("aria-labelledby",L.join(" "));}}};T.prototype.onclick=function(e){if(this.getTileActionModeActive()){var s=e.originalEvent.srcElement;if(q(s).closest('.sapUshellTileDeleteClickArea').length>0){this.fireDeletePress();}else{this.fireCoverDivPress({id:this.getId()});}}else{this._announceLoadingApplication();}};T.prototype._announceLoadingApplication=function(){var a=document.getElementById("sapUshellLoadingAccessibilityHelper-appInfo"),L=r.i18n.getText("screenReaderNavigationLoading");if(a){a.setAttribute("role","alert");a.innerHTML=L;setTimeout(function(){a.removeAttribute("role");a.innerHTML="";},0);}};T.prototype._initDeleteAction=function(){var t=this;if(!this.deleteIcon){this.deleteIcon=new I({src:"sap-icon://decline",tooltip:r.i18n.getText("removeButtonTItle")});this.deleteIcon.addEventDelegate({onclick:function(e){t.fireDeletePress();e.stopPropagation();}});this.deleteIcon.addStyleClass("sapUshellTileDeleteIconInnerClass");this.deleteIcon.addCustomData(new A({key:"aria-label",value:r.i18n.getText("removeButtonLabel"),writeToDom:true}));}return this.deleteIcon;};T.prototype.setShowActionsIcon=function(s){var t=this,i;if(s){i=new I({size:"1rem",src:"sap-icon://overflow",press:function(e){t.fireShowActions();t.addStyleClass('showTileActionsIcon');var E=sap.ui.getCore().getEventBus(),a=function(n,b,c){c.removeStyleClass('showTileActionsIcon');E.unsubscribe("dashboard","actionSheetClose",a);};E.subscribe("dashboard","actionSheetClose",a);}});i.addStyleClass("sapUshellTileActionsIconClass");this.actionIcon=i;}else if(this.actionIcon){this.actionIcon.destroy(true);}this.setProperty("showActionsIcon",s);};T.prototype.setIsDraggedInTabBarToSourceGroup=function(d){this.setProperty('isDraggedInTabBarToSourceGroup',d,true);this.setVisible(!d);};T.prototype.setVisible=function(v){this.setProperty("visible",v,true);return this.toggleStyleClass("sapUshellHidden",!v);};T.prototype.setTarget=function(v){this.setProperty("target",v,true);this.$().find(".sapUshellTileInner").attr("href",v);};T.prototype.setRgba=function(v){this.setProperty("rgba",v,true);this._redrawRGBA(arguments);};T.prototype.setAnimationRendered=function(v){this.setProperty('animationRendered',v,true);};T.prototype.setNavigationMode=function(v){this.setProperty('navigationMode',v,true);};T.prototype._handleTileShadow=function(j,a){if(j.length){j.unbind('mouseenter mouseleave');var u,t=j.css("border").split("px")[0],m=this.getModel();if(t>0){u=j.css("border-color");}else{u=this.getRgba();}j.hover(function(){if(!m.getProperty('/tileActionModeActive')){var o=q(j).css('box-shadow'),s=o?o.split(') ')[1]:null,U;if(s){U=s+" "+u;q(this).css('box-shadow',U);}}},function(){q(this).css('box-shadow','');});}};T.prototype._redrawRGBA=function(a){var R=this.getRgba(),j;if(R){j=q.sap.byId(this.getId());if(!j){return;}if(!this.getModel().getProperty('/animationRendered')){j.css('transition','background-color 2s');j.css('background-color',R);}else{j.css('background-color',R);}this._handleTileShadow(j,a);}};T.prototype.setLong=function(L){this.setProperty("long",L,true);return this.toggleStyleClass("sapUshellLong",!!L);};T.prototype.setUuid=function(u){this.setProperty("uuid",u,true);return this;};return T;});
sap.ui.predefine('sap/ushell/ui/launchpad/TileRenderer',['jquery.sap.global','sap/ushell/components/applicationIntegration/AppLifeCycle'],function(q,A){"use strict";var T={};T.render=function(r,c){var t=null,m=c.getModel(),C,p=c.getPinButton(),s=A.getElementsModel();p=p.length?p[0]:undefined;try{t=c.getTileViews()[0];}catch(e){q.sap.log.warning("Failed to load tile view: ",e.message);t=new sap.m.Text({text:"Failed to load. "});}var o=c.getParent(),a=o&&o.getTiles?o.getTiles():[],v=a.filter(function(f){return f.getVisible();}),i=v.indexOf(c)>-1?v.indexOf(c)+1:"";if(!o){return;}r.write("<li");if(m&&m.getProperty("/enableHelp")){r.writeAttribute("data-help-id",c.getTileCatalogId());}r.writeControlData(c);r.addClass("sapUshellTile");if(c.getTileActionModeActive()){r.addClass("sapUshellTileWrapper");}if(t&&t.getContent&&sap.suite&&sap.suite.ui&&sap.suite.ui.commons&&sap.suite.ui.commons.FeedTile){C=t.getContent();C.forEach(function(I){if(I instanceof sap.suite.ui.commons.FeedTile){r.addClass("sapUshellFeedTileBG");}});}if(c.getLong()){r.addClass("sapUshellLong");}if(!c.getVisible()){r.addClass("sapUshellHidden");}if(c.getIsLocked()){r.addClass("sapUshellLockedTile");}if(s&&s.getModel()){if(s.getModel().getProperty("/sizeBehavior")){if(s.getModel().getProperty("/sizeBehavior")=="Small"){r.addClass("sapUshellSmall");}}}r.writeClasses();r.writeAccessibilityState(c,{role:"option",posinset:i,setsize:v.length});var b=c.getParent().getId()+"-titleText";r.writeAttribute("aria-describedby",b);if(c.getIeHtml5DnD()){r.writeAttribute("draggable","true");}r.writeAttributeEscaped("tabindex","-1");var l=c.data('layoutPosition');if(l){var d='-webkit-transform:'+l.translate3D+';-ms-transform:'+l.translate2D+';transform:'+l.translate3D;r.writeAttribute("style",d);}r.write(">");if(!c.getTileActionModeActive()){r.write("<div");r.addClass("sapUshellTileWrapper");r.writeClasses();r.write(">");}this.renderTileActionMode(r,c);r.addClass("sapUshellTileInner");if(c.getProperty('tileActionModeActive')){r.addClass("sapUshellTileActionBG");}if(this.renderTileView){this.renderTileView(r,t,p,c.getTarget(),c.getIsCustomTile());}if(c.getShowActionsIcon()&&!c.getTileActionModeActive()){r.renderControl(c.actionIcon);}if(!c.getTileActionModeActive()){r.write("</div>");if(this.renderTileActionsContainer){this.renderTileActionsContainer(r,t,p,c.getTarget(),c.getIsCustomTile());}}r.write("</li>");};T.renderTileActionsContainer=function(r,t,p,s,i){if(p){p.addStyleClass("sapUshellActionButton");r.write("<div");r.addClass("sapUshellTilePinButtonOverlay");r.writeClasses();if(t.getHeader){r.writeAccessibilityState(t,{role:"toolbar",label:t.getHeader()});}r.write(">");r.renderControl(p);r.write("</div>");}};T.renderTileView=function(r,t,p,s,i){var u="";if(i){r.write("<div");r.writeClasses();r.write(">");r.renderControl(t);r.write("</div>");}else{r.write("<a");r.writeClasses();if(s){if(s.charAt(0)==="#"){if(window.location.search&&window.location.search.length>0){u=window.location.origin+window.location.pathname+window.location.search+"&appState=lean"+s;}else{u=window.location.origin+window.location.pathname+"?appState=lean"+s;}}else{u=s;}r.writeAttributeEscaped("target","_blank");r.writeAttributeEscaped("href",u);}r.write(">");r.renderControl(t);r.write("</a>");}};T.renderTileActionMode=function(r,c){if(!c.getTileActionModeActive()){return;}r.write("<div");r.addClass("sapUshellTileActionLayerDiv");r.writeClasses();r.write(">");if(c.getTileActionModeActive()&&!c.getIsLocked()){r.write("<div");r.addClass("sapUshellTileDeleteClickArea");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUshellTileDeleteIconOuterClass");r.writeClasses();r.write(">");r.renderControl(c._initDeleteAction());r.write("</div>");r.write("</div>");}r.write("<div class='sapUshellTileActionDivCenter'></div>");r.write("<div");r.addClass("sapUshellTileActionIconDivBottom");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUshellTileActionIconDivBottomInnerDiv");r.writeClasses();r.write(">");r.renderControl(c.getActionSheetIcon());r.write("</div>");r.write("</div>");r.write("</div>");};return T;},true);
sap.ui.predefine('sap/ushell/ui/launchpad/ViewPortContainer',['jquery.sap.global','sap/ui/Device','sap/ui/core/Control','sap/ushell/library','sap/ushell/resources','sap/ushell/utils','./ViewPortContainerRenderer'],function(q,D,C,l,r,u){"use strict";var V=C.extend("sap.ushell.ui.launchpad.ViewPortContainer",{metadata:{library:"sap.ushell",properties:{height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},visible:{type:"boolean",group:"Appearance",defaultValue:true},defaultState:{type:"sap.ushell.ui.launchpad.ViewPortState",group:"Appearance",defaultValue:sap.ushell.ui.launchpad.ViewPortState.Center}},aggregations:{leftViewPort:{type:"sap.ui.core.Control",multiple:true,singularName:"leftViewPort"},centerViewPort:{type:"sap.ui.core.Control",multiple:true,singularName:"centerViewPort"},rightViewPort:{type:"sap.ui.core.Control",multiple:true,singularName:"rightViewPort"}},associations:{initialCenterViewPort:{type:"sap.ui.core.Control",multiple:false},initialRightViewPort:{type:"sap.ui.core.Control",multiple:false},initialLeftViewPort:{type:"sap.ui.core.Control",multiple:false}},events:{navigate:{},afterSwitchState:{parameters:{from:{type:"sap.ui.core.Control"},to:{type:"sap.ui.core.Control"}}},afterSwitchStateAnimationFinished:{parameters:{from:{type:"sap.ui.core.Control"},to:{type:"sap.ui.core.Control"}}},afterNavigate:{parameters:{from:{type:"sap.ui.core.Control"},to:{type:"sap.ui.core.Control"}}}}}});V.prototype.init=function(){this.bShiftCenterTransition=true;this.bShiftCenterTransitionEnabled=false;this.sCurrentState="Center";var c=sap.ui.getCore().getConfiguration();this.bIsRTL=!q.isEmptyObject(c)&&c.getRTL?c.getRTL():false;this._oViewPortsNavigationHistory={leftViewPort:{visitedControls:[],indexOfCurrentlyDisplayedControl:null},centerViewPort:{visitedControls:[],indexOfCurrentlyDisplayedControl:null},rightViewPort:{visitedControls:[],indexOfCurrentlyDisplayedControl:null}};this._states={Left:{translateX:'',visibleViewPortsData:[{viewPortId:'leftViewPort',className:"leftClass",isActive:true}]},Center:{translateX:'',visibleViewPortsData:[{viewPortId:'centerViewPort',className:"centerClass",isActive:true}]},Right:{translateX:'',visibleViewPortsData:[{viewPortId:'rightViewPort',className:"rightClass",isActive:true}]},LeftCenter:{translateX:'',visibleViewPortsData:[{viewPortId:'leftViewPort',className:"front",isActive:true},{viewPortId:'centerViewPort',className:"backLeft",isActive:false}]},CenterLeft:{translateX:'',visibleViewPortsData:[{viewPortId:'centerViewPort',className:"frontLeft",isActive:true},{viewPortId:'leftViewPort',className:"back",isActive:false}]},RightCenter:{translateX:'',visibleViewPortsData:[{viewPortId:'rightViewPort',className:"front",isActive:true},{viewPortId:'centerViewPort',className:"backRight",isActive:false}]},CenterRight:{translateX:'',visibleViewPortsData:[{viewPortId:'centerViewPort',className:"frontRight",isActive:true},{viewPortId:'rightViewPort',className:"back",isActive:false}]}};D.media.attachHandler(this._handleSizeChange.bind(this),null,D.media.RANGESETS.SAP_STANDARD);D.orientation.attachHandler(this._handleSizeChange,this);q(window).bind("resize",function(){this._handleSizeChange();}.bind(this));};V.prototype.removeCenterViewPort=function(c,s){this.removeAggregation('centerViewPort',c,s);this._popFromViewPortNavigationHistory('centerViewPort',c);};V.prototype.setApplicationFullWidth=function(f){var j=q("#"+this._sCurrentControlId);j.toggleClass("sapUShellApplicationContainerLimitedWidth",!f);};V.prototype._popFromViewPortNavigationHistory=function(v,c){var n=this._oViewPortsNavigationHistory[v],a=n?n.visitedControls:[],i=a.indexOf(c);if(a.length>0){n.visitedControls=a.slice(i+1,n.visitedControls.length);n.indexOfCurrentlyDisplayedControl=n.visitedControls.length-1;}};V.prototype.addCenterViewPort=function(c){q.sap.measure.start("FLP:ViewPortContainer.addCenterViewPort","addCenterViewPort","FLP");u.setPerformanceMark("FLP -- ViewPortContainer.addCenterViewPort");var i=this._isInCenterViewPort(c);c.toggleStyleClass("hidden",true);c.addStyleClass("sapUshellViewPortItemSlideFrom");if(!i){this.addAggregation('centerViewPort',c,true);}if(this.domRef&&!i){this.getRenderer().renderViewPortPart(c,this.domRef,'centerViewPort');}q.sap.measure.end("FLP:ViewPortContainer.addCenterViewPort");};V.prototype.addLeftViewPort=function(c){q.sap.flpmeasure.end(0,"MeArea,(services + rendering)");c.toggleStyleClass("hidden",true);if(this.domRef){this.getRenderer().renderViewPortPart(c,this.domRef,'leftViewPort');}this.addAggregation('leftViewPort',c,true);};V.prototype.addRightViewPort=function(c){c.toggleStyleClass("hidden",true);if(this.domRef){this.getRenderer().renderViewPortPart(c,this.domRef,'rightViewPort');}this.addAggregation('rightViewPort',c,true);};V.prototype.setInitialCenterViewPort=function(c){var s=this._getCurrentlyDispalyedControl('centerViewPort'),i=this._isInCenterViewPort(c);c.addStyleClass("sapUshellViewPortItemSlideFrom");if(this.domRef&&!i){this.getRenderer().renderViewPortPart(c,this.domRef,'centerViewPort');}this._setCurrentlyDisplayedControl('centerViewPort',c);if(!i){this.addAggregation('centerViewPort',c,true);}this.setAssociation('initialCenterViewPort',c,true);if(s&&s!==c.getId()){this.fireAfterNavigate({fromId:s,from:sap.ui.getCore().byId(s),to:sap.ui.getCore().byId(c),toId:c.getId()});}};V.prototype._isInViewPort=function(v,c){var a=this.getAggregation(v),i=a?a.indexOf(c)>-1:false;return i;};V.prototype._isInCenterViewPort=function(c){return this._isInViewPort('centerViewPort',c);};V.prototype.getCurrentCenterPage=function(){return this._getCurrentlyDispalyedControl('centerViewPort');};V.prototype.navTo=function(v,c,t,d,T){q.sap.measure.start("FLP:ShellController.navTo","navTo","FLP");var s=this._getCurrentlyDispalyedControl(v),a=this.getAggregation(v),b=a.some(function(e,i){if(e.getId()===c){return true;}});if(!b){q.sap.log.error("ViewPort Container Error: Couldn't find target control");}else if(!s||s!==c){var o=sap.ui.getCore().byId(c);o.toggleStyleClass("hidden",false);var O=function(){this.fireAfterNavigate({toId:c,to:c?sap.ui.getCore().byId(c):null,fromId:s,from:s?sap.ui.getCore().byId(s):null});}.bind(this);this._setCurrentlyDisplayedControl(v,o,t,O);}q.sap.measure.end("FLP:ShellController.navTo");};V.prototype._getCurrentlyDispalyedControl=function(v){var n=this._oViewPortsNavigationHistory[v];return n.visitedControls[n.indexOfCurrentlyDisplayedControl];};V.prototype._setCurrentlyDisplayedControl=function(v,c,t,o){q.sap.measure.start("FLP:ViewPortContainer._setCurrentlyDisplayedControl","_setCurrentlyDisplayedControl","FLP");var n=this._oViewPortsNavigationHistory[v],a=n.visitedControls,s=this._getCurrentlyDispalyedControl(v),b=s?sap.ui.getCore().byId(s):null,T=(v==='centerViewPort'&&t)?t:'show';a.push(c.getId());n.indexOfCurrentlyDisplayedControl=q.isNumeric(n.indexOfCurrentlyDisplayedControl)?n.indexOfCurrentlyDisplayedControl+1:0;this._handleViewPortTransition(v,T,c,b,o);this._sCurrentControlId=c.getId();q.sap.measure.end("FLP:ViewPortContainer._setCurrentlyDisplayedControl");};V.prototype._handleViewPortTransition=function(v,t,T,c,o){if(v!=='centerViewPort'){return;}T.toggleStyleClass("hidden",false);if(c){c.toggleStyleClass("hidden");}if(o){o();}};V.prototype.switchState=function(s){var a=function(){var b,t=[],f=[],c,d=this;for(c=0;c<d._states[d.sCurrentState].visibleViewPortsData.length;c++){f.push(d._states[d.sCurrentState].visibleViewPortsData[c].viewPortId);}for(c=0;c<d._states[s].visibleViewPortsData.length;c++){t.push(d._states[s].visibleViewPortsData[c].viewPortId);}var i=0,e;for(e=0;e<f.length;e++){b=d.getAggregation(f[e]);if(b){for(i=0;i<b.length;i++){if(b[i].onViewStateHide){b[i].onViewStateHide();}}}}for(e=0;e<t.length;e++){b=d.getAggregation(t[e]);if(b){for(i=0;i<b.length;i++){if(b[i].onViewStateShow){b[i].onViewStateShow();}}}}}.bind(this);q.sap.measure.start("FLP:switchState","start animiation flow","FLP1");switch(s){case"LeftCenter":this.meAreaShow(s);break;case"Center":this.centerAreaShow(s,a);break;case"RightCenter":this.notificationAreaShow(s);break;default:}var S=function(e){var c;if(this.bIsRTL){c=e.pageX<parseInt(window.getComputedStyle(e.currentTarget).paddingLeft,10);}else{c=e.pageX>parseInt(window.getComputedStyle(e.currentTarget).width,10);}if(c){this.switchState('Center');}}.bind(this);var j=q(this.domRef).find('.sapUshellViewPortLeft');if(s!=='Center')j.on('click',S);else j.off('click',S);this._handleSizeChange();};V.prototype.notificationAreaShow=function(s){this._areaShow(s,this._animateNotificationAreaShow.bind(this),this._animateMinimalNotificationAreaShow.bind(this),true);};V.prototype._notificationAreaClose=function(s){this._areaShow(s,this._animateNotificationAreaClose.bind(this),this._animateMinimalNotificationAreaClose.bind(this),false);};V.prototype.meAreaShow=function(s){this._areaShow(s,this._animateMeAreaShow.bind(this),this._animateMinimalMeAreaShow.bind(this),true);};V.prototype._meAreaClose=function(s){this._areaShow(s,this._animateMeAreaClose.bind(this),this._animateMinimalMeAreaClose.bind(this),false);};V.prototype.centerAreaShow=function(s,a){if(this.sCurrentState==="LeftCenter"){this._meAreaClose(s);}else if(this.sCurrentState==="RightCenter"){this._notificationAreaClose(s);}else{this._fireTransitionEnd(s);if(a){a();}}};q.sap.measure.end("FLP:switchState");V.prototype._animateNotificationAreaShow=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd(s);this.setEnableResizeHandler(true);this.switchKeyframeAnimationDuration("0ms",[v.centerViewPort,v.rightViewPort]);v.centerViewPort.removeEventListener("animationend",t);v.centerViewPort.addEventListener('click',this.switchState.bind(this,"Center"));if(v.leftViewPort.classList.contains("sapUshellMeAreaShow")){v.leftViewPort.classList.remove("sapUshellMeAreaShow");v.leftViewPort.classList.remove("sapUshellMeAreaClose");v.leftViewPort.classList.add("sapUshellShellHidden");}}.bind(this);this.toggleMeAreaScrollBar(false);this.switchKeyframeAnimationDuration("480ms",[v.centerViewPort,v.rightViewPort,v.leftViewPort]);v.centerViewPort.classList.add("sapUshellDisableScroll");this.setEnableResizeHandler(false);v.centerViewPort.addEventListener("animationend",t,false);v.rightViewPort.classList.remove("sapUshellShellHidden");setTimeout(function(){if(v.leftViewPort.classList.contains("sapUshellMeAreaShow")){v.leftViewPort.classList.add("sapUshellMeAreaClose");v.centerViewPort.classList.add("sapUshellCenterLeft");v.centerViewPort.classList.remove("sapUshellCenterRight");v.rightViewPort.classList.remove("sapUshellNotificationAreaClose");}else{v.centerViewPort.classList.add("sapUshellSmallLeft");}v.rightViewPort.classList.add("sapUshellNotificationAreaShow");},0);};V.prototype._removeAllAnimationClasses=function(){var v=this._getViewPorts(),c=["sapUshellDisableScroll","sapUshellMeAreaShow","sapUshellMeAreaClose","sapUshellSmallRight","sapUshellSmallRightToLargeCenter","sapUshellNotificationAreaClose","sapUshellNotificationAreaShow","sapUshellCenterRight","sapUshellCenterLeft","sapUshellSmallLeft","sapUshellSmallLeftToLargeCenter"];for(var k in v){if(v.hasOwnProperty(k)){c.forEach(function(a){v[k].classList.remove(a);});}}};V.prototype._animateNotificationAreaClose=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd();this.setEnableResizeHandler(true);this._removeAllAnimationClasses();v.rightViewPort.classList.add("sapUshellShellHidden");v.centerViewPort.removeEventListener("animationend",t);v.centerViewPort.removeEventListener('click',this.switchState.bind(this,"Center"));}.bind(this);this.switchKeyframeAnimationDuration("480ms",[v.centerViewPort,v.rightViewPort]);this.setEnableResizeHandler(false);v.centerViewPort.addEventListener("animationend",t,false);setTimeout(function(){v.centerViewPort.classList.remove("sapUshellCenterLeft");v.centerViewPort.classList.remove("sapUshellCenterRight");v.rightViewPort.classList.add("sapUshellNotificationAreaClose");v.centerViewPort.classList.add("sapUshellSmallLeftToLargeCenter");},0);};V.prototype._leftViewPortOnClickHandler=function(e){var E=document.elementsFromPoint(e.x,e.y);E.every(function(a){if(a.classList.contains("sapUshellViewPortCenter")){this.switchState("Center");return false;}return true;}.bind(this));};V.prototype._animateMeAreaShow=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd(s);this.setEnableResizeHandler(true);this.toggleMeAreaScrollBar(true);this.switchKeyframeAnimationDuration("0ms",[v.centerViewPort,v.leftViewPort]);v.centerViewPort.classList.add("sapUshellDisableScroll");v.centerViewPort.removeEventListener("animationend",t);v.centerViewPort.addEventListener('click',this.switchState.bind(this,"Center"));if(v.rightViewPort.classList.contains("sapUshellNotificationAreaShow")){v.rightViewPort.classList.remove("sapUshellNotificationAreaShow");v.rightViewPort.classList.remove("sapUshellNotificationAreaClose");v.rightViewPort.classList.add("sapUshellShellHidden");}}.bind(this);this.switchKeyframeAnimationDuration("480ms",[v.centerViewPort,v.rightViewPort,v.rightViewPort]);this.setEnableResizeHandler(false);var m=sap.ui.getCore().byId("meArea");if(m){m.onViewStateShow();}v.centerViewPort.addEventListener("animationend",t,false);v.leftViewPort.classList.remove("sapUshellShellHidden");setTimeout(function(){if(v.rightViewPort.classList.contains("sapUshellNotificationAreaShow")){v.rightViewPort.classList.add("sapUshellNotificationAreaClose");v.centerViewPort.classList.add("sapUshellCenterRight");v.centerViewPort.classList.remove("sapUshellCenterLeft");v.leftViewPort.classList.remove("sapUshellMeAreaClose");}else{v.centerViewPort.classList.add("sapUshellSmallRight");}v.leftViewPort.classList.add("sapUshellMeAreaShow");},0);};V.prototype._animateMeAreaClose=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd();this.setEnableResizeHandler(true);this._removeAllAnimationClasses();v.centerViewPort.removeEventListener('click',this.switchState.bind(this,"Center"));v.leftViewPort.classList.add("sapUshellShellHidden");v.centerViewPort.removeEventListener("animationend",t);}.bind(this);this.switchKeyframeAnimationDuration("480ms",[v.centerViewPort,v.leftViewPort]);this.toggleMeAreaScrollBar(false);this.setEnableResizeHandler(false);v.centerViewPort.addEventListener("animationend",t,false);setTimeout(function(){v.centerViewPort.classList.remove("sapUshellCenterLeft");v.centerViewPort.classList.remove("sapUshellCenterRight");v.leftViewPort.classList.add("sapUshellMeAreaClose");v.centerViewPort.classList.add("sapUshellSmallRightToLargeCenter");},0);};V.prototype.toggleMeAreaScrollBar=function(s){document.getElementById('leftViewPort').classList.toggle("sapUshellMeAreaScrollable",s);};V.prototype.switchKeyframeAnimationDuration=function(d,a){a.forEach(function(i){i.style.animationDuration=d;});};V.prototype.setEnableResizeHandler=function(e){};V.prototype._animateMinimalNotificationAreaShow=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd(s);this.setEnableResizeHandler(true);this.toggleMeAreaScrollBar(true);v.viewPortContainer.removeEventListener("transitionend",t);}.bind(this);this.setEnableResizeHandler(false);v.viewPortContainer.addEventListener("transitionend",t,false);v.rightViewPort.classList.remove("sapUshellShellHidden");setTimeout(function(){v.viewPortContainer.classList.add("sapUshellMinimalNotificationAreaShow");v.viewPortContainer.classList.remove("sapUshellMinimalMeAreaShow");},0);};V.prototype._animateMinimalNotificationAreaClose=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd(s);this.setEnableResizeHandler(true);v.rightViewPort.classList.add("sapUshellShellHidden");v.viewPortContainer.removeEventListener("transitionend",t);v.viewPortContainer.classList.remove("sapUshellMinimalNotificationAreaClose");}.bind(this);this.toggleMeAreaScrollBar(false);this.setEnableResizeHandler(false);v.viewPortContainer.addEventListener("transitionend",t,false);setTimeout(function(){v.viewPortContainer.classList.add("sapUshellMinimalNotificationAreaClose");v.viewPortContainer.classList.remove("sapUshellMinimalNotificationAreaShow");},0);};V.prototype._animateMinimalMeAreaShow=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd(s);this.setEnableResizeHandler(true);this.toggleMeAreaScrollBar(true);v.viewPortContainer.removeEventListener("transitionend",t);}.bind(this);this.setEnableResizeHandler(false);var m=sap.ui.getCore().byId("meArea");if(m){m.onViewStateShow();}v.viewPortContainer.addEventListener("transitionend",t,false);v.leftViewPort.classList.remove("sapUshellShellHidden");setTimeout(function(){v.viewPortContainer.classList.add("sapUshellMinimalMeAreaShow");v.viewPortContainer.classList.remove("sapUshellMinimalNotificationAreaShow");},0);};V.prototype._animateMinimalMeAreaClose=function(s){var v=this._getViewPorts(),t=function(e){this._fireTransitionEnd(s);this.setEnableResizeHandler(true);v.leftViewPort.classList.add("sapUshellShellHidden");v.viewPortContainer.classList.remove("sapUshellMinimalMeAreaClose");v.viewPortContainer.removeEventListener("transitionend",t);}.bind(this);this.toggleMeAreaScrollBar(false);this.setEnableResizeHandler(false);v.viewPortContainer.addEventListener("transitionend",t,false);setTimeout(function(){v.viewPortContainer.classList.add("sapUshellMinimalMeAreaClose");v.viewPortContainer.classList.remove("sapUshellMinimalMeAreaShow");},0);};V.prototype._areaShow=function(s,f,m,S){this.setCurrentState(s);if(this._getAnimationMode()==='full'){f(s);}else{m(S);}};V.prototype._handleSizeChange=function(){var a=this.getCurrentState(),v=this._states[a].visibleViewPortsData;if(v[0].viewPortId==="leftViewPort"){if(this.bIsRTL){var p=window.innerWidth-q("#leftViewPort").width();q("#leftViewPort").css("padding-left",p);q("#viewPortCursorPointerArea").css("width",p);q("#viewPortCursorPointerArea").css("left","0");}else{var b=window.innerWidth-q("#leftViewPort").width();q("#leftViewPort").css("padding-right",b);q("#viewPortCursorPointerArea").css("width",b);q("#viewPortCursorPointerArea").css("right","0");}}};V.prototype._getAnimationMode=function(){var m=this.getModel(),a;if(m){a=m.getProperty('/animationMode');}return a||'full';};V.prototype._fireTransitionEnd=function(s){if(!s){s=this.sCurrentState;}this.fireAfterSwitchStateAnimationFinished({to:s,from:this.sCurrentState});};V.prototype._getViewPorts=function(){var e=document.getElementById('viewPortContainer');if(e){return{viewPortContainer:e,leftViewPort:document.getElementById('leftViewPort'),centerViewPort:document.getElementById('centerViewPort-wrapper'),rightViewPort:document.getElementById('rightViewPort')};}};V.prototype.setCurrentState=function(s){var f=this.sCurrentState;this.sCurrentState=s;this.fireAfterSwitchState({to:s,from:f});};V.prototype.getCurrentState=function(){return this.sCurrentState;};V.prototype.getViewPortControl=function(v,d){var a=this.getAggregation(v),i;if(a){for(i=0;i<a.length;i++){if(a[i]&&(a[i].getId()===d)){return a[i];}}}return null;};V.prototype.getViewPort=function(p){var P=this.getCenterViewPort(),i;for(i=0;i<P.length;i++){if(P[i]&&(P[i].getId()===p)){return P[i];}}return null;};V.prototype.shiftCenterTransitionEnabled=function(e){this.bShiftCenterTransitionEnabled=e;};V.prototype.shiftCenterTransition=function(s){this.bShiftCenterTransition=s;};V.prototype.onAfterRendering=function(){this.domRef=this.getDomRef();this._handleSizeChange();};V.transitions=V.transitions||{};return V;});
sap.ui.predefine('sap/ushell/ui/launchpad/ViewPortContainerRenderer',['jquery.sap.global'],function(q){"use strict";var V={};V.renderViewPortPart=function(c,a,v){q.sap.measure.start("FLP:ViewPortContainerRenderer.renderViewPortPart","renderViewPortPart","FLP");var j=q(a).find("#"+v);var r=sap.ui.getCore().createRenderManager();r.render(c,j[0]);r.destroy();q.sap.measure.end("FLP:ViewPortContainerRenderer.renderViewPortPart");};V._renderViewPort=function(r,v,i,a){r.write("<div");a.forEach(function(c){r.addClass(c);});r.writeClasses();r.writeAttribute("id",i);r.write(">");v.forEach(function(o){r.renderControl(o);});if(i==='leftViewPort'){this._renderViewPortCursorPointerArea(r);}r.write("</div>");};V._renderCenterViewPort=function(r,v,i,a){r.write("<div");r.addClass('sapUshellViewPortWrapper');r.writeClasses();r.writeAttribute("id",i+'-wrapper');r.write(">");V._renderViewPort(r,v,i,a);r.write("</div>");};V._renderViewPortCursorPointerArea=function(r){r.write("<div id='viewPortCursorPointerArea'");r.addClass('sapUshellViewPortCursorPointerArea');r.writeClasses();r.write(">");r.write("</div>");};V.render=function(r,c){if(!c.getVisible()){return;}r.write("<div");r.writeControlData(c);if(c.getWidth()){r.addStyle("width",c.getWidth());}c.getHeight();if(c.getHeight()){r.addStyle("height",c.getHeight());}if(this.renderAttributes){this.renderAttributes(r,c);}var s=c._states,S=s[c.sCurrentState],v=S.visibleViewPortsData,l=["sapUshellViewPortLeft"],C=["sapUshellViewPortCenter"],R=["sapUshellViewPortRight"];if(c.getCurrentState()==="Center"){l.push("sapUshellShellHidden");R.push("sapUshellShellHidden");}var o=sap.ui.getCore().getConfiguration();this.bIsRTL=!q.isEmptyObject(o)&&o.getRTL?o.getRTL():false;r.writeStyles();r.write(">");v.forEach(function(e){switch(e.viewPortId){case'leftViewPort':l.push(e.className);break;case'centerViewPort':C.push(e.className);break;case'rightViewPort':R.push(e.className);break;}});V._renderViewPort(r,c.getLeftViewPort(),'leftViewPort',l);V._renderCenterViewPort(r,c.getCenterViewPort(),'centerViewPort',C);V._renderViewPort(r,c.getRightViewPort(),'rightViewPort',R);r.write("</div>");};return V;},true);
sap.ui.predefine('sap/ushell/ui/shell/NavigationMiniTile',['sap/ushell/library'],function(){"use strict";var N=sap.ui.core.Control.extend("sap.ushell.ui.shell.NavigationMiniTile",{metadata:{properties:{title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},intent:{type:"string",group:"Misc",defaultValue:null}},aggregations:{},events:{press:{}}},renderer:{render:function(r,c){var t=c.getTitle();var s=c.getSubtitle();var i=c.getIcon();var I=sap.ui.core.IconPool.createControlByURI(i);r.write('<div tabindex="-1" class="sapUshellNavMiniTile" ');r.writeControlData(c);r.writeAttributeEscaped("role","option");r.writeAttributeEscaped("aria-label",s?t+" "+s:t);r.write('>');r.write('<div>');r.write('<span class="sapUshellNavMiniTileTitle" >');if(t){r.writeEscaped(t);}r.write('</span>');r.write('</div>');if(I){r.write('<div>');r.write('<span class="sapUshellNavMiniTileIcon">');r.renderControl(I);r.write("</span>");r.write('</div>');}else{r.write('<div>');r.write('<span class="sapUshellNavMiniTileSubtitle" >');if(s){r.writeEscaped(s);}r.write("</span>");r.write('</div>');}r.write('</div>');}}});N.prototype.ontap=function(e){this.firePress({});};N.prototype.onsapenter=function(e){this.firePress({});};N.prototype.onsapspace=function(e){this.firePress({});};return N;},true);
sap.ui.predefine('sap/ushell/ui/shell/RightFloatingContainer',['jquery.sap.global','sap/ushell/library'],function(q,l,R){"use strict";var a=sap.ui.core.Control.extend("sap.ushell.ui.shell.RightFloatingContainer",{metadata:{properties:{size:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'56px'},top:{type:"string",group:"Appearance",defaultValue:'0'},right:{type:"string",group:"Appearance",defaultValue:'0'},textVisible:{type:"boolean",group:"Appearance",defaultValue:true},insertItemsWithAnimation:{type:"boolean",group:"Appearance",defaultValue:true},hideItemsAfterPresentation:{type:"boolean",group:"Appearance",defaultValue:false},enableBounceAnimations:{type:"boolean",group:"Appearance",defaultValue:false},actAsPreviewContainer:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{floatingContainerItems:{type:"sap.ui.core.Control",multiple:true}},events:{afterRendering:{}}},renderer:{render:function(r,o){var i=sap.ui.getCore().getConfiguration().getRTL();r.write("<div");r.writeControlData(o);r.addClass("sapUshellRightFloatingContainer");r.writeClasses();r.addStyle('top',o.getTop()+'rem');r.addStyle(i?'left':'right',o.getRight());r.writeStyles();r.writeAttribute("data-role","alert");r.write(">");r.write("<ul");r.addClass("sapUshellNotificationListContainer");r.writeClasses();r.writeAttribute("role","list");r.write(">");this.renderFloatingContainerItems(r,o);r.write("</ul>");r.write("</div>");},renderFloatingContainerItems:function(r,o){var I=o.getInsertItemsWithAnimation(),A=o.getActAsPreviewContainer(),b=o.getFloatingContainerItems(),i;for(i=0;i<b.length;i++){if(A&&!I){b[i].addStyleClass('sapUshellNonAnimatedNotificationListItem');}else if(b[i].hasStyleClass('sapUshellNonAnimatedNotificationListItem')){b[i].addStyleClass('sapUshellNotificationsListItem');b[i].addStyleClass('sapUshellRightFloatingContainerItemBackToViewport');b[i].addStyleClass('sapUshellRightFloatingContainerItemHidden');b[i].addStyleClass('sapUshellRightFloatingContainerItmHeightVisible');b[i].removeStyleClass('sapUshellNonAnimatedNotificationListItem');}r.renderControl(b[i]);}}}});a.prototype.init=function(){var t;q(window).bind("resize",function(){clearTimeout(t);t=setTimeout(this._handleResize.bind(this),100);}.bind(this));this.iRequiredItemsNumber=5;};a.prototype.onBeforeRendering=function(){};a.prototype._setSize=function(){};a.prototype._handleResize=function(){if(this.getDomRef()&&this.getFloatingContainerItems().length){var n=this.iRequiredItemsNumber,b=window.innerHeight,d=this.getDomRef(),c=d.getBoundingClientRect().top,e=q(".sapUiSizeCompact").length>0?56:64,j=q(d).find('li').first(),f,I;if(!j.length){return;}f=j[0].clientHeight;var g=q("#sapUshellDashboardFooter").outerHeight();this.iRequiredItemsNumber=Math.min(parseInt((b-c-e-g)/f,10),5);if(n!==this.iRequiredItemsNumber){I=this.getFloatingContainerItems();for(var i=0;i<I.length;i++){if(i<this.iRequiredItemsNumber||isNaN(this.iRequiredItemsNumber)){I[i].removeStyleClass('sapUshellShellHidden');}else{I[i].addStyleClass('sapUshellShellHidden');}}}}};a.prototype.onAfterRendering=function(){this.fireAfterRendering();setTimeout(function(){this._handleResize();}.bind(this),500);this.addStyleClass('sapContrastPlus');this.addStyleClass('sapContrast');this.addStyleClass('sapUshellNotificationsListItem');};a.prototype.setVisible=function(v){this.setProperty('visible',v,true);if(v){q(this.getDomRef()).css('visibility','visible');}else{q(this.getDomRef()).css('visibility','hidden');}};a.prototype.setFloatingContainerItemsVisiblity=function(v){var b=this.getFloatingContainerItems(),t=v?300:0,I=this.getInsertItemsWithAnimation(),_=function(c){if(v){b[c].removeStyleClass("sapUshellRightFloatingContainerItemBounceOut").addStyleClass("sapUshellRightFloatingContainerItemBounceIn");}else{b[c].removeStyleClass("sapUshellRightFloatingContainerItemBounceIn").addStyleClass("sapUshellRightFloatingContainerItemBounceOut");}};for(var i=0;i<b.length;i++){(function(c){return function(){if(I){setTimeout(function(){_(c);},t+c*100);}else{b[c].setVisible(v);}};})(i)();}};a.prototype._animationBouncer=function _animationBouncer(n){var _=function(){if(!_animationBouncer._animationQueue.length){_animationBouncer._itemTimeoutId=undefined;return;}var i=_animationBouncer._animationQueue.shift();i.addStyleClass("sapUshellRightFloatingContainerItmHeightVisible").addStyleClass('sapUshellRightFloatingContainerItemBounceIn');_animationBouncer._itemTimeoutId=setTimeout(_,100);}.bind(this);if(!_animationBouncer._animationQueue){_animationBouncer._animationQueue=[];}_animationBouncer._animationQueue.push(n);if(_animationBouncer._mainTimeoutId||_animationBouncer._itemTimeoutId){return;}_animationBouncer._mainTimeoutId=setTimeout(function(){_animationBouncer._mainTimeoutId=undefined;_();}.bind(this),500);};a.prototype.addFloatingContainerItem=function(n){this.addAggregation('floatingContainerItems',n);n.addStyleClass('sapContrastPlus');if(this.getInsertItemsWithAnimation()){n.addStyleClass("sapUshellNotificationsListItem");n.addStyleClass("sapUshellRightFloatingContainerItemHidden");if(this.getEnableBounceAnimations()){a.prototype._animationBouncer(n);}else{setTimeout(function(){var i=this.getFloatingContainerItems();if(i.length>5){var b=i[i.length-1];b.addStyleClass("sapUshellRightFloatingContainerHideLastItem");}n.addStyleClass('sapUshellRightFloatingContainerItemBackToViewport').addStyleClass("sapUshellRightFloatingContainerItmHeightVisible");}.bind(this),500);}}else if(this.getActAsPreviewContainer()){n.addStyleClass('sapUshellNonAnimatedNotificationListItem');}if(this.getHideItemsAfterPresentation()){setTimeout(function(){n.removeStyleClass("sapUshellRightFloatingContainerItemBackToViewport");},3200);}};return a;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellAppTitle',['jquery.sap.global','sap/m/Button','sap/ui/core/IconPool','sap/ushell/library','./ShellNavigationMenu','sap/ushell/services/AllMyApps'],function(q,B,I){"use strict";var s={SHELL_NAV_MENU_ONLY:0,ALL_MY_APPS_ONLY:1,SHELL_NAV_MENU:2,ALL_MY_APPS:3},S;S=B.extend("sap.ushell.ui.shell.ShellAppTitle",{metadata:{properties:{text:{type:"string",group:"Misc",defaultValue:null},tooltip:{type:"string",group:"Misc",defaultValue:null}},associations:{navigationMenu:{type:"sap.ushell.ui.shell.ShellNavigationMenu"},allMyApps:{type:"sap.ui.core.mvc.ViewType.JS"}},events:{press:{},textChanged:{}}},renderer:{render:function(r,c){var n=c.getNavigationMenu(),t=c.getText(),v=false,N,o,m=c.getModel();if(n){N=sap.ui.getCore().byId(n);}v=c._getControlVisibilityAndState(N,c);c.bIconVisible=v;r.write('<div ');r.writeControlData(c);r.addClass("sapUshellShellAppTitleContainer sapUshellAppTitle");if(v){r.write('tabindex="0" ');r.addClass("sapUshellAppTitleClickable");r.writeAttributeEscaped("role","button");r.writeAttributeEscaped("aria-haspopup","true");r.writeAttributeEscaped("aria-expanded","false");o=m.getProperty("/ShellAppTitleState");if(o===s.ALL_MY_APPS_ONLY){r.writeAttributeEscaped("aria-label",sap.ushell.resources.i18n.getText("ShowAllMyApps_AriaLabel",[t]));}else{r.writeAttributeEscaped("aria-label",sap.ushell.resources.i18n.getText("ShellNavigationMenu_AriaLabel",[t]));}}else{r.writeAttributeEscaped("aria-label",t);r.writeAttributeEscaped("aria-haspopup","false");}r.writeClasses();r.write(">");if(v){r.write("<div ");r.addClass("sapUshellShellHeadAction");r.writeClasses();r.write("><span class='sapUshellShellHeadActionImg sapUshellShellAppTitleHeadActionImg'>");r.renderControl(c.oIcon);r.write("</span>");r.write("</div>");}r.write('<h1 class="sapUshellHeadTitle" aria-level="1">');if(t){r.writeEscaped(t);}r.write("</h1>");r.write("</div>");}}});S.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.oIcon=I.createControlByURI(I.getIconURI("slim-arrow-down"));this.oIcon.addStyleClass("sapUshellAppTitleMenuIcon");if(sap.ui.Device.system.desktop){this.addEventDelegate({onkeydown:function(e){if(e.altKey&&e.keyCode===40){e.preventDefault();this.onclick();}}.bind(this)});}this._bTextChanged=false;};S.prototype.onclick=function(e){var t=this;this.oNavMenu=sap.ui.getCore().byId(t.getNavigationMenu());this.oAllMyApps=sap.ui.getCore().byId(t.getAllMyApps());if(!this.bIconVisible){return;}if(this.getModel().getProperty("/ShellAppTitleState")===s.ALL_MY_APPS_ONLY){q.sap.measure.start("FLP:ShellAppTitle.onClick","Click ShellAppTitle in HOME state, Launching AllMyApps","FLP");if(!this.oAllMyApps){return;}if(!this._getAllMyAppsPopover()){this.oAllMyAppsPopover=this._createAllMyAppsPopover();}if(this.oAllMyAppsPopover.isOpen()){this.oAllMyAppsPopover.close();}else{this.oAllMyAppsPopover.openBy(this);}}else{this.bAppTitleClick=false;if(!this._getNavMenuPopover()){this.oNavMenuPopover=this._createNavMenuPopover(this.getModel());}this.getModel().setProperty("/ShellAppTitleState",s.SHELL_NAV_MENU);if(!sap.ui.Device.system.desktop){if(this._getNavMenuPopover().isOpen()){this._getNavMenuPopover().close();}else{this._getNavMenuPopover().openBy(this);this.firePress();}}else{if(!this.bAppTitleClick){this._getNavMenuPopover().openBy(this);this.firePress();}else{this.bAppTitleClick=false;}}}this._handlePopoverStateChange();};S.prototype._getControlVisibilityAndState=function(n,c){q.sap.measure.start("FLP:ShellAppTitle.getControlVisibilityAndState","Check AllMyApps and NavShellMenu visibility","FLP");var v=false,m=c.getModel(),o=m?m.getProperty("/currentState"):'',a=sap.ushell.Container.getService("AllMyApps").isEnabled(),N=this._isNavMenuEnabled(n);if(!m){return false;}if(o.stateName==="app"||o.stateName==="home"){v=a||N;if(a&&N){m.setProperty("/ShellAppTitleState",s.SHELL_NAV_MENU);}else if(!a&&N){m.setProperty("/ShellAppTitleState",s.SHELL_NAV_MENU_ONLY);}else if(a&&!N){m.setProperty("/ShellAppTitleState",s.ALL_MY_APPS_ONLY);}}else{v=N;m.setProperty("/ShellAppTitleState",s.SHELL_NAV_MENU_ONLY);}q.sap.measure.end("FLP:ShellAppTitle.getControlVisibilityAndState");return v;};S.prototype._getAllMyAppsPopover=function(){return this.oAllMyAppsPopover;};S.prototype._getNavMenuPopover=function(){return this.oNavMenuPopover;};S.prototype._createAllMyAppsPopover=function(){var a=new sap.m.ResponsivePopover({id:"sapUshellAllMyAppsPopover",placement:sap.m.PlacementType.Bottom,title:"",showArrow:true,customHeader:this._getPopoverHeader(this.getModel()),showHeader:{path:'/ShellAppTitleState',formatter:function(c){return c!==s.SHELL_NAV_MENU;}},content:[this.oAllMyApps]});a.setModel(this.getModel());a.addStyleClass('sapUshellAppTitleAllMyAppsPopover');a.attachAfterOpen(function(){this.oAllMyApps._afterOpen();if(this.oToggleListButton.getVisible()){this.oToggleListButton.firePress();this.oToggleListButton.setPressed(true);}}.bind(this));return a;};S.prototype._createNavMenuPopover=function(){var n=new sap.m.Popover({id:"sapUshellAppTitlePopover",placement:sap.m.PlacementType.Bottom,title:"",showArrow:true,showHeader:{path:'/ShellAppTitleState',formatter:function(c){return c!==s.SHELL_NAV_MENU;}},content:sap.ui.getCore().byId(this.getNavigationMenu())}),N=this.getModel().bindProperty('/ShellAppTitleState');if(sap.ushell.Container.getService("AllMyApps").isEnabled()){n.setFooter(this._getPopoverFooterContent(this.getModel()));}n.addStyleClass('sapUshellAppTitleNavigationMenuPopover');n.setModel(this.getModel());this.getModel().setProperty('/allMyAppsMasterLevel',0);N.attachChange(this._handlePopoverStateChange.bind(this));n.attachBeforeOpen(function(){this.oNavMenu._beforeOpen();}.bind(this));n.attachAfterOpen(function(){this.oNavMenu.$().on("touchmove.scrollFix",function(e){e.stopPropagation();});this.oNavMenu._afterOpen();this._adjustAccProperties(true);}.bind(this));n.attachBeforeClose(function(e){if(document.activeElement.id===this.getId()){this.bAppTitleClick=true;}e.preventDefault();e.cancelBubble();}.bind(this));n.attachAfterClose(function(e){this._adjustAccProperties(false);}.bind(this));return n;};S.prototype._getPopoverHeader=function(m){if(!this.oPopoverHeader){this.oBackButton=this._createPopoverBackButton();this.oBackButton.addStyleClass("sapUshellCatalogNewGroupBackButton");this.oToggleListButton=this._createPopoverToggleButton();this.oToggleListButton.addStyleClass("sapUshellAllMyAppsToggleListButton");this.oPopoverHeader=new sap.m.Bar("sapUshellShellAppPopoverHeader",{contentLeft:[this.oBackButton,this.oToggleListButton],contentMiddle:[new sap.m.Label({text:sap.ushell.resources.i18n.getText("allMyApps_headerTitle")})]});}return this.oPopoverHeader;};S.prototype._createPopoverBackButton=function(){var b;b=new B("sapUshellAppTitleBackButton",{icon:I.getIconURI("nav-back"),press:[this._popoverBackButtonPressHandler,this],tooltip:sap.ushell.resources.i18n.getText("shellNavMenu_openMenuTooltip")});return b;};S.prototype._popoverBackButtonPressHandler=function(){var a=this.getAllMyAppsController().getCurrentState(),m=this.getModel();if((a===this.getAllMyAppsController().getStateEnum().FIRST_LEVEL)||(a===this.getAllMyAppsController().getStateEnum().FIRST_LEVEL_SPREAD)){if(m.getProperty("/ShellAppTitleState")!==s.ALL_MY_APPS_ONLY){m.setProperty("/ShellAppTitleState",s.SHELL_NAV_MENU);this._getAllMyAppsPopover().close();this._getNavMenuPopover().openBy(this);}}else if(a===this.getAllMyAppsController().getStateEnum().SECOND_LEVEL){this.getAllMyAppsController().switchToInitialState();}else if((sap.ui.Device.system.phone)&&(a===this.getAllMyAppsController().getStateEnum().DETAILS)){this.getAllMyAppsController().handleSwitchToMasterAreaOnPhone();}};S.prototype._createPopoverToggleButton=function(m){var t=this,T;T=new sap.m.ToggleButton("sapUshellAllMyAppsToggleListButton",{icon:I.getIconURI("sap-icon://menu2"),press:function(e){t.oAllMyApps.getController().toggleMasterArea();this.setTooltip(e.getParameter("pressed")?sap.ushell.resources.i18n.getText("ToggleButtonHide"):sap.ushell.resources.i18n.getText("ToggleButtonShow"));},tooltip:sap.ushell.resources.i18n.getText("ToggleButtonShow"),visible:{path:'/isPhoneWidth',formatter:function(i){return i&&!sap.ui.Device.system.phone;}}});return T;};S.prototype._getPopoverFooterContent=function(m){var t=this,b,a;if(!this.oPopoverFooterContent){a=new B('allMyAppsButton',{text:sap.ushell.resources.i18n.getText("allMyApps_launchingButtonTitle"),press:function(){m.setProperty("/ShellAppTitleState",s.ALL_MY_APPS);q.sap.measure.start("FLP:ShellNavMenu.footerClick","Click the footer of ShellNavMenu, Launching AllMyApps","FLP");if(!t._getAllMyAppsPopover()){t.oAllMyAppsPopover=t._createAllMyAppsPopover();}t.oNavMenuPopover.close();t.oAllMyAppsPopover.openBy(t);t.oBackButton.focus();},visible:{path:'/ShellAppTitleState',formatter:function(c){return c===s.SHELL_NAV_MENU;}}});this.oPopoverFooterContent=new sap.m.Bar('shellpopoverFooter',{visible:{parts:["/ShellAppTitleState","/currentState/stateName"],formatter:function(c,d){b=(d==="home"||d==="app");return(c===s.SHELL_NAV_MENU)&&b;}},contentMiddle:[a]});this.addCustomData(a,"role","button");this.addCustomData(a,"aria-label",sap.ushell.resources.i18n.getText("allMyApps_launchingButtonTitle"));}return this.oPopoverFooterContent;};S.prototype._isNavMenuEnabled=function(n){return n?n.getItems()&&n.getItems().length>0:false;};S.prototype._handlePopoverStateChange=function(d){var m=this.getModel(),c=m.getProperty('/ShellAppTitleState');};S.prototype.setText=function(t){this.setProperty("text",t,false);this._bTextChanged=true;};S.prototype.onAfterRendering=function(){if(this._bTextChanged){this.fireTextChanged();if(this.getProperty("text")!=="Home"&&this.getProperty("text")!==""&&this.getProperty("text")!==undefined){q.sap.measure.end("FLP:OpenApplicationonClick");}}this._bTextChanged=false;var o=sap.ui.getCore().byId("shell-header");if(o){o._setMaxWidthForTitle();}};S.prototype._adjustAccProperties=function(i){var j=q(this.getDomRef()),i=!!i;j.attr("aria-expanded",i);};S.prototype.addCustomData=function(i,k,v){i.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:k,value:v,writeToDom:true}));};S.prototype.close=function(){if(this.oNavMenuPopover&&this.oNavMenuPopover.isOpen()){this.oNavMenuPopover.close();}};S.prototype.setTooltip=function(t){this.oIcon.setTooltip(t);};S.prototype.getAllMyAppsController=function(){return this.oAllMyApps.getController();};S.prototype.getStateEnum=function(){return s;};S.prototype.onsapspace=S.prototype.onclick;S.prototype.onsapenter=S.prototype.onclick;S.prototype.exit=function(){var n=sap.ui.getCore().byId(this.getNavigationMenu()),a=sap.ui.getCore().byId(this.getAllMyApps());if(n){n.destroy();}if(a){a.destroy();}if(this.oAllMyAppsPopover){this.oAllMyAppsPopover.destroy();}if(this.oNavMenuPopover){this.oNavMenuPopover.destroy();}};return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellHeadItem',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IconPool','sap/ushell/library'],function(q,C,I){"use strict";var S=C.extend("sap.ushell.ui.shell.ShellHeadItem",{metadata:{properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:true},enabled:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},target:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},text:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},floatingNumber:{type:"int",group:"Appearance",defaultValue:null},floatingNumberMaxValue:{type:"int",group:"Appearance",defaultValue:999}},events:{press:{}}},renderer:{render:function(r,i){if((i.getTarget()||"")!==""){r.write("<a tabindex='0' href='");r.writeEscaped(i.getTarget());r.write("'");}else{r.write("<a tabindex='0'");}r.writeAccessibilityState(i,{role:'button'});r.writeControlData(i);r.addClass("sapUshellShellHeadItm");var R=i._shouldRenderText();if(R){r.addClass("sapUshellShellHeadItmText");}if(i._headerHideSeperators){r.addClass("sapUshellHeaderHideSeparators");}if(!i.getEnabled()){r.addClass("sapUshellShellHeadItmDisabled");}if(i.getFloatingNumber&&i.getFloatingNumber()>0&&i.getVisible()){var f=i.getDisplayFloatingNumber();r.addClass("sapUshellShellHeadItmCounter");r.writeAttribute("data-counter-content",f);}if(i.getStartsSection()){r.addClass("sapUshellShellHeadItmDelim");}if(i.getShowSeparator()){r.addClass("sapUshellShellHeadItmSep");}if(!i.getVisible()){r.addClass("sapUshellShellHidden");}if(i.getAriaLabel()){r.writeAccessibilityState({label:i.getAriaLabel(),role:"button"});}if(i.getSelected()){r.addClass("sapUshellShellHeadItmSel");}if(i.getShowMarker()){r.addClass("sapUshellShellHeadItmMark");}r.writeClasses();var t=i.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t);}r.write("><span></span><div class='sapUshellShellHeadItmMarker'><div></div></div>");if(R){r.write("<b class='sapUshellShellHeadItmCenterText'>");r.writeEscaped(i.getText());r.write("</b>");}r.write("</a>");}}});S.prototype._shouldRenderText=function(){if(this.getText()&&this.getParent()){return!(this.getParent()instanceof sap.ushell.ui.shell.ShellHeader);}return false;};S.prototype.onAfterRendering=function(){this._refreshIcon();};S.prototype.onclick=function(e){if(this.getEnabled()){this.firePress();if(!this.getTarget()){e.preventDefault();}}};S.prototype.onsapspace=function(){var d=this.getDomRef();if(d){d.click();}};S.prototype.onsapenter=function(){this.onsapspace();};S.prototype.setStartsSection=function(s){s=!!s;this.setProperty("startsSection",s,true);this.$().toggleClass("sapUshellShellHeadItmDelim",s);return this;};S.prototype.setShowSeparator=function(s){s=!!s;this.setProperty("showSeparator",s,true);this.$().toggleClass("sapUshellShellHeadItmSep",s);return this;};S.prototype.setSelected=function(s){s=!!s;this.setProperty("selected",s,true);this.$().toggleClass("sapUshellShellHeadItmSel",s);return this;};S.prototype.setEnabled=function(e){e=!!e;this.setProperty("enabled",e,true);this.$().toggleClass("sapUshellShellHeadItmDisabled",!e);return this;};S.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};S.prototype.setVisible=function(v){if(sap.ui.Device.system.phone){this.setProperty("visible",!!v,false);}else{this.setProperty("visible",!!v,true);}if(v){this.$().removeClass('sapUshellShellHidden');}else{this.$().addClass('sapUshellShellHidden');}return this;};S.prototype.setShowMarker=function(m){m=!!m;this.setProperty("showMarker",m,true);this.$().toggleClass("sapUshellShellHeadItmMark",m);return this;};S.prototype.setIcon=function(i){this.setProperty("icon",i,true);if(this.getDomRef()){this._refreshIcon();}return this;};S.prototype._refreshIcon=function(){var i=q(this.$().children()[0]);var s=this.getIcon();if(I.isIconURI(s)){var o=I.getIconInfo(s);i.html("").css("style","");q(this.$().children()[0]).removeClass('userImgSpan');if(o){i.text(o.content).css("font-family","'"+o.fontFamily+"'");}}else{var $=this.$("img-inner");if($.length===0||$.attr("src")!==s){q(this.$().children()[0]).addClass('userImgSpan');i.css("style","").html("<img id='"+this.getId()+"-img-inner' src='"+q.sap.encodeHTML(s)+"'></img>");}}};S.prototype.getDisplayFloatingNumber=function(){var n=this.getFloatingNumber(),m=this.getFloatingNumberMaxValue();var d=n+"";if(n>m){d=m+"+";}return d;};q.sap.declare('sap.ui.unified.ShellHeadItem');sap.ui.unified.ShellHeadItem=S;return S;},true);
sap.ui.predefine('sap/ushell/ui/shell/ShellHeader',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/theming/Parameters','sap/ushell/library','sap/ui/Device','sap/ui/core/IconPool','./ShellTitle','./ShellAppTitle','./ShellHeaderRenderer'],function(q,C,T,l,D,I,S){"use strict";var s=0,n=0;var L;var i;var a;var b;var c="sapUshellShellShowSearchOverlay";var M=3,d=1,e=0.5,f=9,A=3,g=3,h=12;var j=C.extend("sap.ushell.ui.shell.ShellHeader",{metadata:{properties:{logo:{type:"sap.ui.core.URI",defaultValue:""},showLogo:{type:"boolean",defaultValue:true},searchState:{type:"string",defaultValue:"COL"},ariaLabel:{type:"string",defaultValue:undefined},showSeparators:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{headItems:{type:"sap.ushell.ui.shell.ShellHeadItem",multiple:true},headEndItems:{type:"sap.ushell.ui.shell.ShellHeadItem",multiple:true},search:{type:"sap.ui.core.Control",multiple:false},user:{type:"sap.ushell.ui.shell.ShellHeadUserItem",multiple:false},title:{type:"sap.ushell.ui.shell.ShellTitle",multiple:false},appTitle:{type:"sap.ushell.ui.shell.ShellAppTitle",multiple:false}},associations:{shellLayout:{type:"sap.ui.base.ManagedObject",multiple:false}},events:{searchSizeChanged:{}}}});j.prototype.setVisible=function(v){v=v===undefined?true:!!v;q(".sapUshellShellHead, .sapUshellShellHead > .sapUshellShellCntnt").css("display",v?"":"none");C.prototype.setVisible.call(this,v);};j.prototype.getShellLayoutControl=function(){return sap.ui.getCore().byId(this.getShellLayout());};j.prototype.createUIArea=function(k){var m=document.getElementById('shell-hdrcntnt');var o=k||'canvas';var p=document.getElementById(o);if(p&&!m){p.insertAdjacentHTML('beforebegin','<header id="shell-hdr" class="sapContrastPlus sapUshellShellHead">'+'</header>');if(!this.getVisible()){this.setVisible(false);}this.placeAt('shell-hdr');}};j.prototype.SearchState={COL:"COL",EXP:"EXP",EXP_S:"EXP_S"};j.prototype.init=function(){this._rtl=sap.ui.getCore().getConfiguration().getRTL();this._handleMediaChange=function(p){if(!this.getDomRef()){return;}if(this.getSearchState()!=this.SearchState.COL){this._setMaxWidthForAppTitleAndTitle();this._handleSearchSizeChanged();return;}this._refresh();};D.media.attachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);this._handleResizeChange=function(){if(!this.getDomRef()){return;}var u=this.getUser();if(this.getUser()){u._checkAndAdaptWidth(!this.$("hdr-search").hasClass("sapUshellShellHidden")&&!!this.getSearch());}if(this.getSearchState()!=this.SearchState.COL){this._setMaxWidthForAppTitleAndTitle();this._handleSearchSizeChanged();return;}this._refresh();};D.resize.attachHandler(this._handleResizeChange,this);this.data("sap-ui-fastnavgroup","true",true);this.oTitle=null;};j.prototype.exit=function(){D.media.detachHandler(this._handleMediaChange,this,D.media.RANGESETS.SAP_STANDARD);D.resize.detachHandler(this._handleResizeChange,this);if(this.oTitle){this.oTitle.destroy();}var k=document.getElementById('shell-hdr');if(k){k.parentElement.removeChild(k);}};j.prototype.setAccessKeyHandler=function(k){this._accessKeyHandler=k;};j.prototype.attachAccessKeyHander=function(k){if(!k){return;}q("#sapUshellHeaderAccessibilityHelper").focusin(function(E){var v=sap.ui.getCore().byId('viewPortContainer'),m=v.getCurrentState(),o;if(k.bForwardNavigation){switch(m){case"Center":if(k.getAppKeysHandler()){setTimeout(function(){k.fnExternalKeysHandler(E,k.bFocusPassedToExternalHandlerFirstTime);k.bFocusOnShell=false;},0);}else{var p=q(":focusable").filter("[tabindex!='-1']"),r=p.index(document.activeElement),o=p.eq(r+1);if(!o.length){o=p[0];}}break;case"LeftCenter":o=q("#logoutBtn");if(o.length===0){o=q("#userStatusOpener");}break;case"RightCenter":o=q("#sapUshellNotificationIconTabByDate");k.bFocusOnShell=false;break;}}else{var H=this.getHeadEndItems(),t;if(H.length>0){t=H[H.length-1];o=t;}else o=this.getAppTitle();}setTimeout(function(){if(o){o.focus();}},0);}.bind(this));};j.prototype.onAfterRendering=function(){this._refresh();this.$("icon").one('load',this._refresh.bind(this));var k=this.getShellLayoutControl();if(k){this.$("hdr-center").toggleClass("sapUshellShellAnim",k.getShowAnimation());}var o=this.$("hdr-search-container");if(s!=n){if(this.getSearchState()==this.SearchState.COL){o.one('transitionend',function(){q(this).addClass("sapUshellShellSearchHidden");});}this._setSearchContainerMaxSize(n,false);var m={remSize:this._convertPxToRem(this.getSearchContainerRect(n).width),isFullWidth:this.isPhoneState()};this.fireSearchSizeChanged(m);}else if(this.getSearchState()==this.SearchState.COL){q(o).addClass("sapUshellShellSearchHidden");}var p=this.getModel();if(p&&p.getProperty("/enableHelp")){q('#actionsBtn').addClass('help-id-actionsBtn');q('#configBtn').addClass('help-id-configBtn');q('#homeBtn').addClass('help-id-homeBtn');}this.attachAccessKeyHander(this._accessKeyHandler);};j.prototype.onThemeChanged=function(){this.invalidate();};j.prototype._getLogo=function(){return this.getLogo()||T._getThemeImage(null,true);};j.prototype._handleSearchSizeChanged=function(){var k;if(this.getSearchState()==this.SearchState.COL){return;}else if(this.getSearchState()==this.SearchState.EXP){k=s;this._handleExpSearchState(k);}else if(this.getSearchState()==this.SearchState.EXP_S){k=this._handleExpSSearchState();this._setSearchContainerMaxSize(k);}var m={remSize:this._convertPxToRem(this.getSearchContainerRect(k).width),isFullWidth:this.isPhoneState()};this.fireSearchSizeChanged(m);};j.prototype._refresh=function(){var u=this.getUser();if(u){u._refreshImage();u._checkAndAdaptWidth(!!this.getSearch());}if(!this.hasStyleClass("sapUshellShellHideLogo")){this._saveLogoWidth();}this._setMaxWidthForAppTitleAndTitle();if(this.getSearchState()!=this.SearchState.COL){this._adjustHeaderWithSearch();}this._saveSearchPhoneStateThreshold();};j.prototype._saveLogoWidth=function(){var o=this.$("hdr-begin").find(".sapUshellShellIco");if(o){i=parseInt(o.css("padding-left"),10);a=parseInt(o.css("padding-right"),10);L=this.$("icon")[0].getBoundingClientRect().width;}};j.prototype._convertPxToRem=function(p){var r=parseFloat(T.get("sapUiFontSize"));return p/r;};j.prototype._convertRemToPx=function(r){var k=parseFloat(T.get("sapUiFontSize"));return r*k;};j.prototype._setMaxWidthForAppTitleAndTitle=function(){this._setMaxWidthForAppTitle();if(this.isLSize()){this._setMaxWidthForTitle();}else{this._setAppTitleFontSize();}};j.prototype._setMaxWidthForAppTitle=function(){var k=this.$("hdr-appTitle");var m=this.$("hdr-appTitle").find(".sapUshellHeadTitle");if(!k.length){return;}m.removeClass('sapUshellHeadTitleWithSmallerFontSize');k.css({'max-width':'none'});var o=this._calcCenterWidth();var t=0;if(this.isLSize()){var p=this.$("hdr-title");if(p.length){t=p[0].getBoundingClientRect().width;}}var P=this.isSSize()?d:M;var w=this._convertPxToRem(o-t)-2*P;var r=k.find('.sapUshellShellHeadAction');var u=r.length?A+1.5:A;if(w<u){w=u;}k.css({'max-width':w+"rem"});};j.prototype._calcCenterWidth=function(){var k=this.$("hdr-appTitle")[0].getBoundingClientRect();var m=this.$("hdr-begin")[0].getBoundingClientRect();var o=this.$("hdr-end")[0].getBoundingClientRect();var p;if(this._isOverlapping(m,k)||this._isOverlapping(k,o)){var r=m.width;var t=o.width;var u=this.$()[0].getBoundingClientRect().width;p=u-2*Math.max(r,t);}else{var v=this.$("hdr-center");var p=v[0].getBoundingClientRect().width;}return p;};j.prototype._setMaxWidthForTitle=function(){var k=this.$("hdr-title");if(!k.length){return;}k.css({'max-width':h+"rem",'opacity':1});var m=this.$("hdr-appTitle");if(!m||!m[0]){return;}var r=this._isOverlapping(k[0].getBoundingClientRect(),m[0].getBoundingClientRect(),M,false);if(r){var t=k[0].getBoundingClientRect().width;var o=this._convertPxToRem(t-r);if(o<g){k.css({'opacity':0});}else{k.css({'max-width':o+"rem"});}}};j.prototype._setAppTitleFontSize=function(){var o=this.$("hdr-appTitle").find(".sapUshellHeadTitle");if(o&&o[0]){var k=o[0].scrollWidth;var m=o[0].clientWidth;if(k>m){o.addClass('sapUshellHeadTitleWithSmallerFontSize');}}};j.prototype._adjustHeaderWithSearch=function(k){var m=this.$("hdr-appTitle");if(!m.length||m.css('opacity')=="0"||m.css('display')=="none"){return;}var o=m[0].getBoundingClientRect();var p;if(k){p=this.getSearchContainerRect(k);}else{var r=this.$("hdr-search-container");p=this.getSearchContainerRect(parseFloat(r.get(0).style.maxWidth));}var O=this._isOverlapping(o,p,e,true);if(!O){return;}else if(O){var t=o.width;m.css({'max-width':this._convertPxToRem(t-O)+"rem"});}};j.prototype.setAppTitle=function(o){o.attachTextChanged(this._handleAppTitleChange,this);this.setAggregation("appTitle",o,true);};j.prototype.removeAppTitle=function(o){o.detachedTextChanged(this._handleAppTitleChange);this.removeAggregation("appTitle");};j.prototype._handleAppTitleChange=function(){if(!this.getDomRef()){return;}if(this.getSearchState()!=this.SearchState.COL){this._setMaxWidthForAppTitleAndTitle();this._handleSearchSizeChanged();}};j.prototype.setTitleControl=function(t,o){this.oTitle=this.oTitle||sap.ui.getCore().byId("shellTitle");if(this.oTitle){this.oTitle.destroy();}this.oTitle=new S("shellTitle",{text:t,icon:I.getIconURI("overflow")});this.oTitle.setInnerControl(o);this.setTitle(this.oTitle);};j.prototype.removeHeadItem=function(v){if(typeof v==='number'){v=this.getHeadItems()[v];}this.removeAggregation('headItems',v);};j.prototype.addHeadItem=function(o){this.addAggregation('headItems',o);};j.prototype.isPhoneState=function(){var k=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;var E=true;var H=this.$().width();if(H<=b){E=false;}return(D.system.phone||k=="Phone"||!E);};j.prototype.isLSize=function(){var k=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;return(k=="Desktop");};j.prototype.isSSize=function(){var k=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;return(D.system.phone||k=="Phone");};j.prototype.getSearchContainerRect=function(m){var k=q("<div> </div>").css("max-width",m+"rem");var o=q("<div></div>").append(k).insertAfter(this.$("hdr-search-container"));k.addClass('sapUshellShellSearch');var t=k[0].getBoundingClientRect();o.remove();return t;};j.prototype.setSearchState=function(k,m,w){if(typeof k!=="string"||!this.SearchState.hasOwnProperty(k)){return;}this.requiredRemSize=m;this.setProperty('searchState',k,false);var o;if(k===this.SearchState.COL){o=this._handleColSearchState(true);}else if(k===this.SearchState.EXP){this.bWithOverlay=(w===false)?false:true;o=this._handleExpSearchState(m,true);}else if(k==this.SearchState.EXP_S){this.bWithOverlay=(w===true)?true:false;o=this._handleExpSSearchState(m,true);}this._setSearchContainerMaxSize(o,true);};j.prototype.getSearchAvailableSize=function(){var k=this._convertPxToRem(this._getSizeToAppTitle());var m=k-this._getMinPaddingRemSize();return(m>=0?m:0);};j.prototype._getSizeToAppTitle=function(){var o=this.$("hdr-center");var k=o[0];var m=this.$("hdr-appTitle").find(".sapUshellAppTitle");var p=m[0];var r;if(this._rtl){r=p?p.getBoundingClientRect().left-k.getBoundingClientRect().left:this._getSizeToTitle();}else{r=p?k.getBoundingClientRect().right-p.getBoundingClientRect().right:this._getSizeToTitle();}return r;};j.prototype._getSizeToTitle=function(){var o=this.$("hdr-center");var k=o[0];var t=this.$("hdr-title").find(".sapUshellHeadTitle");var m=t[0];var p;if(this._rtl){p=m?m.getBoundingClientRect().left-k.getBoundingClientRect().left:this._getSizeToLogo();}else{p=m?k.getBoundingClientRect().right-m.getBoundingClientRect().right:this._getSizeToLogo();}return p;};j.prototype._getSizeToLogo=function(){var o=this.$("hdr-center");var k=o[0];var m=k.getBoundingClientRect().width+this._getSearchButtonWidth();var p=this.$("hdr-begin").find(".sapUshellShellIco");var r=p[0];var t=false;if(this.hasStyleClass("sapUshellShellHideLogo")){t=true;}if(r&&t){var u=this._rtl?a:i;return m-L-u;}else{var u=this._rtl?i:a;return m+u;}};j.prototype._getMaxSize=function(){var o=this.$("hdr-center");var k=o[0];var m=this.$("hdr-begin").find(".sapUshellShellIco");var p=m[0];var r=false;if(this.hasStyleClass("sapUshellShellHideLogo")){r=true;}var t;if(p&&!r){var u=this._rtl?i:a;t=L+u;}else{t=0;}var v=k.getBoundingClientRect().width+this._getSearchButtonWidth()+t;return v;};j.prototype._getSearchButtonWidth=function(){var o=this.getHeadEndItems()[0];if(o&&o.getVisible()){var k=o.getDomRef();var m=k.getBoundingClientRect().width;return m;}return 0;};j.prototype._handleColSearchState=function(k){var m=this.getShellLayoutControl();if(m){m.removeStyleClass(c);}this.removeStyleClass(c);this.removeStyleClass("sapUshellShellHideLogo");this.removeStyleClass("sapUshellShellHideSubtitle");this.removeStyleClass("sapUshellShellHideAppTitle");if(this.isPhoneState()){return this._handleColSearchStatePhone();}return 0;};j.prototype._handleExpSearchState=function(r,k){var m=this.getShellLayoutControl();if(m){m.toggleStyleClass(c,this.bWithOverlay);}this.toggleStyleClass(c,this.bWithOverlay);if(this.isPhoneState()){this._handleExpAndExpSSearchStatePhone();return r;}else{return this._handleExpSearchStateLargeScreen(r,k);}};j.prototype._handleExpSearchStateLargeScreen=function(r,k){var m;this.removeStyleClass("sapUshellShellHideForPhone");var o=this._convertPxToRem(this._getMaxSize());var p=this._convertPxToRem(this._getSizeToTitle());var t=this._convertPxToRem(this._getSizeToAppTitle());var u=this._convertPxToRem(this._getSizeToLogo());if(r>o){this.addStyleClass("sapUshellShellHideLogo");this.addStyleClass("sapUshellShellHideSubtitle");this.addStyleClass("sapUshellShellHideAppTitle");m=o;}else if(r>u-this._getMinPaddingRemSize()){this.addStyleClass("sapUshellShellHideLogo");this.addStyleClass("sapUshellShellHideSubtitle");this.addStyleClass("sapUshellShellHideAppTitle");m=r;}else if(r>p-this._getMinPaddingRemSize()){this.addStyleClass("sapUshellShellHideSubtitle");this.addStyleClass("sapUshellShellHideAppTitle");this.removeStyleClass("sapUshellShellHideLogo");m=r;}else if(r>t-this._getMinPaddingRemSize()){this.addStyleClass("sapUshellShellHideAppTitle");this.removeStyleClass("sapUshellShellHideSubtitle");this.removeStyleClass("sapUshellShellHideLogo");m=r;}else{this.removeStyleClass("sapUshellShellHideAppTitle");this.removeStyleClass("sapUshellShellHideSubtitle");this.removeStyleClass("sapUshellShellHideLogo");m=r;}return m;};j.prototype._handleExpSSearchState=function(r,k){var m=this.getShellLayoutControl();if(m){m.toggleStyleClass(c,this.bWithOverlay);}this.toggleStyleClass(c,this.bWithOverlay);if(this.isPhoneState()){this._handleExpAndExpSSearchStatePhone();return r;}else{var o=this._handleExpSSearchStateLargeScreen(r,k);if(o>this.requiredRemSize){o=this.requiredRemSize;}return o;}};j.prototype._handleExpSSearchStateLargeScreen=function(r,k){var m;this.removeStyleClass("sapUshellShellHideForPhone");var o=this._convertPxToRem(this._getSizeToAppTitle());if(o-this._getMinPaddingRemSize()<f){o=f+this._getMinPaddingRemSize();}if(!r){r=o;}if(r>o-this._getMinPaddingRemSize()){m=o-this._getMinPaddingRemSize();}else{m=r;}this.removeStyleClass("sapUshellShellHideLogo");this.removeStyleClass("sapUshellShellHideSubtitle");this.removeStyleClass("sapUshellShellHideAppTitle");return m;};j.prototype._handleExpAndExpSSearchStatePhone=function(){this.addStyleClass("sapUshellShellHideForPhone");};j.prototype._handleColSearchStatePhone=function(){this.removeStyleClass("sapUshellShellHideForPhone");return 0;};j.prototype._setSearchContainerMaxSize=function(k,m){if(!m){var o=this.$("hdr-search-container");o.css("max-width",k+"rem");s=n=k;}else{n=k;}this._adjustHeaderWithSearch(k);};j.prototype._getMinPaddingRemSize=function(){if(this._convertPxToRem(this._getSizeToAppTitle())<f){return e;}else{return M;}};j.prototype._saveSearchPhoneStateThreshold=function(){if(this.hasStyleClass("sapUshellShellHideForPhone")){return;}var k=this.getSearchAvailableSize();if(k==0){k=-e;}var m=this._maxRemToRemoveFromAppTitle();if(k+m<f){var H=this.$().width();b=H+this._convertRemToPx(f-k-m);}return b;};j.prototype._maxRemToRemoveFromAppTitle=function(){var k=this.$("hdr-appTitle");var m=k.find(".sapUshellHeadTitle");if(!k.length||!m.length){return 0;}var o=this._convertPxToRem(m[0].getBoundingClientRect().width);var p=(o-A)>0?(o-A):0;return p;};j.prototype._isOverlapping=function(k,m,p,P){if(!p){p=0;}if(this._rtl){var o=k.left;var r=m.right;if(P){o=o-this._convertRemToPx(p);}else{r=r+this._convertRemToPx(p);}if(o<r){return r-o;}}else{var t=k.right;var u=m.left;if(P){t=t+this._convertRemToPx(p);}else{u=u-this._convertRemToPx(p);}if(u<t){if(k.bottom>m.top&&k.bottom<m.bottom){return t-u;}}}return 0;};j.prototype.getSearchMaxWidth=function(){return s;};return j;},true);
sap.ui.require.preload({
/*!!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
	"sap/ui/thirdparty/hasher.js":function(){;(function(){var f=function(s){var h=(function(w){var P=25,d=w.document,a=w.history,S=s.Signal,h,_,b,c,g,i,j=/#(.*)$/,k=/(\?.*)|(\#.*)/,l=/^\#/,m=(!+"\v1"),n=('onhashchange'in w)&&d.documentMode!==7,o=m&&!n,p=(location.protocol==='file:');function q(e){return String(e||'').replace(/\W/g,"\\$&");}function r(e){if(!e)return'';var D=new RegExp('^'+q(h.prependHash)+'|'+q(h.appendHash)+'$','g');return e.replace(D,'');}function t(){var D=j.exec(h.getURL());var E=(D&&D[1])||'';try{return h.raw?E:decodeURIComponent(E);}catch(e){return E;}}function u(){return(g)?g.contentWindow.frameHash:null;}function v(){g=d.createElement('iframe');g.src='about:blank';g.style.display='none';d.body.appendChild(g);}function x(){if(g&&_!==u()){var e=g.contentWindow.document;e.open();e.write('<html><head><title>'+d.title+'</title><script type="text/javascript">var frameHash="'+_+'";</script></head><body>&nbsp;</body></html>');e.close();}}function y(e,D){if(_!==e){var E=_;_=e;if(o){if(!D){x();}else{g.contentWindow.frameHash=e;}}return function(){h.changed.dispatch(r(e),r(E));};}}if(o){i=function(){var e=t(),D=u(),E;if(D!==_&&D!==e){h.setHash(r(D));}else if(e!==_){E=y(e);E&&E();}};}else{i=function(){var e=t(),D;if(e!==_){D=y(e);D&&D();}};}function z(e,D,E){if(e.addEventListener){e.addEventListener(D,E,false);}else if(e.attachEvent){e.attachEvent('on'+D,E);}}function A(e,D,E){if(e.removeEventListener){e.removeEventListener(D,E,false);}else if(e.detachEvent){e.detachEvent('on'+D,E);}}function B(e){e=Array.prototype.slice.call(arguments);var D=e.join(h.separator);D=D?h.prependHash+D.replace(l,'')+h.appendHash:D;return D;}function C(e){e=encodeURI(e);if(m&&p){e=e.replace(/\?/,'%3F');}return e;}h={VERSION:'1.2.0',raw:false,appendHash:'',prependHash:'/',separator:'/',changed:new S(),stopped:new S(),initialized:new S(),init:function(){if(c)return;_=t();if(n){z(w,'hashchange',i);}else{if(o){if(!g){v();}x();}b=setInterval(i,P);}c=true;h.initialized.dispatch(r(_));},stop:function(){if(!c)return;if(n){A(w,'hashchange',i);}else{clearInterval(b);b=null;}c=false;h.stopped.dispatch(r(_));},isActive:function(){return c;},getURL:function(){return w.location.href;},getBaseURL:function(){return h.getURL().replace(k,'');},setHash:function(e){var D;e=B.apply(null,arguments);if(e!==_){D=y(e);if(!h.raw){e=C(e);}w.location.hash='#'+e;D&&D();}},replaceHash:function(e){var D;e=B.apply(null,arguments);if(e!==_){D=y(e);if(!h.raw){e=C(e);}w.location.replace('#'+e);D&&D();}},getHash:function(){return r(_);},getHashAsArray:function(){return h.getHash().split(h.separator);},dispose:function(){h.stop();h.initialized.dispose();h.stopped.dispose();h.changed.dispose();g=h=w.hasher=null;},toString:function(){return'[hasher version="'+h.VERSION+'" hash="'+h.getHash()+'"]';}};h.initialized.memorize=true;return h;}(window));return h;};if(typeof define==='function'&&define.amd){define(['signals'],f);}else if(typeof exports==='object'){module.exports=f(require('signals'));}else{window['hasher']=f(window['signals']);}}());
},
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
	"sap/ui/thirdparty/signals.js":function(){(function(g){function S(b,l,i,c,p){this._listener=l;this._isOnce=i;this.context=c;this._signal=b;this._priority=p||0;}S.prototype={active:true,params:null,execute:function(p){var h,b;if(this.active&&!!this._listener){b=this.params?this.params.concat(p):p;h=this._listener.apply(this.context,b);if(this._isOnce){this.detach();}}return h;},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null;},isBound:function(){return(!!this._signal&&!!this._listener);},isOnce:function(){return this._isOnce;},getListener:function(){return this._listener;},getSignal:function(){return this._signal;},_destroy:function(){delete this._signal;delete this._listener;delete this.context;},toString:function(){return'[SignalBinding isOnce:'+this._isOnce+', isBound:'+this.isBound()+', active:'+this.active+']';}};function v(l,n){if(typeof l!=='function'){throw new Error('listener is a required param of {fn}() and should be a Function.'.replace('{fn}',n));}}function a(){this._bindings=[];this._prevParams=null;var b=this;this.dispatch=function(){a.prototype.dispatch.apply(b,arguments);};}a.prototype={VERSION:'1.0.0',memorize:false,_shouldPropagate:true,active:true,_registerListener:function(l,i,b,p){var c=this._indexOfListener(l,b),d;if(c!==-1){d=this._bindings[c];if(d.isOnce()!==i){throw new Error('You cannot add'+(i?'':'Once')+'() then add'+(!i?'':'Once')+'() the same listener without removing the relationship first.');}}else{d=new S(this,l,i,b,p);this._addBinding(d);}if(this.memorize&&this._prevParams){d.execute(this._prevParams);}return d;},_addBinding:function(b){var n=this._bindings.length;do{--n;}while(this._bindings[n]&&b._priority<=this._bindings[n]._priority);this._bindings.splice(n+1,0,b);},_indexOfListener:function(l,c){var n=this._bindings.length,b;while(n--){b=this._bindings[n];if(b._listener===l&&b.context===c){return n;}}return-1;},has:function(l,c){return this._indexOfListener(l,c)!==-1;},add:function(l,b,p){v(l,'add');return this._registerListener(l,false,b,p);},addOnce:function(l,b,p){v(l,'addOnce');return this._registerListener(l,true,b,p);},remove:function(l,c){v(l,'remove');var i=this._indexOfListener(l,c);if(i!==-1){this._bindings[i]._destroy();this._bindings.splice(i,1);}return l;},removeAll:function(){var n=this._bindings.length;while(n--){this._bindings[n]._destroy();}this._bindings.length=0;},getNumListeners:function(){return this._bindings.length;},halt:function(){this._shouldPropagate=false;},dispatch:function(p){if(!this.active){return;}var b=Array.prototype.slice.call(arguments),n=this._bindings.length,c;if(this.memorize){this._prevParams=b;}if(!n){return;}c=this._bindings.slice();this._shouldPropagate=true;do{n--;}while(c[n]&&this._shouldPropagate&&c[n].execute(b)!==false);},forget:function(){this._prevParams=null;},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams;},toString:function(){return'[Signal active:'+this.active+' numListeners:'+this.getNumListeners()+']';}};var s=a;s.Signal=a;if(typeof define==='function'&&define.amd){define(function(){return s;});}else{g['signals']=s;}}(this));
},
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */
	"sap/ui/thirdparty/crossroads.js":function(){(function(){var f=function(s){var c,_,U;_=(/t(.+)?/).exec('t')[1]==='';function a(i,v){if(i.indexOf){return i.indexOf(v);}else{var n=i.length;while(n--){if(i[n]===v){return n;}}return-1;}}function b(l,m){var i=a(l,m);if(i!==-1){l.splice(i,1);}}function d(v,i){return'[object '+i+']'===Object.prototype.toString.call(v);}function e(v){return d(v,'RegExp');}function g(v){return d(v,'Array');}function h(v){return typeof v==='function';}function t(v){var r;if(v===null||v==='null'){r=null;}else if(v==='true'){r=true;}else if(v==='false'){r=false;}else if(v===U||v==='undefined'){r=U;}else if(v===''||isNaN(v)){r=v;}else{r=parseFloat(v);}return r;}function j(v){var n=v.length,r=[];while(n--){r[n]=t(v[n]);}return r;}function k(i,l){var q=(i||'').replace('?','').split('&'),n=q.length,o={},m,v;while(n--){m=q[n].split('=');v=l?t(m[1]):m[1];o[m[0]]=(typeof v==='string')?decodeURIComponent(v):v;}return o;}function C(){this.bypassed=new s.Signal();this.routed=new s.Signal();this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState();}C.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null;},create:function(){return new C();},addRoute:function(p,i,l){var r=new R(p,i,l,this);this._sortedInsert(r);return r;},removeRoute:function(r){b(this._routes,r);r._destroy();},removeAllRoutes:function(){var n=this.getNumRoutes();while(n--){this._routes[n]._destroy();}this._routes.length=0;},parse:function(r,l){r=r||'';l=l||[];if(!this.ignoreState&&(r===this._prevMatchedRequest||r===this._prevBypassedRequest)){return;}var m=this._getMatchedRoutes(r),i=0,n=m.length,o;if(n){this._prevMatchedRequest=r;this._notifyPrevRoutes(m,r);this._prevRoutes=m;while(i<n){o=m[i];o.route.matched.dispatch.apply(o.route.matched,l.concat(o.params));o.isFirst=!i;this.routed.dispatch.apply(this.routed,l.concat([r,o]));i+=1;}}else{this._prevBypassedRequest=r;this.bypassed.dispatch.apply(this.bypassed,l.concat([r]));}this._pipeParse(r,l);},_notifyPrevRoutes:function(m,r){var i=0,p;while(p=this._prevRoutes[i++]){if(p.route.switched&&this._didSwitch(p.route,m)){p.route.switched.dispatch(r);}}},_didSwitch:function(r,m){var l,i=0;while(l=m[i++]){if(l.route===r){return false;}}return true;},_pipeParse:function(r,l){var i=0,m;while(m=this._piped[i++]){m.parse(r,l);}},getNumRoutes:function(){return this._routes.length;},_sortedInsert:function(r){var i=this._routes,n=i.length;do{--n;}while(i[n]&&r._priority<=i[n]._priority);i.splice(n+1,0,r);},_getMatchedRoutes:function(r){var i=[],l=this._routes,n=l.length,m;while(m=l[--n]){if((!i.length||this.greedy||m.greedy)&&m.match(r)){i.push({route:m,params:m._getParamsArray(r)});}if(!this.greedyEnabled&&i.length){break;}}return i;},pipe:function(o){this._piped.push(o);},unpipe:function(o){b(this._piped,o);},toString:function(){return'[crossroads numRoutes:'+this.getNumRoutes()+']';}};c=new C();c.VERSION='0.12.0';c.NORM_AS_ARRAY=function(r,v){return[v.vals_];};c.NORM_AS_OBJECT=function(r,v){return[v];};function R(p,i,l,r){var m=e(p),n=r.patternLexer;this._router=r;this._pattern=p;this._paramsIds=m?null:n.getParamIds(p);this._optionalParamsIds=m?null:n.getOptionalParamsIds(p);this._matchRegexp=m?p:n.compilePattern(p,r.ignoreCase);this.matched=new s.Signal();this.switched=new s.Signal();if(i){this.matched.add(i);}this._priority=l||0;}R.prototype={greedy:false,rules:void(0),match:function(r){r=r||'';return this._matchRegexp.test(r)&&this._validateParams(r);},_validateParams:function(r){var i=this.rules,v=this._getParamsObject(r),l;for(l in i){if(l!=='normalize_'&&i.hasOwnProperty(l)&&!this._isValidParam(r,l,v)){return false;}}return true;},_isValidParam:function(r,p,v){var i=this.rules[p],l=v[p],m=false,n=(p.indexOf('?')===0);if(l==null&&this._optionalParamsIds&&a(this._optionalParamsIds,p)!==-1){m=true;}else if(e(i)){if(n){l=v[p+'_'];}m=i.test(l);}else if(g(i)){if(n){l=v[p+'_'];}m=this._isValidArrayRule(i,l);}else if(h(i)){m=i(l,r,v);}return m;},_isValidArrayRule:function(i,v){if(!this._router.ignoreCase){return a(i,v)!==-1;}if(typeof v==='string'){v=v.toLowerCase();}var n=i.length,l,m;while(n--){l=i[n];m=(typeof l==='string')?l.toLowerCase():l;if(m===v){return true;}}return false;},_getParamsObject:function(r){var i=this._router.shouldTypecast,v=this._router.patternLexer.getParamValues(r,this._matchRegexp,i),o={},n=v.length,p,l;while(n--){l=v[n];if(this._paramsIds){p=this._paramsIds[n];if(p.indexOf('?')===0&&l){o[p+'_']=l;l=k(l,i);v[n]=l;}if(_&&l===''&&a(this._optionalParamsIds,p)!==-1){l=void(0);v[n]=l;}o[p]=l;}o[n]=l;}o.request_=i?t(r):r;o.vals_=v;return o;},_getParamsArray:function(r){var n=this.rules?this.rules.normalize_:null,p;n=n||this._router.normalizeFn;if(n&&h(n)){p=n(r,this._getParamsObject(r));}else{p=this._getParamsObject(r).vals_;}return p;},interpolate:function(r){var i=this._router.patternLexer.interpolate(this._pattern,r);if(!this._validateParams(i)){throw new Error('Generated string doesn\'t validate against `Route.rules`.');}return i;},dispose:function(){this._router.removeRoute(this);},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null;},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+']';}};C.prototype.patternLexer=(function(){var E=/[\\.+*?\^$\[\](){}\/'#]/g,L=/^\/|\/$/g,i=/\/$/g,P=/(?:\{|:)([^}:]+)(?:\}|:)/g,r=function(z,A,B){var D=B.lastIndexOf("__CR_RS__"),F=B.indexOf("__CR_RQ__"),G=B.indexOf("__CR_OQ__"),H=B.indexOf("\\/",A),I=Math.min(G===-1?B.length:G,F===-1?B.length:F),J=A+z.length;if(J>=I||J<D||J<H){return T.OS.res_normal;}else{return T.OS.res_arsbq;}},T={'OS':{rgx:/([:})]|\w(?=\/))\/?(:|(?:\{\?))/g,save:'$1{{id}}$2',res:r,res_normal:'\\/?',res_arsbq:'(?:(?:\\/(?=(?:[^\\/?]+)?))|^\\/?|\\/?$)'},'RS':{rgx:/([:}])\/?(\{)/g,save:'$1{{id}}$2',res:'\\/'},'RQ':{rgx:/\{\?([^}]+)\}/g,res:'\\?([^#]+)'},'OQ':{rgx:/:\?([^:]+):/g,res:'(?:\\?([^#]*))?'},'OR':{rgx:/:([^:]+)\*:/g,res:'(.*)?'},'RR':{rgx:/\{([^}]+)\*\}/g,res:'(.+)'},'RP':{rgx:/\{([^}]+)\}/g,res:'([^\\/?]+)'},'OP':{rgx:/:([^:]+):/g,res:'([^\\/?]+)?(?:\\/(?!\\/))?'}},l=1,S=2,m=3,n=l;function p(){var z,A;for(z in T){if(T.hasOwnProperty(z)){A=T[z];A.id='__CR_'+z+'__';A.save=('save'in A)?A.save.replace('{{id}}',A.id):A.id;A.rRestore=new RegExp(A.id,'g');}}}p();function o(z,A){var B=[],D;z.lastIndex=0;while(D=z.exec(A)){B.push(D[1]);}return B;}function q(z){return o(P,z);}function u(z){return o(T.OP.rgx,z);}function v(z,A){z=z||'';if(z){if(n===l){z=z.replace(L,'');}else if(n===m){z=z.replace(i,'');}z=w(z,'rgx','save');z=z.replace(E,'\\$&');z=w(z,'rRestore','res');if(n===l){z='\\/?'+z;}}if(n!==S){z+='\\/?';}return new RegExp('^'+z+'$',A?'i':'');}function w(z,A,B){var D,F;for(F in T){if(T.hasOwnProperty(F)){D=T[F];z=z.replace(D[A],D[B]);}}return z;}function x(z,A,B){var D=A.exec(z);if(D){D.shift();if(B){D=j(D);}}return D;}function y(z,A){if(typeof z!=='string'){throw new Error('Route pattern should be a string.');}var B=function(D,F){var G;F=(F.substr(0,1)==='?')?F.substr(1):F;if(A[F]!=null){if(typeof A[F]==='object'){var H=[];for(var I in A[F]){H.push(encodeURI(I+'='+A[F][I]));}G='?'+H.join('&');}else{G=String(A[F]);}if(D.indexOf('*')===-1&&G.indexOf('/')!==-1){throw new Error('Invalid value "'+G+'" for segment "'+D+'".');}}else if(D.indexOf('{')!==-1){throw new Error('The segment '+D+' is required.');}else{G='';}return G;};if(!T.OS.trail){T.OS.trail=new RegExp('(?:'+T.OS.id+')+$');}return z.replace(T.OS.rgx,T.OS.save).replace(P,B).replace(T.OS.trail,'').replace(T.OS.rRestore,'/');}return{strict:function(){n=S;},loose:function(){n=l;},legacy:function(){n=m;},getParamIds:q,getOptionalParamsIds:u,getParamValues:x,compilePattern:v,interpolate:y};}());return c;};if(typeof define==='function'&&define.amd){define(['signals'],f);}else{window['crossroads']=f(window['signals']);}}());
},
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.3.0
 */
	"sap/ui/thirdparty/es6-promise.js":function(){(function(){"use strict";function l(x){return typeof x==='function'||(typeof x==='object'&&x!==null);}function a(x){return typeof x==='function';}function b(x){return typeof x==='object'&&x!==null;}var d;if(!Array.isArray){d=function(x){return Object.prototype.toString.call(x)==='[object Array]';};}else{d=Array.isArray;}var f=d;var g=0;var h={}.toString;var j;var k;var m=function asap(c,e){B[g]=c;B[g+1]=e;g+=2;if(g===2){if(k){k(C);}else{E();}}};function n(c){k=c;}function o(c){m=c;}var p=(typeof window!=='undefined')?window:undefined;var q=p||{};var s=q.MutationObserver||q.WebKitMutationObserver;var t=typeof process!=='undefined'&&{}.toString.call(process)==='[object process]';var u=typeof Uint8ClampedArray!=='undefined'&&typeof importScripts!=='undefined'&&typeof MessageChannel!=='undefined';function v(){var c=process.nextTick;var e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);if(Array.isArray(e)&&e[1]==='0'&&e[2]==='10'){c=setImmediate;}return function(){c(C);};}function w(){return function(){j(C);};}function y(){var i=0;var c=new s(C);var e=document.createTextNode('');c.observe(e,{characterData:true});return function(){e.data=(i=++i%2);};}function z(){var c=new MessageChannel();c.port1.onmessage=C;return function(){c.port2.postMessage(0);};}function A(){return function(){setTimeout(C,1);};}var B=new Array(1000);function C(){for(var i=0;i<g;i+=2){var c=B[i];var e=B[i+1];c(e);B[i]=undefined;B[i+1]=undefined;}g=0;}function D(){try{var r=require;var c=r('vertx');j=c.runOnLoop||c.runOnContext;return w();}catch(e){return A();}}var E;if(t){E=v();}else if(s){E=y();}else if(u){E=z();}else if(p===undefined&&typeof require==='function'){E=D();}else{E=A();}function F(){}var G=void 0;var H=1;var I=2;var J=new Y();function K(){return new TypeError("You cannot resolve a promise with itself");}function L(){return new TypeError('A promises callback cannot return that same promise.');}function M(c){try{return c.then;}catch(e){J.error=e;return J;}}function N(c,i,r,x){try{c.call(i,r,x);}catch(e){return e;}}function O(c,e,i){m(function(c){var r=false;var x=N(i,e,function(P){if(r){return;}r=true;if(e!==P){S(c,P);}else{U(c,P);}},function(P){if(r){return;}r=true;V(c,P);},'Settle: '+(c._label||' unknown promise'));if(!r&&x){r=true;V(c,x);}},c);}function Q(c,e){if(e._state===H){U(c,e._result);}else if(e._state===I){V(c,e._result);}else{W(e,undefined,function(i){S(c,i);},function(r){V(c,r);});}}function R(c,e){if(e.constructor===c.constructor){Q(c,e);}else{var i=M(e);if(i===J){V(c,J.error);}else if(i===undefined){U(c,e);}else if(a(i)){O(c,e,i);}else{U(c,e);}}}function S(c,e){if(c===e){V(c,K());}else if(l(e)){R(c,e);}else{U(c,e);}}function T(c){if(c._onerror){c._onerror(c._result);}X(c);}function U(c,e){if(c._state!==G){return;}c._result=e;c._state=H;if(c._subscribers.length!==0){m(X,c);}}function V(c,r){if(c._state!==G){return;}c._state=I;c._result=r;m(T,c);}function W(c,e,i,r){var x=c._subscribers;var P=x.length;c._onerror=null;x[P]=e;x[P+H]=i;x[P+I]=r;if(P===0&&c._state){m(X,c);}}function X(c){var e=c._subscribers;var r=c._state;if(e.length===0){return;}var x,P,t1=c._result;for(var i=0;i<e.length;i+=3){x=e[i];P=e[i+r];if(x){_(r,x,P,t1);}else{P(t1);}}c._subscribers.length=0;}function Y(){this.error=null;}var Z=new Y();function $(c,i){try{return c(i);}catch(e){Z.error=e;return Z;}}function _(c,e,i,r){var x=a(i),P,t1,u1,v1;if(x){P=$(i,r);if(P===Z){v1=true;t1=P.error;P=null;}else{u1=true;}if(e===P){V(e,L());return;}}else{P=r;u1=true;}if(e._state!==G){}else if(x&&u1){S(e,P);}else if(v1){V(e,t1);}else if(c===H){U(e,P);}else if(c===I){V(e,P);}}function a1(c,r){try{r(function resolvePromise(i){S(c,i);},function rejectPromise(i){V(c,i);});}catch(e){V(c,e);}}function b1(c,i){var e=this;e._instanceConstructor=c;e.promise=new c(F);if(e._validateInput(i)){e._input=i;e.length=i.length;e._remaining=i.length;e._init();if(e.length===0){U(e.promise,e._result);}else{e.length=e.length||0;e._enumerate();if(e._remaining===0){U(e.promise,e._result);}}}else{V(e.promise,e._validationError());}}b1.prototype._validateInput=function(i){return f(i);};b1.prototype._validationError=function(){return new Error('Array Methods must be provided an Array');};b1.prototype._init=function(){this._result=new Array(this.length);};var c1=b1;b1.prototype._enumerate=function(){var e=this;var c=e.length;var r=e.promise;var x=e._input;for(var i=0;r._state===G&&i<c;i++){e._eachEntry(x[i],i);}};b1.prototype._eachEntry=function(e,i){var r=this;var c=r._instanceConstructor;if(b(e)){if(e.constructor===c&&e._state!==G){e._onerror=null;r._settledAt(e._state,i,e._result);}else{r._willSettleAt(c.resolve(e),i);}}else{r._remaining--;r._result[i]=e;}};b1.prototype._settledAt=function(c,i,e){var r=this;var x=r.promise;if(x._state===G){r._remaining--;if(c===I){V(x,e);}else{r._result[i]=e;}}if(r._remaining===0){U(x,r._result);}};b1.prototype._willSettleAt=function(c,i){var e=this;W(c,undefined,function(r){e._settledAt(H,i,r);},function(r){e._settledAt(I,i,r);});};function d1(e){return new c1(this,e).promise;}var e1=d1;function f1(e){var c=this;var r=new c(F);if(!f(e)){V(r,new TypeError('You must pass an array to race.'));return r;}var x=e.length;function P(u1){S(r,u1);}function t1(u1){V(r,u1);}for(var i=0;r._state===G&&i<x;i++){W(c.resolve(e[i]),undefined,P,t1);}return r;}var g1=f1;function h1(c){var e=this;if(c&&typeof c==='object'&&c.constructor===e){return c;}var i=new e(F);S(i,c);return i;}var i1=h1;function j1(r){var c=this;var e=new c(F);V(e,r);return e;}var k1=j1;var l1=0;function m1(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');}function n1(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}var o1=p1;function p1(r){this._id=l1++;this._state=undefined;this._result=undefined;this._subscribers=[];if(F!==r){if(!a(r)){m1();}if(!(this instanceof p1)){n1();}a1(this,r);}}p1.all=e1;p1.race=g1;p1.resolve=i1;p1.reject=k1;p1._setScheduler=n;p1._setAsap=o;p1._asap=m;p1.prototype={constructor:p1,then:function(c,e){var i=this;var r=i._state;if(r===H&&!c||r===I&&!e){return this;}var x=new this.constructor(F);var P=i._result;if(r){var t1=arguments[r-1];m(function(){_(r,x,t1,P);});}else{W(i,x,c,e);}return x;},'catch':function(c){return this.then(null,c);}};function q1(){var c;if(typeof global!=='undefined'){c=global;}else if(typeof self!=='undefined'){c=self;}else{try{c=Function('return this')();}catch(e){throw new Error('polyfill failed because global object is unavailable in this environment');}}var P=c.Promise;if(P&&Object.prototype.toString.call(P.resolve()).indexOf('[object ')===0){return;}c.Promise=o1;}var r1=q1;var s1={'Promise':o1,'polyfill':r1};if(typeof define==='function'&&define['amd']){define('sap/ui/thirdparty/es6-promise',function(){return s1;});}else if(typeof module!=='undefined'&&module['exports']){module['exports']=s1;}if(typeof this!=='undefined'){this['ES6Promise']=s1;}}).call(this);
},
// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
	"sap/ushell/EventHub.js":function(){(function(){"use strict";var d=(!window.sap||!sap.ui||!sap.ui.define)?function(v,c){return c();}:sap.ui.define;return d([],function(){var _={pendingEvents:{},subscribers:{},dispatchOperations:{}};function l(M,D,C){if(jQuery&&jQuery.sap&&jQuery.sap.log&&jQuery.sap.log.error){jQuery.sap.log.error(M,D,"sap.ushell.EventHub");return;}if(window.console){var A=[M,D];if(C){A.push("error caused by:");A.push(C);}window.console.error.apply(window.console,A);}}function a(v){var M="An exception was raised while executing a registered callback on event '"+v.eventName+"'";var D="Data passed to the event were: '"+v.eventData+"'";if(v.error.stack){D+=" Error details: "+v.error.stack;}l(M,D,v.fnCausedBy);}function s(v,C,D){var R;try{R=C(D);}catch(x){a({eventName:v,eventData:D,fnCausedBy:C,error:x});}return R;}function b(D){if(typeof D==="object"||typeof D==="function"){try{return JSON.stringify(D);}catch(v){l(""+v,v.stack,b);}}return D;}function c(D){try{return JSON.parse(D);}catch(v){return D;}}function e(H,v,S){if(!H.subscribers[v]){H.subscribers[v]=[];}H.subscribers[v].push(S);}function u(H,v,x){H.subscribers[v]=(H.subscribers[v]||[]).map(function(S){return S.filter(function(L){return L.fn!==x;});}).filter(function(G){return G.length>0;});}function f(){var D;var v=new Promise(function(R){D=R;});var x={dispatching:v,cancelled:false,cancel:function(){x.cancelled=true;},complete:function(){D();}};return x;}function g(H,v){if(!H.subscribers.hasOwnProperty(v)){return null;}var D=f();var S=H.subscribers[v];var G=S.map(function(x){return h(H,v,x,D,0);});Promise.all(G).then(D.complete,D.complete);return D;}function h(H,v,S,D,x){var O=S.length;var y=S.slice(x);return y.reduce(function(P,z,I){return P.then(function(A){if(D.cancelled){u(H,v,z.fn);return A;}return n(H,v,z,S).then(function(B){if(B){D.cancelled=true;}return B;});});},Promise.resolve(false)).then(function(z){if(!z&&O<S.length){return h(H,v,S,D,O);}return z;});}function n(H,v,S,x){return new Promise(function(R){var D=c(H.pendingEvents[v]);setTimeout(function(){if(S.called&&x.offed){R(false);return;}S.called=true;var O=x.offed;s(v,S.fn,D);var y=x.offed;if(y){u(H,v,S.fn);}R(!O&&y);},0);});}function i(H,v,S){return function(){S.forEach(function(L){if(L.called){u(H,v,L.fn);}});S.offed=true;return{off:i(H,v,[])};};}function j(H,v,S){return function(C){var x={fn:C,called:false};S.push(x);if(H.pendingEvents.hasOwnProperty(v)){var D=H.dispatchOperations[v];if(!D){n(H,v,x,S);}else{D.dispatching.then(function(){if(!x.called){n(H,v,x,S);}});}}return{do:j(H,v,S),off:i(H,v,S)};};}function o(H,v){var S=[];e(H,v,S);return{do:j(H,v,S),off:i(H,v,S)};}function k(H,v){var D=o(H,v);D.off();return D;}function m(H,v,D){var S=b(D);if(H.pendingEvents.hasOwnProperty(v)&&H.pendingEvents[v]===S){return this;}H.pendingEvents[v]=S;var x=H.dispatchOperations[v];if(x){x.cancel();}var N=g(H,v);H.dispatchOperations[v]=N;return this;}function p(H,v){return c(H.pendingEvents[v]);}function q(H){var A=Array.prototype.slice.call(arguments);A.shift();var C=0;var O=new Array(A.length).join(",").split(",").map(function(){return 1;});var v=[];var D={do:function(x){A.forEach(function(y,I){y.do(function(I,V){v[I]=V;C+=O[I];O[I]=0;if(C===A.length){x.apply(null,v);}}.bind(null,I));});return{off:D.off};},off:function(){var x=A.reduce(function(x,y){return y.off();},function(){});return{off:x};}};return D;}function w(H,v){var D=H.dispatchOperations[v];return D?D.dispatching:Promise.resolve();}function r(H){var v={};v.emit=m.bind(v,H);v.on=o.bind(null,H);v.once=k.bind(null,H);v.last=p.bind(null,H);v.join=q.bind(null,H);v.wait=w.bind(null,H);v._reset=function(H){H.pendingEvents={};H.subscribers={};H.dispatchOperations={};}.bind(null,H);return v;}function t(C){var x=c(b(C));var y={pendingEvents:{},subscribers:{},dispatchOperations:{}};var z=r(y);function A(v){var S=v.charAt(0);if(S.match(/[a-zA-Z0-9]/)){throw new Error("Invalid path separator '"+S+"'. Please ensure path starts with a non alphanumeric character");}var Q=v.split(S);Q.shift();return Q;}function B(v){return"/"+v.join("/");}function D(v){return Object.prototype.toString.apply(v)==="[object Array]";}function F(v){return Object(v)!==v;}function G(v){return(D(v)?v.length:Object.keys(v).length)===0;}function H(v,Q,R,V){var S="";var T=v;return R.reduce(function(U,W,X){S+="/"+W;T=v[W];if(X===R.length-1){if(U[W]!==null&&typeof U[W]==="object"){throw new Error("Cannot assign a value to a non-leaf node at path '"+S+"'");}U[W]=V;return U[W];}if(!U.hasOwnProperty(W)){U[W]=D(T)?[]:{};}return U[W];},Q);}function I(v,Q){var R="";var S=Q.reduce(function(T,U){R+="/"+U;if(D(T)&&!U.match(/^[0-9]+$/)){throw new Error("Invalid array index '"+U+"' provided in path '"+R+"'");}if(!T.hasOwnProperty(U)){throw new Error("The item '"+U+"' from path "+R+" cannot be accessed in the object: "+b(T));}return T[U];},v);return S;}function J(v,Q){Q.pop();var V=v;var R=[];return Q.reduce(function(S,T){V=V[T];R.push(T);S.push({serializedPath:B(R),value:V});return S;},[]);}function K(v){return v.map(function(Q){var S=Q.serializedPath;if(!y.subscribers.hasOwnProperty(S)||y.subscribers[S].length===0){return null;}return{path:S,value:Q.value};}).filter(function(Q){return!!Q;});}function L(v,Q){var R=A(v);I(C,R);H(C,x,R,Q);z.emit(B(R),Q);var S=J(x,R);K(S).forEach(function(T){z.emit(T.path,T.value);});}function M(v){var Q=A(v);var V=I(C,Q);if(V===undefined){return undefined;}return I(x,Q);}function N(v){var Q=A(v);var S=B(Q);var R=z.last(S);var V=y.pendingEvents.hasOwnProperty(S);if(V){return z.on(S);}R=I(C,Q);if(typeof R!=="undefined"&&(F(R)||!G(c(b(R))))){z.emit(S,R);}return z.on(S);}function O(v){var Q=N(v);Q.off();return Q;}function P(v){var Q=A(v);var R=J(x,Q);var W=K(R).map(function(S){return z.wait(S.path,S.value);});return Promise.all(W.concat(z.wait(v)));}return{emit:L,on:N,once:O,last:M,wait:P,join:q.bind(null,z)};}var E=r(_);E.createChannel=t.bind(null);return E;},false);})();
}
},"sap/ushell/core-lib-preload"
);
//# sourceMappingURL=core-min-0.js.map