// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(function(){"use strict";var m={animationMode:"full",searchAvailable:false,title:"",searchFiltering:true,showEndUserFeedback:false,searchTerm:"",isPhoneWidth:false,enableNotifications:false,enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",userStatus:undefined,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},customStatesDelta:{"home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn"]},"app":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"minimal":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"standalone":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded-home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"lean":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]}},states:{"blank":{"stateName":"blank","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"blank-home":{"stateName":"blank-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"home":{"stateName":"home","showCurtain":false,"headerVisible":true,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"headItems":['meAreaHeaderButton'],"showRecentActivity":true,"headEndItems":[],"search":"","paneContent":[],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"app":{"stateName":"app","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"search":"","headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"minimal":{"stateName":"minimal","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"standalone":{"stateName":"standalone","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded":{"stateName":"embedded","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"embedded-home":{"stateName":"embedded-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless":{"stateName":"headerless","showCurtain":false,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged":{"stateName":"merged","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"headerless-home":{"stateName":"headerless-home","showCurtain":false,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"merged-home":{"stateName":"merged-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"lean":{"stateName":"lean","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}},"lean-home":{"stateName":"lean","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{}}},userPreferences:{entries:[]},userImage:{personPlaceHolder:sap.ui.core.IconPool.getIconURI("person-placeholder"),account:sap.ui.core.IconPool.getIconURI("account")}},h=0;function v(i,a,s){return a!=undefined;}function n(i,a,s){return true;}function u(a,V,c){c.setProperty(a,V);}function E(){var M;var c;var s;var C;var e;var o;var I;var b;var a;var d;var t;var f;this.createDefault=function(){var r=function(S,g,D){if(D.sProperty=="actions"){var i=D.oModel.getProperty(D.path);if(i&&i.length===0&&D.aIds&&D.aIds.length>0){this._renderShellState();}}}.bind(this);var A=function(){h++;if(h===1){this.addHeaderItem(["backBtn"],true);}}.bind(this);this.createTriggers([{sName:'onAddFirstAction',fnRegister:function(){sap.ui.getCore().getEventBus().subscribe("launchpad","updateShell",r,this);},fnUnRegister:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","updateShell",r,this);}}],false,["blank","blank-home"]);this.createTriggers([{sName:'onAddFirstAction',fnRegister:function(){h=0;window.addEventListener("hashchange",A);},fnUnRegister:function(){window.removeEventListener("hashchange",A);}}],false,["lean","lean-home"]);};this.init=function(g){M=new sap.ui.model.json.JSONModel(m);s=M;c={};e={};o={};I=false;b=false;d=false;t=[];f=true;a=undefined;if(g){jQuery.sap.measure.start("FLP:ElementsModel.init","moveShellHeaderEndItems","FLP");if(g.moveEditHomePageActionToShellHeader){this._moveActionsToShellHeader("ActionModeBtn");}if(g.moveContactSupportActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("ContactSupportBtn");}if(g.moveGiveFeedbackActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("EndUserFeedbackBtn");}if(g.moveAppFinderActionToShellHeader){this._moveActionsToShellHeader("openCatalogBtn");}if(g.moveUserSettingsActionToShellHeader){this._moveActionsToShellHeader("userSettingsBtn");}jQuery.sap.measure.end("FLP:ElementsModel.init");}this.createDefault();var i=g&&g.appState?g.appState:"home";this.switchState(i);};this.destroy=function(){M=undefined;s=undefined;c=undefined;e=undefined;o=undefined;I=undefined;b=undefined;f=undefined;d=undefined;a=undefined;sap.ui.getCore().getEventBus().unsubscribe("launchpad","contentRendered",this._attachPressToUserSettings,this);};this.getModel=function(){return M;};this._moveCustomeDataActionBtnToShellHeader=function(g){for(var k in m.customStatesDelta){var S=m.customStatesDelta[k];var A=S.actions;var i=A.indexOf(g);if(i!=-1){m.customStatesDelta[k].actions.splice(i,1);i=m.states[k].headEndItems.indexOf(g);if(i===-1){m.states[k].headEndItems.push(g);}}}var B=sap.ui.getCore().byId(g);if(!B){var j;if(g==="ContactSupportBtn"){j=new sap.ushell.ui.footerbar.ContactSupportButton("tempContactSupportBtn",{visible:true});}else if(g==="EndUserFeedbackBtn"){j=new sap.ushell.ui.footerbar.EndUserFeedback("EndUserFeedbackHandlerBtn",{});}var l=j.getIcon();var p=j.getText();var q=function(){j.firePress();};var r=new sap.ushell.ui.shell.ShellHeadItem(g,{icon:l,tooltip:p,text:p,showSeparator:false});if(g==="ContactSupportBtn"){r.attachPress(q);}if(g==="EndUserFeedbackBtn"){r.setVisible(false);}r.data("isShellHeader",true);}};this._attachPressToUserSettings=function(){jQuery.sap.measure.start("FLP:ElementsModel._attachPressToUserSettings","_attachPressToUserSettings","FLP");var g=sap.ui.getCore().byId("userSettingsBtn");g.attachPress(function(){var i=sap.ui.getCore().byId('meArea');if(!i.oSettingsDialog.getModel()){i.oSettingsDialog.setModel(i.getModel());}var O=function(){i.oSettingsDialog.open();sap.ui.getCore().byId("viewPortContainer").detachAfterSwitchStateAnimationFinished(O);};var j=sap.ui.getCore().byId('viewPortContainer');if(j.getCurrentState()!="Center"){sap.ui.getCore().byId("viewPortContainer").attachAfterSwitchStateAnimationFinished(O);sap.ui.getCore().byId("viewPortContainer").switchState("Center");}else{O();}});jQuery.sap.measure.end("FLP:ElementsModel._attachPressToUserSettings");};this._moveActionsToShellHeader=function(g){var k;for(k in m.states){var S=m.states[k];if(k==="blank"||k==="blank-home"){continue;}if(g==="ActionModeBtn"){if(k==="app"){continue;}}var A=S.actions;var i=A.indexOf(g);if(i!=-1){m.states[k].actions.splice(i,1);}i=m.states[k].headEndItems.indexOf(g);if(i===-1){m.states[k].headEndItems.push(g);}}if(g==="userSettingsBtn"){var j="userSettingsBtn";var l=sap.ushell.resources.i18n.getText("userSettings");var p='sap-icon://action-settings';var U=sap.ui.getCore().byId(j);sap.ui.getCore().getEventBus().subscribe("launchpad","contentRendered",this._attachPressToUserSettings,this);if(!U){var q=new sap.ushell.ui.shell.ShellHeadItem(j,{icon:p,tooltip:l,text:l,showSeparator:false});q.data("isShellHeader",true);}}};this.switchState=function(S,g){var p=S[0]==="/"?S:"/states/"+S,i=M.getProperty(p),j=M.getProperty("/currentState")||{},k=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];if(g){M.setProperty("/lastState",j);}this._destroyManageQueue(k);M.setProperty("/currentState",jQuery.extend(true,{},{},i));if(!e[S]){e[S]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState(S)};}C=e[S].customShellState;a=undefined;this._renderShellState();return i;};this.setLeftPaneVisibility=function(V,g,S){this.updateStateProperty("showPane",V,g,S);};this.setHeaderHiding=function(){jQuery.sap.log.warning("Application Life Cycle model: headerHiding property is deprecated and has no effect");};this.setHeaderVisibility=function(V,g,S){this.updateStateProperty("headerVisible",V,g,S);};this.showLogo=function(g,S){this.updateStateProperty("showLogo",true,g,S,false);};this.addHeaderItem=function(i,g,S){this._addHeaderItemInCorrectOrder("headItems",i,g,S);};this._removeReservedItemId=function(r,g,i){var A=false,R=i.indexOf(r);if(R>-1){i.splice(R,1);A=true;}R=g.indexOf(r);if(R>-1){g.splice(R,1);A=true;}return A;};this._addHeaderItemInCorrectOrder=function(p,i,g,S){var j=this;function V(k,l,q){var A=3-k.length;l.forEach(function(r,w){var x=(r==='meAreaHeaderButton'||r==='backBtn'||r==='homeBtn');if(k[r]===-1&&!x){A--;}});if(A<0){jQuery.sap.log.warning("Maximum of three items has been reached, cannot add more items.");return false;}return true;}function U(k,l,q){jQuery.sap.measure.start("FLP:ElementsModel.fnUpdate","update shell head end items","FLP");var r=q.getProperty(k),w=[],x=l.slice(0);if(j._removeReservedItemId("meAreaHeaderButton",r,x)===true){w.push("meAreaHeaderButton");}if(j._removeReservedItemId("backBtn",r,x)===true){w.push("backBtn");}if(j._removeReservedItemId("homeBtn",r,x)===true){w.push("homeBtn");}r.some(function(y){if(w.length<3){w.push(y);}else{return true;}});x.some(function(y){if(w.length<3){w.push(y);}else{return true;}});q.setProperty(k,w);jQuery.sap.measure.end("FLP:ElementsModel.fnUpdate");}this._setShellItem(p,i,g,S,V,U);};this.removeHeaderItem=function(i,g,S){this._removeShellItem("headItems",i,g,S);};this.addHeaderEndItem=function(i,g,S,D){if(i.length){this._addUpToSixItem("headEndItems",i,g,S,D);}};this.removeHeaderEndItem=function(i,g,S){this._removeShellItem("headEndItems",i,g,S);};this.addSubHeader=function(i,g,S){if(i.length){this._addShellItem("subHeader",i,g,S);}};this.removeSubHeader=function(i,g,S){this._removeShellItem("subHeader",i,g,S);};this.addActionButton=function(i,g,S,j){if(j){this._addActionButtonAtStart("actions",i,g,S);}else{this._addActionButton("actions",i,g,S);}};this.removeActionButton=function(i,g,S){this._removeShellItem("actions",i,g,S);};this.addToolAreaItem=function(i,g,S){if(i.length){this._addToolAreaItem("toolAreaItems",i,g,S);}};this.removeToolAreaItem=function(i,g,S){this._removeShellItem("toolAreaItems",i,g,S);};this.addLeftPaneContent=function(i,g,S){if(i.length){this._addShellItem("paneContent",i,g,S);}};this.removeLeftPaneContent=function(i,g,S){this._removeShellItem("paneContent",i,g,S);};this.addRightFloatingContainerItem=function(i,g,S){if(i.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",i,g,S);}};this.removeRightFloatingContainerItem=function(i,g,S){this._removeShellItem("RightFloatingContainerItems",i,g,S);};this.showSettingsButton=function(g,S){this.addActionButton(["userSettingsBtn"],g,S,false);};this.showSignOutButton=function(g,S){this.addActionButton(["logoutBtn"],g,S,false);};this.showRightFloatingContainer=function(S){this._showRightFloatingContainer(S);};this.addFloatingActionButton=function(i,g,S){if(i.length){this._addShellItem("floatingActions",i,g,S);}};this.removeFloatingActionButton=function(i,g,S){this._removeShellItem("floatingActions",i,g,S);};this.updateStateProperty=function(p,V,g,S,D){this._setShellItem(p,V,g,S,v,u,D);};this._handleTriggers=function(N){var T,g,i=[],A={};f=false;while(t.length>0){T=t.pop();if(N[T.sName]){i.push(T);A[T.sName]=T;}else{T.fnUnRegister(this);}}for(var j in N){if(N.hasOwnProperty(j)){if(!A[j]){g=N[j];g.fnRegister(this);i.push(g);}}}t=i;f=true;};this._registerTriggers=function(T){var i;f=false;for(i=0;i<T.length;i++){T[i].fnRegister(this);t.push(T[i]);}f=true;};this.createTriggers=function(T,g,S){var N=[];var U=function(T,r){var w;if(!r.aTriggers){r.aTriggers=[];}for(w=0;w<T.length;w++){var x={sName:T[w].sName,fnRegister:T[w].fnRegister,fnUnRegister:T[w].fnUnRegister};N.push(x);r.aTriggers.push(x);}};if(g===true){var j=s.getProperty("/currentState/");U(T,j);if(!I){this._registerTriggers(N);}}else{var i,k=s.getProperty('/currentState/stateName');for(i=0;i<S.length;i++){var l=S[i],p="/states/"+l,q=M.getProperty(p);N=[];U(T,q);if(k===l){if(!I){this._registerTriggers(N);}}}}};this.createInspection=function(A,g,j,S){var k=function(M,A,g){var x,y;if(!M.oCheckPoints){M.oCheckPoints=[];}if(!M.oCheckPoints[A]){M.oCheckPoints[A]=[];}x=M.oCheckPoints[A];for(y=0;y<g.length;y++){l=g[y];x.push({fnCondition:l.fnCondition,fnCheckPoint:l.fnAction});}};if(j===true){var l,p=s.getProperty("/currentState");k(p,A,g);if(!d&&!I){k(C.getProperty("/currentState"),A,g);}this._renderShellState();}else{var i,q=s.getProperty('/currentState/stateName');for(i=0;i<S.length;i++){var r=S[i],P="/states/"+r,w=M.getProperty(P);k(w,A,g);if(q===r){if(!I){this._renderShellState();}}}}};this.showShellItem=function(p,S,V){var g,j,k=this._getModelStates(S),l=this.getModel().getData().states,q="/currentState"+p;for(var i=0;i<k.length;i++){j=l[k[i]];g="/states/"+j.stateName+p;s.setProperty(g,V);}if(s.getProperty("/currentState/stateName")===S){s.setProperty(q,V);}};this.addCustomItems=function(S,i,g,j){if(this._isValidStateEntry(S)){this._isValidStateEntry(S).fnAdd(i,g,j);}else{throw new Error("Invalid state entry:"+S);}};this.removeCustomItems=function(S,i,g,j){if(this._isValidStateEntry(S)){this._isValidStateEntry(S).fnRemove(i,g,j);}else{throw new Error("Invalid state entry:"+S);}};this.createExtendedShellState=function(S,g){var B=M.getProperty("/currentState/stateName"),i,j=this._createCustomShellState(S);if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}i=e[B].extendedShellStates;if(i[S]){return false;}s=j;d=true;g();if(i[S]){i[S].customState=j;}else{i[S]={managedObjects:[],customState:j};}s=M;d=false;return true;};this.applyExtendedShellState=function(S){a=S;this._renderShellState();};this.addEntryInShellStates=function(g,i,A,r,S){var j,k;if(!c[g]){c[g]={fnAdd:A,fnHide:r};var l=this._getStatesList();for(j=0;j<l.length;j++){k=l[j];M.setProperty("/states/"+k+"/"+g,S[k]);}this["remove"+i]=r;this["add"+i]=A;}else{throw new Error("State entry already exsists:"+g);}};this.addElementToManagedQueue=function(i){var S=s.getProperty("/currentState/stateName"),B=M.getProperty("/currentState/stateName"),g,j=i.getId();if(!e[B]){e[B]={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}g=e[B].extendedShellStates;if(!g[S]){g[S]={managedObjects:[],customState:undefined};}g[S].managedObjects.push(j);var k=o[j];if(k){k.nRefCount++;}else{k={oItem:i,nRefCount:1};o[j]=k;}};this.updateNeededTriggersMap=function(S,T){var i;if(!T){return;}for(i=0;i<T.length;i++){S[T[i].sName]=T[i];}};this._renderShellState=function(){var B=M.getProperty("/currentState/stateName"),p=B[0]==="/"?B:"/states/"+B,g,i,S=jQuery.extend(true,{},{},M.getProperty(p)),j=e[B],k,N={};if(j){k=j.customShellState.getProperty("/currentState");}var l=new sap.ui.model.json.JSONModel({"currentState":jQuery.extend(true,{},{},S)});s=l;I=true;if(a){if(j.extendedShellStates[a]){g=j.extendedShellStates[a].customState;i=g.getProperty("/currentState");this._addCustomShellStates(i);}}if(k){this._addCustomShellStates(k);}s=M;if(S&&S.aTriggers){this.updateNeededTriggersMap(N,S.aTriggers);}if(i&&i.aTriggers){this.updateNeededTriggersMap(N,i.aTriggers);}if(k&&k.aTriggers){this.updateNeededTriggersMap(N,k.aTriggers);}if(f){this._handleTriggers(N);}M.setProperty("/currentState",l.getProperty("/currentState"));I=false;l.destroy();};this._addCustomShellStates=function(T){this.addHeaderItem(T.headItems,true);this.addToolAreaItem(T.toolAreaItems,true);this.addHeaderEndItem(T.headEndItems,true);this.addSubHeader(T.subHeader,true);this.addRightFloatingContainerItem(T.RightFloatingContainerItems,true);this.addActionButton(T.actions,true,undefined,false);this.addLeftPaneContent(T.paneContent,true);this.addFloatingActionButton(T.floatingActions,true);this._setCurrentApplicationInformation(T.application);this.showRightFloatingContainer(T.showRightFloatingContainer);this.setHeaderVisibility(T.headerVisible,true);if(T.showLogo){this.showLogo(true);}};this._createCustomShellState=function(S){var g={"currentState":{"stateName":S,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}};var i=M.getProperty("/customStatesDelta"),j=i[S];if(j){jQuery.extend(g.currentState,j);}return new sap.ui.model.json.JSONModel(g);};this._setCurrentApplicationInformation=function(A){if(!A){A={};}this.updateStateProperty("application",A,true);};this._showRightFloatingContainer=function(S){this._setShellItem("showRightFloatingContainer",S,true,[],v,u);};this._addActionButtonAtStart=function(p,i,g,S){function U(j,k,l){var A=l.getProperty(j),q=[],O=k.indexOf("openCatalogBtn");if(O>-1){k.splice(O,1);q.push("openCatalogBtn");}else{if(A[0]==="openCatalogBtn"){A.splice(0,1);q.push("openCatalogBtn");}}q=q.concat(k).concat(A);l.setProperty(j,q);}this._setShellItem(p,i,g,S,n,U);};this._addActionButton=function(p,i,g,S){function U(j,k,l){var A=l.getProperty(j);var L=A.indexOf("logoutBtn");if(L>-1){A.splice.apply(A,[L,0].concat(k));}else{A=A.concat(k);}var O=A.indexOf("openCatalogBtn"),q=[];if(O>-1){A.splice(O,1);q.push("openCatalogBtn");q=q.concat(A);}else{q=A;}l.setProperty(j,q);}this._setShellItem(p,i,g,S,n,U);};this.setFloatingContainerContent=function(p,i,g,S){function V(j,i,k){return i.length===1;}function U(j,i,k){k.setProperty(j,i);}this._setShellItem(p,i,g,S,V,U);};this._addUpToSixItem=function(p,i,g,S,D){function V(j,k,l){var q=0,r,w;if(k.length===1&&k[0]==="endItemsOverflowBtn"){return true;}for(r=0;r<j.length;r++){w=j[r];if(w!=="endItemsOverflowBtn"){q++;}if(q+k.length>6){jQuery.sap.log.warning("maximum of six items has reached, cannot add more items.");return false;}if(k.indexOf(w)>-1){return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r=q.slice(0);r=r.sort();r=r.concat(k);var w=r.indexOf("NotificationsCountButton");if(w!=-1){r.splice(w,1);r.splice(r.length,0,"NotificationsCountButton");}var x=r.indexOf("copilotBtn");if(x!=-1){r.splice(x,1);if(r.indexOf("sf")!=-1){r.splice(1,0,"copilotBtn");}else{r.splice(0,0,"copilotBtn");}}var y=r.indexOf("sf");if(y!=-1){r.splice(y,1);r.splice(0,0,"sf");}l.setProperty(j,r);}this._setShellItem(p,i,g,S,V,U,D);};this._addShellItem=function(p,i,g,S){function V(j,i,k){if(j.length>0){jQuery.sap.log.warning("You can only add one item. Replacing existing item: "+j[0]+" in state: "+k+", with the new item: "+i[0]+".");}return true;}function U(j,k,l){l.setProperty(j,i.slice(0));}this._setShellItem(p,i,g,S,V,U);};this._addRightFloatingContainerItem=function(p,i,g,S){function U(j,k,l){var q=l.getProperty(j);q=q.concat(k);l.setProperty(j,q);}this._setShellItem(p,i,g,S,n,U);};this._addToolAreaItem=function(p,i,g,S){function U(k,i,l){var q=l.getProperty(k);q.push(i);l.setProperty(k,q);}var j,P=this._getPassStates(S);for(j=0;j<P.length;j++){this.showShellItem("/toolAreaVisible",P[j],true);}this._setShellItem(p,i,g,S,n,U);};this._removeShellItem=function(p,i,g,S){function V(j,k){var l,i,q;for(q=0;q<k.length;q++){i=k[q];l=j.indexOf(i);if(l<0){jQuery.sap.log.warning("You cannot remove Item: "+i+", the headItem does not exists.");return false;}}return true;}function U(j,k,l){var q=l.getProperty(j),r,i,w;for(w=0;w<k.length;w++){i=k[w];r=q.indexOf(i);if(r>-1){q.splice(r,1);}}l.setProperty(j,q);}this._setShellItem(p,i,g,S,V,U);};this._commitCheckPoints=function(g,i,j){var k;for(k=0;k<g.length;k++){if(g[k].fnCondition(i,j,this)){g[k].fnCheckPoint(i,j,this);}}};this._setShellItem=function(p,O,g,S,V,U,D){var k,l;var q=Array.isArray(O)?O.slice(0):O;if(g===true){k="/currentState/"+p;l=s.getProperty(k);if(V(l,q,"currentState")===false){return;}if(I&&!b){var B=M.getProperty("/currentState/stateName"),P="/states/"+B,r=M.getProperty(P),w=e[B];b=true;if(r.oCheckPoints){var x=r.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}if(a){if(w.extendedShellStates[a]){var y=w.extendedShellStates[a].customState,z=y.getProperty("/currentState");if(z&&z.oCheckPoints&&z.oCheckPoints[p]){this._commitCheckPoints(z.oCheckPoints[p],l,q);}}}var A=w.customShellState.getProperty("/currentState");if(A&&A.oCheckPoints&&A.oCheckPoints[p]){x=A.oCheckPoints[p];if(x&&x.length){this._commitCheckPoints(x,l,q);}}b=false;}if(!d&&!I){U(k,q,C);sap.ui.getCore().getEventBus().publish('launchpad','updateShell',{oModel:s,path:k,aIds:q,sProperty:p});this._renderShellState();}else{U(k,q,s);}}else{var F=D?S:this._getPassStates(S),i,G=s.getProperty('/currentState/stateName');for(i=0;i<F.length;i++){var H=F[i],j;k="/states/"+H+"/"+p;l=s.getProperty(k);if(V(l,q,H)===false){continue;}var J=this._getModelStates(H,D);for(j=0;j<J.length;j++){k="/states/"+J[j]+"/"+p;U(k,q,s);if(G===J[j]){if(!I){this._renderShellState();}}}}}};this._getPassStates=function(S){var p=[],i;S=S||[];for(i=0;i<S.length;i++){if(S[i]!==undefined){if(S[i]!=="home"&&S[i]!=="app"){throw new Error("sLaunchpadState value is invalid");}p.push(S[i]);}}if(!p.length){p=["app","home"];}return p;};this._getModelStates=function(S,D){var g=[];if(S==="app"&&!D){var i=["app","minimal","standalone","embedded","headerless","merged","blank","lean"];g=g.concat(i);}else if(S==="home"&&!D){var i=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];g=g.concat(i);}else{g.push(S);}return g;};this._getStatesList=function(){var S=M.getProperty("/states");return Object.keys(S);};this._destroyManageQueue=function(g){var S,i,j,k,B,l,p;for(S in e){if(e.hasOwnProperty(S)){if(!g||g.indexOf(S)===-1){B=e[S].extendedShellStates;for(l in B){if(B.hasOwnProperty(l)){p=B[l].managedObjects;for(i=0;i<p.length;i++){j=p[i];k=o[j];k.nRefCount--;if(k.nRefCount===0){k.oItem.destroy();o[j]=null;}}delete B[l];}}delete e[S];}}}};this._isValidStateEntry=function(N){return!!c[N];};this.getModelToUpdate=function(){return s;};this.setModelToUpdate=function(g,i){d=i;s=g;};this._getManagedElements=function(){return o;};}return new E();},true);
