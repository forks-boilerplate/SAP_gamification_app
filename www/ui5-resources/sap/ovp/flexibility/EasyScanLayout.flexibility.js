sap.ui.define(["sap/ovp/changeHandler/HideCardContainer","sap/ovp/changeHandler/UnhideCardContainer","sap/ovp/changeHandler/UnhideControl","sap/ui/dt/OverlayRegistry","sap/ui/core/ComponentContainer","sap/m/MessageToast","sap/ovp/cards/rta/SettingsDialogConstants"],function(H,U,a,O,C,M,S){"use strict";return{"moveControls":{"changeHandler":"default","layers":{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"unhideControl":a,"unhideCardContainer":U,"hideCardContainer":H,"editCardSettings":{changeHandler:{applyChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getContent(),e=d.newAppDescriptor,f=m.byId(e.id);c.setRevertData(d.oldAppDescriptor);if(f){if(e.settings.tabs){var D=e.settings.selectedKey;if(!D||D<1){D=1;}S.tabFields.forEach(function(h){delete e.settings[h];var v=e.settings.tabs[D-1][h];if(v){e.settings[h]=v;}});}var g=f.getComponentInstance();g.destroy();}b.recreateRTAClonedCard(e);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getRevertData(),e=m.byId(d.id);if(e){var f=e.getComponentInstance();f.destroy();}b.recreateRTAClonedCard(d);c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"newCardSettings":{changeHandler:{applyChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),d=c.getContent();c.setRevertData(d.id);var n=new C(m.getId()+"--"+d.id),u=b.getUIModel(),e=u.getProperty("/cards"),f=b.getLayout(),N=(d.id.indexOf("newStaticLinkListCard")!==-1);d.settings.baseUrl=b._getBaseUrl();if(N){d.settings.newCard=true;}else{d.settings.cloneCard=true;}var I=-1,i;for(i=0;i<e.length;i++){if(d.id.lastIndexOf("customer."+e[i].id,0)===0){I=i;break;}}e.splice(I+1,0,d);u.setProperty("/cards",e);f.insertContent(n,I+1);setTimeout(function(){var g=O.getOverlay(n);g.setSelected(true);g.focus();var r=sap.ui.getCore().getLibraryResourceBundle("sap.ovp"),s=(N)?r.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_NEW"):r.getText("OVP_KEYUSER_TOAST_MESSAGE_FOR_CLONE");M.show(s,{duration:10000});},0);b.recreateRTAClonedCard(d);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl(),b=m.getController(),s=c.getRevertData();var d=m.byId(s),u=b.getUIModel(),e=u.getProperty("/cards"),f=b.getLayout();var I=-1,i;for(i=0;i<e.length;i++){if(s===e[i].id){I=i;break;}}e.splice(I,1);u.setProperty("/cards",e);if(d){var g=d.getComponentInstance();g.destroy();}f.removeContent(I);d.destroy();c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"dragAndDropUI":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController(),o=c.getContent(),b=jQuery.extend(true,{},o),u=m.getUIModel(),d=u.getProperty("/cards"),e=m.getLayout(),v;v=b.position;b.position=b.oldPosition;b.oldPosition=v;c.setRevertData(b);v=d[o.position];d[o.position]=d[o.oldPosition];d[o.oldPosition]=v;u.setProperty("/cards",d);var t=e.getContent()[o.position],f=e.getContent()[o.oldPosition];e.removeContent(f);e.insertContent(f,o.position);e.removeContent(t);e.insertContent(t,o.oldPosition);setTimeout(function(){var g=O.getOverlay(f);g.setSelected(true);g.focus();},0);return true;},revertChange:function(c,o,p){var m=p.appComponent.getRootControl().getController(),b=c.getRevertData(),u=m.getUIModel(),d=u.getProperty("/cards"),e=m.getLayout(),v;v=d[b.position];d[b.position]=d[b.oldPosition];d[b.oldPosition]=v;u.setProperty("/cards",d);var t=e.getContent()[b.position],f=e.getContent()[b.oldPosition];e.removeContent(f);e.insertContent(f,b.position);e.removeContent(t);e.insertContent(t,b.oldPosition);setTimeout(function(){var g=O.getOverlay(f);g.setSelected(true);g.focus();},0);c.resetRevertData();return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"manageCardsForEasyScanLayout":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.storeIncomingDeltaChanges(c.getContent());return true;},completeChangeContent:function(c,s,p){c.setContent(s.content);return;}},layers:{"USER":true}},"viewSwitch":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}},"visibility":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"USER":true}},"position":{changeHandler:{applyChange:function(c,p,P){var m=P.appComponent.getRootControl().getController();m.appendIncomingDeltaChange(c);return true;},completeChangeContent:function(c,s,p){return;}},layers:{"CUSTOMER_BASE":true,"CUSTOMER":true,"USER":true}}};},true);
