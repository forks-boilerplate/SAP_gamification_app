{
"version":"2.0",
"name":"sap.ui.comp.library-preload",
"dependencies":["sap.ui.core.library-preload","sap.m.library-preload"],
"modules":{
	"sap/ui/comp/config/condition/DateRangeType.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/config/condition/Type','sap/m/Input','sap/m/DateRangeSelection','sap/m/DatePicker','sap/m/Text','sap/m/Select','sap/ui/core/date/UniversalDate','sap/ui/core/Locale','sap/ui/core/LocaleData','sap/ui/model/odata/Filter'],function(q,T,I,D,a,b,S,U,L,c,F){'use strict';sap.ui.model.type.Integer.extend('sap.ui.model.type.NullableInteger',{parseValue:function(v,i){switch(this.getPrimitiveType(i)){case'string':if(v===''){return null;}}return sap.ui.model.type.Integer.prototype.parseValue.apply(this,arguments);}});var d=T.extend('sap.ui.comp.config.condition.DateRangeType',{constructor:function(f,o,e){T.apply(this,[f,o,e]);this.oDateFormat=o&&o._oDateFormatSettings?o._oDateFormatSettings:{UTC:true};this._bIgnoreTime=false;if(e&&e.precision){this._Precision=(typeof e.precision==='string'?parseInt(e.precision,10):e.precision)||0;}this._maxIntValue=10000;this.bMandatory=this.oFieldMetadata?this.oFieldMetadata.isMandatory:false;}});d.prototype.applySettings=function(s){T.prototype.applySettings.apply(this,arguments);if(s&&s.ignoreTime){this._bIgnoreTime=s.ignoreTime;}};d.setStartTime=function(o){o=d.toUniversalDate(o);o.setHours(0);o.setMinutes(0);o.setSeconds(0);o.setMilliseconds(0);return o;};d.setEndTime=function(o,e,p){o=d.toUniversalDate(o);if(!e){if(p===undefined){p=3;}o.setHours(23);o.setMinutes(59);o.setSeconds(59);var m=0;var n=Math.min(Math.max(p,0),3);for(var i=1;i<=n;i++){m+=9*(Math.pow(10,3-i));}o.setMilliseconds(m);return o;}else{return d.setStartTime(o);}};d.toUniversalDate=function(o){if(o instanceof Date){o=new U(o);}if(!o){o=new U();}return o;};d.getWeekStartDate=function(u){var l=new L(sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString()),o=c.getInstance(l),f=o.getFirstDayOfWeek();if(!u){u=new U();}u.setDate(u.getDate()-u.getDay()+f);return d.setStartTime(u);};d.getMonthStartDate=function(u){if(!u){u=new U();}u.setDate(1);return d.setStartTime(u);};d.getQuarterStartDate=function(u){if(!u){u=new U();}u.setMonth(3*Math.floor(u.getMonth()/3));u.setDate(1);return d.setStartTime(u);};d.getYearStartDate=function(u){if(!u){u=new U();}u.setMonth(0);u.setDate(1);return d.setStartTime(u);};d.getDateRange=function(v,t,u,C,i){if(u===true){C=true;u=null;}if(!u){u=new U();}else if(!(u instanceof U)){throw new Error('Date must be a UniversalDate object '+this);}var s=new U(),e;if(u){s.getJSDate().setTime(u.getTime());s=d.setStartTime(s);}if(v!==0&&!isNaN(v)){if(t==='DAY'){if(i&&v>0){s.setDate(s.getDate()+1);}e=new U(s);e.setDate(s.getDate()+v);}else if(t==='WEEK'){if(C){s=d.getWeekStartDate(s);}if(i&&v>0){s.setDate(s.getDate()+7);}e=new U(s);e.setDate(s.getDate()+(v*7));}else if(t==='MONTH'){if(C){s=d.getMonthStartDate(s);}if(i&&v>0){s.setMonth(s.getMonth()+1);}e=new U(s);e.setMonth(s.getMonth()+v);}else if(t==='QUARTER'){if(C){s=d.getQuarterStartDate(s);}if(i&&v>0){s.setMonth(s.getMonth()+3);}e=new U(s);e.setMonth(s.getMonth()+(v*3));}else if(t==='YEAR'){if(C){s=d.getYearStartDate(s);}if(i&&v>0){s.setFullYear(s.getFullYear()+1);}e=new U(s);e.setFullYear(s.getFullYear()+v);}}if(!e){return[];}if(e.getTime()<s.getTime()){e=[s,s=e][0];}e.setDate(e.getDate()-1);return[d.setStartTime(s),d.setEndTime(e)];};d.getTextField=function(i,e){if(e){return new b(T._createStableId(i,'text'),{text:\"{path: '$smartEntityFilter>value1', type:'sap.ui.model.type.Date', formatOptions:\"+JSON.stringify({style:i.oDateFormat.style,pattern:i.oDateFormat.pattern})+\"} - {path: '$smartEntityFilter>value2', type:'sap.ui.model.type.Date', formatOptions:\"+JSON.stringify({style:i.oDateFormat.style,pattern:i.oDateFormat.pattern})+'}'});}return new b(T._createStableId(i,'text'),{text:{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.Date',formatOptions:{style:i.oDateFormat.style,pattern:i.oDateFormat.pattern}}});};d.getIntField=function(i){return new I(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,value:{path:'$smartEntityFilter>value1',type:new sap.ui.model.type.NullableInteger({},{minimum:0,maximum:i._maxIntValue})},textAlign:'End',width:'100%'});};d.ControlFactory=function(i,r,o){if(o.type==='range'){var C=d.getTextField(i,o.display!=='start');C.addStyleClass('sapUiCompFilterBarCTPaddingTop');r.push(C);return;}if(o.type==='int'){var C=d.getIntField(i);r.push(C);if(o.descriptionTextKeys){C.setFieldWidth('auto');C.bindProperty('description',{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.Integer',formatter:function(){var t=o.descriptionTextKeys[0];var s=o.descriptionTextKeys[1];if(this.getBinding('description').getValue()===1){return T.getTranslatedText(t);}else{return T.getTranslatedText(s||t);}}});}}};d._defaultOnChangeHandler=function(v,i){if(v.toLowerCase()===this.languageText.toLowerCase()){i.oModel.setProperty('/condition/operation',this.key);i.oModel.setProperty('inputstate','NONE',i.getContext());if(this.category.indexOf('FIXED')!==0){i.oModel.setProperty('inputstate','ERROR',i.getContext());}return true;}return false;};d._IntOnChangeHandler=function(v,i){if(this.basicLanguageText.indexOf('{0}')>=0){var r=new RegExp(this.basicLanguageText.replace('{0}','[a-zA-Z0-9_]+')+'$','i');if(v.match(r)){var x=this.basicLanguageText.indexOf('{0}');if(x>=0){var n=this.basicLanguageText.length-x;v=v.slice(0,v.length-n+3);v=v.slice(x);var V=parseInt(v,10);if(!isNaN(V)&&V<=i._maxIntValue){i.oModel.setProperty('/condition/operation',this.key);i.oModel.setProperty('/condition/value1',V);i.oModel.setProperty('inputstate','NONE',i.getContext());}else{i.oModel.setProperty('inputstate','ERROR',i.getContext());}return true;}}}return false;};d._DateOnChangeHandler=function(v,i){if(v.toLowerCase().indexOf(this.languageText.toLowerCase())===0){var s=v.slice(this.languageText.length);if(s.length>0&&s[0]===' '){s=s.trim();if(s[0]==='('&&s[s.length-1]===')'){s=s.slice(1,s.length-1);}var o=i._getDateFormatter(true);var e=o.parse(s);if(e){i.oModel.setProperty('/condition/operation',this.key);i.oModel.setProperty('/condition/value1',e);i.oModel.setProperty('inputstate','NONE',i.getContext());}else{i.oModel.setProperty('inputstate','ERROR',i.getContext());}return true;}}return false;};d._DateRangeOnChangeHandler=function(v,i){if(v.toLowerCase().indexOf(this.languageText.toLowerCase())===0){var s=v.slice(this.languageText.length).trim();if(s[0]==='('&&s[s.length-1]===')'){s=s.slice(1,s.length-1);}var V=s.split('-')[0];var e=s.split('-')[1];var o=i._getDateFormatter(true);var f=o.parse(V);var g=o.parse(e);if(f&&g){i.oModel.setProperty('/condition/operation',this.key);i.oModel.setProperty('/condition/value1',f);i.oModel.setProperty('/condition/value2',g);i.oModel.setProperty('inputstate','NONE',i.getContext());}else{i.oModel.setProperty('inputstate','ERROR',i.getContext());}return true;}return false;};d._MonthOnChangeHandler=function(v,i){var m;var r=false;if(v.toLowerCase().indexOf(this.languageText.toLowerCase())===0){m=v.slice(this.languageText.length).trim();if(m.indexOf('(')==0){m=m.slice(1);m=m.slice(0,m.length-1);}r=true;}else{m=v;}var M=this.getValueList();var e=-1;M.some(function(o,f){var r=o.text.toLowerCase()===m.toLowerCase();if(r){e=f;}return r;});if(e>-1){i.oModel.setProperty('/condition/operation',this.key);i.oModel.setProperty('/condition/value1',e);i.oModel.setProperty('inputstate','NONE',i.getContext());return true;}else{if(r){i.oModel.setProperty('inputstate','ERROR',i.getContext());}return r;}};d._DefaultFilterSuggestItem=function(v,o,e){var m=false;if(q.sap.startsWithIgnoreCase(this.languageText.toLowerCase(),v.toLowerCase())){m=true;}else{var w=this.languageText.split(' ');for(var i=0;i<w.length;i++){var W=w[i];if(q.sap.startsWithIgnoreCase(W.toLowerCase(),v.toLowerCase())){m=true;}}}o.setAdditionalText(this.textValue);o.setText(this.languageText);return m;};d._HideFilterSuggestItem=function(v,i,o){return false;};d._IntFilterSuggestItem=function(v,i,o){var x=this.basicLanguageText.indexOf('{0}');var p;var P;if(x>=0){p=this.basicLanguageText.slice(0,x).trim();P=this.basicLanguageText.slice(x+3).trim();}var e=v.split(' ');if(e.length<1||e.length>3){return false;}var m=false;var n;var f=function(v){return!!v.match(/(?!(0))(^[0-9]+$)/)&&parseInt(v,10)>0;};if(q.sap.startsWithIgnoreCase(p.toLowerCase(),e[0].toLowerCase())){if(e[1]){if(f(e[1])){n=e[1];if(e[2]){if(q.sap.startsWithIgnoreCase(P.toLowerCase(),e[2].toLowerCase())){m=true;}}else{m=true;}}}else{m=true;}}else if(f(e[0])&&e.length<3){n=e[0];if(e[1]){if(q.sap.startsWithIgnoreCase(P.toLowerCase(),e[1].toLowerCase())){m=true;}}else{m=true;}}else if(q.sap.startsWithIgnoreCase(P.toLowerCase(),e[0].toLowerCase())&&e.length==1){m=true;}if(m&&n){var t;switch(this.category){case'DYNAMIC.DATE.INT':t='DAY';break;case'DYNAMIC.WEEK.INT':t='WEEK';break;case'DYNAMIC.MONTH.INT':t='MONTH';break;case'DYNAMIC.QUARTER.INT':t='QUARTER';break;case'DYNAMIC.YEAR.INT':t='YEAR';break;default:t='DAY';break;}var N=parseInt(n,10),g=true;if(N>o._maxIntValue){m=false;}if(q.sap.startsWith(this.key,'LAST')){N=N*-1;g=false;}var h=d.getDateRange(N,t,true,g,g);var j=o._getDateFormatter(true);if(Math.abs(N)===1&&this.singulareBasicLanguageText){i.setText(this.singulareBasicLanguageText);if(t!=='DAY'){i.setAdditionalText(j.format(h[0])+' - '+j.format(h[1]));}else{i.setAdditionalText(j.format(h[0]));}}else{i.setText(o._fillNumberToText(this.basicLanguageText,n));i.setAdditionalText(j.format(h[0])+' - '+j.format(h[1]));}i._value1=parseInt(n,10);}else{i.setAdditionalText(null);i.setText(this.languageText);i._value1=null;}return m;};d._DateFilterSuggestItem=function(v,i,o){var e=o._getDateFormatter(true);var f=e.parse(v);if(f){i.setText(this.languageText+' ('+e.format(f)+')');i._value1=f;return true;}else{i.setText(this.languageText);i._value1=null;return false;}};d._DateRangeFilterSuggestItem=function(v,i,o){var e=o._getDateFormatter(true);var f,g;var s='-';var V=false;var h=v.split(s);if(h.length===2){if(h[0].slice(h[0].length-1,h[0].length)==' '){h[0]=h[0].slice(0,h[0].length-1);}if(h[1].slice(0,1)==' '){h[1]=h[1].slice(1);}}else{h=v.split(' '+s+' ');}if(h.length<2){var j=v.split(' ');if(j.length===2){h=j;}}if(h.length>=1&&h.length<=2){f=e.parse(h[0]);if(f){i._value1=f;if(h.length==2&&h[1]===''){h.splice(1,1);}if(h.length==2){g=e.parse(h[1]);if(g){i._value2=g;V=true;i.setText(this.languageText+' ('+e.format(f)+' '+s+' '+e.format(g)+')');}}else{V=true;i.setText(this.languageText+' ('+e.format(f)+' '+s+')');}}}if(!V){i.setText(this.languageText);i._value1=null;i._value2=null;}return V;};d._MonthFilterSuggestItem=function(v,o,e){var m=false;o._value1=null;var M=this.getValueList();for(var i=0;i<M.length;i++){var f=M[i];m=q.sap.startsWithIgnoreCase(f.text.toLowerCase(),v.toLowerCase());if(m){o.setText(this.languageText+' ('+f.text+')');o._value1=i;break;}}return m;};d._DefaultOnItemSelected=function(v,i,o){o.oModel.setProperty('/condition/operation',this.key);if('value1'in this){o.oModel.setProperty('/condition/value1',i._value1);}if('value2'in this){o.oModel.setProperty('/condition/value2',i._value2);}o.oModel.setProperty('inputstate','NONE',o.getContext());o._bSuggestItemSelected=true;};d._IntOnItemSelected=function(v,i,o){var n=i._value1;o.oModel.setProperty('/condition/operation',this.key);o.oModel.setProperty('/condition/value1',n);o.oModel.setProperty('inputstate','NONE',o.getContext());o._bSuggestItemSelected=true;};d.getFixedRangeOperation=function(k,t,C,e,f,o){return{key:k,textKey:t,category:C,order:o||100,defaultValues:e||null,type:'range',display:'range',filterSuggestItem:f||d._DefaultFilterSuggestItem,onItemSelected:d._DefaultOnItemSelected,getControls:d.ControlFactory};};d.Operations={DATERANGE:{key:'DATERANGE',textKey:'CONDITION_DATERANGETYPE_DATERANGE',category:'DYNAMIC.DATERANGE',order:2,defaultOperation:true,defaultValues:[null,null],value1:null,value2:null,onChange:d._DateRangeOnChangeHandler,filterSuggestItem:d._DateRangeFilterSuggestItem,onItemSelected:d._DefaultOnItemSelected,getControls:function(i,r){var l=new sap.m.Label({text:T.getTranslatedText('CONDITION_DATERANGETYPE_DATERANGE_LABELFROM')});l.addStyleClass('sapUiCompFilterBarCTPaddingTop');r.push(l);var C=new a(T._createStableId(i,'field1'),{dateValue:{path:'$smartEntityFilter>value1'},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||'',change:function(e){var v=e.getParameter('valid');if(v){this.getModel('$smartEntityFilter').setProperty('inputstate','NONE',this.getModel('$smartEntityFilter').getContext('/'));}else{this.getModel('$smartEntityFilter').setProperty('inputstate','ERROR',this.getModel('$smartEntityFilter').getContext('/'));}}});l.setLabelFor(C);r.push(C);l=new sap.m.Label({text:T.getTranslatedText('CONDITION_DATERANGETYPE_DATERANGE_LABELTO')});l.addStyleClass('sapUiCompFilterBarCTPaddingTop');r.push(l);C=new a(T._createStableId(i,'field2'),{dateValue:{path:'$smartEntityFilter>value2'},minDate:{path:'$smartEntityFilter>value1'},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||'',change:function(e){var v=e.getParameter('valid');if(v){this.getModel('$smartEntityFilter').setProperty('inputstate','NONE',this.getModel('$smartEntityFilter').getContext('/'));}else{this.getModel('$smartEntityFilter').setProperty('inputstate','ERROR',this.getModel('$smartEntityFilter').getContext('/'));}}});l.setLabelFor(C);r.push(C);}},FROM:{key:'FROM',textKey:'CONDITION_DATERANGETYPE_FROM',category:'DYNAMIC.DATE',order:0,defaultValues:[null],value1:null,onChange:d._DateOnChangeHandler,filterSuggestItem:d._DateFilterSuggestItem,onItemSelected:d._DefaultOnItemSelected,getControls:function(i,r){var C=new a(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,dateValue:{path:'$smartEntityFilter>value1'},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||'',change:function(e){var v=e.getParameter('valid');if(v){this.getModel('$smartEntityFilter').setProperty('inputstate','NONE',this.getModel('$smartEntityFilter').getContext('/'));}else{this.getModel('$smartEntityFilter').setProperty('inputstate','ERROR',this.getModel('$smartEntityFilter').getContext('/'));}}});r.push(C);}},TO:{key:'TO',textKey:'CONDITION_DATERANGETYPE_TO',category:'DYNAMIC.DATE',order:1,defaultValues:[null],value1:null,onChange:d._DateOnChangeHandler,filterSuggestItem:d._DateFilterSuggestItem,onItemSelected:d._DefaultOnItemSelected,getControls:function(i,r,o){var C=new a(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,dateValue:{path:'$smartEntityFilter>value1'},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||'',change:function(e){var v=e.getParameter('valid');if(v){this.getModel('$smartEntityFilter').setProperty('inputstate','NONE',this.getModel('$smartEntityFilter').getContext('/'));}else{this.getModel('$smartEntityFilter').setProperty('inputstate','ERROR',this.getModel('$smartEntityFilter').getContext('/'));}}});r.push(C);}},LASTDAYS:{key:'LASTDAYS',textKey:'CONDITION_DATERANGETYPE_LASTDAYS',singularTextKey:'CONDITION_DATERANGETYPE_YESTERDAY',category:'DYNAMIC.DATE.INT',order:4,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_DAY','CONDITION_DATERANGETYPE_MULTIPLE_DAYS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},LASTWEEKS:{key:'LASTWEEKS',textKey:'CONDITION_DATERANGETYPE_LASTWEEKS',singularTextKey:'CONDITION_DATERANGETYPE_LASTWEEK',category:'DYNAMIC.WEEK.INT',order:8,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_WEEK','CONDITION_DATERANGETYPE_MULTIPLE_WEEKS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},LASTMONTHS:{key:'LASTMONTHS',textKey:'CONDITION_DATERANGETYPE_LASTMONTHS',singularTextKey:'CONDITION_DATERANGETYPE_LASTMONTH',category:'DYNAMIC.MONTH.INT',order:14,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_MONTH','CONDITION_DATERANGETYPE_MULTIPLE_MONTHS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},LASTQUARTERS:{key:'LASTQUARTERS',textKey:'CONDITION_DATERANGETYPE_LASTQUARTERS',singularTextKey:'CONDITION_DATERANGETYPE_LASTQUARTER',category:'DYNAMIC.QUARTER.INT',order:19,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_QUARTER','CONDITION_DATERANGETYPE_MULTIPLE_QUARTERS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},LASTYEARS:{key:'LASTYEARS',textKey:'CONDITION_DATERANGETYPE_LASTYEARS',singularTextKey:'CONDITION_DATERANGETYPE_LASTYEAR',category:'DYNAMIC.YEAR.INT',order:28,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_YEAR','CONDITION_DATERANGETYPE_MULTIPLE_YEARS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},NEXTDAYS:{key:'NEXTDAYS',textKey:'CONDITION_DATERANGETYPE_NEXTDAYS',singularTextKey:'CONDITION_DATERANGETYPE_TOMORROW',category:'DYNAMIC.DATE.INT',order:5,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_DAY','CONDITION_DATERANGETYPE_MULTIPLE_DAYS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},NEXTWEEKS:{key:'NEXTWEEKS',textKey:'CONDITION_DATERANGETYPE_NEXTWEEKS',singularTextKey:'CONDITION_DATERANGETYPE_NEXTWEEK',category:'DYNAMIC.WEEK.INT',order:10,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_WEEK','CONDITION_DATERANGETYPE_MULTIPLE_WEEKS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},NEXTMONTHS:{key:'NEXTMONTHS',textKey:'CONDITION_DATERANGETYPE_NEXTMONTHS',singularTextKey:'CONDITION_DATERANGETYPE_NEXTMONTH',category:'DYNAMIC.MONTH.INT',order:16,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_MONTH','CONDITION_DATERANGETYPE_MULTIPLE_MONTHS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},NEXTQUARTERS:{key:'NEXTQUARTERS',textKey:'CONDITION_DATERANGETYPE_NEXTQUARTERS',singularTextKey:'CONDITION_DATERANGETYPE_NEXTQUARTER',category:'DYNAMIC.QUARTER.INT',order:21,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_QUARTER','CONDITION_DATERANGETYPE_MULTIPLE_QUARTERS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},NEXTYEARS:{key:'NEXTYEARS',textKey:'CONDITION_DATERANGETYPE_NEXTYEARS',singularTextKey:'CONDITION_DATERANGETYPE_NEXTYEAR',category:'DYNAMIC.YEAR.INT',order:30,defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_YEAR','CONDITION_DATERANGETYPE_MULTIPLE_YEARS'],onChange:d._IntOnChangeHandler,filterSuggestItem:d._IntFilterSuggestItem,onItemSelected:d._IntOnItemSelected,getControls:d.ControlFactory},SPECIFICMONTH:{key:'SPECIFICMONTH',textKey:'CONDITION_DATERANGETYPE_SPECIFICMONTH',category:'DYNAMIC.MONTH',order:11,defaultValues:function(){var o=new U();return[o.getMonth()];},value1:null,onChange:d._MonthOnChangeHandler,onItemSelected:d._DefaultOnItemSelected,filterSuggestItem:d._MonthFilterSuggestItem,getControls:function(i,r,o){var s=new S(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,width:'100%',selectedKey:{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.Integer'}});s.bindAggregation('items',{path:'$smartEntityFilter>/currentoperation/valueList',template:new sap.ui.core.ListItem({text:{path:'$smartEntityFilter>text'},key:{path:'$smartEntityFilter>key'}}),templateShareable:false});r.push(s);},getValueList:function(){var o=new U(),m=[],f=sap.ui.core.format.DateFormat.getDateInstance({pattern:'MMMM'});o.setDate(15);o.setMonth(0);for(var i=0;i<12;i++){m.push({text:f.format(o),key:i});o.setMonth(o.getMonth()+1);}return m;}},YESTERDAY:{key:'YESTERDAY',textKey:'CONDITION_DATERANGETYPE_YESTERDAY',category:'FIXED.DATE',order:3.1,defaultValues:function(){return d.getDateRange(-1,'DAY',true);},type:'range',display:'start',onChange:d._defaultOnChangeHandler,onItemSelected:d._DefaultOnItemSelected,getControls:d.ControlFactory},TODAY:{key:'TODAY',textKey:'CONDITION_DATERANGETYPE_TODAY',category:'FIXED.DATE',order:3,defaultValues:function(){return d.getDateRange(1,'DAY',true);},type:'range',display:'start',onChange:d._defaultOnChangeHandler,onItemSelected:d._DefaultOnItemSelected,getControls:d.ControlFactory},TOMORROW:{key:'TOMORROW',textKey:'CONDITION_DATERANGETYPE_TOMORROW',category:'FIXED.DATE',order:3.2,defaultValues:function(){var e=d.getDateRange(2,'DAY',true);e[0].setDate(e[0].getDate()+1);return e;},type:'range',display:'start',onChange:d._defaultOnChangeHandler,onItemSelected:d._DefaultOnItemSelected,getControls:d.ControlFactory},THISWEEK:d.getFixedRangeOperation('THISWEEK','CONDITION_DATERANGETYPE_THISWEEK','FIXED.WEEK',function(){return d.getDateRange(1,'WEEK',true);},d._DefaultFilterSuggestItem,6),LASTWEEK:d.getFixedRangeOperation('LASTWEEK','CONDITION_DATERANGETYPE_LASTWEEK','FIXED.WEEK',function(){return d.getDateRange(-1,'WEEK',true);},d._DefaultFilterSuggestItem,7),LAST2WEEKS:d.getFixedRangeOperation('LAST2WEEKS','CONDITION_DATERANGETYPE_LAST2WEEKS','FIXED.WEEK',function(){return d.getDateRange(-2,'WEEK',true);},d._HideFilterSuggestItem,-1),LAST3WEEKS:d.getFixedRangeOperation('LAST3WEEKS','CONDITION_DATERANGETYPE_LAST3WEEKS','FIXED.WEEK',function(){return d.getDateRange(-3,'WEEK',true);},d._HideFilterSuggestItem,-1),LAST4WEEKS:d.getFixedRangeOperation('LAST4WEEKS','CONDITION_DATERANGETYPE_LAST4WEEKS','FIXED.WEEK',function(){return d.getDateRange(-4,'WEEK',true);},d._HideFilterSuggestItem,-1),LAST5WEEKS:d.getFixedRangeOperation('LAST5WEEKS','CONDITION_DATERANGETYPE_LAST5WEEKS','FIXED.WEEK',function(){return d.getDateRange(-5,'WEEK',true);},d._HideFilterSuggestItem,-1),NEXTWEEK:d.getFixedRangeOperation('NEXTWEEK','CONDITION_DATERANGETYPE_NEXTWEEK','FIXED.WEEK',function(){return d.getDateRange(1,'WEEK',true,true,true);},d._DefaultFilterSuggestItem,9),NEXT2WEEKS:d.getFixedRangeOperation('NEXT2WEEKS','CONDITION_DATERANGETYPE_NEXT2WEEKS','FIXED.WEEK',function(){return d.getDateRange(2,'WEEK',true,true,true);},d._HideFilterSuggestItem,-1),NEXT3WEEKS:d.getFixedRangeOperation('NEXT3WEEKS','CONDITION_DATERANGETYPE_NEXT3WEEKS','FIXED.WEEK',function(){return d.getDateRange(3,'WEEK',true,true,true);},d._HideFilterSuggestItem,-1),NEXT4WEEKS:d.getFixedRangeOperation('NEXT4WEEKS','CONDITION_DATERANGETYPE_NEXT4WEEKS','FIXED.WEEK',function(){return d.getDateRange(4,'WEEK',true,true,true);},d._HideFilterSuggestItem,-1),NEXT5WEEKS:d.getFixedRangeOperation('NEXT5WEEKS','CONDITION_DATERANGETYPE_NEXT5WEEKS','FIXED.WEEK',function(){return d.getDateRange(5,'WEEK',true,true,true);},d._HideFilterSuggestItem,-1),THISMONTH:d.getFixedRangeOperation('THISMONTH','CONDITION_DATERANGETYPE_THISMONTH','FIXED.MONTH',function(){return d.getDateRange(1,'MONTH',true);},d._DefaultFilterSuggestItem,12),LASTMONTH:d.getFixedRangeOperation('LASTMONTH','CONDITION_DATERANGETYPE_LASTMONTH','FIXED.MONTH',function(){return d.getDateRange(-1,'MONTH',true);},d._DefaultFilterSuggestItem,13),NEXTMONTH:d.getFixedRangeOperation('NEXTMONTH','CONDITION_DATERANGETYPE_NEXTMONTH','FIXED.MONTH',function(){return d.getDateRange(1,'MONTH',true,true,true);},d._DefaultFilterSuggestItem,15),THISQUARTER:d.getFixedRangeOperation('THISQUARTER','CONDITION_DATERANGETYPE_THISQUARTER','FIXED.QUARTER',function(){return d.getDateRange(1,'QUARTER',true);},d._DefaultFilterSuggestItem,17),LASTQUARTER:d.getFixedRangeOperation('LASTQUARTER','CONDITION_DATERANGETYPE_LASTQUARTER','FIXED.QUARTER',function(){return d.getDateRange(-1,'QUARTER',true);},d._DefaultFilterSuggestItem,18),NEXTQUARTER:d.getFixedRangeOperation('NEXTQUARTER','CONDITION_DATERANGETYPE_NEXTQUARTER','FIXED.QUARTER',function(){return d.getDateRange(1,'QUARTER',true,true,true);},d._DefaultFilterSuggestItem,20),YEARTODATE:d.getFixedRangeOperation('YEARTODATE','CONDITION_DATERANGETYPE_YEARTODATE','FIXED.YEAR',function(){return[d.getYearStartDate(new U()),d.setEndTime()];},d._DefaultFilterSuggestItem,31),THISYEAR:d.getFixedRangeOperation('THISYEAR','CONDITION_DATERANGETYPE_THISYEAR','FIXED.YEAR',function(){return d.getDateRange(1,'YEAR',true);},d._DefaultFilterSuggestItem,26),LASTYEAR:d.getFixedRangeOperation('LASTYEAR','CONDITION_DATERANGETYPE_LASTYEAR','FIXED.YEAR',function(){return d.getDateRange(-1,'YEAR',true);},d._DefaultFilterSuggestItem,27),NEXTYEAR:d.getFixedRangeOperation('NEXTYEAR','CONDITION_DATERANGETYPE_NEXTYEAR','FIXED.YEAR',function(){return d.getDateRange(1,'YEAR',true,true,true);},d._DefaultFilterSuggestItem,29),QUARTER1:d.getFixedRangeOperation('QUARTER1','CONDITION_DATERANGETYPE_QUARTER1','FIXED.QUARTER',function(){var s=d.getYearStartDate();return d.getDateRange(1,'QUARTER',s);},d._DefaultFilterSuggestItem,22),QUARTER2:d.getFixedRangeOperation('QUARTER2','CONDITION_DATERANGETYPE_QUARTER2','FIXED.QUARTER',function(){var s=d.getDateRange(1,'QUARTER',d.getYearStartDate())[1];s.setMilliseconds(1000);return d.getDateRange(1,'QUARTER',s);},d._DefaultFilterSuggestItem,23),QUARTER3:d.getFixedRangeOperation('QUARTER3','CONDITION_DATERANGETYPE_QUARTER3','FIXED.QUARTER',function(){var s=d.getDateRange(2,'QUARTER',d.getYearStartDate())[1];s.setMilliseconds(1000);return d.getDateRange(1,'QUARTER',s);},d._DefaultFilterSuggestItem,24),QUARTER4:d.getFixedRangeOperation('QUARTER4','CONDITION_DATERANGETYPE_QUARTER4','FIXED.QUARTER',function(){var s=d.getDateRange(3,'QUARTER',d.getYearStartDate())[1];s.setMilliseconds(1000);return d.getDateRange(1,'QUARTER',s);},d._DefaultFilterSuggestItem,25)};d.prototype.getControls=function(o){var C=[];if(!o){return;}o.getControls(this,C,o);return C;};d.prototype.setIgnoreTime=function(i){this._bIgnoreTime=i;};T.prototype.getIgnoreTime=function(i){return this._bIgnoreTime;};d.prototype.getDefaultValues=function(o){if(!o){return[];}var e=o.defaultValues||[];if(typeof e==='function'){e=o.defaultValues();}var C=this.getCondition(),v=e[0]||null,V=e[1]||null;if(o.key==='DATERANGE'&&C&&C.value1&&C.value2){v=C.value1.oDate||C.value1;V=C.value2.oDate||C.value2;}else{if(v instanceof Date){v=new U(v);}if(V instanceof Date){V=new U(V);}}return[v,V];};d.prototype.getOperations=function(){var o=[];for(var n in d.Operations){var O=d.Operations[n];if(this._filterOperation(O)){o.push(O);}}return o;};d.prototype._updateOperation=function(o){T.prototype._updateOperation.apply(this,[o]);if(o.languageText&&!o.basicLanguageText){o.basicLanguageText=o.languageText;if(!o.singulareBasicLanguageText&&o.singularTextKey){o.singulareBasicLanguageText=this.getTranslatedText(o.singularTextKey);}o.languageText=this._fillNumberToText(o.languageText);}if(o.display){var e=this.getDefaultValues(o);var f=this._getDateFormatter(false);if(o.display==='start'){o.textValue=f.format(e[0].oDate);}else if(o.display==='range'&&e&&e[0]&&e[1]){o.textValue=f.format(e[0].oDate)+' - '+f.format(e[1].oDate);}}o.suggestText=o.languageText;};d.prototype.updateOperations=function(){var o=this.getOperations();for(var i=0;i<o.length;i++){this._updateOperation(o[i]);}return this.oModel.setProperty('operations',o,this.getContext(),true);};d.prototype.isValidCondition=function(){var C=this.getCondition(),o=this.getOperation(C.operation);if(o&&C&&C.key&&C.operation){if('value1'in o&&'value2'in o){return'value1'in C&&C.value1!==null&&'value2'in C&&C.value2!==null;}else if('value1'in o){return'value1'in C&&C.value1!==null;}else if('value2'in o){return'value2'in C&&C.value2!==null;}else if(!('value1'in o)&&!('value2'in o)){return true;}}return false;};d.prototype.providerDataUpdated=function(u,o){};d.prototype.initialize=function(j){T.prototype.initialize.apply(this,[j]);this.oModel.suspend();var o=q.extend({},j,true);var C=(new U()).getCalendarType();if(!j.conditionTypeInfo){if(j.ranges&&j.ranges.length==1){var O='DATERANGE';if(j.ranges[0].operation==='GE'){O='FROM';}if(j.ranges[0].operation==='LE'){O='TO';}j.conditionTypeInfo={name:this.getName(),data:{key:this.sFieldName,operation:O,value1:j.ranges[0].value1,value2:j.ranges[0].value2,calendarType:C}};}else{var e=this.getDefaultOperation(),k=e?e.key:'';j.conditionTypeInfo={name:this.getName(),data:{key:this.sFieldName,operation:k,calendarType:C}};}}if(j.conditionTypeInfo){j=j.conditionTypeInfo;}if(j.name&&j.data){if(j.name!==this.getName()){q.sap.log.debug('ConditionType '+this.getName()+' tries to deserialize data from '+j.name);}j=j.data;}if(!j.operation){return;}if(this.getOperation(j.operation)&&this.getOperation(j.operation).order<0){var i=['LAST2WEEKS','LAST3WEEKS','LAST4WEEKS','LAST5WEEKS'].indexOf(j.operation);if(i>=0){j.operation='LASTWEEKS';j.value1=i+2;}i=['NEXT2WEEKS','NEXT3WEEKS','NEXT4WEEKS','NEXT5WEEKS'].indexOf(j.operation);if(i>=0){j.operation='NEXTWEEKS';j.value1=i+2;}}var f=this.getOperation(j.operation);if(!f){if(this.getAsync()){this.setPending(true);var t=this,h=function(E){if(E.getParameter('pending')===false){t.oFilterProvider.detachPendingChange(h);t.initialize(o);}};this.oFilterProvider.attachPendingChange(h);this.oModel.resume();return;}}var v;if(C!==j.calendarType&&(j.calendarType==='Islamic'||C==='Islamic')&&j.operation==='SPECIFICMONTH'){j.operation='DATERANGE';var V=parseInt(j.value1,10),g=U.getInstance(new Date(),j.calendarType);g.setMonth(V);g=d.getMonthStartDate(g);v=d.getDateRange(1,'MONTH',g,true);j.value1=v[0].oDate.toISOString();j.value2=v[1].oDate.toISOString();}var p=this.getConditionContext().getObject();p.operation=j.operation;p.key=j.key;p.value1=null;p.value2=null;if(j.operation==='DATERANGE'){if(typeof j.value1==='string'){j.value1=j.value1===''?null:(new U(j.value1)).oDate;}if(typeof j.value2==='string'){j.value2=j.value2===''?null:(new U(j.value2)).oDate;}p.value1=j.value1;p.value2=j.value2;}else if(j.operation==='FROM'){if(typeof j.value1==='string'){j.value1=j.value1===''?null:(new U(j.value1)).oDate;}p.value1=j.value1;}else if(j.operation==='TO'){if(typeof j.value1==='string'){j.value1=j.value1===''?null:(new U(j.value1)).oDate;}p.value1=j.value1;}else if(['LASTDAYS','LASTWEEKS','LASTMONTHS','LASTQUARTERS','LASTYEARS','NEXTDAYS','NEXTWEEKS','NEXTMONTHS','NEXTQUARTERS','NEXTYEARS'].indexOf(j.operation)>-1){p.value1=j.value1;}else if(j.operation==='SPECIFICMONTH'){p.value1=j.value1+'';}else{v=this.getDefaultValues(this.getOperation(j.operation));p.value1=v[0];p.value2=v[1];}this.bIgnoreBindingChange=true;this.oModel.resume();delete this.bIgnoreBindingChange;this.serialize(true,false);};d.prototype.serialize=function(u,f){var j={},C=this.getCondition();if(!C.operation){return null;}var o=this.getOperation(C.operation);if(!o||!('value1'in o)){C.value1=null;}if(!o||!('value2'in o)){C.value2=null;}C.calendarType=(new U()).getCalendarType();j.conditionTypeInfo={name:this.getName(),data:C};if(this.iChangeTimer){q.sap.clearDelayedCall(this.iChangeTimer);delete this.iChangeTimer;}if(u){this._updateProvider(j,true,f);}else{this.iChangeTimer=q.sap.delayedCall(1,this,this._updateProvider,[j,false,f]);}return j;};d.prototype._updateProvider=function(j,s,f){j.ranges=this.getFilterRanges();j.items=[];var e=false;var C=0;var i=0;var g=0;if(this.oModel.getData().currentoperation.languageText){var o=this.oModel.getData();var h=o.currentoperation.languageText;if(o.currentoperation.basicLanguageText.indexOf('{0}')>=0){if(j.conditionTypeInfo.data.value1!=null&&j.conditionTypeInfo.data.value1!=''){if(j.conditionTypeInfo.data.value1===1&&o.currentoperation.singulareBasicLanguageText){h=o.currentoperation.singulareBasicLanguageText;}else{h=this._fillNumberToText(o.currentoperation.basicLanguageText,j.conditionTypeInfo.data.value1);}this.oModel.setProperty('inputstate','NONE',this.getContext());}else if(this._bSuggestItemSelected){h=this._fillNumberToText(o.currentoperation.basicLanguageText);var x=o.currentoperation.basicLanguageText.indexOf('{0}');C=x+1;i=x;g=x+1;e=true;}else{h='';this.oModel.setProperty('inputstate','NONE',this.getContext());}}else if(o.currentoperation.textValue){h=o.currentoperation.languageText+' ('+o.currentoperation.textValue+')';this.oModel.setProperty('inputstate','NONE',this.getContext());}else{if(j.conditionTypeInfo.data.value1!==null&&j.conditionTypeInfo.data.value1!==''){var v=j.conditionTypeInfo.data.value1;var k=j.conditionTypeInfo.data.value2;var V;if(typeof v==='number'&&o.currentoperation.valueList){V=o.currentoperation.valueList[v].text;}else if(v instanceof Date){var l=this._getDateFormatter(false);if(j.conditionTypeInfo.data.operation!=='DATERANGE'&&(v&&!k)){V=l.format(v);}else if(j.conditionTypeInfo.data.operation==='DATERANGE'&&v&&k){V=l.format(v)+' - '+l.format(k);}else if(j.conditionTypeInfo.data.operation==='DATERANGE'&&v&&!k&&!(this._oPopup&&this._oPopup.isOpen())){V=l.format(v)+' - ';e=true;}else{V='';}}else{V=j.conditionTypeInfo.data.value1;}if(V){h=o.currentoperation.languageText+' ('+V+')';C=h.length-1;this.oModel.setProperty('inputstate','NONE',this.getContext());}else{h='';}}else{h='';}}this._bSuggestItemSelected=false;this.oModel.setProperty('/formattedText',h);if(e&&!(this._oPopup&&this._oPopup.isOpen())){this._oInput.$('inner').cursorPos(C);if(i<g){this._oInput.selectText(i,g);}this._oInput._lastValue='';}}if(this.oFilterProvider){this.oFilterProvider.oModel.setProperty('/'+this.sFieldName,j);this.oFilterProvider.setFilterData({},false,this.sFieldName);if(f&&this.oFilterProvider._oSmartFilter){this.oFilterProvider._oSmartFilter.fireFilterChange();if(this.oFilterProvider._oSmartFilter.getLiveMode()){this.oFilterProvider._oSmartFilter.triggerSearch(sap.ui.comp.smartfilterbar.SmartFilterBar.LIVE_MODE_INTERVAL);}}}};d.prototype.getFilterRanges=function(){var C=this.getCondition(),v=[];if(C.operation==='LASTDAYS'){v=d.getDateRange(-C.value1,'DAY',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTWEEKS'){v=d.getDateRange(-C.value1,'WEEK',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTMONTHS'){v=d.getDateRange(-C.value1,'MONTH',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTQUARTERS'){v=d.getDateRange(-C.value1,'QUARTER',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTYEARS'){v=d.getDateRange(-C.value1,'YEAR',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTDAYS'){v=d.getDateRange(C.value1,'DAY',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTWEEKS'){v=d.getDateRange(C.value1,'WEEK',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTMONTHS'){v=d.getDateRange(C.value1,'MONTH',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTQUARTERS'){v=d.getDateRange(C.value1,'QUARTER',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTYEARS'){v=d.getDateRange(C.value1,'YEAR',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='SPECIFICMONTH'){var V=parseInt(C.value1,10),o=new U();o.setMonth(V);o=d.getMonthStartDate(o);v=d.getDateRange(1,'MONTH',o,true);C.value1=v[0];C.value2=v[1];}if(C.value1 instanceof U){C.value1=C.value1.oDate;}if(C.value2 instanceof U){C.value2=C.value2.oDate;}if(C.operation==='FROM'){if(!(this.isValidCondition()&&C.value1)){return[];}C.operation='GE';delete C.value2;}else if(C.operation==='TO'){if(!(this.isValidCondition()&&C.value1)){return[];}C.operation='LE';delete C.value2;C.value1=d.setEndTime(C.value1,this._bIgnoreTime,this._Precision).oDate;}else{if(!(this.isValidCondition()&&C.value1&&C.value2)){return[];}C.operation='BT';C.value1=d.setStartTime(C.value1).oDate;C.value2=d.setEndTime(C.value2,this._bIgnoreTime,this._Precision).oDate;}C.exclude=false;C.keyField=C.key;delete C.key;return[C];};d.prototype.getTokenText=function(){return'';};d.prototype.getName=function(){return this.getMetadata().getName();};d.prototype.getType=function(){return'Edm.Date';};d.prototype._bindValueState=function(C){C.bindProperty('valueState',{path:'$smartEntityFilter>inputstate',formatter:function(){if(this.getBinding('valueState').getValue()==='ERROR'){return sap.ui.core.ValueState.Error;}else{return sap.ui.core.ValueState.None;}}});};d.prototype.initializeFilterItem=function(){this._oInput=new sap.m.Input(T._createStableId(this),{value:'{$smartEntityFilter>formattedText}',showValueHelp:true,showSuggestion:true,maxSuggestionWidth:'auto',valueHelpRequest:this._toggleOpen.bind(this)});this._oInput._highlightListText=function(){var i,l,e=this._oList.$().find('.sapMDLILabel, .sapMSLITitleOnly');for(i=0;i<e.length;i++){l=e[i];l.innerHTML=this._createHighlightedText(l);}};this._bindValueState(this._oInput);this._oInput.bindAggregation('suggestionItems',{path:'$smartEntityFilter>operations',sorter:new sap.ui.model.Sorter('order',false,false),filters:new sap.ui.model.Filter('order',function(v){return v!==undefined&&v>-1;}),template:new sap.ui.core.ListItem({key:{path:'$smartEntityFilter>key'}}),templateShareable:false});this._oInput.setFilterFunction(function(v,i){if(this._oPopup&&this._oPopup.isOpen()){return false;}var o=this.getOperation(i.getKey());v=v.trim();if(v==='?'){d._DefaultFilterSuggestItem.call(o,v,i,this);return o.category!=='DYNAMIC.DATERANGE'&&o.category!=='DYNAMIC.DATE';}if(o.filterSuggestItem){return o.filterSuggestItem(v,i,this);}else{return d._DefaultFilterSuggestItem.call(o,v,i,this);}}.bind(this));this._oInput.attachSuggestionItemSelected(function(e){var i=e.getParameter('selectedItem');if(!i){return;}var o=i.getKey();var O=this.getOperation(o);var v=e.oSource.getValue().trim();if(O.onItemSelected){O.onItemSelected(v,i,this);return;}else{d._DefaultOnItemSelected.call(O,v,i,this);}}.bind(this));this._oInput.attachChange(function(e){var v=e.getParameter('value');if(v){var o=this.getOperations();var h=o.some(function(O){if(O.onChange){return O.onChange(v,this);}else{return d._defaultOnChangeHandler.call(O,v,this);}},this);if(!h){this.oModel.setProperty('inputstate','ERROR',this.getContext());}}else{this.setCondition({key:this.sFieldName,operation:'FROM',value1:null,value2:null});this.oModel.setProperty('inputstate','NONE',this.getContext());}}.bind(this));this._oInput.attachBrowserEvent('focusin',function(e){if(q(e.target).hasClass('sapMInputBaseInner')&&this._oPopup&&this._oPopup.isOpen()){this._oPopup.close();}}.bind(this));this._oInput.setBindingContext(this.getContext(),'$smartEntityFilter');this._oInput.setModel(this.getModel(),'$smartEntityFilter');this.bFireFilterChange=false;this.getModel().checkUpdate(true);this.bFireFilterChange=true;return this._oInput;};d.prototype._toggleOpen=function(e){if(!this._oPopup){this._oPopupLayout=new sap.m.VBox();this._oPopupLayout.addStyleClass('sapUiCompDateRangeType');this._initializeFilterItemPopoverContent(this._oPopupLayout);this._oPopup=new sap.m.ResponsivePopover({showCloseButton:false,showArrow:true,showHeader:false,horizontalScrolling:false,placement:sap.m.PlacementType.VerticalPreferedBottom,content:this._oPopupLayout,contentWidth:'18rem'});this._oPopup.addAriaLabelledBy(this._oOperationLabel);if(sap.ui.Device.system.phone){this._oPopup.setBeginButton(new sap.m.Button({text:T.getTranslatedText('CONDITION_DATERANGETYPE_POPOVER_CLOSEBUTTON'),type:'Emphasized',press:function(e){this._oPopup.close();}.bind(this)}));}sap.ui.getCore().getMessageManager().registerObject(this._oPopup,true);this._oPopup.setModel(this.getModel(),'$smartEntityFilter');this._oPopup._oControl.oPopup.setAutoCloseAreas([this._oInput.getDomRef()]);}if(!this._oPopup.isOpen()){this._oPopup.openBy(this._oInput._getValueHelpIcon());}else{this._oPopup.close();}};d.prototype._getDateFormatter=function(s){var f={style:this.oDateFormat.style,pattern:this.oDateFormat.pattern,strictParsing:s};if(JSON.stringify(f)!==this._sFormatSettings){this._sFormatSettings=JSON.stringify(f);this._oDateFormatter=sap.ui.core.format.DateFormat.getInstance(f);}return this._oDateFormatter;};d.prototype._fillNumberToText=function(t,n){var N='X';if(n){N=String(n);}return t.replace('{0}',N);};d.prototype.destroy=function(){if(this.iChangeTimer){q.sap.clearDelayedCall(this.iChangeTimer);delete this.iChangeTimer;}if(this._oPopup){sap.ui.getCore().getMessageManager().unregisterObject(this._oPopup);this._oPopup.destroy();}T.prototype.destroy.apply(this,arguments);};return d;},true);\n",
	"sap/ui/comp/config/condition/Type.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider','sap/ui/model/json/JSONModel','sap/m/Select'],function(q,E,J,S){'use strict';var T=E.extend('sap.ui.comp.config.condition.Type',{constructor:function(f,F,o){E.call(this);this.oFilterProvider=F;var d={condition:{operation:'',value1:null,value2:null,key:f},operations:[],controls:[],currentoperation:{},pending:false};this.oModel=new J(d);var c=this.oModel.checkUpdate;this.oModel.suspend=function(){this.bSuspended=true;this.checkUpdate=function(){};};this.oModel.resume=function(){this.bSuspended=false;this.checkUpdate=c;this.checkUpdate();};this.oContext=this.oModel.getContext('/');this.oConditionContext=this.oModel.getContext('/condition');this.sFieldName=f;var O=this.oModel.bindProperty('operation',this.oConditionContext),t=this;O.attachChange(function(){var s=t.oModel.getProperty('operation',t.getConditionContext()),a=t.getOperation(s);if(a){a=q.extend({},a);if(!t.bIgnoreBindingChange){var D=t.getDefaultValues(a);t.setDefaultValues(D[0],D[1]);}}t.setControls([]);t.setControls(t.getControls(a));if(a){if(a.getValueList){a.valueList=a.getValueList();}t.oModel.setProperty('/currentoperation',a);}if(!t.bIgnoreBindingChange){t.serialize(false,t.bFireFilterChange);}});var v=this.oModel.bindProperty('value1',this.oConditionContext);v.attachChange(function(){if(!t.bIgnoreBindingChange){t.serialize(false,t.bFireFilterChange);}});var V=this.oModel.bindProperty('value2',this.oConditionContext);V.attachChange(function(){if(!t.bIgnoreBindingChange){t.serialize(false,t.bFireFilterChange);}});var p=this.oModel.bindProperty('pending',this.oContext);p.attachChange(function(){if(t.bAsync){if(t._iPendingTimer){q.sap.clearDelayedCall(t._iPendingTimer);}t._iPendingTimer=q.sap.delayedCall(10,t,'fireEvent',['PendingChange',{oSource:t,pending:t.oModel.getProperty('/pending')}]);}});this._oOperationSelect=null;this.oFieldMetadata=o;this.oOperationFilter=null;this.bAsync=false;}});T._createStableId=function(i,s){if(i&&i.oFilterProvider&&i.oFieldMetadata){return i.oFilterProvider._createFilterControlId(i.oFieldMetadata)+(s?s:'');}else{return undefined;}};T.getTranslatedText=function(t,r){if(typeof t==='object'){r=t.bundle;t=t.key;}if(!r){r='sap.ui.comp';}return sap.ui.getCore().getLibraryResourceBundle(r).getText(t)||t;};T.prototype.getTranslatedText=T.getTranslatedText;T.prototype.applySettings=function(s){if(s&&s.operations&&s.operations.filter){this.oOperationFilter=s.operations.filter;}else{this.oOperationFilter=null;}};T.prototype.getParent=function(){return this.oFilterProvider._oSmartFilter;};T.prototype.getModel=function(){return this.oModel;};T.prototype.getConditionContext=function(){return this.oConditionContext;};T.prototype.setDefaultValues=function(v,V){this.oModel.setProperty('value1',v,this.getConditionContext(),true);this.oModel.setProperty('value2',V,this.getConditionContext(),true);};T.prototype.getContext=function(){return this.oContext;};T.prototype.getControls=function(o){return[];};T.prototype.getOperations=function(){return[];};T.prototype.isPending=function(){return this.getModel().getProperty('pending',this.getContext());};T.prototype.attachPendingChange=function(h){this.attachEvent('PendingChange',h);};T.prototype.detachPendingChange=function(h){this.detachEvent('PendingChange',h);};T.prototype.setPending=function(v){if(this.bAsync){this.getModel().setProperty('pending',v,this.getContext());}};T.prototype._filterOperation=function(o){if(!this.oOperationFilter){return true;}var f=this.oOperationFilter,v=o[f.path];if(f.path&&f.contains&&v){var e=f.exclude||false,F=(typeof f.contains==='string')?f.contains.split(','):f.contains,r=e;for(var j=0;j<F.length;j++){if(e&&v.indexOf(F[j])>-1){r=false;}else if(!e&&v.indexOf(F[j])>-1){r=true;}}}return r;};T.prototype._updateOperation=function(o){if(!o.textValue){o.textValue='';}if(!o.languageText&&o.textKey){o.languageText=this.getTranslatedText(o.textKey);}};T.prototype.updateOperations=function(){this.oModel.setProperty('operations',[],this.getContext());};T.prototype.getOperation=function(o){var O=this.oModel.getProperty('operations',this.getContext())||[];for(var i=0;i<O.length;i++){if(o===O[i].key){return O[i];}}return null;};T.prototype.getDefaultOperation=function(){var o=this.getOperations();if(!o||o.length===0){return null;}for(var i=0;i<o.length;i++){if(o[i].defaultOperation){return o[i];}}return o[0];};T.prototype.setControls=function(c){var o=this.oModel.getProperty('controls',this.getContext());if(o){for(var i=0;i<o.length;i++){o[i].destroy();}}this.oModel.setProperty('controls',c,this.getContext());if(c){for(var i=0;i<c.length;i++){c[i].setBindingContext(this.getConditionContext(),'$smartEntityFilter');}this._setAriaLabeledByToControls(c);}};T.prototype._setAriaLabeledByToControls=function(c){if(this._oOperationLabel&&c){for(var i=0;i<c.length;i++){if(c[i].addAriaLabelledBy){if(c[i].getAriaLabelledBy().indexOf(this._oOperationLabel.getId())===-1){c[i].addAriaLabelledBy(this._oOperationLabel);}}}}};T.prototype.setOperation=function(o){var O=this.getOperation(o);if(O){this.setCondition({operation:O.key,key:this.sFieldName,value1:O.defaultValues[0]||null,value2:O.defaultValues[1]||null});this.getModel().checkUpdate(true);}else{}};T.prototype.isValidCondition=function(){return false;};T.prototype.setCondition=function(c){this.oModel.setProperty('key',c.key,this.oConditionContext);this.oModel.setProperty('operation',c.operation,this.oConditionContext);this.oModel.setProperty('value1',c.value1,this.oConditionContext);this.oModel.setProperty('value2',c.value2,this.oConditionContext);this.oModel.setProperty('tokenText',this.getTokenText(c),this.oConditionContext);return this;};T.prototype.setAsync=function(a){this.bAsync=a;};T.prototype.getAsync=function(a){return this.bAsync;};T.prototype.initialize=function(j){this.updateOperations();};T.prototype.serialize=function(){};T.prototype.validate=function(f){this._bForceError=f!==false;var i=this.getModel().getProperty('inputstate',this.getContext())||'NONE';if(!this.isPending()&&this.oFieldMetadata&&this.oFieldMetadata.isMandatory&&(!this.isValidCondition()||i!=='NONE')&&this._bForceError){this.getModel().setProperty('inputstate','ERROR',this.getContext());return false;}this.getModel().setProperty('inputstate','NONE',this.getContext());return true;};T.prototype.getCondition=function(){var c=q.extend({},this.oModel.getProperty('',this.oConditionContext));return c;};T.prototype.providerDataUpdated=function(u,d){};T.prototype.getFilter=function(f){return null;};T.prototype.getFilterRanges=function(p){return null;};T.prototype.getTokenText=function(o){return'';};T.prototype.getName=function(){return this.getMetadata().getName();};T.prototype.getType=function(){return'Edm';};T.prototype._initializeFilterItemPopoverContent=function(l){var o=new sap.m.Label({text:T.getTranslatedText('CONDITION_DATERANGETYPE_POPOVER_LABEL')});l.addItem(o);this._oOperationLabel=o;var O=new sap.m.Select(T._createStableId(this,'select'),{width:'100%',ariaLabelledBy:o});if(O._oList&&O._oList.setShowSecondaryValues){O._oList.setShowSecondaryValues(true);}O.bindProperty('selectedKey',{path:'$smartEntityFilter>condition/operation'});O.bindAggregation('items',{path:'$smartEntityFilter>operations',sorter:new sap.ui.model.Sorter('order',false,false),filters:new sap.ui.model.Filter('order',function(v){return v!==undefined&&v>-1;}),template:new sap.ui.core.ListItem({text:{path:'$smartEntityFilter>languageText'},key:{path:'$smartEntityFilter>key'},additionalText:{path:'$smartEntityFilter>textValue'}})});O.setBindingContext(this.getContext(),'$smartEntityFilter');var L=this.getModel().bindList('controls',this.getContext());L.attachChange(function(){var n=L.getModel().getProperty('controls',L.getContext());if(n){for(var i=0;i<n.length;i++){l.addItem(n[i]);}}});l.addItem(O);o.setLabelFor(O);this._oOperationSelect=O;l.setModel(this.getModel(),'$smartEntityFilter');this.bIgnoreBindingChange=true;this.getModel().checkUpdate(true);this.bIgnoreBindingChange=false;this.oLayout=l;};T.prototype.destroy=function(){this.setControls([]);this.oLayout=null;E.prototype.destroy.apply(this,arguments);};return T;},true);\n",
	"sap/ui/comp/filterbar/FilterBar.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/MultiInput','sap/m/Bar','sap/m/Button','sap/m/ButtonType','sap/m/CheckBox','sap/m/Label','sap/m/LabelDesign','sap/m/Link','sap/m/List','sap/m/ListSeparators','sap/m/Panel','sap/m/PlacementType','sap/m/SearchField','sap/m/Text','sap/m/Toolbar','sap/m/ToolbarSpacer','sap/ui/Device','sap/ui/comp/state/UIState','./VariantConverterFrom','./VariantConverterTo','sap/ui/comp/library','sap/ui/comp/smartvariants/PersonalizableInfo','sap/ui/comp/smartvariants/SmartVariantManagementUi2','sap/ui/comp/variants/VariantManagement','sap/ui/core/Icon','sap/ui/core/TextAlign','sap/ui/core/Title','sap/ui/core/ValueState','sap/ui/layout/Grid','sap/ui/layout/GridRenderer','sap/ui/layout/GridData','sap/ui/layout/HorizontalLayout','sap/ui/layout/ResponsiveFlowLayout','sap/ui/layout/ResponsiveFlowLayoutData','sap/ui/layout/VerticalLayout','sap/ui/layout/form/Form','sap/ui/layout/form/FormContainer','sap/ui/layout/form/FormElement','sap/ui/layout/form/ResponsiveGridLayout','sap/ui/layout/form/FormRenderer','sap/ui/comp/util/IdentifierUtil','sap/m/library'],function(q,M,B,a,b,C,L,c,d,e,f,P,g,S,T,h,k,D,U,V,l,m,o,p,r,I,s,t,u,G,v,w,H,R,x,y,F,z,A,E,J,K,N){'use strict';var O;var Q;var W;var X;var Y;var Z=N.OverflowToolbarPriority;var $=N.ListMode;var _=G.extend('sap.ui.comp.filterbar.FilterBar',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/filterbar/FilterBar.designtime',properties:{persistencyKey:{type:'string',group:'Misc',defaultValue:''},advancedMode:{type:'boolean',group:'Misc',defaultValue:false},expandAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false,deprecated:true},searchEnabled:{type:'boolean',group:'Misc',defaultValue:true},filterBarExpanded:{type:'boolean',group:'Misc',defaultValue:true},considerGroupTitle:{type:'boolean',group:'Misc',defaultValue:false},showClearButton:{type:'boolean',group:'Misc',defaultValue:false},showRestoreButton:{type:'boolean',group:'Misc',defaultValue:true},showGoOnFB:{type:'boolean',group:'Misc',defaultValue:true},showRestoreOnFB:{type:'boolean',group:'Misc',defaultValue:false},showClearOnFB:{type:'boolean',group:'Misc',defaultValue:false},showGoButton:{type:'boolean',group:'Misc',defaultValue:null,deprecated:true},deltaVariantMode:{type:'boolean',group:'Misc',defaultValue:true},filterContainerWidth:{type:'string',group:'Misc',defaultValue:'12rem'},useToolbar:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:''},showFilterConfiguration:{type:'boolean',group:'Misc',defaultValue:true},useSnapshot:{type:'boolean',group:'Misc'}},aggregations:{filterItems:{type:'sap.ui.comp.filterbar.FilterItem',multiple:true,singularName:'filterItem'},filterGroupItems:{type:'sap.ui.comp.filterbar.FilterGroupItem',multiple:true,singularName:'filterGroupItem'},_parameters:{type:'sap.ui.comp.filterbar.FilterGroupItem',multiple:true,singularName:'_parameter',visibility:'hidden'}},associations:{basicSearch:{type:'sap.m.SearchField',multiple:false}},events:{cancel:{},reset:{parameters:{selectionSet:{type:'sap.ui.core.Control[]'}}},search:{parameters:{selectionSet:{type:'sap.ui.core.Control[]'}}},beforeVariantSave:{parameters:{context:{type:'string'}}},beforeVariantFetch:{},afterVariantLoad:{parameters:{context:{type:'string'},executeOnSelect:{type:'boolean'}}},filterChange:{added:{type:'sap.ui.core.Control'},deleted:{type:'sap.ui.core.Control'},filterItem:{type:'sap.ui.comp.filterbar.FilterGroupItem'}},clear:{parameters:{selectionSet:{type:'sap.ui.core.Control[]'}}},initialise:{},initialized:{},afterVariantSave:{},filtersDialogClosed:{parameters:{context:{type:'string'}}},filtersDialogBeforeOpen:{},filtersDialogCancel:{},filtersDialogSearch:{},filtersDialogSearchForFilters:{parameters:{newValue:{type:'string'}}},assignedFiltersChanged:{}}},renderer:v.render});_.INTERNAL_GROUP='__$INTERNAL$';_.prototype.init=function(){this._oBasicAreaLayout=null;this._oVariantManagement=null;this._oCollectiveSearch=null;this._aBasicAreaSelection=null;this._mAdvancedAreaFilter=null;this._fRegisteredFetchData=null;this._fRegisteredApplyData=null;this._fRegisterGetFiltersWithValues=null;this._oHideShowButton=null;this._oSearchButton=null;this._oFiltersButton=null;this._oClearButtonOnFB=null;this._oRestoreButtonOnFB=null;this._oDialog=null;this._oFilterDialog=null;this._bIsInitialized=false;this._aFields=null;this._oBasicSearchField=null;this._oVariant={};this._filterChangeSemaphore=true;this._triggerFilterChangeState=true;this._fRegisteredFilterChangeHandlers=null;this._fInitialiseVariants=null;this._bHostedVariantManagement=false;this._bDoItOnce=false;this._oLabelTextWidth=0;this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.setHSpacing(0);this.addStyleClass('sapUiCompFilterBar');if(this._isPhone()){this.addStyleClass('sapUiCompFilterBarPhone');}else{this.addStyleClass('sapUiCompFilterBarNonPhone');}this.addStyleClass('sapUiCompFilterBarMarginBottom');this.addStyleClass('sapUiCompFilterBarPaddingPanel');this.addStyleClass('sapContrastPlus');this._oToolbar=this._createToolbar();this._oToolbar.setLayoutData(new w({span:'L12 M12 S12'}));this.addContent(this._oToolbar);this._oBasicAreaLayout=this._createBasicAreaLayout();this._oBasicAreaLayout.setLayoutData(new w({span:'L12 M12 S12'}));this.addContent(this._oBasicAreaLayout);this._oAdvancedPanel=new P();this._oAdvancedPanel.setLayoutData(new w({span:'L12 M12 S12'}));this._oAdvancedPanel.setVisible(false);this._oAdvancedAreaForm=this._createAdvancedAreaForm();this._oAdvancedPanel.addContent(this._oAdvancedAreaForm);this.addContent(this._oAdvancedPanel);this._hResizeListener=sap.ui.core.ResizeHandler.register(this._oBasicAreaLayout,this._fHandleResize.bind(this));this.oModel=new sap.ui.model.json.JSONModel({});this.setModel(this.oModel,'FilterBar');this._oHintText=new T({text:this._oRb.getText('FILTER_BAR_NO_FILTERS_ON_FB'),textAlign:s.Center});this._oHintText.setVisible(false);this._oHintText.addStyleClass('sapUiCompFilterBarHint');this._oBasicAreaLayout.addContent(this._oHintText);if(this._isTablet()||this._isPhone()){this.setFilterBarExpanded(false);}};_.prototype._hasAnyVisibleFiltersOnFB=function(){var j=this._retrieveVisibleAdvancedItems();for(var i=0;i<j.length;i++){if(j[i].filterItem.getVisibleInFilterBar()){return true;}}return false;};_.prototype._showHintText=function(){var i=0;if(!this._oHintText){return;}if(!this.getAdvancedMode()&&!this._isPhone()){var j=!this._hasAnyVisibleFiltersOnFB();if(j&&this._mAdvancedAreaFilter){i=this._oBasicAreaLayout.indexOfContent(this._oHintText);if(i<0){this._oBasicAreaLayout.insertContent(this._oHintText,0);}}this._oHintText.setVisible(j);if(i<0){this._oBasicAreaLayout.rerender();}}};_.prototype._hasRelevantFilters=function(){var i,n=null,j;if(!this._mAdvancedAreaFilter||(Object.keys(this._mAdvancedAreaFilter)<1)){return false;}if(this.getAdvancedMode()){for(n in this._mAdvancedAreaFilter){var e1=this._mAdvancedAreaFilter[n];if(e1&&e1.items){for(i=0;i<e1.items.length;i++){j=e1.items[i];if(j){if(this._determineVisibility(j.filterItem)){return true;}}}}}return false;}return true;};_.prototype._adaptButtonsEnablement=function(){var i=false||!!this._mAdvancedAreaFilter;if(this._oHideShowButton){this._oHideShowButton.setEnabled(i);if(this.getAdvancedMode()&&!this._isPhone()){this._oHideShowButton.setVisible(this._hasRelevantFilters());}}this._oClearButtonOnFB.setEnabled(i);this._oRestoreButtonOnFB.setEnabled(i);this._oFiltersButton.setEnabled(i);if(i&&this.getFilterBarExpanded()&&!this._isPhone()&&!this.getAdvancedMode()){this._oBasicAreaLayout.setVisible(true);}};_.prototype.getVariantManagement=function(){return this._oVariantManagement;};_.prototype.setShowClearOnFB=function(i){if(!this._isPhone()){this.setProperty('showClearOnFB',i);this._oClearButtonOnFB.setVisible(i);}return this;};_.prototype.setShowRestoreOnFB=function(i){if(!this._isPhone()){this.setProperty('showRestoreOnFB',i);this._oRestoreButtonOnFB.setVisible(i);}return this;};_.prototype.setShowGoOnFB=function(i){this.setProperty('showGoOnFB',i);this._calcVisibilityGoButton();return this;};_.prototype._calcVisibilityGoButton=function(){var i=this.getShowGoOnFB();if(i&&!this._isPhone()&&this.isLiveMode&&this.isLiveMode()){i=false;}this._oSearchButton.setVisible(i);};_.prototype.setShowGoButton=function(i){this.setShowGoOnFB(i);return this;};_.prototype.getShowGoButton=function(){return this.getShowGoOnFB();};_.prototype.hideGoButton=function(){this._oSearchButton.setVisible(false);};_.prototype.restoreGoButton=function(){this._oSearchButton.setVisible(this.getShowGoOnFB());};_.prototype.setShowFilterConfiguration=function(i){this.setProperty('showFilterConfiguration',i);if(this._oFiltersButton&&!this._isPhone()){this._oFiltersButton.setVisible(i);}return this;};_.prototype.isCurrentVariantStandard=function(){var i;if(this._oVariantManagement){i=this._oVariantManagement.getCurrentVariantId();if(i===''){return true;}return(i===this._oVariantManagement.getStandardVariantKey());}return undefined;};_.prototype.setCurrentVariantId=function(i,j){if(this._oVariantManagement){this._oVariantManagement.setCurrentVariantId(i,j);}};_.prototype.getCurrentVariantId=function(){var i='';if(this._oVariantManagement){i=this._oVariantManagement.getCurrentVariantId();}return i;};_.prototype.getDataSuiteFormat=function(i){return this._getDataSuiteFormat(i,null);};_.prototype._getDataSuiteFormat=function(i,j){var n=null;var e1,f1,g1;if(this._oVariantManagement){e1=this.getCurrentVariantId();if(this.getFilterDataAsString){g1=this._determineVariantFiltersInfo(i,true);f1=this.getFilterDataAsString(i);if(f1){var h1=new l();n=h1.convert(e1,g1,f1,this,j);}}}return n;};_.prototype.getBasicSearchName=function(){var i=null;if(this._oBasicSearchField&&this.getEntitySet){i='$'+this.getEntitySet()+'.basicSearch';}return i;};_.prototype.getBasicSearchValue=function(){return this._getBasicSearchValue();};_.prototype.setUiStateAsVariant=function(i){var j={replace:true,strictMode:true};this.setUiState(i,j);this.fireAfterVariantLoad('SPV_VARIANT',false);this._applyVisibility(i.getSelectionVariant());};_.prototype._applyVisibility=function(i){var j=function(e1){if(e1&&e1.visible&&!e1.isHiddenFilter()){if(!e1.getVisibleInFilterBar()){e1.setVisibleInFilterBar(true);}if(!e1.getPartOfCurrentVariant()){e1.setPartOfCurrentVariant(true);}}};if(this._bIsInitialized){for(var n in this._mAdvancedAreaFilter){if(n){this._mAdvancedAreaFilter[n].items.forEach(function(e1){if(e1&&e1.filterItem&&e1.filterItem.getMandatory()){j(e1.filterItem);}else if(e1&&e1.filterItem){if(e1.filterItem.getVisibleInFilterBar()){e1.filterItem.setVisibleInFilterBar(false);}if(e1.filterItem.getPartOfCurrentVariant()){if(n===_.INTERNAL_GROUP){e1.filterItem.setPartOfCurrentVariant(true);}else{e1.filterItem.setPartOfCurrentVariant(false);}}}});}}if(i&&i.Parameters){i.Parameters.forEach(function(e1){var f1=this.determineFilterItemByName(e1.PropertyName);j(f1);}.bind(this));}if(i&&i.SelectOptions){i.SelectOptions.forEach(function(e1){var f1=this.determineFilterItemByName(e1.PropertyName);j(f1);}.bind(this));}}};_.prototype.getUiState=function(i){var j,n,e1=false,f1=null;if(i){e1=(i.allFilters===true);}n=this._getDataSuiteFormat(e1,'13.0');j=new U();j.selectionVariant=JSON.parse(n);j.setSelectionVariant(j.selectionVariant);if(j.getSelectionVariant()){if(this.getModelData&&this.getModelData()){f1=this.getModelData();}j.setValueTexts(U.calculateValueTexts(j.getSelectionVariant(),f1));}return j;};_.prototype.setUiState=function(i,j){var n,e1,f1=null,g1=false,h1=true;if(j){g1=(j.replace===true);h1=(j.strictMode===true);}if(i){f1=i.getSelectionVariant();if(f1){e1=JSON.stringify(f1);}n=i.getValueTexts();}this._setDataSuiteFormat(e1,g1,h1,n);};_.prototype.setDataSuiteFormat=function(i,j){this._setDataSuiteFormat(i,j,true);};_.prototype._setDataSuiteFormat=function(i,j,n,e1){var f1,g1,h1;if(i){f1=new V();g1=f1.convert(i,this,n);if(g1){if(g1.variantId&&this._oVariantManagement){if(this._bIsInitialized){if(this._oVariantManagement.isPageVariant()){this._oVariantManagement._selectVariant(g1.variantId,'DATA_SUITE');}else{this._setFilterVisibility(g1.variantId);}}this._oVariantManagement.setInitialSelectionKey(g1.variantId);}if(g1.payload&&(j||(Object.keys(JSON.parse(g1.payload)).length>0))&&this.setFilterDataAsString){h1=g1.payload;if(e1){h1=U.enrichWithValueTexts(h1,e1);}this.setFilterDataAsString(h1,j);}if(g1.basicSearch&&this._oBasicSearchField&&this._oBasicSearchField.setValue){this._oBasicSearchField.setValue(''||g1.basicSearch);this._updateToolbarText();}}}};_.prototype._setFilterVisibility=function(i){if(this._oVariantManagement.getSelectionKey()!==i){this._oVariantManagement.setInitialSelectionKey(i);var j=this._getStandardVariant();if(j){var n=this._oVariantManagement.getVariantContent(this,i);if(n&&n.filterbar){if(n.version==='V2'){n=this.mergeVariant(j,n);}this._reapplyVisibility(n.filterbar);}}}};_.prototype.applySettings=function(j){if(this._possibleToChangeVariantManagement()){if(j&&j.customData){for(var i=0;i<j.customData.length;i++){var n=j.customData[i];if(n&&n.mProperties&&n.mProperties.key==='pageVariantPersistencyKey'){this._oVariantManagement.setPersistencyKey(n.mProperties.value);this._oVariantManagement.setVisible(true);this._bHostedVariantManagement=true;}}}}if(j&&j.persistencyKey){this._bHostedVariantManagement=true;}this._applyLayoutDataToToolbarButtons();G.prototype.applySettings.apply(this,arguments);};_.prototype._applyLayoutDataToToolbarButtons=function(i){if(this._isPhone()||this._isTablet()||this.getAdvancedMode()||!this.getUseToolbar()){return;}if(!O&&!this._bToolbarLayoutDataRequested){O=sap.ui.require('sap/m/ToolbarLayoutData');if(!O){sap.ui.require(['sap/m/ToolbarLayoutData'],a1.bind(this));this._bToolbarLayoutDataRequested=true;}}if(!O){return;}this._oHideShowButton.setLayoutData(new O({shrinkable:true}));this._oClearButtonOnFB.setLayoutData(new O({shrinkable:true}));this._oRestoreButtonOnFB.setLayoutData(new O({shrinkable:true}));this._oFiltersButton.setLayoutData(new O({shrinkable:true}));this._oSearchButton.setLayoutData(new O({shrinkable:false}));};function a1(i){O=i;this._bToolbarLayoutDataRequested=false;this._applyLayoutDataToToolbarButtons();}_.prototype.setPersistencyKey=function(i){this.setProperty('persistencyKey',i);if(this._possibleToChangeVariantManagement()){this._oVariantManagement.setVisible(true);}return this;};_.prototype._possibleToChangeVariantManagement=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){return true;}return false;};_.prototype.clearVariantSelection=function(){if(this._oVariantManagement){this._oVariantManagement.clearVariantSelection();}};_.prototype.setSearchEnabled=function(i){this.setProperty('searchEnabled',i);if(this._oSearchButton){this._oSearchButton.setEnabled(i);}return this;};_.prototype.setSearchButtonEmphType=function(i){};_.prototype.setSimplifiedMode=function(i){};_.prototype.getSimplifiedMode=function(){if(this.getAdvancedMode()){return false;}return true;};_.prototype.setExpandAdvancedArea=function(i){this.setFilterBarExpanded(i);};_.prototype.getExpandAdvancedArea=function(){return this.getFilterBarExpanded();};_.prototype.setAdvancedMode=function(i){this.setProperty('advancedMode',i);this.toggleStyleClass('sapContrastPlus',!i);if(i){if(this._possibleToChangeVariantManagement()){this._oVariantManagement.setVisible(false);}if(this._oToolbar){this._oToolbar.addStyleClass('sapUiCompFilterBarToolbarBasicSearchNoVariant');if(this._oBasicSearchField){if(this._oToolbar.indexOfContent(this._oBasicSearchField)<0){this._oToolbar.insertContent(this._oBasicSearchField,1);}}}}else{if(this.getPersistencyKey()&&this._possibleToChangeVariantManagement()){if(this._oVariantManagement){this._oVariantManagement.setVisible(true);}if(this._oToolbar){this._oToolbar.removeStyleClass('sapUiCompFilterBarToolbarBasicSearchNoVariant');}}}this._oFiltersButton.setVisible(!i);if(this._oHideShowButton){this._oHideShowButton.setVisible((i&&this._isPhone())?false:true);if(this._oHideShowButton.getVisible()){if(this.getFilterBarExpanded()){this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_VH_HIDE'));this._oHideShowButton.setTooltip(this._oRb.getText('FILTER_BAR_VH_HIDE'));}else{this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_VH_SHOW'));this._oHideShowButton.setTooltip(this._oRb.getText('FILTER_BAR_VH_SHOW'));}}}this._oBasicAreaLayout.setVisible(!i&&this.getFilterBarExpanded());this._oAdvancedPanel.setVisible(i&&this.getFilterBarExpanded());this._adaptButtonsEnablement();return this;};_.prototype.setUseToolbar=function(i){this.setProperty('useToolbar',i);if(!i){this._adaptNewFilterBarDesign();}else{this._recreateToolbar();}return this;};_.prototype._recreateToolbar=function(){if(!this._oToolbar){this._bButtonaAdded=false;if(this._oButtonsVLayout){this._oBasicAreaLayout.removeContent(this._oButtonsVLayout);this._oButtonsVLayout.destroy();this._oButtonsVLayout=null;}this._oToolbar=this._createToolbar(true);this._oToolbar.setLayoutData(new w({span:'L12 M12 S12'}));this.insertContent(this._oToolbar,0);if(this._oVariantManagement){if(this._oVariantManagement instanceof p||((this._oVariantManagement.getId()===(this.getId()+'-variant')))){this._oToolbar.insertContent(this._oVariantManagement,0);}}this._adaptButtonsEnablement();if(this._oBasicSearchFieldContainer){this._oBasicAreaLayout.removeContent(this._oBasicSearchFieldContainer);this._cleanBasicSearchContainer();this.setBasicSearch(this._oBasicSearchField);}this._oHintText=new T({text:this._oRb.getText('FILTER_BAR_NO_FILTERS_ON_FB'),textAlign:s.Center});this._oHintText.setVisible(false);this._oHintText.addStyleClass('sapUiCompFilterBarHint');this._oBasicAreaLayout.addContent(this._oHintText);this._updateToolbarText();}};_.prototype._cleanBasicSearchContainer=function(){if(this._oBasicSearchFieldContainer){var j=this._oBasicSearchFieldContainer.removeAllContent();if(j){for(var i=0;i<j.length;i++){if(j[i]!==this._oBasicSearchField){j[i].destroy();}}}this._oBasicSearchFieldContainer.destroy();this._oBasicSearchFieldContainer=null;}};_.prototype.setHeader=function(i){this.setProperty('header',i);if(this.getUseToolbar()){this._addHeaderToToolbar(i);}return this;};_.prototype._addHeaderToToolbar=function(i){if(this._oToolbar){if(i){if(this._oVariantManagement&&(this._oVariantManagement.getVisible()||this._bHostedVariantManagement)&&(this._oToolbar.indexOfContent(this._oVariantManagement)>-1)){if(!this._oSeparator){if(!Q&&!this._bToolbarSeparatorRequested){Q=sap.ui.require('sap/m/ToolbarSeparator');if(!Q){sap.ui.require(['sap/m/ToolbarSeparator'],b1.bind(this));this._bToolbarSeparatorRequested=true;}}if(Q){this._oSeparator=new Q(this.getId()+'-HeadSep');}}this._oToolbar.removeContent(this._oSeparator);this._oToolbar.insertContent(this._oSeparator,0);this._oToolbar.setHeight('3rem');}if(!this._oText){this._oText=new T(this.getId()+'-HeadText');this._oText.addStyleClass('sapMH4Style');this._oText.addStyleClass('sapUiCompSmartChartHeader');}this._oText.setText(i);this._oToolbar.removeContent(this._oText);this._oToolbar.insertContent(this._oText,0);}else{if(this._oSeparator){this._oToolbar.removeContent(this._oSeparator);this._oSeparator.destroy();delete this._oSeparator;this._oToolbar.setHeight();}if(this._oText){this._oToolbar.removeContent(this._oText);this._oText.destroy();delete this._oText;}}}};function b1(i){Q=i;this._bToolbarSeparatorRequested=false;this._addHeaderToToolbar(this.getHeader());}_.prototype._isNewFilterBarDesign=function(){if(this.getAdvancedMode()){return false;}if(!this.getUseToolbar()){return true;}return false;};_.prototype._adaptNewFilterBarDesign=function(){if(this._isNewFilterBarDesign()){this.setFilterBarExpanded(true);this._oBasicAreaLayout.setVisible(true);if(this.getUseToolbar()){var j=this._oToolbar.getContent();for(var i=j.length-1;i>0;i--){this._oToolbar.removeContent(j[i]);}}else{if(this._oToolbar){this.removeContent(this._oToolbar);this._oToolbar.removeAllContent();this._oToolbar.destroy();this._oToolbar=null;}}if(this._oHintText){this._oBasicAreaLayout.removeContent(this._oHintText);this._oHintText.destroy();this._oHintText=null;}if(this._oHideShowButton){this._oHideShowButton.destroy();this._oHideShowButton=null;}if(!this._bButtonaAdded){this._bButtonaAdded=true;this._addButtonsToBasicArea();}if(this._oBasicSearchField){this.setBasicSearch(this._oBasicSearchField);}}};_.prototype._addButtonsToBasicArea=function(){var i=new y();if(sap.ui.getCore().getConfiguration().getRTL()){i.addStyleClass('sapUiCompFilterBarFloatLeft');}else{i.addStyleClass('sapUiCompFilterBarFloatRight');}var j=new H();j.setLayoutData(new x({margin:true}));i.addContent(new T());i.addContent(j);j.addContent(this._oClearButtonOnFB);this._oClearButtonOnFB.addStyleClass('sapUiCompFilterBarPaddingRightBtn');j.addContent(this._oRestoreButtonOnFB);this._oRestoreButtonOnFB.addStyleClass('sapUiCompFilterBarPaddingRightBtn');j.addContent(this._oFiltersButton);this._oFiltersButton.addStyleClass('sapUiCompFilterBarPaddingRightBtn');j.addContent(this._oSearchButton);this._updateToolbarText();i.addStyleClass('sapUiCompFilterBarPaddingRight');if(this._isPhone()){i.addStyleClass('sapUiCompFilterBarRemoveMinWidth');this._oBasicAreaLayout.insertContent(i,0);}else{i.addStyleClass('sapUiCompFilterBarPaddingTop');this._oBasicAreaLayout.addContent(i);}this._oButtonsVLayout=i;};_.prototype._addBasicSearchToBasicArea=function(i){var n=null;if(this._oBasicSearchFieldContainer){if(this._oBasicSearchFieldContainer.$()){n=this._oBasicSearchFieldContainer.$().width();}if(!n){n=this._oBasicSearchFieldContainer.getWidth();}this._cleanBasicSearchContainer();}if(i){var j=new L({text:'\\u2008'});j.addStyleClass('sapBasicSearchFilter');var e1=this._addControlToBasicAreaContainer(null,i,j);if(e1){e1.setVisible(true);var f1=0;if(this._isPhone()){f1=1;}this._oBasicAreaLayout.insertContent(e1,f1);this._oBasicSearchFieldContainer=e1;if(n){if(typeof n==='string'){this._oBasicSearchFieldContainer.setWidth(n);}else{this._oBasicSearchFieldContainer.setWidth(n+'px');}}}}};_.prototype._setCollectiveSearch=function(i){if(this.getAdvancedMode()){if(this._oToolbar){if(this._oVariantManagement){this._oToolbar.removeContent(this._oVariantManagement);this._unregisterVariantManagement(this._oVariantManagement);this._oVariantManagement=null;}if(this._oCollectiveSearch){this._oToolbar.removeContent(this._oCollectiveSearch);}this._oCollectiveSearch=i;this._oToolbar.insertContent(this._oCollectiveSearch,0);this._oToolbar.removeStyleClass('sapUiCompFilterBarToolbarBasicSearchNoVariant');}}};_.prototype.setBasicSearch=function(i){var j=this;this.setAssociation('basicSearch',i,true);if(typeof i==='string'){i=sap.ui.getCore().byId(i);}if(this._oBasicSearchField&&this._oToolbar){this._oToolbar.removeContent(this._oBasicSearchField);}if(i&&this._isNewFilterBarDesign()){this._addBasicSearchToBasicArea(i);}else{if(i&&this._oToolbar&&(!this._isPhone()||this.getAdvancedMode())){var n=this._indexOfSpacerOnToolbar();this._oToolbar.insertContent(i,n);if(this._isUi2Mode()){i.attachLiveChange(function(e1){j.fireFilterChange(e1);});}}}this._oBasicSearchField=i;return this;};_.prototype._getBasicSearchValue=function(){if(this._oBasicSearchField&&this._oBasicSearchField.getValue){return this._oBasicSearchField.getValue();}return null;};_.prototype._indexOfSpacerOnToolbar=function(){var j=this._oToolbar.getContent(),i;if(j){for(i=0;i<j.length;i++){if(j[i]instanceof k){return i;}}}return 0;};_.prototype.addFilterItem=function(i){var n,j,e1;if(!i){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem' may not be null nor empty\");}n=i.getName();if(!n){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem.name' may not be null nor empty\");}j=i.getControl();if(!j){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem.control' may not be null nor empty\");}this.addAggregation('filterItems',i,true);if(!this._aBasicAreaSelection){this._aBasicAreaSelection=[];}var f1={control:i.getControl(),filterItem:i};this._aBasicAreaSelection.push(f1);e1=new sap.ui.comp.filterbar.FilterGroupItem({label:i.getLabel(),labelTooltip:i.getLabelTooltip(),name:i.getName(),mandatory:i.getMandatory(),visible:i.getVisible(),visibleInFilterBar:i.getVisibleInFilterBar(),partOfCurrentVariant:true,control:i.getControl(),groupName:_.INTERNAL_GROUP,groupTitle:'',hiddenFilter:i.getHiddenFilter()});if(i.data('isCustomField')){e1.data('isCustomField',true);}i.attachChange(this._filterItemChange.bind(this,null));this.addFilterGroupItem(e1);return this;};_.prototype.addFilterGroupItem=function(i){var n,j,e1,f1;if(!i){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItem()'+\" Expected argument 'oFilterGroupItem' may not be null nor empty\");}this.addAggregation('filterGroupItems',i,true);j=i.getGroupName();if(!j){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItems()'+' GroupName may not be null nor empty');}n=i.getName();if(!n){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItems()'+' Name may not be null nor empty');}if(!this._mAdvancedAreaFilter){this._mAdvancedAreaFilter={};}if(!this._mAdvancedAreaFilter[j]){this._mAdvancedAreaFilter[j]={};this._mAdvancedAreaFilter[j].filterItem=null;this._mAdvancedAreaFilter[j].items=[];}if(!this._mAdvancedAreaFilter[j].items){this._mAdvancedAreaFilter[j].items=[];}if(!this._mAdvancedAreaFilter[j].filterItem){this._mAdvancedAreaFilter[j].filterItem=i;}e1={control:i.getControl(),filterItem:i};if(this.getAdvancedMode()||i.getVisibleInFilterBar()){i.setVisibleInFilterBar(true);}else{i.setVisibleInFilterBar(false);}this._mAdvancedAreaFilter[j].items.push(e1);if(!i.getHiddenFilter()){f1=this._addControlToBasicAreaFormContainer(i);if(f1){e1.container=f1;f1.setVisible(i.getVisible()&&i.getVisibleInFilterBar());if(i.getVisibleInFilterBar()){i.setPartOfCurrentVariant(i.getVisibleInFilterBar());}i.attachChange(this._filterGroupItemChange.bind(this));}if(this.getAdvancedMode()){this._rerenderAA();}else{this._showHintText();}}this._adaptButtonsEnablement();return this;};_.prototype._addParameter=function(j){var i,n,e1,f1=false,g1=false,h1=_.INTERNAL_GROUP;j._setParameter(true);j.setVisibleInFilterBar(true);j.setPartOfCurrentVariant(true);this.addAggregation('_parameters',j,true);n={control:j.getControl(),filterItem:j};if(!this._mAdvancedAreaFilter){this._mAdvancedAreaFilter={};}if(!this._mAdvancedAreaFilter[h1]){this._mAdvancedAreaFilter[h1]={};this._mAdvancedAreaFilter[h1].filterItem=null;}if(!this._mAdvancedAreaFilter[h1].items){this._mAdvancedAreaFilter[h1].items=[];}for(i=0;i<this._mAdvancedAreaFilter[h1].items.length;i++){var i1=this._mAdvancedAreaFilter[h1].items[i];if(i1.filterItem._isParameter()){continue;}this._mAdvancedAreaFilter[h1].items.splice(i,0,n);f1=true;break;}if(!f1){this._mAdvancedAreaFilter[h1].items.push(n);if(Object.keys(this._mAdvancedAreaFilter).length>1){g1=true;}}e1=this._addControlToBasicAreaFormContainer(j);if(e1){n.container=e1;e1.setVisible(j.getVisible());}if(f1||g1){this._oBasicAreaLayout.removeContent(e1);this._addContainerInOrder(n.filterItem,n.container);}if(!this.getAdvancedMode()){this._showHintText();}this._adaptButtonsEnablement();return this;};_.prototype._filterItemChange=function(i,j){var n;var e1;var f1;if(j&&j.oSource&&(j.oSource instanceof sap.ui.comp.filterbar.FilterItem)){f1=j.getParameter('propertyName');if(f1==='visibleInFilterBar'||f1==='visible'||f1==='label'||f1==='labelTooltip'||f1==='mandatory'){n=this._determineItemByName(j.oSource.getName(),_.INTERNAL_GROUP);if(n&&n.filterItem){if((f1==='visible')){e1=j.oSource.getVisible();n.filterItem.setVisible(e1);}else if(f1==='visibleInFilterBar'){e1=j.oSource.getVisibleInFilterBar();var g1=this._checkChangePossibleVisibleInFilterBar(n.filterItem,e1);if(g1){n.filterItem.setVisibleInFilterBar(e1);}else{j.oSource.setVisibleInFilterBar(true);}}else if(f1==='label'){n.filterItem.setLabel(j.oSource.getLabel());}else if(f1==='labelTooltip'){n.filterItem.setLabelTooltip(j.oSource.getLabelTooltip());}else if(f1==='mandatory'){e1=j.oSource.getMandatory();n.filterItem.setMandatory(e1);}}}}};_.prototype._filterGroupItemChange=function(i){var j;var n;if(i&&i.oSource){n=i.getParameter('propertyName');if(n==='visibleInFilterBar'||n==='visible'){j=this._determineItemByName(i.oSource.getName(),i.oSource.getGroupName());if(j){if(n==='visibleInFilterBar'){var e1=i.oSource.getVisibleInFilterBar();var f1=this._checkChangePossibleVisibleInFilterBar(i.oSource,e1);if(!f1){i.oSource.setVisibleInFilterBar(true);e1=true;}if(e1){i.oSource.setPartOfCurrentVariant(true);}if(!this.getAdvancedMode()&&!this._oDialog){this._rerenderItem(j);this._adaptLinkText(i.oSource.getGroupName());}}else if(n==='visible'){if(this.getAdvancedMode()&&j.container){j.container.setVisible(true);}else{this._updateToolbarText();this._rerenderGroup(j,i.oSource.getGroupName());}}this._showHintText();}}else if(n==='groupTitle'){if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[i.oSource.getGroupName()]){if(this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer){this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer.setTitle(i.oSource.getGroupTitle());}else{this._adaptGroupTitle(i.oSource.getGroupName());}}}else if(n==='label'){if(!this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer){this._adaptGroupTitleForFilter(i.oSource);}}else if(n==='mandatory'){if(this._oFilterDialog){this._adaptMandatoryForFilter(i.oSource);}}else if((n==='partOfCurrentVariant')&&this.ensureLoadedValueHelpList){var g1=this.determineFilterItemByName(i.oSource.getName());if(g1&&g1.getPartOfCurrentVariant()){this.ensureLoadedValueHelpList(i.oSource.getName());}}if(this.getAdvancedMode()){this._rerenderAA();}}};_.prototype._addContainer=function(i){if(i){if(this._oBasicAreaLayout&&!this._oFilterDialog){if(i.container&&(this._oBasicAreaLayout.indexOfContent(i.container)===-1)){this._addContainerInOrder(i.filterItem,i.container);}}}};_.prototype._addContainerInOrder=function(j,e1){var n,i,f1,g1=this._oBasicAreaLayout.getContent(),h1=-1;if(this._isNewFilterBarDesign()){if(this._isPhone()){h1++;}if(this._oBasicSearchField){h1++;}}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){var i1=this._mAdvancedAreaFilter[n];if(i1&&i1.items){for(i=0;i<i1.items.length;i++){if(!i1.items[i].container){continue;}if(i1.items[i].container===e1){this._oBasicAreaLayout.insertContent(e1,h1+1);return;}f1=g1.indexOf(i1.items[i].container);if(f1>=0){h1=f1;}}}}}};_.prototype._checkChangePossibleVisibleInFilterBar=function(i,j){if(i&&i.getMandatory()&&!j){var n=this._hasFilterValue(i);if(!n){i.setVisibleInFilterBar(true);return false;}}return true;};_.prototype._adaptLinkText=function(i){if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[i]&&this._mAdvancedAreaFilter[i].link){this._setLinkText(i,this._mAdvancedAreaFilter[i].link);}};_.prototype._hasFilterValue=function(i){var j=this._getFiltersWithValues();return this._checkFilterForValue(j,i);};_.prototype._adaptMandatoryForFilter=function(i){var j;var n=i.getGroupName();if(i){j=this._determineItemByName(i.getName(),n);if(j&&j.checkbox&&j.checkbox.getVisible()){var e1=true;if(i.getMandatory()){var f1=this._hasFilterValue(i);if(!f1){e1=false;i.setVisibleInFilterBar(true);}}j.checkbox.setEnabled(e1);}}};_.prototype._adaptGroupTitleForFilter=function(i){var j;var n;if(i&&!i.getHiddenFilter()){j=i.getLabel();n=i.getLabelControl(this.getId());if(this.getConsiderGroupTitle()){if(n&&i.getGroupTitle()){n.setText(j+' ('+i.getGroupTitle()+')');}}else{n.setText(j);}}};_.prototype._adaptGroupTitle=function(j){var i;var n;if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){n=this._mAdvancedAreaFilter[j].items[i];if(n&&n){this._adaptGroupTitleForFilter(n.filterItem);}}}};_.prototype._adaptGroupsTitle=function(){var n=null;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&n!==_.INTERNAL_GROUP){this._adaptGroupTitle(n);}}}};_.prototype.registerGetFiltersWithValues=function(i){this._fRegisterGetFiltersWithValues=i;return this;};_.prototype.registerFetchData=function(i){this._fRegisteredFetchData=i;return this;};_.prototype.registerApplyData=function(i){this._fRegisteredApplyData=i;return this;};_.prototype._isTINAFScenario=function(){if(this._oVariantManagement){if(!this._isUi2Mode()){return true;}}else{if(this._oCollectiveSearch&&this.getAdvancedMode()){return true;}}return false;};_.prototype.fireInitialise=function(){if(this._isTINAFScenario()){this._createVisibleFilters();if(this.getAdvancedMode()){this._ensureFilterLoaded(null);}this._fireInitialiseEvent();}else{this._initializeVariantManagement();}};_.prototype.variantsInitialized=function(){this.fireInitialized();};_.prototype.fireInitialized=function(){this.fireEvent('initialized');};_.prototype._initializeVariantManagement=function(){this._createVisibleFilters();if(this._oVariantManagement&&this.getPersistencyKey()){if(this._isTINAFScenario()){this._oVariantManagement.initialise(this._initialiseVariants,this);}else{this._fInitialiseVariants=this._initialiseVariants.bind(this);this._oVariantManagement.attachInitialise(this._fInitialiseVariants,this);this._oVariantManagement.initialise();}}else{this._fireInitialiseEvent();}};_.prototype._fireInitialiseEvent=function(){try{this.fireEvent('initialise');}catch(i){q.sap.log.error('error during initialise event handling - '+i.message);}this._bIsInitialized=true;this._updateToolbarText();};_.prototype._initialiseVariants=function(){this._fireInitialiseEvent();if(this._oVariantManagement){this._oVariantManagement.currentVariantSetModified(false);}};_.prototype.fireAfterVariantLoad=function(i,j){this._rerenderFilters();var n={context:i,executeOnSelect:j};try{this.fireEvent('afterVariantLoad',n);}catch(ex){q.sap.log.error(\"error during 'afterVariantLoad' event handling - \"+ex.message);}};_.prototype.fireBeforeVariantSave=function(i){var j={context:i};var n=this._getConsiderFilterChanges();if(i){this._setConsiderFilterChanges(false);}this.fireEvent('beforeVariantSave',j);if(i){this._setConsiderFilterChanges(n);}};_.prototype.removeAllFilterItems=function(){var i;var j=[];this._aBasicAreaSelection=null;var n=this._oBasicAreaLayout.getContent();if(n){for(i=0;i<n.length;i++){this._oBasicAreaLayout.removeContent(n[i]);}}if(this._mAdvancedAreaFilter){if((this._mAdvancedAreaFilter[_.INTERNAL_GROUP])&&(this._mAdvancedAreaFilter[_.INTERNAL_GROUP].items)){for(i=0;i<this._mAdvancedAreaFilter[_.INTERNAL_GROUP].items.length;i++){if(this._mAdvancedAreaFilter[_.INTERNAL_GROUP].items[i].filterItem){j.push(this._mAdvancedAreaFilter[_.INTERNAL_GROUP].items[i].filterItem);}}delete this._mAdvancedAreaFilter[_.INTERNAL_GROUP];}if(Object.keys(this._mAdvancedAreaFilter).length===0){this._mAdvancedAreaFilter=null;}}this._destroyItems(j);this._adaptButtonsEnablement();return j;};_.prototype.removeAllFilterGroupItems=function(){var n=null,i;var j=[];for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){if(this._mAdvancedAreaFilter[n].items[i].filterItem){j.push(this._mAdvancedAreaFilter[n].items[i].filterItem);}}delete this._mAdvancedAreaFilter[n];}}if(Object.keys(this._mAdvancedAreaFilter).length===0){this._mAdvancedAreaFilter=null;}}this.__bDeleteMode=true;this._destroyItems(j);this.__bDeleteMode=false;this._adaptButtonsEnablement();return j;};_.prototype.removeAllFilters=function(){this.removeAllFilterItems();this.removeAllFilterGroupItems();this.removeBasicSearch();};_.prototype.removeBasicSearch=function(){this.setBasicSearch(null);};_.prototype.getAllFilterItems=function(j){var i,n=null;var e1=[];var f1,g1;if(!j){this._ensureFilterLoaded(null);}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){f1=this._mAdvancedAreaFilter[n];if(f1.items){for(i=0;i<f1.items.length;i++){g1=f1.items[i];if(g1&&g1.filterItem&&g1.filterItem.getVisible()){if(j){if(g1.filterItem.getVisibleInFilterBar()||g1.filterItem.getPartOfCurrentVariant()){e1.push(g1.filterItem);}}else{e1.push(g1.filterItem);}}}}}}}return e1;};_.prototype._clearErrorState=function(){this._resetFiltersInErrorValueState();};_.prototype.getAggregation=function(n){if(n=='filterGroupItems'&&!this.__bDeleteMode){this._ensureFilterLoaded(null);}return G.prototype.getAggregation.apply(this,arguments);};_.prototype._getFilterInformation=function(){return[];};_.prototype._createVisibleFilters=function(){this._getFilters();};_.prototype._getFilters=function(){this._aFields=this._getFilterInformation();var i,j;if(this._aFields&&this._aFields.length>0){if(!this._mAdvancedAreaFilter){this._mAdvancedAreaFilter={};if(!this.getAdvancedMode()){this._mAdvancedAreaFilter[_.INTERNAL_GROUP]={};this._mAdvancedAreaFilter[_.INTERNAL_GROUP].filterItem=null;this._mAdvancedAreaFilter[_.INTERNAL_GROUP].items=null;}}for(i=0;i<this._aFields.length;i++){j=this._aFields[i];if(j.groupName!==_.INTERNAL_GROUP){if(!this._mAdvancedAreaFilter[j.groupName]){this._mAdvancedAreaFilter[j.groupName]={};this._mAdvancedAreaFilter[j.groupName].groupTitle=j.groupTitle;this._mAdvancedAreaFilter[j.groupName].filterItem=null;this._mAdvancedAreaFilter[j.groupName].items=[];}}if(j.visibleInAdvancedArea||(j.groupName===_.INTERNAL_GROUP)){this._instanciateFilterItem(j);}}}this._adaptButtonsEnablement();};_.prototype.isVisibleInFilterBarByName=function(n){var i,j=this._getFilterMetadata(n);if(j&&j.factory){if((j.hasOwnProperty('visibleInAdvancedArea')&&j.visibleInAdvancedArea)||(j.groupName===_.INTERNAL_GROUP)){return true;}}else{i=this.determineFilterItemByName(n);if(i){return i.getVisibleInFilterBar();}}return false;};_.prototype._getFilterMetadata=function(n){if(this._aFields){for(var i=0;i<this._aFields.length;i++){if(this._aFields[i].fieldName===n){return this._aFields[i];}}}return null;};_.prototype.getNonVisibleCustomFilterNames=function(){if(this._aFields.length>0){return this._getLazyNonVisibleCustomFilterNames();}else{return this._getNonVisibleCustomFilterNames();}};_.prototype._getLazyNonVisibleCustomFilterNames=function(){var i=this,j=[];this._aFields.forEach(function(n){if(n.factory){if(n.isCustomFilterField&&!n.visibleInAdvancedArea){j.push(n.fieldName);}}else if(i._isNonVisibleCustomFilterNamesByName(n.fieldName,n.groupName)){j.push(n.fieldName);}});return j;};_.prototype._isNonVisibleCustomFilterNamesByName=function(n,j){var i,e1;if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){e1=this._mAdvancedAreaFilter[j].items[i];if(e1.filterName&&(e1.filterItem.getName()===n)){return this._isNonVisibleCustomFilterNamesByFilter(e1.filterItem);}}}return false;};_.prototype._isNonVisibleCustomFilterNamesByFilter=function(i){if(i.data('isCustomField')&&!i.getVisibleInFilterBar()){return true;}return false;};_.prototype._getNonVisibleCustomFilterNames=function(){var i=this,j=[],n=this.getAllFilterItems();if(n){n.forEach(function(e1){if(i._isNonVisibleCustomFilterNamesByFilter(e1)){j.push(e1.getName());}});}return j;};_.prototype._ensureFilterLoaded=function(n){var i,j,e1;if(this._aFields&&this._aFields.length>0){for(j=0;j<this._aFields.length;j++){e1=this._aFields[j];if(!e1.factory){continue;}if(n){for(i=0;i<n.length;i++){if((e1.fieldName===n[i].name)&&(e1.groupName===n[i].group)){this._instanciateFilterItem(e1);break;}}}else{this._instanciateFilterItem(e1);}}if(!n){this._aFields=[];}}};_.prototype._instanciateFilterItem=function(i){var j=i.factory;if(j){delete i.factory;j.call(i);}};_.prototype._destroyItems=function(j){if(j&&j.length){for(var i=0;i<j.length;i++){j[i].destroy();}}};_.prototype._reapplyVisibility=function(j){var i,n=null;var e1;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var f1=this._mAdvancedAreaFilter[n];if(f1&&f1.items){for(i=0;i<f1.items.length;i++){e1=f1.items[i];if(e1&&e1.filterItem){this._setPersVisibility(j,e1.filterItem);}}if(n!==_.INTERNAL_GROUP){this._adaptLinkText(n);}}}}}};_.prototype._setPersVisibility=function(i,j){var n,e1;var f1;if(j&&!j.getHiddenFilter()){e1=j.getName();n=j.getGroupName();f1=this._checkForFilterInfo(i,e1,n);if(this._isTINAFScenario()){if(f1){j.setVisibleInFilterBar(f1.visibleInFilterBar);j.setPartOfCurrentVariant(f1.partOfCurrentVariant);if(f1.hasOwnProperty('visible')){j.setVisible(f1.visible);}}else{j.setVisibleInFilterBar(false);if((n===_.INTERNAL_GROUP)||j._isParameter()){j.setPartOfCurrentVariant(true);}else{j.setPartOfCurrentVariant(false);}}}else{if(f1&&(f1.visibleInFilterBar!==undefined)){j.setVisibleInFilterBar((f1.visibleInFilterBar));j.setPartOfCurrentVariant((f1.partOfCurrentVariant));}else{if((n!==_.INTERNAL_GROUP)&&f1&&(f1.group===n)){j.setVisibleInFilterBar((f1!==null));}}}if(n===_.INTERNAL_GROUP){j.setPartOfCurrentVariant(true);}if(j){var g1=this.determineControlByFilterItem(j,true);if(g1&&g1.getValueState&&(g1.getValueState()!==u.None)){g1.setValueState(u.None);}}}};_.prototype._checkForFilterInfo=function(j,n,e1){var i;var f1=null;if(j&&j.length){for(i=0;i<j.length;i++){if(j[i].name===n){if((j[i].group===e1)){f1=j[i];break;}}}}return f1;};_.prototype._createVariantManagement=function(){var i=new p(this.getId()+'-variantUi2',{});var j=new o({type:'filterBar',keyName:'persistencyKey'});j.setControl(this);i.addPersonalizableControl(j);i.addStyleClass('sapUiCompFilterBarMarginLeft');return i;};_.prototype.fireAssignedFiltersChanged=function(){this.fireEvent('assignedFiltersChanged');};_.prototype.retrieveFiltersWithValuesAsText=function(){var j,n,e1=this.retrieveFiltersWithValues(),f1,g1=this.getBasicSearchValue();if(g1&&e1){e1.splice(0,0,this._oRb.getText('FILTER_BAR_ASSIGNED_FILTERS_SEARCH_TERM'));}if(!e1||(e1.length===0)){j=this._oRb.getText('FILTER_BAR_ASSIGNED_FILTERS_ZERO');}else{if(!this._isPhone()){f1=Math.min(5,e1.length);n='';for(var i=0;i<f1;i++){n+=e1[i];if(i<(f1-1)){n+=', ';}}j=this._oRb.getText('FILTER_BAR_ASSIGNED_FILTERS',[e1.length,n]);if(f1<e1.length){j+=', ...';}}else{j=this._oRb.getText('FILTER_BAR_ASSIGNED_FILTERS_MOBILE',[e1.length]);}}return j;};_.prototype.retrieveFiltersWithValues=function(){var i,j=[];var n=this._getFiltersWithValues();if(n){for(i=0;i<n.length;i++){if(n[i].getVisible()&&n[i].getPartOfCurrentVariant()){j.push(n[i].getLabel());}}}return j;};_.prototype._getFiltersWithValues=function(){if(this._fRegisterGetFiltersWithValues){try{return this._fRegisterGetFiltersWithValues();}catch(i){q.sap.log.error('callback for obtaining the filter count throws an exception');}}return null;};_.prototype._getFiltersWithValuesCount=function(){var n=0;var i=this.retrieveFiltersWithValues();n=i.length;if(this._oBasicSearchField&&this._oBasicSearchField.getValue&&this._oBasicSearchField.getValue()){n++;}return n;};_.prototype._checkFilterForValue=function(j,n){var i;if(j){for(i=0;i<j.length;i++){if(j[i]===n){return true;}}}return false;};_.prototype._handleVisibilityOfToolbar=function(){if(this.getAdvancedMode()&&this._oToolbar){var j=false;var n=this._oToolbar.getContent();for(var i=0;i<n.length;i++){if(n[i]instanceof k){continue;}if(n[i].getVisible&&n[i].getVisible()){j=true;break;}}this._oToolbar.setVisible(j);}};_.prototype._toggleHideShow=function(){this.setFilterBarExpanded(!this.getFilterBarExpanded());};_.prototype._updateToolbarText=function(){var i=this._isNewFilterBarDesign()?'FILTER_BAR_ADAPT_FILTERS':'FILTER_BAR_ACTIVE_FILTERS';var j=this._isNewFilterBarDesign()?'FILTER_BAR_ADAPT_FILTERS_ZERO':'FILTER_BAR_ACTIVE_FILTERS_ZERO';var n=this._getFiltersWithValuesCount();var e1=n?(this._oRb.getText(i,[n])):(this._oRb.getText(j));this._oFiltersButton.setText(e1);this._oFiltersButton.setTooltip(e1);this.fireAssignedFiltersChanged();};_.prototype.setFilterBarExpanded=function(i){var j;if(this.getAdvancedMode()){this.setProperty('filterBarExpanded',i);if(this._oHideShowButton){if(i){this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_VH_HIDE'));this._oHideShowButton.setTooltip(this._oRb.getText('FILTER_BAR_VH_HIDE'));}else{this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_VH_SHOW'));this._oHideShowButton.setTooltip(this._oRb.getText('FILTER_BAR_VH_SHOW'));}}this._calcVisibilityGoButton();this._oAdvancedPanel.setVisible(i);}else{if(this._isPhone()&&this.getUseToolbar()){j=false;}else{j=i;}this.setProperty('filterBarExpanded',j);if(this._isNewFilterBarDesign()){return;}if(this._isPhone()){if(this._oHideShowButton){this._oHideShowButton.setVisible(false);}this._calcVisibilityGoButton();this._oBasicAreaLayout.setVisible(false);}else{if(this._oHideShowButton){if(j){this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_HIDE'));this._oHideShowButton.setTooltip(this._oRb.getText('FILTER_BAR_HIDE'));}else{this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_SHOW'));this._oHideShowButton.setTooltip(this._oRb.getText('FILTER_BAR_SHOW'));}this._oHideShowButton.setVisible(true);}this._calcVisibilityGoButton();if(this._oHideShowButton){if(this._oHideShowButton.getEnabled()){this._oBasicAreaLayout.setVisible(j);}else{this._oBasicAreaLayout.setVisible(false);}}}}this._updateToolbarText();};_.prototype._selectionChangedInFilterDialog=function(i,j){j.setVisibleInFilterBar(i.getSelected());if(this._getConsiderFilterChanges()&&this._oVariantManagement&&!this._oVariantManagement.getInErrorState()){this._oVariantManagement.currentVariantSetModified(true);}this._bDirtyViaDialog=true;};_.prototype._mandatoryFilterChange=function(i){if(!i){return;}var j=i.getParameters();if(!j||!j.oSource){return;}var n=this._determineByControl(j.oSource);if(n&&n.checkbox){var e1=n.filterItem;if(!e1.getMandatory()){return;}var f1=this._hasFilterValue(e1);if(e1.getVisibleInFilterBar()){if(f1){n.checkbox.setEnabled(true);}else{n.checkbox.setEnabled(false);}}else{if(!f1){e1.setVisibleInFilterBar(true);n.checkbox.setSelected(true);n.checkbox.setEnabled(false);}}}};_.prototype._createFiltersAndAdaptBasicArea=function(){var i;this._setConsiderFilterChanges(false);this._recreateBasicAreaContainer(true);i=this._createFilters();var j=this._retrieveVisibleAdvancedItems();if(this._oAddToFilterBarLabel){if(!j||(j.length<=0)){this._oAddToFilterBarLabel.setVisible(false);}else{this._oAddToFilterBarLabel.setVisible(true);}}this._setConsiderFilterChanges(true);return i;};_.prototype._determineNotAssignedFiltersCount=function(j){var n=0,i,e1;if(this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){e1=this._mAdvancedAreaFilter[j].items[i].filterItem;if(!e1.getVisible()||e1.getHiddenFilter()){continue;}if(!e1.getPartOfCurrentVariant()&&!e1.getVisibleInFilterBar()){n++;}}}return n;};_.prototype._rerenderGroup=function(j,n){var i;var e1;this._rerenderItem(j);this._adaptLinkText(n);if(j.formelement){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items&&this._mAdvancedAreaFilter[n].formcontainer){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){e1=this._mAdvancedAreaFilter[n].items[i].filterItem;if(e1&&e1.getVisible()){this._mAdvancedAreaFilter[n].formcontainer.setVisible(true);return;}}this._mAdvancedAreaFilter[n].formcontainer.setVisible(false);}}};_.prototype._setLinkTextAndCount=function(i,j,n){var e1;if(n){e1=this._oRb.getText('FILTER_BAR_SHOW_MORE_FILTERS',[n]);}else{e1=this._oRb.getText('FILTER_BAR_SHOW_CHANGE_FILTERS');}j.setText(e1);};_.prototype._setLinkText=function(i,j){var n=this._determineNotAssignedFiltersCount(i);this._setLinkTextAndCount(i,j,n);};_.prototype._createLink=function(i,j){var n,e1=this;n=K.replace(i);var f1=new d(this.getId()+'-link-'+n);this._setLinkText(i,f1);f1.attachPress(function(){e1._createAddRemoveFiltersDialog(i,f1);});if(j){f1.addAriaLabelledBy(j);}return f1;};_.prototype._isPhone=function(){return(D.system.phone)?true:false;};_.prototype._isTablet=function(){return(D.system.tablet&&!D.system.desktop)?true:false;};_.prototype._createForm=function(i){var j=this;var n=null;n=F.extend('sap.ui.comp.filterbar.Form',{metadata:{},renderer:function(e1,f1){J.render.apply(this,arguments);}});(function(){n.prototype.contentOnAfterRendering=function(){F.prototype.contentOnAfterRendering.apply(this,arguments);j._adaptStyleSheet();if(j._oFilterDialog&&j._oFilterDialog.isOpen()&&(j._isNewFilterBarDesign()||!j._isPhone())){j._repositionAddToFilterBarLabel();}};}());return new n({editable:true,layout:i});};_.prototype._adaptStyleSheet=function(){var i,j;var e1,f1,n=null;for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){e1=this._mAdvancedAreaFilter[n].items[i];if(e1&&e1.control&&e1.control instanceof M){f1=e1.control.$();if(f1){j=f1.parent().css('overflow');if(j!=='visible'){f1.parent().css({'overflow':'visible'});}}}}}}};_.prototype._addFieldToFiltersDialog=function(i,j,n){var e1,f1,g1,h1;if(!i&&!i.filterItem||i.filterItem.getHiddenFilter()){return;}var i1=this._determineVisibility(i.filterItem);if(i.control.getWidth){i.width=i.control.getWidth();if(i.control.setWidth){i.control.setWidth('100%');}}e1=i.filterItem.getLabelControl(this.getId());if(this.getConsiderGroupTitle()){e1.setText(i.filterItem.getLabel());}f1=new C({tooltip:this._oRb.getText('FILTER_BAR_SHOW_IN_FILTERBAR')});f1.setSelected(i.filterItem.getVisibleInFilterBar());if(i.filterItem.getMandatory()){h1=this._checkFilterForValue(n,i.filterItem);if(!h1&&i.filterItem.getVisibleInFilterBar()){f1.setEnabled(false);}}f1.attachSelect(this._selectionChangedInFilterDialog.bind(this,f1,i.filterItem));if(this._isNewFilterBarDesign()||!this._isPhone()){i.control.setLayoutData(new w({span:'L8 M8 S11'}));f1.setLayoutData(new w({span:'L1 M1 S1'}));}else{i.control.setLayoutData(new w({span:'L8 M8 S12'}));f1.setVisible(false);}g1=new A({label:e1,fields:[i.control,f1]});g1.setVisible(i1);i.formelement=g1;i.checkbox=f1;j.addFormElement(g1);};_.prototype._createHeaderAddToFilterBar=function(i){var j,n;if(this._isNewFilterBarDesign()||!this._isPhone()){j=new L({});j.setLayoutData(new w({span:'L10 M10'}));j.addStyleClass('sapUiCompFilterBarAddFilterLabel');this._oAddToFilterBarLabel=j;n=new A({label:j,fields:[]});i.addFormElement(n);j.setLabelFor(null);}};_.prototype._addBasicSearchAddToFilterBar=function(i){var j;if(!this._isPhone()){this._oBasicSearchFieldClone=this._oBasicSearchField.clone();if(this._oToolbar){this._replaceOnToolbar(this._oBasicSearchField,this._oBasicSearchFieldClone);}else{this._addBasicSearchToBasicArea(this._oBasicSearchFieldClone);}}else{if(this.getAdvancedMode()){this._oBasicSearchFieldClone=this._oBasicSearchField.clone();}}if(this._isNewFilterBarDesign()||!this._isPhone()){this._oBasicSearchField.setLayoutData(new w({span:'L8 M8 S11',indent:'L3 M3 S0'}));}else{this._oBasicSearchField.setLayoutData(new w({span:'L8 M8 S12'}));}if(this._isPhone()&&this.getAdvancedMode()){j=new A({fields:[this._oBasicSearchFieldClone]});}else{j=new A({fields:[this._oBasicSearchField]});}i.addFormElement(j);};_.prototype._isGroupEmpty=function(i){var j=true;i.some(function(n){if(n.filterItem&&n.filterItem.getVisible()&&!n.filterItem.getHiddenFilter()){j=false;return true;}return false;});return j;};_.prototype._createFilters=function(){var j=this,n=null,i,e1;var f1=null,g1,h1,i1;var j1,k1,l1=true,m1;this._oClonedVM=null;var n1=new E();n1.setColumnsL(1);n1.setLabelSpanL(3);n1.setColumnsM(1);n1.setLabelSpanM(3);var o1=this._createForm(n1);o1.addStyleClass('sapUiCompFilterBarDialogForm');if(this._possibleToChangeVariantManagement()&&this._oToolbar){var p1=this._oToolbar.indexOfContent(this._oVariantManagement);if(p1>=0){this._oClonedVM=this._oVariantManagement.clone();this._oClonedVM._setSelectionByKey(this._oVariantManagement.getSelectionKey());this._replaceOnToolbar(this._oVariantManagement,this._oClonedVM);f1=new z();this._oVariantManagement.setLayoutData(new w({span:'L10 M10 S12'}));g1=new A({fields:this._oVariantManagement});f1.addFormElement(g1);o1.addFormContainer(f1);}o1.addStyleClass('sapUiCompFilterBarGroupTitle');}if(this._oBasicSearchField&&!this._isNewFilterBarDesign()){if(!f1){f1=new z();o1.addFormContainer(f1);}this._addBasicSearchAddToFilterBar(f1);}this._ensureFilterLoaded(null);var q1=this._getFiltersWithValues();this._fRegisteredFilterChangeHandlers=function(r1){j._mandatoryFilterChange(r1);};this.attachFilterChange(this._fRegisteredFilterChangeHandlers);this._oVariant.content=this.fetchVariant();if(this._oVariantManagement){this._oVariant.key=this._oVariantManagement.getSelectionKey();this._oVariant.modified=this._oVariantManagement.currentVariantGetModified();}this._oInitialVariant={};q.extend(true,this._oInitialVariant,this._oVariant);for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){if(n===_.INTERNAL_GROUP){e1=this._oRb.getText('FILTER_BAR_BASIC_GROUP');}else{e1=this._mAdvancedAreaFilter[n].filterItem.getGroupTitle();}k1=new t({text:e1});f1=new z({title:k1});if(l1&&!this._isGroupEmpty(this._mAdvancedAreaFilter[n].items)){l1=false;this._createHeaderAddToFilterBar(f1);if(this._oBasicSearchField&&this._isNewFilterBarDesign()){this._addBasicSearchAddToFilterBar(f1);}}m1=0;this._mAdvancedAreaFilter[n].formcontainer=f1;for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){i1=this._mAdvancedAreaFilter[n].items[i];this._addFieldToFiltersDialog(i1,f1,q1);if(!i1.filterItem.getVisible()){m1++;}}h1=f1.getFormElements();if(h1&&h1.length>0){if((n!==_.INTERNAL_GROUP)&&!this.getAdvancedMode()){j1=this._createLink(n,k1);if(j1){if(this._isPhone()){j1.setLayoutData(new w({span:'L8 M8 S12'}));}else{j1.setLayoutData(new w({span:'L8 M8 S12',indent:'L3 M3 S0'}));}g1=new A({fields:[j1]});this._mAdvancedAreaFilter[n].link=j1;f1.addFormElement(g1);}if(m1===h1.length){f1.setVisible(false);}}o1.addFormContainer(f1);}}}return o1;};_.prototype._replaceOnToolbar=function(i,n){var j;if(this._oToolbar){j=this._oToolbar.indexOfContent(i);if(j>-1){this._oToolbar.insertContent(n,j);this._oToolbar.removeContent(i);}}};_.prototype._recreateBasicAreaContainer=function(j){var n=null,i;var e1,f1;var g1,h1,i1;if(this._possibleToChangeVariantManagement()&&this._oToolbar&&this._oClonedVM&&this._oVariantManagement){this._replaceOnToolbar(this._oClonedVM,this._oVariantManagement);this._oClonedVM.destroy();this._oClonedVM=null;}if(!this._isPhone()&&this._oToolbar&&this._oBasicSearchFieldClone&&this._oBasicSearchField){this._replaceOnToolbar(this._oBasicSearchFieldClone,this._oBasicSearchField);this._oBasicSearchFieldClone.destroy();this._oBasicSearchFieldClone=null;}var j1=this._oBasicAreaLayout.removeAllContent();if(!j){if(j1){var k1=j1.length;var l1=0;if(this._isNewFilterBarDesign()){if(this._isPhone()){l1++;}else{k1--;}}for(i=l1;i<k1;i++){if(j1[i]!==this._oHintText){j1[i].destroy();}}}}if(this._isNewFilterBarDesign()){this._addBasicSearchToBasicArea(this._oBasicSearchField);this._addButtonsToBasicArea();}for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){g1=this._mAdvancedAreaFilter[n].items[i].filterItem;if(g1.getHiddenFilter()){continue;}i1=null;if(j){if(!g1.getVisible()||!g1.getVisibleInFilterBar()){continue;}h1=this._mAdvancedAreaFilter[n].items[i].container;if(h1){if(h1.$()&&h1.$().width()){i1=h1.$().width();}h1.removeAllContent();h1.destroy();}e1=this._mAdvancedAreaFilter[n].items[i].control.clone();f1=g1.getLabelControl(this.getId()).clone();f1.setLabelFor(null);if(this.getConsiderGroupTitle()){g1.getLabelControl(this.getId()).setText(g1.getLabel());}}else{e1=this._mAdvancedAreaFilter[n].items[i].control;f1=g1.getLabelControl(this.getId());if(this._mAdvancedAreaFilter[n].items[i].width){e1.setWidth(this._mAdvancedAreaFilter[n].items[i].width);}}h1=this._addControlToBasicAreaContainer(g1,e1,f1);if(h1){h1.setVisible(g1.getVisible()&&g1.getVisibleInFilterBar());this._mAdvancedAreaFilter[n].items[i].container=h1;if(j&&i1){h1.setWidth(i1+'px');}}}}}};_.prototype._searchRequested=function(){var i,j=false;if(this.verifySearchAllowed){i=this.verifySearchAllowed();if(i.hasOwnProperty('pending')){return;}else if(i.hasOwnProperty('error')||i.hasOwnProperty('mandatory')){j=true;}}if(j){this._bOKFiltersDialogTriggered=false;if(this._oFiltersSearchField.getValue()){this._resetFilterBarSearch();}this._activateMainContent();}else{this._bOKFiltersDialogTriggered=true;if(!this.isLiveMode||!this.isLiveMode()){this.search();}else{this._oFilterDialog.close();}}};_.prototype._activateMainContent=function(){var i=this.getFilterDialogContent();if(i&&(i.length>1)){this.addFilterDialogContent(i[0]);}};_.prototype.fireSearch=function(i){if(this._oFilterDialog&&this._bOKFiltersDialogTriggered){this._oFilterDialog.close();}this.fireEvent('search',i);};_.prototype._closeDialogAndRestoreFilterBar=function(i){this._sSearchCriteriaInFiltersDialog=null;this._oVariant={};i.removeAllFormContainers();this._recreateBasicAreaContainer();this._deleteProperties();this._adaptGroupsTitle();if(this._fRegisteredFilterChangeHandlers){this.detachFilterChange(this._fRegisteredFilterChangeHandlers);this._fRegisteredFilterChangeHandlers=null;}if(this.isLiveMode&&this.isLiveMode()){this.search();}this._updateToolbarText();};_.prototype._variantSave=function(i){var j;this._oVariant={};this.fireBeforeVariantSave();if(this._oVariantManagement&&this._oFilterDialog){j=this._oVariantManagement.getSelectionKey();this._oVariant.key=j;this._oVariant.modified=false;this._oVariant.content=this._oVariantManagement.getVariantContent(this,j);}};_.prototype._afterVariantSave=function(i){this.fireAfterVariantSave();};_.prototype._variantSavePressed=function(i){this._bVariantSavePressed=true;if(this._oVariantManagement){var j=this._oVariantManagement.getSelectionKey();var n=this._oVariantManagement.getItemByKey(this._oVariantManagement.getSelectionKey());if(!this._oVariantManagement._isIndustrySolutionModeAndVendorLayer()&&((j===this._oVariantManagement.getStandardVariantKey())||(n&&n.getReadOnly&&n.getReadOnly()))){this._oVariantManagement._openSaveAsDialog();}else{this._oVariantManagement._variantSavePressed();}this._bDirtyViaDialog=false;if(this._oInitialVariant&&this._oVariantManagement._getVariantContent){this._oInitialVariant.content=this._oVariantManagement._getVariantContent(this,j);}}};_.prototype._findFirstVisibleGroup=function(){var n=null;for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].formcontainer&&this._mAdvancedAreaFilter[n].formcontainer.getVisible()){return this._mAdvancedAreaFilter[n].formcontainer.getTitle();}}return null;};_.prototype._checkForCollision=function(i,j){var n=this._oFilterDialog.getDomRef('scroll');this._oLabelTextWidth=Math.max(j.width(),this._oLabelTextWidth);if(!this._oLabelTextWidth){return false;}if(!(i.position()&&i.width())){return false;}if(sap.ui.getCore().getConfiguration().getRTL()){if((this._oLabelTextWidth>0)&&n&&((n.clientWidth-this._oLabelTextWidth-32)<i.position().left)){return false;}}else{if((this._oLabelTextWidth>0)&&n&&(i.position().left+i.width())>=(n.clientWidth-this._oLabelTextWidth-32)){return false;}}return false;};_.prototype._repositionAddToFilterBarLabel=function(){if(this._isNewFilterBarDesign()||!this._isPhone()&&this._oAddToFilterBarLabel.getVisible()){var i=this._findFirstVisibleGroup();if(i&&this._oAddToFilterBarLabel){var j=i.$();if(j){var n=this._oAddToFilterBarLabel.$();if(n){j.css({display:'inline'});if(this._checkForCollision(j,n)){this._oAddToFilterBarLabel.setVisible(false);return;}var e1=j.offset();var f1=n.offset();if(f1&&e1){f1.top=Math.ceil(e1.top);n.offset(f1);if(!sap.ui.getCore().getConfiguration().getRTL()){n.css({left:'auto'});}}}}}if(this._oAddToFilterBarLabel&&!this._oAddToFilterBarLabel.getText()){this._oAddToFilterBarLabel.setText(this._oRb.getText('FILTER_BAR_SHOW_IN_FILTERBAR'));}}};_.prototype._filterSetInErrorState=function(i){if(this._oFilterDialog&&this._oFilterDialog.isOpen()){if(this._getConsiderFilterChanges()&&this._oVariantManagement&&!this._oVariantManagement.getInErrorState()){this._oVariantManagement.currentVariantSetModified(true);}this._bDirtyViaDialog=true;}};_.prototype._cancelFilterDialog=function(i){if(i&&this._oVariantManagement){this._bDirtyViaDialog=this._oVariantManagement._bSaveCanceled;}if(!this.getPersistencyKey()&&(this.getUseSnapshot()===false)){this.fireCancel();return;}if(this._oInitialVariant&&this._oInitialVariant.content&&this._bDirtyViaDialog){this._resetFiltersInErrorValueState();this.applyVariant(this._oInitialVariant.content,'CANCEL');if(this._oVariantManagement){if(!this._oVariantManagement.isPageVariant()){this._oVariantManagement._setSelectionByKey(this._oInitialVariant.key);}this._oVariantManagement.currentVariantSetModified(this._oInitialVariant.modified);}this.fireCancel();}};_.prototype._resetFiltersInErrorValueState=function(){var n;n=this._retrieveCurrentSelectionSet(true,true);n.forEach(function(i){if(i.control&&i.control.setValueState&&i.control.getValueState){if(i.control.getValueState()===u.Error){if(i.control.setValue){i.control.setValue('');}i.control.setValueState(u.None);}}});};_.prototype.showFilterDialog=function(){if(!this._oFilterDialog){this._showFilterDialog();}};_.prototype.addFilterDialogContent=function(i){if(this._oFilterDialog&&i){var n=this._oFilterDialog.indexOfContent(i);if(n<0){this._oFilterDialog.addContent(i);}return this._setFilterDialogActiveContent(i);}return null;};_.prototype.getFilterDialogContent=function(){if(this._oFilterDialog){return this._oFilterDialog.getContent();}return null;};_.prototype._setFilterDialogActiveContent=function(n){var i=false;if(this._oFilterDialog){this.getFilterDialogContent().forEach(function(j){if(n===j){j.setVisible(true);i=true;}else{j.setVisible(false);}});if(i){return n;}}return null;};_.prototype._getFilterDialogActiveContent=function(){var i=null;if(this._oFilterDialog){this.getFilterDialogContent().some(function(j){if(j.getVisible()){i=j;return true;}return false;});}return i;};_.prototype.setContentWidth=function(n){if(this._oFilterDialog){this._oFilterDialog.setContentWidth(n+'px');}};_.prototype.setContentHeight=function(n){if(this._oFilterDialog){this._oFilterDialog.setContentHeight(n+'px');}};_.prototype._showFilterDialog=function(){if((!X||!W)&&!this._bDialogRequested){X=sap.ui.require('sap/m/Dialog');W=sap.ui.require('sap/m/OverflowToolbarLayoutData');if(!X){sap.ui.require(['sap/m/Dialog','sap/m/OverflowToolbarLayoutData'],c1.bind(this));this._bDialogRequested=true;}}if(!X||!W){return;}var i=this;this._oFilterDialog=new sap.m.Dialog(this.getId()+'-adapt-filters-dialog',{stretch:D.system.phone,resizable:true,draggable:true});this._oFilterDialog.isPopupAdaptationAllowed=function(){return false;};this._oFilterDialog.setParent(this);this._oFilterDialog.addStyleClass('sapUiPopupWithPadding');if(this.$().closest('.sapUiSizeCompact').length>0){this._oFilterDialog.addStyleClass('sapUiSizeCompact');}this._oFilterDialog.addStyleClass('sapUiCompFilterBarDialog');if(!this._isPhone()){this._oFilterDialog.addStyleClass('sapUiCompFilterBarDialogNonPhone');}var j='FILTER_BAR_ADV_FILTERS_DIALOG';if(this._isNewFilterBarDesign()){j='FILTER_BAR_ADAPT_FILTERS_DIALOG';}this._oFilterDialog.setTitle(this._oRb.getText(j));this._oFilterDialog.addStyleClass('sapMH4FontSize');this._oFilterDialog.addStyleClass('sapMH4Style');this._oFilterDialog.setVerticalScrolling(true);var n=new B();this._oFiltersSearchField=new S({placeholder:this._oRb.getText('FILTER_BAR_SEARCH')});n.addContentRight(this._oFiltersSearchField);this._oFilterDialog.setSubHeader(n);var e1=this._createFiltersAndAdaptBasicArea();if(!e1){q.sap.log.error('Content for Advanced Filters Dialog could not be created');return;}this._oFilterDialog.addContent(e1);this._oFiltersSearchField.attachLiveChange(function(f1){if(this._oFilterDialog){this.fireFiltersDialogSearchForFilters(f1.getParameters());this._triggerSearchInFilterDialog(f1);}}.bind(this));this._bOKFiltersDialogTriggered=false;this._bVariantSaveFiltersDialogTriggered=false;this._oFilterDialog.bDoNotAddToBasicArea=true;this._oFilterDialog.attachBeforeOpen(function(){this.fireFiltersDialogBeforeOpen();}.bind(this));this._oFilterDialog.attachAfterOpen(function(){if(!this._isPhone()&&(e1===this._getFilterDialogActiveContent())){var f1=i._oFilterDialog.getDomRef('scroll');if(f1){this.setContentWidth(f1.clientWidth);this.setContentHeight(f1.clientHeight);}}}.bind(this));this._oFilterDialog.attachBeforeClose(function(){if(!i._bOKFiltersDialogTriggered){i._cancelFilterDialog(i._bVariantSaveFiltersDialogTriggered);}delete i._oFilterDialog.bDoNotAddToBasicArea;i._closeDialogAndRestoreFilterBar(e1);});this._oFilterDialog.attachAfterClose(function(){i._oBasicAreaLayout.rerender();i._oInitialVariant=null;i._oFilterDialog.destroy();i._oFilterDialog=null;i._showHintText();var f1={};f1.context=i._bOKFiltersDialogTriggered?'SEARCH':'CANCEL';i.fireFiltersDialogClosed(f1);if(i._isNewFilterBarDesign()){i._fHandleResize();}});this._oFilterDialog.setInitialFocus(this._oFiltersSearchField);this._addFilterDialogButtons(e1);this._bDirtyViaDialog=false;this._oFilterDialog.open();};function c1(i,j){X=i;W=j;this._bDialogRequested=false;this._showFilterDialog();}_.prototype.isDialogOpen=function(){return this._oFilterDialog?true:false;};_.prototype._addFilterDialogButtons=function(i){var j=this;var n;var e1=null,f1,g1,h1,i1;h1=new a(this.getId()+'-btnGoFilterDialog',{text:this._oRb.getText('FILTER_BAR_GO'),press:function(){h1.focus();j._dialogSearch(i);},layoutData:new W({priority:Z.NeverOverflow}),type:b.Emphasized});this._oFilterDialog.addButton(h1);if(!this.getAdvancedMode()){if(this._oVariantManagement&&this._oVariantManagement.getVisible()){this._oVariantManagement._delayedControlCreation();if(this._oVariantManagement.oVariantSave){e1=new a(this.getId()+'-btnSaveFilterDialog',{text:this._oRb.getText('VARIANT_MANAGEMENT_SAVE'),enabled:this._oVariantManagement.oVariantSave.getEnabled(),press:function(){j._dialogVariantSave(i);},layoutData:new W({priority:Z.Low})});n=this._oVariantManagement.getModel('save_enablement');e1.setModel(n);e1.bindProperty('enabled','/enabled');this._oFilterDialog.addButton(e1);}}f1=new a(this.getId()+'-btnClearFilterDialog',{text:this._oRb.getText('FILTER_BAR_CLEAR'),visible:this.getShowClearButton(),press:function(){j._dialogClear(i);},layoutData:new W({priority:Z.Low})});this._oFilterDialog.addButton(f1);g1=new a(this.getId()+'-btnRestoreFilterDialog',{text:this._oRb.getText('FILTER_BAR_RESTORE'),visible:this.getShowRestoreButton(),press:function(){j._dialogRestore(i);},layoutData:new W({priority:Z.Low})});if(n){g1.setEnabled(this._oVariantManagement.oVariantSave.getEnabled());g1.setModel(n);g1.bindProperty('enabled','/enabled');}this._oFilterDialog.addButton(g1);i1=new a(this.getId()+'-btnCancelFilterDialog',{text:this._oRb.getText('FILTER_BAR_CANCEL'),press:function(){j._dialogCancel(i);},layoutData:new W({priority:Z.High})});this._oFilterDialog.addButton(i1);}};_.prototype._dialogSearch=function(i){this.fireFiltersDialogSearch();this._searchRequested();};_.prototype._dialogCancel=function(i){if(this._oFilterDialog){this._bOKFiltersDialogTriggered=false;this.fireFiltersDialogCancel();this._oFilterDialog.close();}};_.prototype._dialogVariantSave=function(i){this._bVariantSaveFiltersDialogTriggered=true;this._variantSavePressed();};_.prototype._dialogRestore=function(i){this.reset();if(this._oVariantManagement&&!this._oVariantManagement.getInErrorState()){this._oVariantManagement.currentVariantSetModified(false);}};_.prototype._dialogClear=function(i){this.clear();};_.prototype._createButtons=function(i){var j=this;this._oHideShowButton=new a(this.getId()+'-btnShowHide',{text:this._oRb.getText('FILTER_BAR_HIDE'),tooltip:this._oRb.getText('FILTER_BAR_HIDE'),type:b.Transparent,enabled:false});this._oHideShowButton.attachPress(function(){j._toggleHideShow();});i.addContent(this._oHideShowButton);this._oClearButtonOnFB=new a(this.getId()+'-btnClear',{visible:this.getShowClearOnFB(),text:this._oRb.getText('FILTER_BAR_CLEAR'),tooltip:this._oRb.getText('FILTER_BAR_CLEAR'),type:b.Transparent,enabled:false});this._oClearButtonOnFB.attachPress(function(){j.clear();});i.addContent(this._oClearButtonOnFB);this._oRestoreButtonOnFB=new a(this.getId()+'-btnRestore',{visible:this.getShowRestoreOnFB(),text:this._oRb.getText('FILTER_BAR_RESTORE'),tooltip:this._oRb.getText('FILTER_BAR_RESTORE'),type:b.Transparent,enabled:false});this._oRestoreButtonOnFB.attachPress(function(){j.reset();if(j._oVariantManagement){j._oVariantManagement.currentVariantSetModified(false);}});i.addContent(this._oRestoreButtonOnFB);this._oFiltersButton=new a(this.getId()+'-btnFilters',{visible:this.getShowFilterConfiguration()||this._isPhone(),text:this._oRb.getText('FILTER_BAR_ACTIVE_FILTERS_ZERO'),tooltip:this._oRb.getText('FILTER_BAR_ACTIVE_FILTERS_ZERO'),type:b.Transparent,enabled:false});this._oFiltersButton.attachPress(function(){j._oFiltersButton.focus();j._showFilterDialog();});i.addContent(this._oFiltersButton);this._oSearchButton=new a(this.getId()+'-btnGo',{visible:this.getShowGoOnFB(),text:this._oRb.getText('FILTER_BAR_GO'),tooltip:this._oRb.getText('FILTER_BAR_GO'),type:b.Emphasized});this._oSearchButton.attachPress(function(){j._oSearchButton.focus();j.search();});i.addContent(this._oSearchButton);};_.prototype._createVariantLayout=function(){this._oVariantManagement=this._createVariantManagement();if(this._possibleToChangeVariantManagement()){this._oVariantManagement.setVisible(false);}this._registerVariantManagement();return this._oVariantManagement;};_.prototype._createToolbar=function(i){var j=new h(this.getId()+'-toolbar');if(!i){var n=this._createVariantLayout();j.addContent(n);}j.addContent(new k());this._createButtons(j);j.addStyleClass('sapUiCompFilterBarToolbar');j.addStyleClass('sapUiCompFilterBarToolbarMarker');return j;};_.prototype._replaceVariantManagement=function(i){if(this._oVariantManagement){this._unregisterVariantManagement();if(this._oToolbar&&this._oToolbar.getContent(this._oVariantManagement)){this._oToolbar.removeContent(this._oVariantManagement);}this._oVariantManagement.destroy();}this._oVariantManagement=i;this._registerVariantManagement();this._adaptNewFilterBarDesign();};_.prototype._createBasicAreaLayout=function(){var i=new H({visible:false});i.setAllowWrapping(true);i.addStyleClass('sapUiCompFilterBarWidth100');i.addStyleClass('sapUiCompFilterBarBasicArea');return i;};_.prototype._createAdvancedAreaForm=function(){var i=new E();i.addStyleClass('sapUiCompFilterBarPaddingForm');i.setColumnsL(3);i.setColumnsM(2);var j=new F({editable:true});j.setLayout(i);return j;};_.prototype._addControlToBasicAreaFormContainer=function(i){var j=i.getControl();if(!j){q.sap.log.error('no Control obtained');return null;}var n=i.getLabelControl(this.getId());if(!n){q.sap.log.error('no Label obtained');return null;}this._adaptGroupTitleForFilter(i);return this._addControlToBasicAreaContainer(i,j,n);};_.prototype._addControlToBasicAreaContainer=function(i,j,n){var e1=new y();e1.setLayoutData(new x({margin:true}));if(j.setWidth){j.setWidth('100%');}e1.setWidth(this.getFilterContainerWidth());if(n){if(!n.hasStyleClass('sapUiCompFilterLabel')){n.addStyleClass('sapUiCompFilterLabel');}e1.addContent(n);if(n.setLabelFor){if(i&&j){n.setLabelFor(j);}}}e1.addContent(j);e1.addStyleClass('sapUiCompFilterBarPaddingRight');e1.addStyleClass('sapUiCompFilterBarPaddingTop');if(!this.getAdvancedMode()&&(!this._oFilterDialog||(!this._oFilterDialog.hasOwnProperty('bDoNotAddToBasicArea')))){if(i&&i.getVisible()&&i.getVisibleInFilterBar()){if(this._isNewFilterBarDesign()){var f1=this._oBasicAreaLayout.getContent();if(this._isPhone()){this._oBasicAreaLayout.addContent(e1);}else{this._oBasicAreaLayout.insertContent(e1,f1.length-1);}}else{this._oBasicAreaLayout.addContent(e1);}}}return e1;};_.prototype._rerenderAA=function(){this._oAdvancedAreaForm.removeAllFormContainers();var i=this._flattenMap();this._layOutAA(i);};_.prototype._layOutAA=function(i){if(this._mAdvancedAreaFilter&&Object.keys(this._mAdvancedAreaFilter).length>1){this._layOutAAMultipleGroup(i);}else{this._layOutAASingleGroup(i);}};_.prototype._layOutAAMultipleGroup=function(n){var i,j,e1=0;var f1=null;for(i=0;i<n.length;i++){if(n[i].control===null){e1++;}}var g1=this._oAdvancedAreaForm.getLayout();if(g1){if(e1>=3){g1.setLabelSpanL(5);g1.setLabelSpanM(5);g1.setColumnsL(3);g1.setColumnsM(2);}else if(e1===2){g1.setLabelSpanL(4);g1.setLabelSpanM(5);g1.setColumnsL(2);g1.setColumnsM(2);}else if(e1===1){g1.setLabelSpanL(4);g1.setLabelSpanM(5);g1.setColumnsL(2);g1.setColumnsM(2);}}for(i=0;i<n.length;i++){if(n[i].control===null){f1=new z();if(Object.keys(this._mAdvancedAreaFilter).length>1){f1.setTitle(n[i].filterItem.getGroupTitle());}this._oAdvancedAreaForm.addFormContainer(f1);j=i+1;while(j<n.length&&(n[j].control)){this._addControlToAdvancedArea(n[j].filterItem,n[j].control,f1);j++;}i=j-1;}}if(e1===1){this._oAdvancedAreaForm.addFormContainer(new z());}};_.prototype._layOutAASingleGroup=function(j){var i,n,e1,f1;var g1=j.length-1;var h1=g1>2?2:1;if(h1>1){e1=Math.floor(g1/h1);f1=((e1*h1)<g1);for(i=1;i<h1;i++){n=i*e1;if(f1){++n;}if((n+i)<j.length){j.splice(n+i,0,j[0]);}}}this._layOutAAMultipleGroup(j);};_.prototype._flattenMap=function(){var n=null,i;var j=[];var e1;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){e1=false;for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){var f1=this._mAdvancedAreaFilter[n].items[i];if(f1.filterItem&&f1.filterItem.getVisibleInFilterBar()&&f1.filterItem.getVisible()&&!f1.filterItem.getHiddenFilter()){if(!e1){e1=true;j.push({control:null,filterItem:this._mAdvancedAreaFilter[n].filterItem});}j.push({control:f1.control,filterItem:f1.filterItem});}}}}}return j;};_.prototype._triggerSearchByValue=function(j){var i,n,e1;var f1;var g1;j=j.replace(/^\\s+|\\s+$/g,'').toLowerCase();if(this._aListItems){var h1=0;for(i=this._aListItems.length-1;i>=0;i--){f1=this._aListItems[i].getContent();if(f1&&(f1.length>0)){n=f1[0].getText();e1=this._aListItems[i].data('quickinfo');if((n.toLowerCase().indexOf(j)>=0||(e1&&e1.toLowerCase().indexOf(j)>=0))||(this._aListItems[i].hasStyleClass('sapUiCompFilterBarGroupListItem')&&h1>0)){g1=true;if(this._aListItems[i].hasStyleClass('sapUiCompFilterBarGroupListItem')){if(!h1){g1=false;}}else{h1++;}this._aListItems[i].setVisible(g1);}else{this._aListItems[i].setVisible(false);}}}}};_.prototype._triggerSearch=function(i){if(!i){return;}var j=i.getParameters();if(!j){return;}var n=j.newValue?j.newValue:'';this._triggerSearchByValue(n);};_.prototype._triggerSearchByValueInFilterDialog=function(j){var n=null,i;var e1;var f1,g1;var h1;var i1;var j1=true;j=j.replace(/^\\s+|\\s+$/g,'').toLowerCase();if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){f1=this._mAdvancedAreaFilter[n];if(f1&&f1.items){h1=0;i1=0;for(i=0;i<f1.items.length;i++){if(f1.items[i]&&f1.items[i].filterItem){g1=f1.items[i].filterItem;if(g1.getHiddenFilter()){++h1;continue;}if(g1.getVisible()){if(j&&f1.items[i].formelement){e1=g1.getLabel();if(e1.toLowerCase().indexOf(j)>=0){if(g1.getPartOfCurrentVariant()){f1.items[i].formelement.setVisible(true);}else{++i1;}}else{++h1;f1.items[i].formelement.setVisible(false);}}else if(f1.items[i].formelement){f1.items[i].formelement.setVisible(g1.getVisibleInFilterBar()||g1.getPartOfCurrentVariant());if(f1.link&&!f1.link.getVisible()){f1.link.setVisible(true);}}}else{++h1;}}}if(f1&&f1.formcontainer){if(h1===f1.items.length){f1.formcontainer.setVisible(false);}else{j1=false;f1.formcontainer.setVisible(true);if(f1.link){f1.link.setVisible((j&&(i1===0))?false:true);if(j&&(i1>0)){this._setLinkTextAndCount(n,f1.link,i1);}else{this._setLinkText(n,f1.link);}}}}}}}}if(this._oAddToFilterBarLabel){this._oAddToFilterBarLabel.setVisible(!j1);}};_.prototype._triggerSearchInFilterDialog=function(i){if(!i){return;}var j=i.getParameters();if(!j){return;}var n=j.newValue?j.newValue:'';this._sSearchCriteriaInFiltersDialog=n;this._triggerSearchByValueInFilterDialog(n);};_.prototype._generateListItems=function(j,n){if(!Y){Y=sap.ui.require('sap/m/CustomListItem');if(!Y){throw new Error('_generateListItems msut only be called via _createAddRemoveFiltersDialog '+this);}}var i;var e1,f1;var g1;var h1=false;if(this.$().closest('.sapUiSizeCompact').length>0){h1=true;}if(j&&this._mAdvancedAreaFilter){f1=this._mAdvancedAreaFilter[j];if(f1&&f1.items){for(i=0;i<f1.items.length;i++){var i1=f1.items[i];if(i1&&i1.filterItem){if(!i1.filterItem.getVisible()||i1.filterItem.getHiddenFilter()){continue;}e1=new Y();e1.setVisible(true);if(!h1){e1.addStyleClass('sapUiCompFilterBarListItem');}else{e1.addStyleClass('sapUiCompFilterBarListItemCompact');}e1.data('quickinfo',i1.filterItem.getLabelTooltip());i1.initialPartOfCurrentVariant=i1.filterItem.getPartOfCurrentVariant();i1.initialVisibleInFilterBar=i1.filterItem.getVisibleInFilterBar();e1.data('item',i1);g1=new L({text:i1.filterItem.getLabel(),tooltip:i1.filterItem.getLabelTooltip()});e1.addContent(g1);n.addItem(e1);if(i1.filterItem.getPartOfCurrentVariant()){n.setSelectedItem(e1);}if(i1.filterItem.getMandatory()&&i1.checkbox&&!i1.checkbox.getEnabled()){e1.getModeControl().setEnabled(false);}}}}}var j1=this;n.attachSelectionChange(function(k1){if(k1){var l1=k1.getParameters();if(l1){var e1=l1.listItem;if(e1){var m1=e1.getModeControl();var i1=e1.data('item');j1._selectionChangedInAddFiltersDialog(m1,i1);}}}});};_.prototype._rerenderItem=function(i){var j;if(i){j=i.filterItem.getVisible()&&i.filterItem.getVisibleInFilterBar();if(i.container){i.container.setVisible(j);if(j){this._addContainer(i);}}if(i.formelement){i.formelement.setVisible(i.filterItem.getVisible()&&(i.filterItem.getVisibleInFilterBar()||i.filterItem.getPartOfCurrentVariant()));if(i.checkbox){i.checkbox.setSelected(i.filterItem.getVisibleInFilterBar());}}}};_.prototype._rerenderFilters=function(){var i;var n=null;var j=null;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];this._rerenderItem(j);}}}}this._updateToolbarText();};_.prototype.rerenderFilters=function(){this._rerenderFilters();};_.prototype._closeAddRemoveFiltersDialog=function(i,j){if(i&&j){if(this._sSearchCriteriaInFiltersDialog&&this._oFilterDialog){this._triggerSearchByValueInFilterDialog(this._sSearchCriteriaInFiltersDialog);}else{this._setLinkText(i,j);}}};_.prototype._cancelAddRemoveFiltersDialog=function(j){var i;var n;if(j&&this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){n=this._mAdvancedAreaFilter[j].items[i];if((n.initialPartOfCurrentVariant!==undefined||n.initialVisibleInFilterBar!==undefined)&&n.filterItem){if(n.filterItem.getHiddenFilter()){continue;}if((n.initialPartOfCurrentVariant!==undefined)&&(n.filterItem.getPartOfCurrentVariant()!==n.initialPartOfCurrentVariant)){n.filterItem.setPartOfCurrentVariant(n.initialPartOfCurrentVariant);this._notifyAboutChangedFilters(n.initialPartOfCurrentVariant,n.control);}if((n.initialVisibleInFilterBar!==undefined)&&(n.filterItem.getVisibleInFilterBar()!==n.initialVisibleInFilterBar)){n.filterItem.setVisibleInFilterBar(n.initialVisibleInFilterBar);}}}}if(this._oVariantManagement&&(this._oVariant.modified2!==undefined)){this._oVariantManagement.currentVariantSetModified(this._oVariant.modified2);}};_.prototype._createAddRemoveFiltersDialog=function(j,n){var i,e1=this;if(!j){return;}if((!X||!Y)&&!this._bCustomListItemRequested){Y=sap.ui.require('sap/m/CustomListItem');X=sap.ui.require('sap/m/Dialog');if(!X||!Y){sap.ui.require(['sap/m/Dialog','sap/m/CustomListItem'],d1.bind(this));this._bCustomListItemRequested=true;this._oFiltersDialogData={groupName:j,link:n};}}if(!X||!Y){return;}this._oDialog=new sap.m.Dialog(this.getId()+'-set-filters-dialog',{stretch:D.system.phone,resizable:true,draggable:true});this._oDialog.addStyleClass('sapUiPopupWithPadding');this._oDialog.addStyleClass('sapUiCompAddRemoveFilterDialog');if(this.$().closest('.sapUiSizeCompact').length>0){this._oDialog.addStyleClass('sapUiSizeCompact');}this._oDialog.setTitle(this._oRb.getText('SELECT_FILTER_FIELDS'));this._oDialog.addStyleClass('sapMH4FontSize');this._oDialog.addStyleClass('sapMH4Style');this._oDialog.setVerticalScrolling(true);var f1=new B();var g1=new S({placeholder:this._oRb.getText('FILTER_BAR_SEARCH')});this._oSearchField=g1;g1.attachLiveChange(function(k1){e1._triggerSearch(k1);});f1.addContentRight(g1);this._oDialog.setSubHeader(f1);var h1=new e({mode:$.MultiSelect});h1.setShowSeparators(f.None);this._oDialog.addContent(h1);this._generateListItems(j,h1);this._aListItems=h1.getItems();for(i=0;i<this._aListItems.length;i++){h1.addItem(this._aListItems[i]);}if(this._oVariant&&this._oVariantManagement){this._oVariant.modified2=this._oVariantManagement.currentVariantGetModified();}this._bOKButtonAddRemoveFilterDialogTriggered=false;var i1=new a(this.getId()+'-btnOKAddRemoveDialog',{text:this._oRb.getText('FILTER_BAR_OK')});i1.attachPress(function(){e1._bOKButtonAddRemoveFilterDialogTriggered=true;e1._oDialog.close();});this._oDialog.addAggregation('buttons',i1);this._oDialog.setInitialFocus(this._oSearchField);if(this._sSearchCriteriaInFiltersDialog){this._oSearchField.setValue(this._sSearchCriteriaInFiltersDialog);this._triggerSearchByValue(this._sSearchCriteriaInFiltersDialog);}var j1=new a(this.getId()+'-btnCancelAddRemoveDialog',{text:this._oRb.getText('FILTER_BAR_CANCEL'),press:function(){e1._oDialog.close();}});this._oDialog.addAggregation('buttons',j1);this._oDialog.attachBeforeClose(function(){if(!e1._bOKButtonAddRemoveFilterDialogTriggered){e1._cancelAddRemoveFiltersDialog(j);}e1.rerenderFilters();e1._closeAddRemoveFiltersDialog(j,n);if(e1._oFilterDialog){e1._oFilterDialog.invalidate();}});this._oDialog.attachAfterClose(function(){this._aListItems=null;e1._oDialog.destroy();e1._oDialog=null;});this._oDialog.open();};function d1(i,j){X=i;Y=j;this._bCustomListItemRequested=false;this._createAddRemoveFiltersDialog(this._oFiltersDialogData.groupName,this._oFiltersDialogData.link);delete this._oFiltersDialogData;}_.prototype._selectionChangedInAddFiltersDialog=function(i,j){var n=i.getSelected();if(!n&&j.filterItem.getMandatory()&&!j.checkbox.getEnabled()){i.setSelected(true);return;}j.filterItem.setPartOfCurrentVariant(n);j.filterItem.setVisibleInFilterBar(n);this._notifyAboutChangedFilters(n,j.control);};_.prototype._setTriggerFilterChangeState=function(i){this._triggerFilterChangeState=i;};_.prototype._getTriggerFilterChangeState=function(){return this._triggerFilterChangeState;};_.prototype._setConsiderFilterChanges=function(i){this._filterChangeSemaphore=i;};_.prototype._getConsiderFilterChanges=function(){return this._filterChangeSemaphore;};_.prototype.fireFilterChange=function(i){this._updateToolbarText();if(!this._getTriggerFilterChangeState()){return;}if(this._getConsiderFilterChanges()&&this._oVariantManagement&&!this._oVariantManagement.getInErrorState()){this._oVariantManagement.currentVariantSetModified(true);}if(this._oFilterDialog&&!(this._oFilterDialog.isOpen())){return;}this._bDirtyViaDialog=true;this.fireEvent('filterChange',i);if(this._isNewFilterBarDesign()){}};_.prototype._notifyAboutChangedFilters=function(i,j){var n,e1=this._determineByControl(j);if(i){n={'added':j,'filterItem':e1};}else{n={'deleted':j,'filterItem':e1};}this.fireFilterChange(n);};_.prototype._determineVariantFiltersInfo=function(j,e1){var i;var n=null,f1,g1;var h1=[];if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){f1=this._mAdvancedAreaFilter[n].items[i];if(j||f1.filterItem.getVisible()){g1={group:f1.filterItem.getGroupName(),name:f1.filterItem.getName(),partOfCurrentVariant:f1.filterItem.getPartOfCurrentVariant(),visibleInFilterBar:f1.filterItem.getVisibleInFilterBar(),visible:f1.filterItem.getVisible()};if(e1||this._considerFilter(g1)){h1.push(g1);}}}}}}}return h1;};_.prototype.mergeVariant=function(i,j){var n={};q.extend(true,n,j);n.filterbar=[];n.filterBarVariant={};q.extend(true,n.filterbar,i.filterbar);q.extend(true,n.filterBarVariant,i.filterBarVariant);if(j&&j.version==='V2'){n.filterbar=this._mergeVariantFields(n.filterbar,j.filterbar);n.filterBarVariant=j.filterBarVariant;}return n;};_.prototype._mergeVariantFields=function(j,n){var i;n.forEach(function(e1){for(i=0;i<j.length;i++){if((j[i].group===e1.group)&&(j[i].name===e1.name)){j.splice(i,1);break;}}});return j.concat(n);};_.prototype._isUi2Mode=function(){if(this._oVariantManagement instanceof p){return true;}return false;};_.prototype._isDeltaHandling=function(){if(this._isUi2Mode()){return false;}return this.getDeltaVariantMode();};_.prototype._getStandardVariant=function(){return this._oVariantManagement.getStandardVariant(this);};_.prototype._considerFilter=function(j){if(!this._isDeltaHandling()){return true;}var n=null;var e1=this._getStandardVariant();if(e1&&e1.filterbar){for(var i=0;i<e1.filterbar.length;i++){if((e1.filterbar[i].group===j.group)&&(e1.filterbar[i].name===j.name)){n=e1.filterbar[i];break;}}}if(!n){if(!j.partOfCurrentVariant){return false;}return true;}if((n.partOfCurrentVariant!==j.partOfCurrentVariant)||(n.visibleInFilterBar!==j.visibleInFilterBar)||(n.visible!==j.visible)){return true;}return false;};_.prototype._addControlToAdvancedArea=function(i,j,n){var e1=new A({label:i.getLabelControl(this.getId()),fields:[(j!==null)?j:new T()]});n.addFormElement(e1);};_.prototype._determineVisibility=function(i){var j=false;if(i){j=i.getVisible()&&(i.getVisibleInFilterBar()||i.getPartOfCurrentVariant());j=j&&!i.getHiddenFilter();}return j;};_.prototype._retrieveVisibleAdvancedItems=function(){var i,n=null,j;var e1=[];if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];if(j){if(this._determineVisibility(j.filterItem)){e1.push(j);}}}}}}}return e1;};_.prototype._retrieveCurrentSelectionSet=function(j,n){var i,e1,f1,g1=[];var h1=this._retrieveVisibleAdvancedItems();for(i=0;i<h1.length;i++){e1=h1[i];if(e1.control&&e1.filterItem&&(n||!e1.filterItem._isParameter())){if(j){f1={name:h1[i].filterItem.getName(),control:h1[i].control};}else{f1=h1[i].control;}g1.push(f1);}}return g1;};_.prototype.search=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet(false);this.fireSearch(i);return true;};_.prototype.clear=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet(false);this._clearErrorState();this.fireClear(i);this._updateToolbarText();};_.prototype.reset=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet(false);this.fireReset(i);this._resetVariant();};_.prototype._resetVariant=function(){var i=null,j=null;this._resetFiltersInErrorValueState();if(this._oVariantManagement){var n=this._oVariantManagement.getSelectionKey();if(n){i=this._oVariantManagement.getVariantContent(this,n);if(this._oVariant){this._oVariant.content=i;this._oVariant.modified=false;if(this.getPersistencyKey()&&this._oInitialVariant){this._oInitialVariant.content=i;this._oInitialVariant.modified=false;this._oInitialVariant.key=n;}}if(!this.getPersistencyKey()&&(this.getUseSnapshot()===undefined)&&this._oInitialVariant&&this._oInitialVariant.content){j=this._oInitialVariant.content;}if(i||j){this.applyVariant(i||j,'RESET');}}}this._resetFilterBarSearch();};_.prototype._resetFilterBarSearch=function(){this._sSearchCriteriaInFiltersDialog='';if(this._oFiltersSearchField){this._oFiltersSearchField.setValue(this._sSearchCriteriaInFiltersDialog);this._triggerSearchByValueInFilterDialog(this._sSearchCriteriaInFiltersDialog);}};_.prototype._applyVariant=function(i,j,n){var e1,f1=null,g1,h1=false;if(i){if(n){g1=this._getTriggerFilterChangeState();this._setTriggerFilterChangeState(false);}this._setConsiderFilterChanges(false);e1=i.filterBarVariant;f1=i.filterbar;this._ensureFilterLoaded(f1);this._applyVariantFields(e1);this._reapplyVisibility(f1);if(this._oBasicSearchField&&this._oBasicSearchField.setValue){this._oBasicSearchField.setValue(''||i.basicSearch);}if(i.executeOnSelection){h1=i.executeOnSelection;}this.fireAfterVariantLoad(j,h1);this._setConsiderFilterChanges(true);this._updateToolbarText();if(h1||(this.getLiveMode&&this.getLiveMode())){this.search();}else{this._clearErrorState();}if(n){this._setTriggerFilterChangeState(g1);}}};_.prototype._fetchVariantFiltersData=function(){if(this._fRegisteredFetchData){try{return this._fRegisteredFetchData();}catch(i){q.sap.log.error('callback for fetching data throws an exception');}}else{q.sap.log.warning('no callback for fetch data supplied');}return null;};_.prototype._applyVariantFields=function(j){if(this._fRegisteredApplyData){try{return this._fRegisteredApplyData(j);}catch(i){q.sap.log.error('callback for applying data throws an exception');}}else{q.sap.log.warning('no callback for appy data supplied');}};_.prototype._isStandardVariant=function(){var i=this.getCurrentVariantId();if(!i){return true;}if(this._oVariantManagement){if((i===this._oVariantManagement.getStandardVariantKey())){return true;}if(this._oVariantManagement._oStandardVariant===null){return true;}}return false;};_.prototype.isCurrentVariantExecuteOnSelectEnabled=function(){if(this._oVariantManagement&&!this._oVariantManagement.getInErrorState()){var i=this.getCurrentVariantId();if(!i){return this._oVariantManagement.getExecuteOnSelectForStandardVariant();}var j=this._oVariantManagement.getItemByKey(i);if(j){return j.getExecuteOnSelection();}}return false;};_.prototype.fetchVariant=function(){var i,j={},n;if(this._isDeltaHandling()){if(!this._isStandardVariant()){j.version='V2';}}this.fireBeforeVariantFetch();i=this._determineVariantFiltersInfo(true,!j.version);j.filterbar=(!i)?[]:i;j.filterBarVariant=this._fetchVariantFiltersData();n=this._getBasicSearchValue();if(n){j.basicSearch=n;}if(this._oVariant&&this._oVariant.content){this._oVariant.content=j;}return j;};_.prototype.applyVariant=function(i,j,n){if(i.version==='V2'){i=this.mergeVariant(this._getStandardVariant(),i,j);}this._applyVariant(i,j,n);if(n&&this._isNewFilterBarDesign()){}};_.prototype.determineMandatoryFilterItems=function(){var i;var j=[];var n=this._retrieveVisibleAdvancedItems();for(i=0;i<n.length;i++){if(n[i].filterItem.getMandatory()===true){if(n[i].control){j.push(n[i].filterItem);}}}return j;};_.prototype.determineControlByFilterItem=function(j,e1){var i,n=null;var f1,g1;if(!j||(!e1&&j._isParameter())){return null;}if(this._aBasicAreaSelection){for(i=0;i<this._aBasicAreaSelection.length;i++){f1=this._aBasicAreaSelection[i];if(j===f1.filterItem){return f1.control;}}}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){g1=this._mAdvancedAreaFilter[n];if(g1&&g1.items){for(i=0;i<g1.items.length;i++){f1=g1.items[i];if((e1||!f1.filterItem._isParameter())&&(j===f1.filterItem)){return f1.control;}}}}}}return null;};_.prototype.determineControlByName=function(n,i){var j=this._determineEnsuredItemByName(n,i);if(j&&j.filterItem&&!j.filterItem._isParameter()){return j.control;}return null;};_.prototype.determineLabelByName=function(n,i){var j=this._determineEnsuredItemByName(n,i);if(j&&j.filterItem){return j.filterItem._oLabel;}return null;};_.prototype._determineEnsuredItemByName=function(n,i){if(!i){i=this._determineGroupNameByName(n);}this._ensureFilterLoaded([{name:n,group:i}]);return this._determineItemByName(n,i);};_.prototype._determineGroupNameByName=function(n){if(this._aFields){for(var i=0;i<this._aFields.length;i++){if(this._aFields[i].fieldName===n){return this._aFields[i].groupName;}}}var j=this._determineFilterItemByName(n);if(j){var e1=j.getGroupName();if(e1!==_.INTERNAL_GROUP){return e1;}}return null;};_.prototype._determineItemByName=function(n,j){var i;var e1,f1;var g1=j;if(!n){return null;}if(!g1){g1=_.INTERNAL_GROUP;}if(this._mAdvancedAreaFilter){f1=this._mAdvancedAreaFilter[g1];if(f1&&f1.items){for(i=0;i<f1.items.length;i++){e1=f1.items[i];if(e1&&e1.filterItem&&(e1.filterItem.getName()===n)){return e1;}}}}return null;};_.prototype.determineFilterItemByName=function(n){var i=this._determineEnsuredItemByName(n);if(i&&i.filterItem){return i.filterItem;}return null;};_.prototype._determineFilterItemByName=function(i){var n,j;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){j=this._determineItemByName(i,n);if(j){return j.filterItem;}}}return null;};_.prototype._determineByControl=function(j){var n=null,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var e1=this._mAdvancedAreaFilter[n];if(e1&&e1.items){for(i=0;i<e1.items.length;i++){if(e1.items[i]&&e1.items[i].control===j){return e1.items[i];}}}}}}return null;};_.prototype._deleteProperties=function(){var n=null,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var j=this._mAdvancedAreaFilter[n];if(j&&j.items){if(j.formcontainer){j.formcontainer.destroy();delete j.formcontainer;}if(j.link){delete j.link;}for(i=0;i<j.items.length;i++){if(j.items[i]&&j.items[i].checkbox){delete j.items[i].checkbox;}if(j.items[i]&&j.items[i].formelement){delete j.items[i].formelement;}}}}}}};_.prototype.onAfterRendering=function(i){if(!this._bDoItOnce&&!(this._isPhone()||this._isTablet())){this._bDoItOnce=true;if(this._oHintText&&this._oHintText.getVisible()){this.setFilterBarExpanded(false);}}this._checkAndAdaptFilterWidth();};_.prototype._fHandleResize=function(i){if(!this._isPhone()&&this._oFilterDialog&&this._oFilterDialog.isOpen()&&this._mAdvancedAreaFilter){this._repositionAddToFilterBarLabel();}this._checkAndAdaptFilterWidth();};_.prototype._checkAndAdaptFilterWidth=function(){if(this._isNewFilterBarDesign()&&!this._oFilterDialog){this._adaptFilterWidth();}};_.prototype._adaptFilterWidth=function(){var i;if(!this._oBasicAreaLayout){return;}if(!this._bIsInitialized){return;}var j=this._oBasicAreaLayout.getContent();if(!j){return;}var n=this._isButtonsContainerVisible(this._isPhone()?j[0]:j[j.length-1]);for(i=j.length-1;i>=0;i--){if(!j[i].getVisible()){j.splice(i,1);}}if(j.length<1){return;}var e1=this._oBasicAreaLayout.$().width()-1;var f1,g1=this._calculateRequiredWidthAndResetToInitialWidth(j,n);if(g1>e1){f1=0;}else{f1=j[j.length-1].$().width()+16;}var h1=0,i1=j.length-1;if(n){if(this._isPhone()){h1++;}else{i1--;}}var j1=0;for(i=h1;i<=i1;i++){if((f1+j[i].$().width()+16)>e1){break;}f1+=j[i].$().width()+16;j1++;}var k1=Math.floor((e1-f1)/j1);if((j1===1)&&(g1<e1)){k1=Math.floor(k1/3);}if(k1>0){this._increaseFilterWidth(j,k1,e1,n);}};_.prototype._isButtonsContainerVisible=function(i){var j=false,n,e1;if(i&&i.getVisible()){n=i.getContent();if(n&&(n.length>1)&&n[1]){e1=n[1].getContent();if(e1){e1.some(function(f1){if(f1.getVisible()){j=true;}return j;});}}if(!j){i.setVisible(j);}}return j;};_.prototype._calculateRequiredWidthAndResetToInitialWidth=function(j,n){var i,e1,f1=0;var g1=this._retrieveVisibleAdvancedItems();if(n){if(this._isPhone()){f1=j[0].$().width()+16;}else{f1=j[j.length-1].$().width()+16;}}if(this._oBasicSearchFieldContainer&&this._oBasicSearchFieldContainer.$()){this._oBasicSearchFieldContainer.$().width(this.getFilterContainerWidth());this._oBasicSearchFieldContainer.$().css({'min-width':this.getFilterContainerWidth()});this._oBasicSearchFieldContainer.$().css({'max-width':this._oBasicSearchFieldContainer.$().width()*1.5});f1+=this._oBasicSearchFieldContainer.$().width();f1+=16;}for(i=0;i<g1.length;i++){if(g1[i].filterItem&&g1[i].filterItem.getVisible()&&g1[i].filterItem.getVisibleInFilterBar()){var h1=g1[i].container;if(h1&&h1.$()){if(g1[i].filterWidth){e1=h1.$().width();if(e1!==g1[i].filterWidth){h1.$().width(g1[i].filterWidth);e1=g1[i].filterWidth;}}else{h1.$().width(this.getFilterContainerWidth());e1=h1.$().width();g1[i].filterWidth=e1;}h1.$().css({'min-width':e1});h1.$().css({'max-width':e1*1.5});f1+=e1;f1+=16;}}}return f1;};_.prototype._increaseFilterWidth=function(j,n,e1,f1){var g1,h1=0,i1=j.length-1;if(f1){if(this._isPhone()){h1++;}else{i1--;}}for(var i=h1;i<=i1;i++){g1=j[i].$().width()+n;j[i].$().width(g1);}};_.prototype._destroyLazyFilterControl=function(){var j,i;if(this._aFields&&(this._aFields.length>0)){if(this._aFields&&this._aFields.length>0){for(j=0;j<this._aFields.length;j++){i=this._aFields[j];if(i.factory){if(i.control){i.control.destroy();}}}}}};_.prototype._destroyNonVisibleFilterControl=function(){var i,n,j;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];if(j&&j.container){if(this._oBasicAreaLayout&&(this._oBasicAreaLayout.indexOfContent(j.container)<0)){if(j.control&&!j.bDestroyed){j.control.destroy();j.bDestroyed=true;}}}}}}}};_.prototype._destroyFilterControls=function(){if(!this.getAdvancedMode()){this._destroyLazyFilterControl();this._destroyNonVisibleFilterControl();}};_.prototype._registerVariantManagement=function(){if(this._oVariantManagement){this._oVariantManagement.attachSave(this._variantSave,this);this._oVariantManagement.attachAfterSave(this._afterVariantSave,this);}};_.prototype._unregisterVariantManagement=function(){if(this._oVariantManagement){if(this._fInitialiseVariants){this._oVariantManagement.detachInitialise(this._fInitialiseVariants);this._fInitialiseVariants=null;}this._oVariantManagement.detachSave(this._variantSave,this);this._oVariantManagement.detachAfterSave(this._afterVariantSave,this);if((!this.getUseToolbar()||this.getAdvancedMode())&&!this._oVariantManagement.getDomRef()){this._oVariantManagement.destroy();}}};_.prototype.destroy=function(){sap.ui.core.ResizeHandler.deregister(this._hResizeListener);this._hResizeListener=null;this._unregisterVariantManagement();this._destroyFilterControls();G.prototype.destroy.apply(this,arguments);if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}if(this._oFilterDialog){this._oFilterDialog.destroy();this._oFilterDialog=null;}if(this.oModel){this.oModel.destroy();this.oModel=null;}this._aFields=null;this._oHintText=null;this._aBasicAreaSelection=null;this._mAdvancedAreaFilter=null;this._oBasicAreaLayout=null;this._oVariantManagement=null;this._oCollectiveSearch=null;this._oVariant=null;this._fRegisteredFetchData=null;this._fRegisteredApplyData=null;this._fRegisterGetFiltersWithValues=null;this._fRegisteredFilterChangeHandlers=null;this._oSearchButton=null;this._oFiltersButton=null;this._oHideShowButton=null;this._oClearButtonOnFB=null;this._oRestoreButtonOnFB=null;this._oAddToFilterBarLabel=null;this._oBasicSearchField=null;this._oBasicSearchFieldContainer=null;this._oButtonsVLayout=null;};return _;},true);\n",
	"sap/ui/comp/filterbar/FilterGroupItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['./FilterItem','sap/ui/comp/library'],function(F,l){'use strict';var a=F.extend('sap.ui.comp.filterbar.FilterGroupItem',{metadata:{library:'sap.ui.comp',properties:{groupTitle:{type:'string',group:'Misc',defaultValue:null},groupName:{type:'string',group:'Misc',defaultValue:null},visibleInAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false}}}});a.prototype.init=function(){this.setVisibleInAdvancedArea(false);this._setParameter(false);};a.prototype._setParameter=function(v){this._bIsParameter=v;};a.prototype.setGroupTitle=function(v){this.setProperty('groupTitle',v);this.fireChange({propertyName:'groupTitle'});};a.prototype.setVisibleInAdvancedArea=function(v){this.setVisibleInFilterBar(v);};a.prototype.getVisibleInAdvancedArea=function(){return this.getVisibleInFilterBar();};a.prototype.destroy=function(){F.prototype.destroy.apply(this,arguments);};return a;},true);\n",
	"sap/ui/comp/filterbar/FilterItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/ui/comp/library','sap/ui/core/Element','sap/ui/core/TooltipBase','sap/ui/comp/util/IdentifierUtil'],function(q,L,l,E,T,I){'use strict';var F=E.extend('sap.ui.comp.filterbar.FilterItem',{metadata:{library:'sap.ui.comp',properties:{label:{type:'string',group:'Misc',defaultValue:null},name:{type:'string',group:'Misc',defaultValue:null},mandatory:{type:'boolean',group:'Misc',defaultValue:false},visible:{type:'boolean',group:'Misc',defaultValue:true},labelTooltip:{type:'string',group:'Misc',defaultValue:null},partOfCurrentVariant:{type:'boolean',group:'Misc',defaultValue:false},visibleInFilterBar:{type:'boolean',group:'Misc',defaultValue:true},hiddenFilter:{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{control:{type:'sap.ui.core.Control',multiple:false}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});F.prototype.init=function(){this._oLabel=null;this._bIsParameter=false;this._sControlId=null;};F.prototype.setControl=function(c){if(c&&c.getId){this._sControlId=c.getId();}this.setAggregation('control',c);};F.prototype.getControl=function(){var c=this.getAggregation('control');if(c){return c;}if(this._sControlId===null){return null;}return sap.ui.getCore().byId(this._sControlId);};F.prototype._isParameter=function(){return this._bIsParameter;};F.prototype.setVisible=function(v){this.setProperty('visible',v);this.fireChange({propertyName:'visible'});};F.prototype.setVisibleInFilterBar=function(v){this.setProperty('visibleInFilterBar',v);this.fireChange({propertyName:'visibleInFilterBar'});};F.prototype.setPartOfCurrentVariant=function(v){this.setProperty('partOfCurrentVariant',v);this.fireChange({propertyName:'partOfCurrentVariant'});};F.prototype._getGroupName=function(){var n='';if(this.getGroupName){n=I.replace(this.getGroupName());}return n;};F.prototype._getName=function(){var n=I.replace(this.getName());var g=this._getGroupName();if(g){n=g+'-'+n;}return n;};F.prototype._createLabelControl=function(f){var t=this.getLabel();var i='filterItem-'+this._getName();if(f){i=f+'-'+i;}var o=new L({id:i,text:t,required:this.getMandatory(),tooltip:this.getLabelTooltip(),textAlign:'Begin'});return o;};F.prototype.setMandatory=function(v){this.setProperty('mandatory',v);if(this._oLabel){this._oLabel.setRequired(v);}this.fireChange({propertyName:'mandatory'});};F.prototype.setLabel=function(v){this.setProperty('label',v);if(this._oLabel){this._oLabel.setText(v);}if(!this.getLabelTooltip()){this.setLabelTooltip(v);}this.fireChange({propertyName:'label'});};F.prototype.setLabelTooltip=function(t){this.setProperty('labelTooltip',t);if(this._oLabel){this._oLabel.setTooltip(t);}this.fireChange({propertyName:'labelTooltip'});};F.prototype.getLabelControl=function(f){if(!this._oLabel){this._oLabel=this._createLabelControl(f);}return this._oLabel;};F.prototype.destroy=function(){if(this._oLabel&&!this._oLabel.bDestroyed){this._oLabel.destroy();}E.prototype.destroy.apply(this,arguments);this._oLabel=null;};return F;},true);\n",
	"sap/ui/comp/filterbar/VariantConverterFrom.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/valuehelpdialog/ValueHelpDialog','sap/m/MultiComboBox','sap/m/MultiInput','sap/m/DatePicker','sap/m/DateRangeSelection'],function(q,l,V,M,a,D,b){'use strict';var c=function(){};c.prototype.convert=function(s,f,S){var C=null,r=null,o;if(s){this._bStrictMode=S;o=JSON.parse(s);if(f&&f.getFilterBarViewMetadata&&o){this._sBasicSearchName=null;this._sBasicSearchValue=null;if(f.getBasicSearchName){this._sBasicSearchName=f.getBasicSearchName();}C={};if(o.Parameters){this._addParameters(o.Parameters,f,C);}if(o.SelectOptions){this._addSelectOptions(o.SelectOptions,f,C);}r={payload:null,variantId:null};r.payload=JSON.stringify(C);if(o.SelectionVariantID){r.variantId=o.SelectionVariantID;}if(this._sBasicSearchValue){r.basicSearch=this._sBasicSearchValue;}}}return r;};c.prototype.retrieveVariantId=function(s){var v=null;var S;if(s){S=JSON.parse(s);if(S&&S.SelectionVariantID){v=S.SelectionVariantID;}}return v;};c.prototype._getParameterMetaData=function(n,f,i){if(this._bStrictMode){return this._getParameterMetaDataStrictMode(n,f);}return this._getParameterMetaDataNonStrictMode(n,f,i);};c.prototype._getFilter=function(n,f){var i,j,g,F;F=f.getFilterBarViewMetadata();if(F){for(i=0;i<F.length;i++){g=F[i];for(j=0;j<g.fields.length;j++){if(n===g.fields[j].fieldName){return g.fields[j];}}}}return null;};c.prototype._getParameter=function(n,f){var j,A;if(f.getAnalyticalParameters){A=f.getAnalyticalParameters();if(A){for(j=0;j<A.length;j++){if(n===A[j].fieldName){return A[j];}}}}return null;};c.prototype._getParameterWithInnerPrefix=function(n,f){var p=n;if(n.indexOf(sap.ui.comp.ANALYTICAL_PARAMETER_PREFIX)!==0){p=sap.ui.comp.ANALYTICAL_PARAMETER_PREFIX+n;}return this._getParameter(p,f);};c.prototype._getParameterMetaDataStrictMode=function(n,f){var m=this._getExactFilterParameterMatch(n,f);if(m){return m;}return null;};c.prototype._getParameterMetaDataNonStrictMode=function(o,f,i){var m,n,N,t,s=o;if(o.indexOf(sap.ui.comp.ANALYTICAL_PARAMETER_PREFIX)===0){s=o.substr(sap.ui.comp.ANALYTICAL_PARAMETER_PREFIX.length);}if(s.indexOf('P_')===0){n=s;N=s.substr(2);}else{n='P_'+s;N=s;}if(s!==n){t=n;}else if(s!==N){t=N;}m=this._getExactParameterMatch(s,f);if(m){return m;}m=this._getExactParameterMatch(t,f);if(m){return m;}if(!i){m=this._getFilter(o,f);if(m){return m;}}return null;};c.prototype._getExactParameterMatch=function(n,f){var p;p=this._getParameterWithInnerPrefix(n,f);if(p){return p;}return null;};c.prototype._getExactFilterParameterMatch=function(n,f){var F,p;F=this._getFilter(n,f);if(F){return F;}p=this._getParameterWithInnerPrefix(n,f);if(p){return p;}return null;};c.prototype._addParameters=function(s,f,C){var i;var n,v;var F;for(i=0;i<s.length;i++){v=s[i].PropertyValue;n=s[i].PropertyName;if(this._sBasicSearchName&&(n===this._sBasicSearchName)){this._sBasicSearchValue=v;continue;}F=this._getParameterMetaData(n,f,true);if(F){f.determineControlByName(n);this._addAccordingMetaData(C,f,F,v);}else{q.sap.log.error(\"neither metadata nor custom information for filter '\"+n+\"'\");}}};c.prototype._addSelectOptions=function(s,f,C){var i;var n,r;var F,o;for(i=0;i<s.length;i++){n=s[i].PropertyName;r=s[i].Ranges;if(this._sBasicSearchName&&(n===this._sBasicSearchName)){if(r&&r.length>0){this._sBasicSearchValue=r[0].Low;}continue;}f.determineControlByName(n);F=this._getParameterMetaData(n,f,false);if(F){o=F.control;this._addRangesAccordingMetaData(C,f,F,r,o);}else{q.sap.log.error(\"neither metadata nor custom information for filter '\"+n+\"'\");}}};c.convertOption=function(s,v){var i;switch(s){case'CP':i=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains;if(v){var n=v.indexOf('*');var d=v.lastIndexOf('*');if(n>-1){if((n===0)&&(d!==(v.length-1))){i=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith;v=v.substring(1,v.length);}else if((n!==0)&&(d===(v.length-1))){i=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith;v=v.substring(0,v.length-1);}else{v=v.substring(1,v.length-1);}}}break;case'EQ':case'BT':case'LE':case'GE':case'GT':case'LT':i=s;break;default:q.sap.log.error(\"Suite Option is not supported '\"+s+\"'\");i=undefined;v=undefined;}return{op:i,v:v};};c.prototype._addRangesAccordingMetaData=function(C,f,F,r,o,n){var i,O;var d=function(h){var j=h.split('.')[0];var m=h.split('.')[1];var p=j.split('T');var k=p[0].split('-');var t=p[1].split(':');return m?new Date(k[0],k[1]-1,k[2],t[0],t[1],t[2],m):new Date(k[0],k[1]-1,k[2],t[0],t[1],t[2]);};var e=function(v){var h=v;if(v&&F){if(F.filterType==='numeric'){if((F.type==='Edm.Decimal')||(F.type==='Edm.Float')||(F.type==='Edm.Double')||(F.type==='Edm.Single')){h=parseFloat(v);}else{h=parseInt(v,10);}}if((F.type==='Edm.DateTime')||(F.type==='Edm.Time')){if(f&&f.isInUTCMode&&(F.filterType==='date')){if(f.isInUTCMode()){v=v.split('T')[0]+'T00:00:00';}else if(!f.isInUTCMode()&&(v.split('T').length===1)){v+='T00:00:00';}}if(v.indexOf('Z')!==(v.length-1)){if(f&&f.isInUTCMode&&!f.isInUTCMode()&&f.getDateInUTCOffset){h=f.getDateInUTCOffset(new d(v)).toJSON();}else{h=new d(v).toJSON();}}else{q.sap.log.error(\"Property '\"+F.fieldName+\"' was added with zulu time zone information.\");}}else if(F.type==='Edm.DateTimeOffset'){h=v;}}return h;};var g=function(h,r){var i,I,O;for(i=0;i<r.length;i++){O=c.convertOption(r[i].Option,r[i].Low);if(O&&O.op){I={'exclude':(r[i].Sign==='E'),'operation':O.op,'keyField':h,'value1':e(O.v),'value2':e(r[i].High)};if(!C[h]){C[h]={ranges:[],items:[],value:null};}C[h].ranges.push(I);}}};if(r&&r.length>0){if(F.isCustomFilterField){if(!C._CUSTOM){C._CUSTOM={};}C._CUSTOM[F.fieldName]=r[0].Low;return;}if(F.conditionType){for(i=0;i<r.length;i++){if(!r[i].High){r[i].High=r[i].Low;}}g(F.fieldName,r);return;}if(F.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single){if(!r[0].Low&&o&&(o instanceof D)){C[F.fieldName]=null;}else{C[F.fieldName]=e(r[0].Low);}}else if(F.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){if(o&&(o instanceof b)){if(r[0].Low&&r[0].High){C[F.fieldName]={low:e(r[0].Low),high:e(r[0].High)};}else if(r[0].Low&&!r[0].High){C[F.fieldName]={low:e(r[0].Low),high:e(r[0].Low)};}else if(!r[0].Low&&r[0].High){C[F.fieldName]={low:e(r[0].High),high:e(r[0].High)};}else{C[F.fieldName]={low:null,high:null};}}else{if(F.type==='Edm.Time'){g(F.fieldName,r);}else{C[F.fieldName]={low:r[0].Low===undefined?null:e(r[0].Low),high:r[0].High===undefined?null:e(r[0].High)};}}}else if(F.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){C[F.fieldName]={ranges:[],items:[],value:null};var s=(F.type==='Edm.DateTimeOffset')||F.isCalendarDate;if(o&&!s&&((o instanceof M)||(o instanceof a))){for(i=0;i<r.length;i++){O=c.convertOption(r[i].Option,e(r[i].Low));if(O.op===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ){if((F.type==='Edm.DateTime')){C[F.fieldName].ranges.push({value1:e(O.v)});}else{C[F.fieldName].items.push({key:e(O.v)});}}}}else{g(F.fieldName,r);}}else{g(F.fieldName,r);}q.sap.log.warning(\"potential reduced information for filter '\"+F.fieldName+\"'\");}else{q.sap.log.warning(\"no Ranges-section found for filter '\"+F.fieldName+\"'\");}};c.prototype._addAccordingMetaData=function(C,f,F,v){var h=F.type==='Edm.DateTime'?'':v;var r=[{Sign:'I',Low:v,High:h,Option:'EQ'}];this._addRangesAccordingMetaData(C,f,F,r);};return c;},true);\n",
	"sap/ui/comp/filterbar/VariantConverterTo.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/valuehelpdialog/ValueHelpDialog','sap/ui/comp/odata/ODataType','sap/ui/comp/util/FormatUtil','sap/ui/core/format/DateFormat'],function(q,l,V,O,F,D){'use strict';var a=function(){};a.prototype.convert=function(k,f,d,o,v){var b,i,j,J,n=null,B,s;var S={SelectionVariantID:k};this._sAPILevel=v;if(d&&f){j=JSON.parse(d);if(j){b=this._getFields(f);if(b&&b.length>0){for(i=0;i<b.length;i++){this._convertField(S,b[i],j,o);}}if(j._CUSTOM){if(typeof j._CUSTOM==='string'){J=JSON.parse(j._CUSTOM);}else{J=j._CUSTOM;}for(n in J){if(n){this._addSingleValue(S,n,a._getValue(J[n],true));}}}if(o&&o.getBasicSearchName){B=o.getBasicSearchName();if(B){s=o.getBasicSearchValue();this._addSingleValue(S,B,a._getValue(s,true));}}}}return JSON.stringify(S);};a.prototype._getParameterMetaData=function(n,f){var i,j,g;var b=f.getFilterBarViewMetadata();if(b){for(i=0;i<b.length;i++){g=b[i];for(j=0;j<g.fields.length;j++){if(n===g.fields[j].fieldName){return g.fields[j];}}}}if(f.getAnalyticalParameters){var A=f.getAnalyticalParameters();if(A){for(j=0;j<A.length;j++){if(n===A[j].fieldName){return A[j];}}}}return null;};a.prototype._convertField=function(s,f,c,o){var b,v,d=null,r,e,g,h,i;if(c&&f&&s){b=c[f];if(b){e=this._getParameterMetaData(f,o);if(e){if(e.isCustomFilterField){return;}if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single){v=(b.value===undefined)?b:b.value;v=a._getValueWithMetadata(o,e,v,true);this._addSingleValue(s,f,v);}else if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){if(b.conditionTypeInfo){this._convertFieldByValue(s,f,c,o,e);}else{r=a.addRangeEntry(s,f);if((e.type==='Edm.DateTime')&&!b.high){b.high=b.low;}else if((e.type==='Edm.String')&&!b.high){d='EQ';}if(e.type==='Edm.Time'){this._addRangeMultipleRangeValues(o,e,r,b.ranges,true);}else if(e.type==='Edm.DateTimeOffset'&&!b.high){if(!this._oFormat){this._oFormat=D.getDateTimeInstance({UTC:false});}d='BT';g=F.parseDateTimeOffsetInterval(b.low);if(g&&(g.length===2)&&g[0]){h={low:g[0],high:g[1]};i=this._oFormat.parse(g[0]);if(i){h.low=i.toISOString();}i=this._oFormat.parse(g[1]);if(i){h.high=i.toISOString();}this._addRangeLowHigh(o,e,r,h,'BT');}else{this._addRangeLowHigh(o,e,r,b,'EQ');}}else if(O.isNumeric(e.type)&&!b.high){g=F.parseFilterNumericIntervalData(b.low);if(g&&(g.length===2)&&g[0]){this._addRangeLowHigh(o,e,r,{low:g[0],high:g[1]},'BT');}else{this._addRangeLowHigh(o,e,r,b,'EQ');}}else{this._addRangeLowHigh(o,e,r,b,d);}}}else if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){r=a.addRangeEntry(s,f);if(b.items&&b.items.length>0){this._addRangeMultipleSingleValues(o,e,r,b.items);}else if(b.ranges&&b.ranges.length>0){this._addRangeMultipleRangeValues(o,e,r,b.ranges);}else{this._addRangeSingleValue(r,b.value);}}else{this._convertFieldByValue(s,f,c,o,e);}}else{this._convertFieldByValue(s,f,c,o,e);}}}};a.prototype._convertFieldByValue=function(s,f,c,o,b){var d;var r;if(c&&f&&s){d=c[f];if(d){if(d.conditionTypeInfo){if(d.ranges&&d.ranges.length>0){r=a.addRangeEntry(s,f);a.addRanges(r,d.ranges,o,b);}}else if((d.ranges!==undefined)&&(d.items!==undefined)&&(d.value!==undefined)){r=a.addRangeEntry(s,f);if(d.ranges&&d.ranges.length>0){a.addRanges(r,d.ranges,o,b);}if(d.items&&d.items.length>0){this._addRangeMultipleSingleValues(o,b,r,d.items);}if(d.value){this._addRangeSingleValue(r,a._getValueWithMetadata(o,b,d.value));}}else if((d.items!==undefined)&&d.items&&(d.items.length>0)){r=a.addRangeEntry(s,f);this._addRangeMultipleSingleValues(o,b,r,d.items);}else if((d.low!==undefined)&&d.low&&(d.high!==undefined)&&d.high){r=a.addRangeEntry(s,f);this._addRangeLowHigh(o,b,r,d);}else if((d.value!==undefined)&&d.value){this._addSingleValue(s,f,d.value);}else if(d){this._addSingleValue(s,f,d);}}}};a.addRangeEntry=function(s,f){var o={PropertyName:f,Ranges:[]};if(!s.SelectOptions){s.SelectOptions=[];}s.SelectOptions.push(o);return o.Ranges;};a.addRanges=function(r,R,f,o){var s,b,L,h;for(var i=0;i<R.length;i++){s=R[i].exclude?'E':'I';L=a._getValueWithMetadata(f,o,R[i].value1,true);h=null;if(R[i].operation===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT){h=a._getValueWithMetadata(f,o,R[i].value2);}switch(R[i].operation){case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains:b='CP';if(L){L='*'+L+'*';}break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith:b='CP';if(L){L=L+'*';}break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith:b='CP';if(L){L='*'+L;}break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ:case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT:case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LE:case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GE:case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GT:case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LT:b=R[i].operation;break;default:q.sap.log.error(\"ValueHelpRangeOperation is not supported '\"+R[i].operation+\"'\");return;}r.push({Sign:s,Option:b,Low:L,High:h});}};a.prototype._addRangeMultipleSingleValues=function(f,o,r,I){for(var i=0;i<I.length;i++){r.push({Sign:'I',Option:'EQ',Low:a._getValueWithMetadata(f,o,I[i].key,true),High:null});}};a.prototype._addRangeMultipleRangeValues=function(f,o,r,I,t){for(var i=0;i<I.length;i++){r.push({Sign:'I',Option:t?'BT':'EQ',Low:a._getValueWithMetadata(f,o,I[i].value1,true),High:t?a._getValueWithMetadata(f,o,I[i].value2):null});}};a.prototype._addRangeSingleValue=function(r,v){r.push({Sign:'I',Option:'EQ',Low:a._getValue(v,true),High:null});};a.prototype._addRangeLowHigh=function(f,o,r,L,s){var b=s||'BT';r.push({Sign:'I',Option:b,Low:a._getValueWithMetadata(f,o,L.low,true),High:a._getValueWithMetadata(f,o,L.high)});};a.prototype._addParamaterSingleValue=function(s,f,v){if(!s.Parameters){s.Parameters=[];}s.Parameters.push({PropertyName:f,PropertyValue:v});};a.prototype._createRangeSingleValue=function(s,f,v){var r=a.addRangeEntry(s,f);this._addRangeSingleValue(r,v);};a.prototype._addSingleValue=function(s,f,v){var n;if(this._sAPILevel){n=f.split(sap.ui.comp.ANALYTICAL_PARAMETER_PREFIX);if(n.length>1){this._addParamaterSingleValue(s,n[n.length-1],v);}else{this._createRangeSingleValue(s,f,v);}}else{this._addParamaterSingleValue(s,f,v);}};a.prototype._getFields=function(f){var r=[];if(f){for(var i=0;i<f.length;i++){r.push(f[i].name);}}return r;};a._getValue=function(v,u){if((v===null)||(v===undefined)||(v==='')){return(u?'':null);}return''+v;};a._getValueWithMetadata=function(f,o,v,u){if((v===null)||(v===undefined)||(v==='')){return(u?'':null);}else if(f&&o){if((o.type==='Edm.DateTime')||(o.type==='Edm.Time')){if(f&&f.isInUTCMode&&f.isInUTCMode()&&f.getDateInUTCOffset){v=f.getDateInUTCOffset(new Date(v)).toJSON();}if(v.indexOf('Z')===(v.length-1)){v=v.substr(0,v.length-1);}}else if(o.type==='Edm.DateTimeOffset'){v=new Date(v).toJSON();}}return''+v;};return a;},true);\n",
	"sap/ui/comp/library.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Core','sap/ui/core/library','sap/m/library'],function(q,C,l,a){'use strict';sap.ui.getCore().initLibrary({name:'sap.ui.comp',version:'1.56.5',dependencies:['sap.ui.core','sap.m'],designtime:'sap/ui/comp/designtime/library.designtime',types:['sap.ui.comp.smartfield.ControlProposalType','sap.ui.comp.smartfield.ControlContextType','sap.ui.comp.smartfield.ControlType','sap.ui.comp.smartfield.DisplayBehaviour','sap.ui.comp.smartfield.JSONType','sap.ui.comp.smartfield.CriticalityRepresentationType','sap.ui.comp.smartfield.TextInEditModeSource','sap.ui.comp.smarttable.TableType','sap.ui.comp.smarttable.ExportType','sap.ui.comp.smartlist.ListType','sap.ui.comp.personalization.AggregationRole','sap.ui.comp.personalization.ResetType','sap.ui.comp.personalization.ChangeType','sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation','sap.ui.comp.smartfilterbar.SelectOptionSign','sap.ui.comp.smartfilterbar.DisplayBehaviour'],interfaces:['sap.ui.comp.smartform.SmartFormLayout'],controls:['sap.ui.comp.filterbar.FilterBar','sap.ui.comp.navpopover.NavigationPopover','sap.ui.comp.navpopover.SmartLink','sap.ui.comp.odata.FieldSelector','sap.ui.comp.smartchart.SmartChart','sap.ui.comp.smartfield.SmartField','sap.ui.comp.smartfield.SmartLabel','sap.ui.comp.smartfilterbar.SmartFilterBar','sap.ui.comp.smartform.SmartForm','sap.ui.comp.smartmultiedit.Field','sap.ui.comp.smartmultiedit.Container','sap.ui.comp.smartmicrochart.SmartAreaMicroChart','sap.ui.comp.smartmicrochart.SmartBulletMicroChart','sap.ui.comp.smartmicrochart.SmartRadialMicroChart','sap.ui.comp.smartmicrochart.SmartMicroChart','sap.ui.comp.smarttable.SmartTable','sap.ui.comp.smartlist.SmartList','sap.ui.comp.smartvariants.SmartVariantManagement','sap.ui.comp.smartvariants.SmartVariantManagementUi2','sap.ui.comp.transport.TransportDialog','sap.ui.comp.valuehelpdialog.ValueHelpDialog','sap.ui.comp.variants.EditableVariantItem','sap.ui.comp.variants.VariantManagement'],elements:['sap.ui.comp.filterbar.FilterGroupItem','sap.ui.comp.filterbar.FilterItem','sap.ui.comp.navpopover.LinkData','sap.ui.comp.navpopover.SemanticObjectController','sap.ui.comp.smartfield.Configuration','sap.ui.comp.smartfield.ControlProposal','sap.ui.comp.smartfield.ObjectStatus','sap.ui.comp.smartfilterbar.ControlConfiguration','sap.ui.comp.smartfilterbar.GroupConfiguration','sap.ui.comp.smartfilterbar.SelectOption','sap.ui.comp.smartform.Group','sap.ui.comp.smartform.GroupElement','sap.ui.comp.smartform.Layout','sap.ui.comp.smartvariants.PersonalizableInfo','sap.ui.comp.variants.VariantItem','sap.ui.comp.navpopover.NavigationContainer','sap.ui.comp.smartvariants.SmartVariantManagementAdapter'],extensions:{flChangeHandlers:{'sap.ui.comp.smartform.SmartForm':'sap/ui/comp/smartform/flexibility/SmartForm','sap.ui.comp.smartform.Group':{'hideControl':'default','unhideControl':'default','renameGroup':'sap/ui/comp/smartform/flexibility/changes/RenameGroup','addField':'sap/ui/comp/smartform/flexibility/changes/AddField','addFields':'sap/ui/comp/smartform/flexibility/changes/AddFields','addMultiEditField':'sap/ui/comp/smartmultiedit/flexibility/changes/AddMultiEditFields'},'sap.ui.comp.smartform.GroupElement':{'hideControl':'default','unhideControl':'sap/ui/comp/smartform/flexibility/changes/UnhideControl','renameField':'sap/ui/comp/smartform/flexibility/changes/RenameField'},'sap.ui.comp.navpopover.NavigationContainer':{'addLink':{'changeHandler':'sap/ui/comp/navpopover/flexibility/changes/AddLink','layers':{'USER':true}},'removeLink':{'changeHandler':'sap/ui/comp/navpopover/flexibility/changes/RemoveLink','layers':{'USER':true}}},'sap.ui.comp.smartvariants.SmartVariantManagement':{'addFavorite':{'changeHandler':'sap/ui/comp/smartvariants/flexibility/changes/addFavorite','layers':{'USER':true}},'removeFavorite':{'changeHandler':'sap/ui/comp/smartvariants/flexibility/changes/removeFavorite','layers':{'USER':true}}},'sap.ui.comp.smartfield.SmartField':'sap/ui/comp/smartfield/flexibility/SmartField'}}});sap.ui.comp.ANALYTICAL_PARAMETER_PREFIX='$Parameter.';sap.ui.comp.STANDARD_VARIANT_NAME='STANDARD';sap.ui.comp.smartform.inheritCostomDataToFields=function(c){var b=['sap.ui.fl:AppliedChanges','sap.ui.fl.appliedChanges','sap-ui-custom-settings'];for(var i=0;i<b.length;i++){if(c.getKey()==b[i]){return false;}}return true;};sap.ui.comp.smartfield.ControlType={auto:'auto',dropDownList:'dropDownList',input:'input',datePicker:'datePicker',checkBox:'checkBox',selection:'selection'};sap.ui.comp.smartfield.DisplayBehaviour={auto:'auto',descriptionOnly:'descriptionOnly',descriptionAndId:'descriptionAndId',idAndDescription:'idAndDescription',idOnly:'idOnly',TrueFalse:'TrueFalse',OnOff:'OnOff',YesNo:'YesNo'};sap.ui.comp.smartfield.JSONType={String:'String',Date:'Date',Float:'Float',Integer:'Integer',Boolean:'Boolean',DateTime:'DateTime'};sap.ui.comp.smartfield.ControlContextType={None:'',ResponsiveTable:'responsiveTable',Form:'form',Table:'table',SmartFormGrid:'smartFormGrid'};sap.ui.comp.smartfield.ControlProposalType={None:'',ObjectNumber:'ObjectNumber',ObjectIdentifier:'ObjectIdentifier'};sap.ui.comp.smartfield.CriticalityRepresentationType={WithoutIcon:'WithoutIcon',WithIcon:'WithIcon'};sap.ui.comp.smarttable.TableType={Table:'Table',ResponsiveTable:'ResponsiveTable',AnalyticalTable:'AnalyticalTable',TreeTable:'TreeTable'};sap.ui.comp.smartfield.TextInEditModeSource={None:'None',NavigationProperty:'NavigationProperty',ValueList:'ValueList'};sap.ui.comp.smarttable.ExportType={GW:'GW',UI5Client:'UI5Client'};sap.ui.comp.smartlist.ListType={List:'List',Tree:'Tree'};sap.ui.comp.personalization.ResetType={ResetFull:'ResetFull',ResetPartial:'ResetPartial'};sap.ui.comp.personalization.AggregationRole={Dimension:'Dimension',Measure:'Measure',NotDimeasure:'NotDimeasure'};sap.ui.comp.personalization.ChangeType={Unchanged:'Unchanged',ModelChanged:'ModelChanged',TableChanged:'TableChanged'};sap.ui.comp.personalization.TableType={ResponsiveTable:'ResponsiveTable',Table:'Table',AnalyticalTable:'AnalyticalTable',TreeTable:'TreeTable',ChartWrapper:'ChartWrapper',SelectionWrapper:'SelectionWrapper'};sap.ui.comp.personalization.ColumnType={ResponsiveColumn:'ResponsiveColumn',TableColumn:'TableColumn',ColumnWrapper:'ColumnWrapper'};sap.ui.comp.smartfilterbar.FilterType={auto:'auto',single:'single',multiple:'multiple',interval:'interval'};sap.ui.comp.smartfilterbar.ControlType={auto:'auto',input:'input',dropDownList:'dropDownList',date:'date',dateTimePicker:'dateTimePicker'};sap.ui.comp.smartfilterbar.MandatoryType={auto:'auto',mandatory:'mandatory',notMandatory:'notMandatory'};sap.ui.comp.smartfilterbar.DisplayBehaviour={auto:'auto',descriptionOnly:'descriptionOnly',descriptionAndId:'descriptionAndId',idAndDescription:'idAndDescription',idOnly:'idOnly'};sap.ui.comp.smartfilterbar.SelectOptionSign={I:'I',include:'I',E:'E',exclude:'E'};sap.ui.comp.navpopover.ChangeHandlerType={addLink:'addLink',removeLink:'removeLink',moveLink:'moveLink'};sap.ui.comp.smartvariants.ChangeHandlerType={addFavorite:'addFavorite',removeFavorite:'removeFavorite'};sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation={BT:'BT',EQ:'EQ',Contains:'Contains',StartsWith:'StartsWith',EndsWith:'EndsWith',LT:'LT',LE:'LE',GT:'GT',GE:'GE',Initial:'Initial'};return sap.ui.comp;});\n",
	"sap/ui/comp/manifest.json":"{\n  \"_version\": \"1.9.0\",\n  \"sap.app\": {\n    \"id\": \"sap.ui.comp\",\n    \"type\": \"library\",\n    \"embeds\": [],\n    \"applicationVersion\": {\n      \"version\": \"1.56.5\"\n    },\n    \"title\": \"SAPUI5 library with smart controls.\",\n    \"description\": \"SAPUI5 library with smart controls.\",\n    \"ach\": \"CA-UI5-CMP\\n\\t\\t\\t\",\n    \"resources\": \"resources.json\",\n    \"offline\": true\n  },\n  \"sap.ui\": {\n    \"technology\": \"UI5\",\n    \"supportedThemes\": [\n      \"base\",\n      \"sap_belize\",\n      \"sap_belize_hcb\",\n      \"sap_belize_hcw\",\n      \"sap_belize_plus\",\n      \"sap_bluecrystal\",\n      \"sap_hcb\"\n    ]\n  },\n  \"sap.ui5\": {\n    \"dependencies\": {\n      \"minUI5Version\": \"1.56\",\n      \"libs\": {\n        \"sap.ui.core\": {\n          \"minVersion\": \"1.56.5\"\n        },\n        \"sap.m\": {\n          \"minVersion\": \"1.56.5\"\n        },\n        \"sap.ui.fl\": {\n          \"minVersion\": \"1.56.5\",\n          \"lazy\": true\n        },\n        \"sap.ui.table\": {\n          \"minVersion\": \"1.56.5\",\n          \"lazy\": true\n        },\n        \"sap.chart\": {\n          \"minVersion\": \"1.56.5\",\n          \"lazy\": true\n        },\n        \"sap.ui.layout\": {\n          \"minVersion\": \"1.56.5\",\n          \"lazy\": true\n        },\n        \"sap.suite.ui.microchart\": {\n          \"minVersion\": \"1.56.5\",\n          \"lazy\": true\n        }\n      }\n    },\n    \"library\": {\n      \"i18n\": \"messagebundle.properties\",\n      \"content\": {\n        \"controls\": [\n          \"sap.ui.comp.filterbar.FilterBar\",\n          \"sap.ui.comp.navpopover.NavigationPopover\",\n          \"sap.ui.comp.navpopover.SmartLink\",\n          \"sap.ui.comp.odata.FieldSelector\",\n          \"sap.ui.comp.smartchart.SmartChart\",\n          \"sap.ui.comp.smartfield.SmartField\",\n          \"sap.ui.comp.smartfield.SmartLabel\",\n          \"sap.ui.comp.smartfilterbar.SmartFilterBar\",\n          \"sap.ui.comp.smartform.SmartForm\",\n          \"sap.ui.comp.smartmultiedit.Field\",\n          \"sap.ui.comp.smartmultiedit.Container\",\n          \"sap.ui.comp.smartmicrochart.SmartAreaMicroChart\",\n          \"sap.ui.comp.smartmicrochart.SmartBulletMicroChart\",\n          \"sap.ui.comp.smartmicrochart.SmartRadialMicroChart\",\n          \"sap.ui.comp.smartmicrochart.SmartMicroChart\",\n          \"sap.ui.comp.smarttable.SmartTable\",\n          \"sap.ui.comp.smartlist.SmartList\",\n          \"sap.ui.comp.smartvariants.SmartVariantManagement\",\n          \"sap.ui.comp.smartvariants.SmartVariantManagementUi2\",\n          \"sap.ui.comp.transport.TransportDialog\",\n          \"sap.ui.comp.valuehelpdialog.ValueHelpDialog\",\n          \"sap.ui.comp.variants.EditableVariantItem\",\n          \"sap.ui.comp.variants.VariantManagement\"\n        ],\n        \"elements\": [\n          \"sap.ui.comp.filterbar.FilterGroupItem\",\n          \"sap.ui.comp.filterbar.FilterItem\",\n          \"sap.ui.comp.navpopover.LinkData\",\n          \"sap.ui.comp.navpopover.SemanticObjectController\",\n          \"sap.ui.comp.smartfield.Configuration\",\n          \"sap.ui.comp.smartfield.ControlProposal\",\n          \"sap.ui.comp.smartfield.ObjectStatus\",\n          \"sap.ui.comp.smartfilterbar.ControlConfiguration\",\n          \"sap.ui.comp.smartfilterbar.GroupConfiguration\",\n          \"sap.ui.comp.smartfilterbar.SelectOption\",\n          \"sap.ui.comp.smartform.Group\",\n          \"sap.ui.comp.smartform.GroupElement\",\n          \"sap.ui.comp.smartform.Layout\",\n          \"sap.ui.comp.smartvariants.PersonalizableInfo\",\n          \"sap.ui.comp.variants.VariantItem\",\n          \"sap.ui.comp.navpopover.NavigationContainer\",\n          \"sap.ui.comp.smartvariants.SmartVariantManagementAdapter\"\n        ],\n        \"types\": [\n          \"sap.ui.comp.smartfield.ControlProposalType\",\n          \"sap.ui.comp.smartfield.ControlContextType\",\n          \"sap.ui.comp.smartfield.ControlType\",\n          \"sap.ui.comp.smartfield.DisplayBehaviour\",\n          \"sap.ui.comp.smartfield.JSONType\",\n          \"sap.ui.comp.smartfield.CriticalityRepresentationType\",\n          \"sap.ui.comp.smartfield.TextInEditModeSource\",\n          \"sap.ui.comp.smarttable.TableType\",\n          \"sap.ui.comp.smarttable.ExportType\",\n          \"sap.ui.comp.smartlist.ListType\",\n          \"sap.ui.comp.personalization.AggregationRole\",\n          \"sap.ui.comp.personalization.ResetType\",\n          \"sap.ui.comp.personalization.ChangeType\",\n          \"sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation\",\n          \"sap.ui.comp.smartfilterbar.SelectOptionSign\",\n          \"sap.ui.comp.smartfilterbar.DisplayBehaviour\"\n        ],\n        \"interfaces\": [\n          \"sap.ui.comp.smartform.SmartFormLayout\"\n        ]\n      }\n    }\n  }\n}",
	"sap/ui/comp/navpopover/ContactDetailsController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element','sap/ui/layout/form/SimpleForm','sap/ui/layout/form/SimpleFormLayout','sap/m/Title','sap/ui/core/TitleLevel','sap/m/Label','sap/m/Text','sap/m/Image','sap/m/Link','sap/ui/base/ManagedObjectObserver','sap/ui/comp/odata/MetadataAnalyser'],function(q,C,E,S,c,T,d,L,e,I,f,M,g){'use strict';var h=E.extend('sap.ui.comp.navpopover.ContactDetailsController',{metadata:{library:'sap.ui.comp'}});h.prototype.init=function(){this._oObserver=null;};h.prototype.exit=function(){if(this._oObserver){this._oObserver.disconnect();this._oObserver=null;}};h.prototype.getBindingPath4ContactAnnotation=function(b,s,k){if(s===undefined||s===null||!b){return Promise.resolve(null);}if(!this.getModel()){return Promise.resolve(null);}if(!this.getModel().getMetaModel()){return Promise.resolve(null);}var m=this.getModel().getMetaModel();return m.loaded().then(function(){var p;try{m.getMetaContext(b);}catch(o){q.sap.log.error(\"sap.ui.comp.navpopover.ContactDetailsController.getBindingPath4ContactAnnotation: binding path '\"+b+\"' is not valid. Error has been caught: \"+o);return null;}try{p='/'+s+\"('\"+k+\"')\";m.getMetaContext(p);return p;}catch(o){}try{p=s?b+'/'+s:b;m.getMetaContext(p);return p;}catch(o){q.sap.log.error(\"sap.ui.comp.navpopover.ContactDetailsController.getBindingPath4ContactAnnotation: the path of sContactAnnotationPath '\"+b+'/'+s+\"' is not valid. Error has been caught: \"+o);return null;}});};h.prototype.getContactDetailsAnnotation=function(b){if(!b){return null;}var m=new g(this.getModel());var o=m.getContactAnnotation(b);if(!o){return null;}return o;};h.prototype.getContactDetailsContainers=function(b){var o=this.getContactDetailsAnnotation(b);if(!o){return[];}var a=[];var i=[];var s=[];var j;this._oObserver=new M(function(k){if(k.type==='property'&&k.name==='visible'){var v=false;for(var l=1;l<j.getContent().length;l++){if(j.getContent()[l].getLabelFor&&j.getContent()[l].getLabelFor()){continue;}if(j.getContent()[l].getVisible()){v=true;}}j.setVisible(v);}});var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.addProperty2ExpandAndSelect('photo',o,b,i,s);this._addPhoto('photo',o,b,a,this._oObserver);this.addProperty2ExpandAndSelect('fn',o,b,i,s);this._addLabeledText('fn',r.getText('POPOVER_CONTACT_SECTION_NAME'),o,b,a,this._oObserver);this.addProperty2ExpandAndSelect('role',o,b,i,s);this._addLabeledText('role',r.getText('POPOVER_CONTACT_SECTION_ROLE'),o,b,a,this._oObserver);this.addProperty2ExpandAndSelect('title',o,b,i,s);this._addLabeledText('title',r.getText('POPOVER_CONTACT_SECTION_JOBTITLE'),o,b,a,this._oObserver);this.addProperty2ExpandAndSelect('org',o,b,i,s);this._addLabeledText('org',r.getText('POPOVER_CONTACT_SECTION_DEPARTMENT'),o,b,a,this._oObserver);this._addEmails(o,b,i,s,a,this._oObserver);this._addTels(o,b,i,s,a,this._oObserver);this._addAddresses(o,b,i,s,a,this._oObserver);if(!a.length){return[];}a.splice(0,0,new T({text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_CONTACT_SECTION_TITLE'),level:d.H2}));j=new S({maxContainerCols:1,editable:false,layout:c.ResponsiveGridLayout,content:a});this._requestData(j,b,i,s);return[j];};h.prototype._addPhoto=function(a,o,b,i,O){if(!o[a]){return;}var B=b+'/'+o[a].Path;if(this.isPropertyHidden(B)){return;}var j=new I({src:{path:B},visible:{path:B,formatter:function(v){return!!v;}},decorative:false});j.addStyleClass('sapUiIcon');j.addStyleClass('navigationPopoverThumbnail');O.observe(j,{properties:['visible']});i.push(j);};h.prototype._addLabeledText=function(a,l,o,b,i,O){if(!o[a]){return;}var B=b+'/'+o[a].Path;if(this.isPropertyHidden(B)){return;}var j=new e({text:{path:B},visible:{path:B,formatter:function(v){return!!v;}}});var k=new L({text:l,labelFor:j.getId()});O.observe(j,{properties:['visible']});i.push(k);i.push(j);};h.prototype._addEmails=function(o,B,i,s,j,O){if(!o.email||!o.email.length){return;}var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');var k=q.extend(true,[],o.email);k.filter(function(a){return!a.processed&&a.type&&(a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')>-1||a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/work')>-1);}).sort(function(a,b){if(a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')>-1&&b.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')<0){return-1;}if(b.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')>-1&&a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')<0){return 1;}return 0;}).forEach(function(a){this.addProperty2ExpandAndSelect('address',a,B,i,s);this._addLabeledEmail('address',r.getText('POPOVER_CONTACT_SECTION_EMAIL'),a,B,j,O);a.processed=true;},this);};h.prototype._addTels=function(o,B,i,s,j,O){if(!o.tel||!o.tel.length){return;}var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');var t=q.extend(true,[],o.tel);t.filter(function(a){return!a.processed&&a.type&&a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/work')>-1;}).sort(function(a,b){if(a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/preferred')>-1){return-1;}if(b.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/preferred')>-1){return 1;}return 0;}).forEach(function(a){this.addProperty2ExpandAndSelect('uri',a,B,i,s);this._addLabeledTel('uri',r.getText('POPOVER_CONTACT_SECTION_PHONE'),a,B,j,O);a.processed=true;},this);t.filter(function(a){return!a.processed&&a.type&&a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/cell')>-1;}).sort(function(a,b){if(a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/preferred')>-1){return-1;}if(b.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/preferred')>-1){return 1;}return 0;}).forEach(function(a){this.addProperty2ExpandAndSelect('uri',a,B,i,s);this._addLabeledTel('uri',r.getText('POPOVER_CONTACT_SECTION_MOBILE'),a,B,j,O);a.processed=true;},this);t.filter(function(a){return!a.processed&&a.type&&a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/fax')>-1;}).sort(function(a,b){if(a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/preferred')>-1){return-1;}if(b.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/preferred')>-1){return 1;}return 0;}).forEach(function(a){this.addProperty2ExpandAndSelect('uri',a,B,i,s);this._addLabeledTel('uri',r.getText('POPOVER_CONTACT_SECTION_FAX'),a,B,j,O);a.processed=true;},this);t.filter(function(a){return!a.processed&&a.type&&a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/preferred')>-1;}).forEach(function(a){this.addProperty2ExpandAndSelect('uri',a,B,i,s);this._addLabeledTel('uri',r.getText('POPOVER_CONTACT_SECTION_PHONE'),a,B,j,O);a.processed=true;},this);};h.prototype._addAddresses=function(o,B,i,s,j,O){if(!o.adr||!o.adr.length){return;}var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');var A=q.extend(true,[],o.adr);A.filter(function(a){return!a.processed&&a.type&&(a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')>-1||a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/work')>-1);}).sort(function(a,b){if(a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')>-1&&b.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')<0){return-1;}if(b.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')>-1&&a.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/preferred')<0){return 1;}return 0;}).forEach(function(a){this._addLabeledAddress(r.getText('POPOVER_CONTACT_SECTION_ADR'),a,B,i,s,j,O);a.processed=true;},this);};h.prototype._addLabeledAddress=function(l,a,b,i,s,j,o){var p=[];['street','code','locality','region','country'].forEach(function(A){this.addProperty2ExpandAndSelect(A,a,b,i,s);var B;if(a[A]){B=b+'/'+a[A].Path;}p.push(B&&!this.isPropertyHidden(B)?{path:B}:{path:'$notExisting'});},this);if(!p.length){return;}var k=new e({text:{parts:p,formatter:function(n,r,t,R,u){var v=[];if(n){v.push(n);}if(r&&t){v.push(r+' '+t);}else{if(r){v.push(r);}if(t){v.push(t);}}if(R){v.push(R);}if(u){v.push(u);}return v.join(', ');}},visible:{parts:p,formatter:function(n,r,t,R,u){return!!(n||r||t||R||u);}}});var m=new L({text:l,labelFor:k.getId()});o.observe(k,{properties:['visible']});j.push(m);j.push(k);};h.prototype._addLabeledTel=function(a,l,t,b,i,o){if(!t[a]||!b){return;}var B=b+'/'+t[a].Path;if(this.isPropertyHidden(B)){return;}var j=new f({href:{path:B,formatter:function(v){return v?'tel:'+v:v;}},text:{path:B},visible:{path:B,formatter:function(v){return!!v;}}});var k=new L({text:l,labelFor:j.getId()});o.observe(j,{properties:['visible']});i.push(k);i.push(j);};h.prototype._addLabeledEmail=function(a,l,o,b,i,O){if(!o[a]||!b){return;}var B=b+'/'+o[a].Path;if(this.isPropertyHidden(B)){return;}var j=new f({href:{path:B,formatter:function(v){return v?'mailto:'+v:v;}},text:{path:B},visible:{path:B,formatter:function(v){return!!v;}}});var k=new L({text:l,labelFor:j.getId()});O.observe(j,{properties:['visible']});i.push(k);i.push(j);};h.prototype.addProperty2ExpandAndSelect=function(a,A,b,i,s){if(!A[a]||!b){return;}var B=b+'/'+A[a].Path;if(!B){return;}if(B.indexOf('/')!==0){throw(\"sap.ui.comp.navpopover.ContactDetailsController.addProperty2ExpandAndSelect: the path of sBindingPathOfProperty '\"+B+\"' is not valid.\");}var p=B.split('/');p.shift();p.shift();var j=p.join('/');if(j){s.push(j);}p.pop();var k=p.join('/');if(!k){return;}var l=i.filter(function(P){return P===k;});if(!l.length){i.push(k);}};h.prototype.isPropertyHidden=function(p){var m;if(!this.getModel()){q.sap.log.error('sap.ui.comp.navpopover.ContactDetailsController.isPropertyHidden: the model does not exist');return false;}if(!this.getModel().getMetaModel()){q.sap.log.error('sap.ui.comp.navpopover.ContactDetailsController.isPropertyHidden: the model should be the ODataModel');return false;}try{m=this.getModel().getMetaModel().getMetaContext(p);}catch(o){q.sap.log.error(\"sap.ui.comp.navpopover.ContactDetailsController.isPropertyHidden: the path of property path '\"+p+\"' is not valid. Error has been caught: \"+o);return false;}var P=m.getProperty(m.getPath());return g.isHidden(P);};h.prototype._requestData=function(s,b,a,i){var p={};if(a.length){p.expand=a.join(',');}if(i.length){p.select=i.join(',');}var B='/'+b.split('/')[1];s.bindContext({path:B,parameters:p,events:{change:function(){s.invalidate();}}});};return h;},true);\n",
	"sap/ui/comp/navpopover/Factory.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/comp/library','sap/ui/comp/navpopover/FlexConnector'],function(C,F){'use strict';var a={getService:function(s){switch(s){case'CrossApplicationNavigation':return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');case'URLParsing':return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('URLParsing');case'FlexConnector':return F;default:return null;}}};return a;},true);\n",
	"sap/ui/comp/navpopover/FlexConnector.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.getCore().loadLibrary('sap.ui.fl');sap.ui.define(['sap/ui/comp/library','sap/ui/comp/navpopover/flexibility/changes/AddLink','sap/ui/comp/navpopover/flexibility/changes/RemoveLink','sap/ui/fl/Utils','sap/ui/fl/FlexControllerFactory','sap/ui/fl/ChangePersistenceFactory'],function(C,A,R,F,a,b){'use strict';var c={getAppComponentForControl:function(o){return F.getAppComponentForControl(o);},isVendorLayer:function(){return F.isVendorLayer();},createAndSaveChangesForControl:function(m,M,o){if(!m.length&&!M.length){return Promise.resolve();}this.createChangesForControl(M,o,sap.ui.comp.navpopover.ChangeHandlerType.removeLink);this.createChangesForControl(m,o,sap.ui.comp.navpopover.ChangeHandlerType.addLink);return this.saveChangesForControl(o);},createChangesForControl:function(m,o,s){if(!m.length){return;}if(!s){throw new Error('sChangeType should be filled');}var f=a.createForControl(o);m.forEach(function(M){f.createAndApplyChange({changeType:s,content:M,isUserDependent:true},o);});},saveChangesForControl:function(o){return a.createForControl(o).saveAll();},readChangesForControl:function(s,o){var d=this.getAppComponentForControl(o);var e=F.getFlexReference(d.getManifestObject());var m=b.getChangePersistenceForComponent(e).getChangesMapForComponent();return m.mChanges[s]?m.mChanges[s]:[];},discardChangesForControl:function(o,d){return a.createForControl(o).discardChangesForId(o.getId(),d).then(function(){if(d){A.discardChangesOfLayer('USER',o);R.discardChangesOfLayer('USER',o);}});},activateApplyChangeStatistics:function(){var t=this;this.aStatistics=[];var w=function(o,n){if(t.aStatistics.findIndex(function(s){return s.stableId===n.getId()&&s.changeId===o.getId();})<0){var h=n.getAvailableActions().find(function(i){return i.getKey()===o.getContent().key;});t.aStatistics.push({stableId:n.getId(),changeId:o.getId(),layer:o.getLayer(),key:o.getContent().key,text:h?h.getText():'',changeType:o.getChangeType()});}};var d=function(l){t.aStatistics=t.aStatistics.filter(function(s){return s.layer!==l;});};var f=A.applyChange.bind(A);A.applyChange=function(o,n,p){w(o,n);f(o,n,p);};var r=R.applyChange.bind(R);R.applyChange=function(o,n,p){w(o,n);r(o,n,p);};var e=A.discardChangesOfLayer.bind(A);A.discardChangesOfLayer=function(l,n){d(l);e(l,n);};var g=R.discardChangesOfLayer.bind(R);R.discardChangesOfLayer=function(l,n){d(l);g(l,n);};},_formatStatistic:function(s){var l=s.layer;switch(s.layer){case'VENDOR':l=''+l;break;case'CUSTOMER':l='        '+l;break;case'USER':l='                '+l;break;default:l=''+l;}var v;switch(s.changeType){case sap.ui.comp.navpopover.ChangeHandlerType.addLink:v='On';break;case sap.ui.comp.navpopover.ChangeHandlerType.removeLink:v='Off';break;default:v='';}return{formattedLayer:l,formattedValue:v};},printStatisticAll:function(){if(!this.aStatistics){jQuery.sap.log.info('Please activate with sap.ui.comp.navpopover.FlexConnector.activateApplyChangeStatistics()');return;}var t=this;jQuery.sap.log.info('idx - VENDOR ------------ CUSTOMER ----------- USER --------------------------------------');this.aStatistics.forEach(function(s,i){var f=t._formatStatistic(s);jQuery.sap.log.info(i+' '+s.stableId+' '+f.formattedLayer+\" '\"+s.text+\"' \"+f.formattedValue);});}};return c;},true);\n",
	"sap/ui/comp/navpopover/FlexHandler.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/base/ManagedObject','sap/ui/comp/personalization/Util','./Util','./Factory','sap/ui/comp/personalization/Controller','sap/ui/comp/personalization/SelectionWrapper'],function(q,C,M,P,U,F,a,S){'use strict';var b=M.extend('sap.ui.comp.navpopover.FlexHandler',{constructor:function(i,s){M.apply(this,arguments);},metadata:{properties:{initialSnapshot:{type:'object',defaultValue:null},snapshotOfUserLayer:{type:'object',defaultValue:null},snapshotOfLayersWithoutUser:{type:'object',defaultValue:null}}}});b.prototype.applySettings=function(s){this.setInitialSnapshot({});this.setSnapshotOfUserLayer({});this.setSnapshotOfLayersWithoutUser({});M.prototype.applySettings.apply(this,arguments);};b.prototype.init=function(){if(JSON.parse(q.sap.getUriParameters().get('sap-ui-smartlink'))){F.getService('FlexConnector').activateApplyChangeStatistics();}};b.prototype.updateAvailableActionOfSnapshot=function(l,L){if(!l||!L){return;}var s;switch(L){case'USER':s=this.getSnapshotOfUserLayer();s[l.getKey()]={key:l.getKey(),visible:l.getVisible()};this.setSnapshotOfUserLayer(s);break;default:s=this.getSnapshotOfLayersWithoutUser();s[l.getKey()]={key:l.getKey(),visible:l.getVisible()};this.setSnapshotOfLayersWithoutUser(s);}};b.prototype.discardAvailableActionsOfSnapshot=function(l){if(l!=='USER'){return;}this.setSnapshotOfUserLayer({});};b.prototype.determineSnapshotOfAvailableActions=function(){var s=b._getUnion(this.getInitialSnapshot(),this.getSnapshotOfLayersWithoutUser());return b._getUnion(s,this.getSnapshotOfUserLayer());};b.prototype.determineSnapshotOfChangedAvailableActions=function(){var s=this.determineSnapshotOfAvailableActions();return b._getUnionCondensed(this.getInitialSnapshot(),s);};b.prototype.openSelectionDialog=function(s,f,c,d,i,e){var t=this;var o=q.extend(true,{},this.getSnapshotOfLayersWithoutUser());var g=q.extend(true,{},this.getSnapshotOfUserLayer());var h;var j;var k;if(i){h=b._getUnion(this.getInitialSnapshot(),o);j=b._getUnion(h,g);k=b._convertSnapshotToSelectionItems(g);}else{h=this.getInitialSnapshot();j=b._getUnion(h,o);k=b._convertSnapshotToSelectionItems(o);}return new Promise(function(r){var D=false;var l=new a({table:S.createSelectionWrapper(U.getStorableAvailableActions(b._convertSnapshotToObjectArray(h)),f),dialogConfirmedReset:function(){D=true;},setting:{selection:{visible:true,payload:{callbackSaveChanges:function(m){var n=D?h:j;var p=b._getUnion(j,m?b.convertArrayToSnapshot('columnKey',m):{});var u=b._convertSnapshotToChangeFormat(b._getUnionCondensed(n,p));if(d){d(u);return Promise.resolve(true);}if(D){return t._discardChanges(s,i).then(function(v){if(!v){t._revertChanges(s,o,g);return false;}return t._saveChanges(s,u);}).then(function(v){if(!v){t._revertChanges(s,o,g);return false;}return true;});}return t._saveChanges(s,u).then(function(v){if(!v){t._revertChanges(s,o,g);return false;}return true;});}}}},resetToInitialTableState:true,dialogAfterClose:function(){return r();}});l.setPersonalizationData({selection:{selectionItems:k}});l.openDialog({contentWidth:'25rem',contentHeight:'35rem',styleClass:''+e,showReset:c,selection:{visible:true}});});};b.prototype._discardChanges=function(s,i){return F.getService('FlexConnector').discardChangesForControl(s,i).then(function(){return true;})['catch'](function(e){q.sap.log.error('Changes could not be discarded in LRep: '+e.status);return false;});};b.prototype._saveChanges=function(s,c){var m=c.filter(function(o){return o.visible===true;});var d=c.filter(function(o){return o.visible===false;});return F.getService('FlexConnector').createAndSaveChangesForControl(m,d,s).then(function(){return true;})['catch'](function(e){q.sap.log.error('Changes could not be saved in LRep: '+e.status);return false;});};b.prototype._revertChanges=function(s,o,c){this.setSnapshotOfLayersWithoutUser(o);this.setSnapshotOfUserLayer(c);s._syncAvailableActions();};b._getUnion=function(s,o){var c=q.extend(true,{},s);if(o){for(var k in c){if(o[k]&&o[k].visible!==undefined){c[k].visible=o[k].visible;}}}return c;};b._getUnionCondensed=function(s,o){var c=b._condense(s,o);var d=b._condense(o,s);return b._getUnion(c,d);};b._condense=function(s,o){var c={};for(var k in s){if(!P.semanticEqual(s[k],o[k])){c[k]=s[k];}}return c;};b._convertSnapshotToChangeFormat=function(s){var m=b._convertSnapshotToObjectArray(s);return m.map(function(o){return{key:o.key,visible:o.visible};});};b._convertSnapshotToSelectionItems=function(s){return b._convertSnapshotToObjectArray(s).map(function(m){return{columnKey:m.key,visible:m.visible};});};b._convertSnapshotToObjectArray=function(s){return Object.keys(s).map(function(k){return s[k];});};b.convertArrayToSnapshot=function(k,i){var s={};i.forEach(function(I){if(I[k]===undefined){return;}s[I[k]]=I;});return s;};return b;},true);\n",
	"sap/ui/comp/navpopover/LinkData.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var L=E.extend('sap.ui.comp.navpopover.LinkData',{metadata:{library:'sap.ui.comp',properties:{text:{type:'string',defaultValue:null},href:{type:'string',defaultValue:null},target:{type:'string',defaultValue:null},description:{type:'string',defaultValue:undefined},visible:{type:'boolean',defaultValue:true},key:{type:'string',defaultValue:undefined},press:{type:'object',defaultValue:null},isSuperiorAction:{type:'boolean'}}}});L.prototype.getJson=function(){return{key:this.getKey(),href:this.getHref(),text:this.getText(),target:this.getTarget(),description:this.getDescription(),visible:this.getVisible(),press:this.getPress(),isSuperiorAction:this.getIsSuperiorAction()};};L.convert2Json=function(a){return a.map(function(o){return o.getJson();});};return L;},true);\n",
	"sap/ui/comp/navpopover/NavigationContainer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/m/Link','sap/ui/core/Control','sap/m/VBox','sap/m/HBox','sap/m/Button','sap/m/Title','sap/m/Image','sap/m/Text','sap/ui/layout/form/SimpleForm','sap/m/VBoxRenderer','./Factory','./LinkData','sap/ui/model/json/JSONModel','./Util','sap/ui/core/TitleLevel','sap/ui/layout/HorizontalLayout','sap/ui/layout/VerticalLayout','sap/ui/layout/form/SimpleFormLayout','sap/ui/comp/personalization/Util','./FlexHandler','sap/ui/base/ManagedObjectObserver'],function(L,C,V,H,B,T,I,a,S,b,F,c,J,U,d,e,f,g,P,h,M){'use strict';var N=V.extend('sap.ui.comp.navpopover.NavigationContainer',{metadata:{library:'sap.ui.comp',properties:{mainNavigationId:{type:'string',group:'Misc',defaultValue:null},availableActionsPersonalizationText:{type:'string',defaultValue:undefined},enableAvailableActionsPersonalization:{type:'boolean',defaultValue:true}},aggregations:{availableActions:{type:'sap.ui.comp.navpopover.LinkData',multiple:true,singularName:'availableAction'},mainNavigation:{type:'sap.ui.comp.navpopover.LinkData',multiple:false},flexHandler:{type:'sap.ui.comp.navpopover.FlexHandler',visibility:'hidden',multiple:false}},associations:{extraContent:{type:'sap.ui.core.Control',multiple:false},component:{type:'sap.ui.core.Element',multiple:false}},events:{navigate:{},availableActionsPersonalizationPress:{}}},renderer:b.render});N.prototype.init=function(){V.prototype.init.call(this);var m=new J({mainNavigationLink:{title:undefined,subtitle:undefined,href:undefined,target:undefined},availableActions:[],availableActionsPersonalizationText:undefined,enableAvailableActionsPersonalization:undefined,extraContent:undefined});m.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);m.setSizeLimit(1000);this.setModel(m,'$sapuicompNavigationContainer');this.setAggregation('flexHandler',new h());this._oObserver=null;};N.prototype.applySettings=function(){V.prototype.applySettings.apply(this,arguments);this._createContent();};N.prototype.exit=function(o){if(this._getInternalModel()){this._getInternalModel().destroy();}if(this._oObserver){this._oObserver.disconnect();this._oObserver=null;}};N.prototype.openSelectionDialog=function(i,s,j,k,l){var t=this;return this._getFlexHandler().openSelectionDialog(this,i,s,j,k,l).then(function(){t._updateAvailableActionsPersonalizationText();});};N.prototype.getDirectLink=function(){var m=this._getInternalModel();if(m.getProperty('/extraContent')){return null;}if(m.getProperty('/mainNavigationLink/href')&&!m.getProperty('/availableActions').length){return this._oHeaderArea.getItems()[0];}if(m.getProperty('/availableActions').length===1&&!m.getProperty('/mainNavigationLink/href')){return this._oActionArea.getItems()[0].getItems()[0];}return null;};N.prototype.hasContent=function(){var m=this._getInternalModel();return!!m.getProperty('/mainNavigationLink/href')||!!m.getProperty('/availableActions').length||!!m.getProperty('/extraContent');};N.prototype.setExtraContent=function(o){this.setAssociation('extraContent',o);if(!o){return this;}var m=this._getInternalModel();if(m.getProperty('/extraContent')){this.removeItem(1);}if(typeof o==='string'){o=sap.ui.getCore().byId(o);}this.insertItem(o,1);m.setProperty('/extraContent',o);return this;};N.prototype.setMainNavigationId=function(m){this.setProperty('mainNavigationId',m,true);var o=this._getInternalModel();if(typeof m==='string'){o.setProperty('/mainNavigationLink/title',m);}return this;};N.prototype.setMainNavigation=function(l){this.setAggregation('mainNavigation',l,true);if(!l){return this;}var m=this._getInternalModel();if(l.getHref()){m.setProperty('/mainNavigationLink/href',this._convertToExternal(l.getHref()));m.setProperty('/mainNavigationLink/target',l.getTarget());}if(!m.getProperty('/mainNavigationLink/title')&&m.getProperty('/mainNavigationLink/title')!==''){m.setProperty('/mainNavigationLink/title',l.getText());}m.setProperty('/mainNavigationLink/subtitle',l.getDescription());return this;};N.prototype.setAvailableActionsPersonalizationText=function(A){this.setProperty('availableActionsPersonalizationText',A,true);var m=this._getInternalModel();m.setProperty('/availableActionsPersonalizationText',A);return this;};N.prototype.setEnableAvailableActionsPersonalization=function(E){this.setProperty('enableAvailableActionsPersonalization',E,true);var m=this._getInternalModel();m.setProperty('/enableAvailableActionsPersonalization',E);this._updateAvailableActionsPersonalizationText();return this;};N.prototype.addAvailableAction=function(l){this.addAggregation('availableActions',l);if(!l){return this;}l.setHref(this._convertToExternal(l.getHref()));l.setPress(this._onLinkPress.bind(this));var m=this._getInternalModel();m.setProperty('/availableActions/'+this.indexOfAvailableAction(l)+'/',l.getJson());return this;};N.prototype.insertAvailableAction=function(l,i){this.insertAggregation('availableActions',l,i);if(!l){return this;}l.setHref(this._convertToExternal(l.getHref()));l.setPress(this._onLinkPress.bind(this));var m=this._getInternalModel();m.setProperty('/availableActions/'+i+'/',l.getJson());return this;};N.prototype.removeAvailableAction=function(l){var i=this.indexOfAvailableAction(l);if(i>-1){var m=this._getInternalModel();var A=m.getProperty('/availableActions');A.splice(i,1);m.setProperty('/availableActions',A);}l=this.removeAggregation('availableActions',l);return l;};N.prototype.removeAllAvailableActions=function(){var A=this.removeAllAggregation('availableActions');var m=this._getInternalModel();m.setProperty('/availableActions',[]);return A;};N.prototype.onAfterRenderingActionForm=function(){var m=this._getInternalModel();var $=m.getProperty('/extraContent')?m.getProperty('/extraContent').$()[0]:undefined;if($&&$.scrollHeight>$.clientHeight){this.setFitContainer(false).setJustifyContent(sap.m.FlexJustifyContent.Start);}};N.prototype._createContent=function(){var t=this;this.addStyleClass('navigationPopover');this._oObserver=new M(function(j){if((j.type==='property'||j.type==='binding')&&j.name==='visible'){var m=this._getInternalModel().getProperty('/availableActions');var k=m.filter(function(l){return l.visible===true;});i.setVisible(k.length>0||!!this._getInternalModel().getProperty('/enableAvailableActionsPersonalization'));this._oActionArea.setVisible(k.length>0);if(this.hasContent()&&!this._getInternalModel().getProperty('/extraContent')){D.setVisible(false);}}}.bind(this));var o=new L({href:{path:'/mainNavigationLink/href'},text:{path:'/mainNavigationLink/title'},target:{path:'/mainNavigationLink/target'},visible:{path:'/mainNavigationLink/title',formatter:function(j){return!!j;}},enabled:{path:'/mainNavigationLink/href',formatter:function(v){return!!v;}},press:this._onLinkPress.bind(this)});o.addStyleClass('navigationPopoverTitle');this._oObserver.observe(o,{bindings:['visible'],properties:['visible']});var s=new a({text:{path:'/mainNavigationLink/subtitle'},visible:{path:'/mainNavigationLink/subtitle',formatter:function(v){return!!v;}}});this._oHeaderArea=new V({items:[o,s],visible:{path:'/mainNavigationLink/title',formatter:function(j){return!!j;}}});this._oHeaderArea.addStyleClass('navigationPopoverTitleH1');this._oHeaderArea.addStyleClass('navigationPopoverHeader');var D=new S({maxContainerCols:1,content:[new sap.ui.core.Title({text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_MSG_NO_CONTENT')})]});D.addStyleClass('navigationPopoverDefaultExtraContent');var i=new V({visible:false});i.addStyleClass('navigationPopoverSeparator');this._oActionArea=new V({items:{path:'/availableActions',templateShareable:false,factory:function(j,k){var l=new L({visible:'{visible}',text:'{text}',href:'{href}',target:'{target}',press:k.getProperty('press')});this._oObserver.observe(l,{bindings:['visible'],properties:['visible']});return new V({visible:'{visible}',layoutData:new sap.m.FlexItemData({styleClass:k.getProperty('description')?'navigationPopoverAvailableLinkGroup':'navigationPopoverAvailableLinkWithoutGroup'}),items:[l,new a({visible:'{visible}',text:'{description}'})]});}.bind(this)}});this._oActionArea.addEventDelegate({onAfterRendering:this.onAfterRenderingActionForm.bind(this)});this._oActionArea.addStyleClass('navigationPopoverAvailableLinks');this._oPersonalizationButton=new H({visible:{parts:[{path:'/enableAvailableActionsPersonalization'}],formatter:function(E){return!!E;}},justifyContent:'End',items:new B({type:sap.m.ButtonType.Transparent,text:{path:'/availableActionsPersonalizationText'},press:function(){t.fireAvailableActionsPersonalizationPress();}})});this._oPersonalizationButton.addStyleClass('navigationPopoverPersonalizationButton');this.setFitContainer(true);this.setJustifyContent(sap.m.FlexJustifyContent.Start);this.addItem(this._oHeaderArea).addItem(this._getInternalModel().getProperty('/extraContent')||D).addItem(i).addItem(this._oActionArea).addItem(this._oPersonalizationButton);this._oHeaderArea.setModel(this._getInternalModel());i.setModel(this._getInternalModel());this._oActionArea.setModel(this._getInternalModel());this._oPersonalizationButton.setModel(this._getInternalModel());};N.prototype._onLinkPress=function(E){this.fireNavigate({text:E.getSource().getText(),href:E.getSource().getHref()});};N.prototype._convertToExternal=function(s){var x=F.getService('CrossApplicationNavigation');if(!x){return s;}return x.hrefForExternal({target:{shellHash:s}},this._getComponent());};N.prototype._getComponent=function(){var o=this.getComponent();if(typeof o==='string'){o=sap.ui.getCore().getComponent(o);}return o;};N.prototype._getFlexHandler=function(){return this.getAggregation('flexHandler');};N.prototype._updateAvailableAction=function(l,s){this._getFlexHandler().updateAvailableActionOfSnapshot(l,s);this._syncAvailableActions();};N.prototype._discardAvailableActions=function(l){this._getFlexHandler().discardAvailableActionsOfSnapshot(l);this._syncAvailableActions();};N.prototype._syncAvailableActions=function(){var s=this._getFlexHandler().determineSnapshotOfAvailableActions();var m=this._getInternalModel();m.getProperty('/availableActions').forEach(function(o,i){if(s[o.key]!==undefined){m.setProperty('/availableActions/'+i+'/visible',s[o.key].visible);}});};N.prototype._updateAvailableActionsPersonalizationText=function(){var A=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_DEFINE_LINKS');if(this.getEnableAvailableActionsPersonalization()){this.setAvailableActionsPersonalizationText(A);}};N.prototype._getInternalModel=function(){return this.getModel('$sapuicompNavigationContainer');};return N;},true);\n",
	"sap/ui/comp/navpopover/NavigationPopover.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/Link','sap/m/ResponsivePopover','sap/m/Button','sap/m/Title','sap/m/Image','sap/m/Text','sap/ui/layout/form/SimpleForm','sap/m/VBox','sap/m/HBox','sap/m/ResponsivePopoverRenderer','./Factory','./LinkData','sap/ui/model/json/JSONModel','sap/ui/base/ManagedObjectObserver'],function(q,L,R,B,T,I,a,S,V,H,b,F,c,J,M){'use strict';var N=R.extend('sap.ui.comp.navpopover.NavigationPopover',{metadata:{library:'sap.ui.comp',properties:{semanticObjectName:{type:'string',group:'Misc',defaultValue:null},semanticAttributes:{type:'object',group:'Misc',defaultValue:null},appStateKey:{type:'string',group:'Misc',defaultValue:null},mainNavigationId:{type:'string',group:'Misc',defaultValue:null},availableActionsPersonalizationText:{type:'string',group:'Misc',defaultValue:undefined}},aggregations:{availableActions:{type:'sap.ui.comp.navpopover.LinkData',multiple:true,singularName:'availableAction'},mainNavigation:{type:'sap.ui.comp.navpopover.LinkData',multiple:false},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData',multiple:false}},associations:{source:{type:'sap.ui.core.Control',multiple:false},extraContent:{type:'sap.ui.core.Control',multiple:false},component:{type:'sap.ui.core.Element',multiple:false}},events:{targetsObtained:{},navigate:{parameters:{text:{type:'string'},href:{type:'string'}}},availableActionsPersonalizationPress:{}}},renderer:b.render});N.prototype.init=function(){R.prototype.init.call(this);var m=new J({mainNavigationLink:{title:undefined,subtitle:undefined,href:undefined,target:undefined},ownNavigation:undefined,availableActions:[],availableActionsPersonalizationText:undefined,extraContent:undefined});m.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);m.setSizeLimit(1000);this.setModel(m,'$sapuicompNavigationPopover');this._bUseExternalContent=false;this.addStyleClass('navigationPopover');this.setContentWidth('380px');this.setHorizontalScrolling(false);this.setShowHeader(sap.ui.Device.system.phone);this.setPlacement(sap.m.PlacementType.Auto);this._oObserver=null;};N.prototype.applySettings=function(s){if(s&&s.customData&&s.customData.getProperty('key')==='useExternalContent'){this._bUseExternalContent=true;}this._createContent();R.prototype.applySettings.apply(this,arguments);};N.prototype.exit=function(C){if(this._getInternalModel()){this._getInternalModel().destroy();}if(this._oObserver){this._oObserver.disconnect();this._oObserver=null;}R.prototype.exit.apply(this,arguments);};N.prototype.retrieveNavTargets=function(){var x=F.getService('CrossApplicationNavigation');var u=F.getService('URLParsing');if(!x||!u){q.sap.log.error(\"Service 'CrossApplicationNavigation' could not be obtained\");this.fireTargetsObtained();return;}var t=this;this.setMainNavigation(null);this.setOwnNavigation(null);this.removeAllAvailableActions();var p=x.getLinks({semanticObject:this.getSemanticObjectName(),params:this.getSemanticAttributes(),appStateKey:this.getAppStateKey(),ui5Component:this._getComponent(),sortResultOnTexts:true});p.done(function(l){if(!l||!l.length){t.fireTargetsObtained();return;}var C=x.hrefForExternal();if(C&&C.indexOf('?')!==-1){C=C.split('?')[0];}l.forEach(function(o){if(o.intent.indexOf(C)===0){t.setOwnNavigation(new c({href:o.intent,text:o.text}));return;}var s=u.parseShellHash(o.intent);if(s.action&&(s.action==='displayFactSheet')){t.setMainNavigation(new c({href:o.intent,text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_FACTSHEET')}));return;}t.addAvailableAction(new c({href:o.intent,text:o.text}));});t.fireTargetsObtained();});p.fail(function(){q.sap.log.error(\"'retrieveNavTargets' failed\");});};N.prototype.show=function(d){var C=d||this._getControl();if(!C){q.sap.log.error('no source assigned');return;}this.openBy(C);};N.prototype.getDirectLink=function(){if(this._bUseExternalContent){return this.getContent()[0].getDirectLink();}var m=this._getInternalModel();if(m.getProperty('/extraContent')){return null;}if(m.getProperty('/mainNavigationLink/href')&&!m.getProperty('/availableActions').length){return this._oHeaderArea.getItems()[0];}if(m.getProperty('/availableActions').length===1&&!m.getProperty('/mainNavigationLink/href')){return this._oActionArea.getItems()[0].getItems()[0];}return null;};N.prototype.hasContent=function(){if(this._bUseExternalContent){return this.getContent()[0].hasContent();}var m=this._getInternalModel();return!!m.getProperty('/mainNavigationLink/href')||!!m.getProperty('/availableActions').length||!!m.getProperty('/extraContent');};N.prototype.setMainNavigationId=function(m){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}this.setProperty('mainNavigationId',m,true);var o=this._getInternalModel();if(typeof m==='string'){o.setProperty('/mainNavigationLink/title',m);}return this;};N.prototype.setAvailableActionsPersonalizationText=function(A){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}this.setProperty('availableActionsPersonalizationText',A,true);var m=this._getInternalModel();m.setProperty('/availableActionsPersonalizationText',A);return this;};N.prototype.setExtraContent=function(C){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}var m=this._getInternalModel();if(m.getProperty('/extraContent')){this._getContentContainer().removeItem(1);}if(typeof C==='string'){C=sap.ui.getCore().byId(C);}this._getContentContainer().insertItem(C,1);this.setAssociation('extraContent',C);m.setProperty('/extraContent',C);return this;};N.prototype.setMainNavigation=function(l){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}this.setAggregation('mainNavigation',l,true);if(!l){return this;}var m=this._getInternalModel();if(l.getHref()){m.setProperty('/mainNavigationLink/href',this._convertToExternal(l.getHref()));m.setProperty('/mainNavigationLink/target',l.getTarget());}if(!m.getProperty('/mainNavigationLink/title')&&m.getProperty('/mainNavigationLink/title')!==''){m.setProperty('/mainNavigationLink/title',l.getText());}m.setProperty('/mainNavigationLink/subtitle',l.getDescription());return this;};N.prototype.addAvailableAction=function(l){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}this.addAggregation('availableActions',l);if(!l){return this;}l.setHref(this._convertToExternal(l.getHref()));l.setPress(this._onLinkPress.bind(this));var m=this._getInternalModel();m.setProperty('/availableActions/'+this.indexOfAvailableAction(l)+'/',l.getJson());return this;};N.prototype.insertAvailableAction=function(l,i){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}this.insertAggregation('availableActions',l,i);if(!l){return this;}l.setHref(this._convertToExternal(l.getHref()));l.setPress(this._onLinkPress.bind(this));var m=this._getInternalModel();m.setProperty('/availableActions/'+i+'/',l.getJson());return this;};N.prototype.removeAvailableAction=function(l){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}var i=this.indexOfAvailableAction(l);if(i>-1){var m=this._getInternalModel();m.getData().availableActions.splice(i,1);m.refresh(true);}l=this.removeAggregation('availableActions',l);return l;};N.prototype.removeAllAvailableActions=function(){if(this._bUseExternalContent){throw'The API should not be used in case that the external content has been set';}var A=this.removeAllAggregation('availableActions');var m=this._getInternalModel();m.setProperty('/availableActions',[]);m.refresh(true);return A;};N.prototype.onAfterRenderingActionForm=function(){var m=this._getInternalModel();var C=m.getProperty('/extraContent')?m.getProperty('/extraContent').$()[0]:undefined;if(C&&C.scrollHeight>C.clientHeight){this._getContentContainer().setFitContainer(false).setJustifyContent(sap.m.FlexJustifyContent.Start);}};N.prototype._createContent=function(){if(this._bUseExternalContent){return;}var t=this;var o=new L({href:{path:'/mainNavigationLink/href'},text:{path:'/mainNavigationLink/title'},target:{path:'/mainNavigationLink/target'},visible:{path:'/mainNavigationLink/title',formatter:function(e){return!!e;}},enabled:{path:'/mainNavigationLink/href',formatter:function(v){return!!v;}},press:this._onLinkPress.bind(this)});o.addStyleClass('navigationPopoverTitle');var s=new a({text:{path:'/mainNavigationLink/subtitle'},visible:{path:'/mainNavigationLink/subtitle',formatter:function(v){return!!v;}}});this._oHeaderArea=new V({items:[o,s],visible:{path:'/mainNavigationLink/title',formatter:function(e){return!!e;}}});this._oHeaderArea.addStyleClass('navigationPopoverTitleH1');this._oHeaderArea.addStyleClass('navigationPopoverHeader');this._oHeaderArea.setModel(this._getInternalModel());this._oObserver=new M(function(e){if(e.type==='property'&&e.name==='visible'){var m=this._getInternalModel().getProperty('/availableActions').filter(function(f){return f.visible===true;});d.setVisible(m.length>0||this._getInternalModel().getProperty('/enableAvailableActionsPersonalization'));this._oActionArea.setVisible(m.length>0);}}.bind(this));var d=new V();d.setModel(this._getInternalModel());d.addStyleClass('navigationPopoverSeparator');this._oActionArea=new V({items:{path:'/availableActions',templateShareable:false,factory:function(i,e){var l=new L({visible:'{visible}',text:'{text}',href:'{href}',target:'{target}',press:e.getProperty('press')});this._oObserver.observe(l,{properties:['visible']});return new V({visible:'{visible}',layoutData:new sap.m.FlexItemData({styleClass:e.getProperty('description')?'navigationPopoverAvailableLinkGroup':'navigationPopoverAvailableLinkWithoutGroup'}),items:[l,new a({visible:'{visible}',text:'{description}'})]});}.bind(this)}});this._oActionArea.addEventDelegate({onAfterRendering:this.onAfterRenderingActionForm.bind(this)});this._oActionArea.addStyleClass('navigationPopoverAvailableLinks');this._oActionArea.setModel(this._getInternalModel());this._oPersonalizationButton=new H({visible:{parts:[{path:'/enableAvailableActionsPersonalization'}],formatter:function(e){return!!e;}},justifyContent:'End',items:new B({type:sap.m.ButtonType.Transparent,text:{path:'/availableActionsPersonalizationText'},press:function(){t.fireAvailableActionsPersonalizationPress();}})});this._oPersonalizationButton.setModel(this._getInternalModel());this._oPersonalizationButton.addStyleClass('navigationPopoverPersonalizationButton');var C=new V({fitContainer:true,justifyContent:sap.m.FlexJustifyContent.Start,items:[this._oHeaderArea]});if(this._getInternalModel().getProperty('/extraContent')){C.addItem(this._getInternalModel().getProperty('/extraContent'));}C.addItem(d).addItem(this._oActionArea).addItem(this._oPersonalizationButton);this.addContent(C);};N.prototype._onLinkPress=function(e){this.fireNavigate({text:e.getSource().getText(),href:e.getSource().getHref()});};N.prototype._convertToExternal=function(h){var x=F.getService('CrossApplicationNavigation');if(!x){return h;}return x.hrefForExternal({target:{shellHash:h}},this._getComponent());};N.prototype._getControl=function(){var C=this.getAssociation('source');if(typeof C==='string'){C=sap.ui.getCore().byId(C);}return C;};N.prototype._getComponent=function(){var C=this.getComponent();if(typeof C==='string'){C=sap.ui.getCore().getComponent(C);}return C;};N.prototype._getContentContainer=function(){return this.getContent()[0];};N.prototype._getInternalModel=function(){return this.getModel('$sapuicompNavigationPopover');};return N;},true);\n",
	"sap/ui/comp/navpopover/NavigationPopoverHandler.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/base/ManagedObject','./SemanticObjectController','sap/ui/model/json/JSONModel','sap/ui/core/Control','./Factory','./NavigationPopover','./Util','sap/m/VBox','./LinkData','sap/m/MessageBox','sap/ui/comp/personalization/Controller','sap/ui/comp/personalization/Util','./FlexHandler','./NavigationContainer','./ContactDetailsController'],function(q,C,M,S,J,a,F,N,U,V,L,b,c,P,d,e,f){'use strict';var g=M.extend('sap.ui.comp.navpopover.NavigationPopoverHandler',{metadata:{library:'sap.ui.comp',properties:{semanticObject:{type:'string',defaultValue:null},additionalSemanticObjects:{type:'string[]',defaultValue:[]},semanticObjectController:{type:'any',defaultValue:null},fieldName:{type:'string',defaultValue:null},semanticObjectLabel:{type:'string',defaultValue:null},mapFieldToSemanticObject:{type:'boolean',defaultValue:true},contactAnnotationPath:{type:'string',defaultValue:undefined},enableAvailableActionsPersonalization:{type:'boolean',defaultValue:true}},associations:{control:{type:'sap.ui.core.Control',multiple:false}},events:{beforePopoverOpens:{parameters:{semanticObject:{type:'string'},semanticAttributes:{type:'object'},semanticAttributesOfSemanticObjects:{type:'object'},setSemanticAttributes:{type:'function'},setAppStateKey:{type:'function'},originalId:{type:'string'},open:{type:'function'}}},navigationTargetsObtained:{parameters:{mainNavigation:{type:'sap.ui.comp.navpopover.LinkData'},actions:{type:'sap.ui.comp.navpopover.LinkData[]'},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData'},popoverForms:{type:'sap.ui.layout.form.SimpleForm[]'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'},show:{type:'function'}}},innerNavigate:{parameters:{text:{type:'string'},href:{type:'string'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'}}}}}});g.prototype.init=function(){this._oPopover=null;this._oContactDetailsController=new f();var m=new J({semanticObject:undefined,semanticAttributes:undefined,appStateKey:undefined,mainNavigationId:undefined,navigationTarget:{mainNavigation:undefined,enableAvailableActionsPersonalization:undefined,availableActionsPersonalizationText:undefined,extraContent:undefined},availableActions:[]});m.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);m.setSizeLimit(1000);this.setModel(m,'$sapuicompNavigationPopoverHandler');};g.prototype.applySettings=function(s){M.prototype.applySettings.apply(this,arguments);this._setSemanticAttributes(this._calculateSemanticAttributes(null));};g.prototype.openPopover=function(D){var t=this;return this._getPopover().then(function(p){var l=p.getDirectLink();if(l){t._fireInnerNavigate({text:l.getText(),href:l.getHref()});window.location.href=l.getHref();t._destroyPopover();return;}p.show(D);});};g.prototype.getSemanticObjectValue=function(){var s=this._getSemanticAttributes();if(s){return s[this.getSemanticObject()][this.getSemanticObject()];}return undefined;};g.prototype.getNavigationPopoverStableId=function(){var A=this._getAppComponent();var s=this.getModel('$sapuicompNavigationPopoverHandler').getProperty('/semanticObject');if(!A||!s){return undefined;}var h=[s].concat(this.getAdditionalSemanticObjects());U.sortArrayAlphabetical(h);var i=h.join('--');return A.createId('sapuicompnavpopoverNavigationPopover---'+i);};g.prototype.updateBindingContext=function(){a.prototype.updateBindingContext.apply(this,arguments);this._setSemanticAttributes(this._calculateSemanticAttributes(null));this._destroyPopover();};g.prototype.setSemanticObject=function(s){this._destroyPopover();this.setProperty('semanticObject',s);this.getModel('$sapuicompNavigationPopoverHandler').setProperty('/semanticObject',s);this._setSemanticAttributes(this._calculateSemanticAttributes(null));return this;};g.prototype._setSemanticAttributes=function(s){this.getModel('$sapuicompNavigationPopoverHandler').setProperty('/semanticAttributes',s);};g.prototype._getSemanticAttributes=function(){return this.getModel('$sapuicompNavigationPopoverHandler').getProperty('/semanticAttributes');};g.prototype.setEnableAvailableActionsPersonalization=function(E){this.setProperty('enableAvailableActionsPersonalization',E);this.getModel('$sapuicompNavigationPopoverHandler').setProperty('/navigationTarget/enableAvailableActionsPersonalization',E);return this;};g.prototype.setFieldName=function(s){this.setProperty('fieldName',s);this._setSemanticAttributes(this._calculateSemanticAttributes(null));return this;};g.prototype.setControl=function(o){this.setAssociation('control',o);this.setModel(o.getModel());this._destroyPopover();this._updateSemanticObjectController();this._setSemanticAttributes(this._calculateSemanticAttributes(null));return this;};g.prototype.setMapFieldToSemanticObject=function(m){this.setProperty('mapFieldToSemanticObject',m);this._setSemanticAttributes(this._calculateSemanticAttributes(null));return this;};g.prototype.setSemanticObjectController=function(s){this._updateSemanticObjectController(s);this._setSemanticAttributes(this._calculateSemanticAttributes(null));return this;};g.prototype.exit=function(){this._oContactDetailsController.destroy();this._destroyPopover();if(this.getSemanticObjectController()){this.getSemanticObjectController().unregisterControl(this);}if(this.getModel('$sapuicompNavigationPopoverHandler')){this.getModel('$sapuicompNavigationPopoverHandler').destroy();}};g.prototype._initModel=function(){var t=this;var s;var h=this.getSemanticObject();var A=this.getAdditionalSemanticObjects();var i=this.getContactAnnotationPath();if(i===undefined&&this.getSemanticObjectController()&&this.getSemanticObjectController().getContactAnnotationPaths()&&this.getSemanticObjectController().getContactAnnotationPaths()[this.getFieldName()]!==undefined){i=this.getSemanticObjectController().getContactAnnotationPaths()[this.getFieldName()];}var o=sap.ui.getCore().byId(this.getControl());if(!o){q.sap.log.error('sap.ui.comp.navpopover.NavigationPopoverHandler: No control provided, popover cannot be attached.');}var B=o&&o.getBindingContext()?o.getBindingContext().getPath():null;if(!B){q.sap.log.warning('sap.ui.comp.navpopover.NavigationPopoverHandler: Binding Context is null. Please be aware that without binding context no semantic attributes can be calculated. Without semantic attributes no URL parameters can be created.');}var O=this.getModel();var j=this._getComponent();var I=o&&o.getId();var m,k,n;return U.retrieveSemanticObjectMapping(this.getFieldName(),O,B).then(function(l){t._setSemanticAttributes(t._calculateSemanticAttributes(l));s=t._getSemanticAttributes();return t._fireBeforePopoverOpens(s,h,I);}).then(function(r){s=r.semanticAttributes;t._setSemanticAttributes(s);k=t.getSemanticObjectValue();m=(o&&o._getTextOfDom&&o._getTextOfDom())||t.getSemanticObjectValue();t.getModel('$sapuicompNavigationPopoverHandler').setProperty('/appStateKey',r.appStateKey);return U.retrieveNavigationTargets(h,A,r.appStateKey,j,s,m);}).then(function(T){n=T;t._oContactDetailsController.setModel(O);return t._oContactDetailsController.getBindingPath4ContactAnnotation(B,i,k);}).then(function(l){var p=t._oContactDetailsController.getContactDetailsContainers(l);return t._fireNavigationTargetsObtained(m,h,s,I,p,n);}).then(function(r){var l=t.getModel('$sapuicompNavigationPopoverHandler');l.setProperty('/mainNavigationId',r.mainNavigationId);l.setProperty('/navigationTarget/mainNavigation',r.mainNavigation);l.setProperty('/navigationTarget/extraContent',r.extraContent);l.setProperty('/availableActions',t._updateVisibilityOfAvailableActions(L.convert2Json(r.availableActions)));l.setProperty('/navigationTarget/enableAvailableActionsPersonalization',t._isAvailableActionsPersonalizationTextEnabled(l.getProperty('/availableActions')));});};g.prototype._initPopover=function(){var t=this;return this._initModel().then(function(){var m=t.getModel('$sapuicompNavigationPopoverHandler');var p=t._createPopover();p.setModel(m,'$sapuicompNavigationPopoverHandler');var o=sap.ui.getCore().byId(t.getControl());if(o){o.addDependent(p);}p.getContent()[0]._updateAvailableActionsPersonalizationText();return p;});};g.prototype._initNavigationContainer=function(){var t=this;return this._initModel().then(function(){var m=t.getModel('$sapuicompNavigationPopoverHandler');var n=t._createNavigationContainer();n.setModel(m,'$sapuicompNavigationPopoverHandler');var o=sap.ui.getCore().byId(t.getControl());if(o){o.addDependent(n);}n._updateAvailableActionsPersonalizationText();return n;});};g.prototype._getPopover=function(){if(!this._oPopover){return this._initPopover();}else{return Promise.resolve(this._oPopover);}};g.prototype._getNavigationContainer=function(){return this._initNavigationContainer().then(function(n){return n;});};g.prototype._destroyPopover=function(){if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};g.prototype._createPopover=function(){if(this._oPopover){return this._oPopover;}var n=this._createNavigationContainer();n.attachAvailableActionsPersonalizationPress(this._onAvailableActionsPersonalizationPress,this);var i=new sap.ui.core.InvisibleText({text:'{$sapuicompNavigationPopoverHandler>/mainNavigationId}'});this._oPopover=new N({customData:new sap.ui.core.CustomData({key:'useExternalContent'}),content:[n,i],ariaLabelledBy:i,semanticObjectName:'{$sapuicompNavigationPopoverHandler>/semanticObject}',semanticAttributes:'{$sapuicompNavigationPopoverHandler>/semanticAttributes}',appStateKey:'{$sapuicompNavigationPopoverHandler>/appStateKey}',source:this.getControl(),beforeClose:function(){this.removeAllContent().forEach(function(o){o.destroy();});},afterClose:this._destroyPopover.bind(this)});return this._oPopover;};g.prototype._createNavigationContainer=function(){if(!!sap.ui.getCore().byId(this.getNavigationPopoverStableId())){q.sap.log.error(\"Duplicate ID '\"+this.getNavigationPopoverStableId()+\"'. The instance of NavigationContainer should be destroyed first in order to avoid duplicate creation of NavigationContainer with stable ID.\");throw'Duplicate ID';}var m=this.getModel('$sapuicompNavigationPopoverHandler');var n=new e(this.getNavigationPopoverStableId(),{mainNavigationId:'{$sapuicompNavigationPopoverHandler>/mainNavigationId}',mainNavigation:m.getProperty('/navigationTarget/mainNavigation'),availableActions:{path:'$sapuicompNavigationPopoverHandler>/availableActions',templateShareable:false,template:new L({key:'{$sapuicompNavigationPopoverHandler>key}',href:'{$sapuicompNavigationPopoverHandler>href}',text:'{$sapuicompNavigationPopoverHandler>text}',target:'{$sapuicompNavigationPopoverHandler>target}',description:'{$sapuicompNavigationPopoverHandler>description}',visible:'{$sapuicompNavigationPopoverHandler>visible}'})},extraContent:m.getProperty('/navigationTarget/extraContent')?m.getProperty('/navigationTarget/extraContent').getId():undefined,component:this._getComponent(),enableAvailableActionsPersonalization:'{$sapuicompNavigationPopoverHandler>/navigationTarget/enableAvailableActionsPersonalization}',availableActionsPersonalizationText:'{$sapuicompNavigationPopoverHandler>/navigationTarget/availableActionsPersonalizationText}',navigate:this._onNavigate.bind(this)});n._getFlexHandler().setInitialSnapshot(d.convertArrayToSnapshot('key',m.getProperty('/availableActions')));return n;};g.prototype._fireBeforePopoverOpens=function(s,h,i){var t=this;return new Promise(function(r){var R={semanticAttributes:s,appStateKey:undefined};if(!t.hasListeners('beforePopoverOpens')){return r(R);}t.fireBeforePopoverOpens({originalId:i,semanticObject:h,semanticAttributes:s?s[h]:s,semanticAttributesOfSemanticObjects:s,setSemanticAttributes:function(j,k){k=k||h;R.semanticAttributes=R.semanticAttributes||{};R.semanticAttributes[k]=j;},setAppStateKey:function(A){R.appStateKey=A;},open:function(){return r(R);}});});};g.prototype._fireNavigationTargetsObtained=function(m,s,o,i,h,n){var t=this;return new Promise(function(r){var R={mainNavigationId:m,mainNavigation:n.mainNavigation,availableActions:n.availableActions,ownNavigation:n.ownNavigation,extraContent:h.length?new V({items:h}):undefined};if(!t.hasListeners('navigationTargetsObtained')){return r(R);}t.fireNavigationTargetsObtained({mainNavigation:n.mainNavigation,actions:n.availableActions,ownNavigation:n.ownNavigation,popoverForms:h,semanticObject:s,semanticAttributes:o?o[s]:o,originalId:i,show:function(m,j,A,k){if(arguments.length>0&&!(typeof m==='string'||j instanceof sap.ui.comp.navpopover.LinkData||q.isArray(A))&&k===undefined){k=A;A=j;j=m;m=undefined;}if(m!==undefined&&m!==null){R.mainNavigationId=m;}if(j!==undefined){R.mainNavigation=j;}if(A){A.forEach(function(l){if(l.getKey()===undefined){q.sap.log.error(\"'key' attribute of 'availableAction' '\"+l.getText()+\"' is undefined. Links without 'key' can not be persisted.\");q.sap.log.warning(\"The 'visible' attribute of 'availableAction' '\"+l.getText()+\"' is set to 'true'\");l.setVisible(true);}});R.availableActions=A;}if(k){R.extraContent=k;}return r(R);}});});};g.prototype._onNavigate=function(E){var p=E.getParameters();this._fireInnerNavigate({text:p.text,href:p.href});};g.prototype._onAvailableActionsPersonalizationPress=function(E){var t=this;var n=E.getSource();this._oPopover.setModal(true);n.openSelectionDialog(false,true,undefined,true,undefined).then(function(){if(t._oPopover){t._oPopover.setModal(false);}});};g.prototype._fireInnerNavigate=function(p){var o=sap.ui.getCore().byId(this.getControl());var s=this.getSemanticObject();var h=this._getSemanticAttributes();this.fireInnerNavigate({text:p.text,href:p.href,originalId:o?o.getId():undefined,semanticObject:s,semanticAttributes:h?h[s]:h});};g.prototype._getComponent=function(){var o=sap.ui.getCore().byId(this.getControl());if(!o){return null;}var p=o.getParent();while(p){if(p instanceof sap.ui.core.Component){if(p&&p.getAppComponent){p=p.getAppComponent();}return p;}p=p.getParent();}return null;};g.prototype._getAppComponent=function(){return F.getService('FlexConnector').getAppComponentForControl(sap.ui.getCore().byId(this.getControl()));};g.prototype._calculateSemanticAttributes=function(s){var o=sap.ui.getCore().byId(this.getControl());var B=this.getBindingContext()||(o&&o.getBindingContext());if(!B){return null;}var t=this;var h=this.getFieldName();var i=B.getObject(B.getPath());var j=['',this.getSemanticObject()].concat(this.getAdditionalSemanticObjects());var r={};j.forEach(function(k){r[k]={};var m=t._getMappingRules(k,s,i);for(var A in i){if(A==='__metadata'){continue;}if(i[A]===undefined||i[A]===null){continue;}if(q.isPlainObject(i[A])){continue;}var l=m[A];var n=i[A];if(r[k][l]){if(i[h]){if(l===m[t.getFieldName()]){n=i[h];}else{q.sap.log.error('During the mapping of the attribute '+A+' a clash situation is occurred. This can lead to wrong navigation later on.');}}}r[k][l]=n;}});return r;};g.prototype._getMappingRules=function(s,o,h){var m=this.getMapFieldToSemanticObject();if(this.getSemanticObjectController()&&this.getSemanticObjectController().getMapFieldToSemanticObject()!==undefined){m=this.getSemanticObjectController().getMapFieldToSemanticObject();}var A;var i={};if(o){for(A in o[s]){if(typeof o[s][A]==='string'){i[A]=o[s][A];}}}else if(m){if(this.getSemanticObjectController()){var j=this.getSemanticObjectController().getFieldSemanticObjectMap();for(A in j){i[A]=j[A];}}if(this.getFieldName()&&this.getSemanticObject()){i[this.getFieldName()]=this.getSemanticObject();}}for(A in h){if(!i.hasOwnProperty(A)){i[A]=A;}}return i;};g.prototype._updateSemanticObjectController=function(o){var h=this.getProperty('semanticObjectController');var i=sap.ui.getCore().byId(this.getControl());o=o||this.getSemanticObjectController()||this._getSemanticObjectControllerOfControl(i);if(o&&i&&o.isControlRegistered(i)){o.unregisterControl(this);}if(o!==h&&h){h.unregisterControl(this);}this.setProperty('semanticObjectController',o);if(o&&!o.isControlRegistered(i)){o.registerControl(this);}};g.prototype._getSemanticObjectControllerOfControl=function(o){if(!o){return undefined;}var s;var p=o.getParent();while(p){if(p.getSemanticObjectController){s=p.getSemanticObjectController();if(s){this.setSemanticObjectController(s);break;}}p=p.getParent();}return s;};g.prototype._updateVisibilityOfAvailableActions=function(m){if(!this._getEnabledAvailableActionsPersonalizationTotal()){return m;}var h=U.getStorableAvailableActions(m);var H=h.some(function(o){return!!o.isSuperiorAction;});h.forEach(function(o){if(m.length>10){o.visible=false;}if(H){o.visible=false;}if(o.isSuperiorAction){o.visible=true;}});return m;};g.prototype._isAvailableActionsPersonalizationTextEnabled=function(m){var h=U.getStorableAvailableActions(m);if(h.length===0){return false;}return this._getEnabledAvailableActionsPersonalizationTotal();};g.prototype._getEnabledAvailableActionsPersonalizationTotal=function(){var E=this.getEnableAvailableActionsPersonalization();if(this.getSemanticObjectController()&&this.getSemanticObjectController().getEnableAvailableActionsPersonalization()&&this.getSemanticObjectController().getEnableAvailableActionsPersonalization()[this.getFieldName()]!==undefined){E=this.getSemanticObjectController().getEnableAvailableActionsPersonalization()[this.getFieldName()];}return E;};return g;},true);\n",
	"sap/ui/comp/navpopover/RTAHandler.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/personalization/Controller','sap/ui/comp/personalization/Util','./Util','sap/ui/comp/navpopover/flexibility/changes/AddLink','sap/ui/comp/navpopover/flexibility/changes/RemoveLink','sap/ui/fl/changeHandler/JsControlTreeModifier','./Factory'],function(q,C,a,P,U,A,R,J,F){'use strict';var b={};b.isSettingsAvailable=function(){return!!F.getService('CrossApplicationNavigation');};b.getStableElements=function(n){if(!n||!(n instanceof sap.ui.comp.navpopover.NavigationPopoverHandler)){return null;}var s=n.getNavigationPopoverStableId();if(!s){return null;}var o=n._getAppComponent();if(!o){return null;}return[{id:s,appComponent:o}];};b.execute=function(n,g,r){return new Promise(function(c,d){if(!n||!(n instanceof sap.ui.comp.navpopover.NavigationPopoverHandler)){return d(new Error('oNavigationPopoverHandler is not of supported type sap.ui.comp.navpopover.NavigationPopoverHandler'));}if(!n.getNavigationPopoverStableId()){return d(new Error('StableId is not defined. SemanticObject='+n.getSemanticObject()));}var o=n._getAppComponent();if(!o){return d(new Error('AppComponent is not defined. oControl='+n.getControl()));}n._getNavigationContainer().then(function(N){var e=[];var f=[];var h=function(i){var j=i.filter(function(m){return m.visible===true;});var k=i.filter(function(m){return m.visible===false;});e=b._prepareResult(j,sap.ui.comp.navpopover.ChangeHandlerType.addLink,N.getId(),o);f=b._prepareResult(k,sap.ui.comp.navpopover.ChangeHandlerType.removeLink,N.getId(),o);};b._applyUnsavedChanges(g,N,o);N.openSelectionDialog(true,false,h,false,r).then(function(){N.destroy();c(e.concat(f));});});});};b._prepareResult=function(m,c,s,o){return m.map(function(M){return{selectorControl:{id:s,controlType:'sap.ui.comp.navpopover.NavigationContainer',appComponent:o},changeSpecificData:{changeType:c,content:M}};});};b._applyUnsavedChanges=function(g,n,o){var c=g(n.getId(),[sap.ui.comp.navpopover.ChangeHandlerType.addLink,sap.ui.comp.navpopover.ChangeHandlerType.removeLink]);c.forEach(function(d){switch(d.getChangeType()){case sap.ui.comp.navpopover.ChangeHandlerType.addLink:A.applyChange(d,n,{modifier:J,appComponent:o});break;case sap.ui.comp.navpopover.ChangeHandlerType.removeLink:R.applyChange(d,n,{modifier:J,appComponent:o});break;}});};return b;},true);\n",
	"sap/ui/comp/navpopover/SemanticObjectController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element','./Factory','sap/ui/model/json/JSONModel','sap/ui/comp/odata/MetadataAnalyser'],function(q,l,E,F,J,M){'use strict';var S=E.extend('sap.ui.comp.navpopover.SemanticObjectController',{metadata:{library:'sap.ui.comp',properties:{ignoredFields:{type:'string',group:'Misc',defaultValue:null},prefetchNavigationTargets:{type:'boolean',group:'Misc',defaultValue:false},fieldSemanticObjectMap:{type:'object',group:'Misc',defaultValue:null},entitySet:{type:'string',group:'Misc',defaultValue:null},contactAnnotationPaths:{type:'object',defaultValue:null},enableAvailableActionsPersonalization:{type:'object',defaultValue:null},mapFieldToSemanticObject:{type:'boolean'}},events:{navigationTargetsObtained:{parameters:{mainNavigation:{type:'sap.ui.comp.navpopover.LinkData'},actions:{type:'sap.ui.comp.navpopover.LinkData[]'},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData'},popoverForms:{type:'sap.ui.layout.form.SimpleForm[]'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'},show:{type:'function'}}},beforePopoverOpens:{parameters:{semanticObject:{type:'string'},semanticAttributes:{type:'object'},semanticAttributesOfSemanticObjects:{type:'object'},setSemanticAttributes:{type:'function'},setAppStateKey:{type:'function'},originalId:{type:'string'},open:{type:'function'}}},navigate:{parameters:{text:{type:'string'},href:{type:'string'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'}}},prefetchDone:{parameters:{semanticObjects:{type:'object'}}}}}});S.oSemanticObjects={};S.oNavigationTargetActions={};S.bHasPrefetchedDistinctSemanticObjects=false;S.bHasPrefetchedNavigationTargetActions=false;S.oPromise=null;S.oPromiseActions=null;S.prototype.init=function(){S.prefetchDistinctSemanticObjects();this._proxyOnBeforePopoverOpens=this._onBeforePopoverOpens.bind(this);this._proxyOnTargetsObtained=this._onTargetsObtained.bind(this);this._proxyOnNavigate=this._onNavigate.bind(this);this._aRegisteredControls=[];};S.prototype.isControlRegistered=function(c){return this._aRegisteredControls.indexOf(c)>-1;};S.prototype.registerControl=function(c){if(!(c instanceof sap.ui.comp.navpopover.SmartLink||c instanceof sap.ui.comp.navpopover.NavigationPopoverHandler)){q.sap.log.warning('sap.ui.comp.navpopover.SemanticObjectController: '+(c.getMetadata?c.getMetadata():'parameter')+' is neither of SmartLink nor of NavigationPopoverHandler instance');return;}if(this.isControlRegistered(c)){return;}if(c.attachBeforePopoverOpens){c.attachBeforePopoverOpens(this._proxyOnBeforePopoverOpens);}if(c.attachNavigationTargetsObtained){c.attachNavigationTargetsObtained(this._proxyOnTargetsObtained);}if(c.attachInnerNavigate){c.attachInnerNavigate(this._proxyOnNavigate);}this._aRegisteredControls.push(c);};S.prototype.unregisterControl=function(c){if(!c){return;}if(!this.isControlRegistered(c)){return;}if(c.detachBeforePopoverOpens){c.detachBeforePopoverOpens(this._proxyOnBeforePopoverOpens);}if(c.detachNavigationTargetsObtained){c.detachNavigationTargetsObtained(this._proxyOnTargetsObtained);}if(c.detachInnerNavigate){c.detachInnerNavigate(this._proxyOnNavigate);}this._aRegisteredControls.splice(this._aRegisteredControls.indexOf(c),1);};S.prototype._onBeforePopoverOpens=function(e){var p=e.getParameters();if(this.hasListeners('beforePopoverOpens')){this.fireBeforePopoverOpens({semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,semanticAttributesOfSemanticObjects:p.semanticAttributesOfSemanticObjects,setSemanticAttributes:p.setSemanticAttributes,setAppStateKey:p.setAppStateKey,originalId:p.originalId,open:p.open});}else{p.open();}};S.prototype._onTargetsObtained=function(e){var p=e.getParameters();if(!this.hasListeners('navigationTargetsObtained')){p.show();return;}this.fireNavigationTargetsObtained({mainNavigation:p.mainNavigation,actions:p.actions,ownNavigation:p.ownNavigation,popoverForms:p.popoverForms,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,originalId:p.originalId,show:p.show});};S.prototype._onNavigate=function(e){var p=e.getParameters();this.fireNavigate({text:p.text,href:p.href,originalId:p.originalId,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes});};S.prototype.setIgnoredState=function(s){if(s instanceof sap.ui.comp.navpopover.SmartLink){s._updateEnabled();}};S.prototype.setIgnoredFields=function(i){this.setProperty('ignoredFields',i);this._aRegisteredControls.forEach(function(r){if(r._updateEnabled){r._updateEnabled();}});return this;};S.prototype.setPrefetchNavigationTargets=function(p){this.setProperty('prefetchNavigationTargets',p);if(p!==true){return this;}q.sap.log.error('sap.ui.comp.navpopover.SemanticObjectController: Please be aware that in case of a large amount of semantic objects the performance may suffer significantly and the received links will be created out of context');var t=this;S.getDistinctSemanticObjects().then(function(s){S.getNavigationTargetActions(s).then(function(n){t.firePrefetchDone({semanticObjects:n});});});return this;};S.prototype.getFieldSemanticObjectMap=function(){var m=this.getProperty('fieldSemanticObjectMap');if(m){return m;}if(!this.getEntitySet()){q.sap.log.warning('sap.ui.comp.navpopover.SemanticObjectController: FieldSemanticObjectMap is not set on SemanticObjectController, retrieval without EntitySet not possible');return null;}var o=new M(this.getModel());m=o.getFieldSemanticObjectMap(this.getEntitySet());if(m){this.setProperty('fieldSemanticObjectMap',m,true);}return m;};S.prototype.getEntitySet=function(){var e=this.getProperty('entitySet');if(e){return e;}var p=this.getParent();while(p){if(p.getEntitySet){e=p.getEntitySet();if(e){this.setProperty('entitySet',e,true);break;}}p=p.getParent();}return e;};S.prototype.hasSemanticObjectLinks=function(s){return S.hasDistinctSemanticObject(s,S.oSemanticObjects);};S.prefetchDistinctSemanticObjects=function(){S.getJSONModel();if(!S.bHasPrefetchedDistinctSemanticObjects){S.getDistinctSemanticObjects();}};S.getDistinctSemanticObjects=function(){if(S.bHasPrefetchedDistinctSemanticObjects){return Promise.resolve(S.oSemanticObjects);}if(!S.oPromise){S.oPromise=new Promise(function(r){var c=F.getService('CrossApplicationNavigation');if(!c){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: Service 'CrossApplicationNavigation' could not be obtained\");S.bHasPrefetchedDistinctSemanticObjects=true;return r({});}c.getDistinctSemanticObjects().then(function(s){s.forEach(function(a){S.oSemanticObjects[a]={};});var m=S.getJSONModel();m.setProperty('/distinctSemanticObjects',S.oSemanticObjects);S.bHasPrefetchedDistinctSemanticObjects=true;return r(S.oSemanticObjects);},function(){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: getDistinctSemanticObjects() of service 'CrossApplicationNavigation' failed\");S.bHasPrefetchedDistinctSemanticObjects=true;return r({});});});}return S.oPromise;};S.getNavigationTargetActions=function(s){if(S.bHasPrefetchedNavigationTargetActions){return Promise.resolve(S.oNavigationTargetActions);}if(!S.oPromiseLinks){S.oPromiseLinks=new Promise(function(r){var c=F.getService('CrossApplicationNavigation');var u=F.getService('URLParsing');if(!c||!u){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained\");S.bHasPrefetchedNavigationTargetActions=true;return r({});}var a=Object.keys(s);var p=a.map(function(b){return[{semanticObject:b}];});c.getLinks(p).then(function(L){a.forEach(function(b,i){S.oNavigationTargetActions[b]=[];L[i][0].forEach(function(o){var d=u.parseShellHash(o.intent);if(d&&d.semanticObject===b){S.oNavigationTargetActions[b].push(d.action);}});});var m=S.getJSONModel();m.setProperty('/navigationTargetActions',S.oNavigationTargetActions);S.bHasPrefetchedNavigationTargetActions=true;return r(S.oNavigationTargetActions);},function(){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: getLinks() of service 'CrossApplicationNavigation' failed\");S.bHasPrefetchedNavigationTargetActions=true;return r({});});});}return S.oPromiseLinks;};S.hasDistinctSemanticObject=function(s,o){return!!o[s];};S.getJSONModel=function(){var m=sap.ui.getCore().getModel('$sapuicompSemanticObjectController_DistinctSemanticObjects');if(m&&!q.isEmptyObject(m.getData())){return m;}m=new J({distinctSemanticObjects:{}});m.setDefaultBindingMode(sap.ui.model.BindingMode.OneTime);m.setSizeLimit(1000);sap.ui.getCore().setModel(m,'$sapuicompSemanticObjectController_DistinctSemanticObjects');return m;};S.destroyDistinctSemanticObjects=function(){S.oSemanticObjects={};S.oNavigationTargetActions={};S.oPromise=null;S.oPromiseActions=null;S.bHasPrefetchedDistinctSemanticObjects=false;S.bHasPrefetchedNavigationTargetActions=false;var m=sap.ui.getCore().getModel('$sapuicompSemanticObjectController_DistinctSemanticObjects');if(m){m.destroy();}};return S;},true);\n",
	"sap/ui/comp/navpopover/SmartLink.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','sap/m/Link','./LinkData','sap/ui/core/Control','./SemanticObjectController','./NavigationPopoverHandler','sap/ui/model/json/JSONModel','sap/ui/comp/personalization/Util'],function(q,M,L,a,C,S,N,J,P){'use strict';var b=L.extend('sap.ui.comp.navpopover.SmartLink',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/navpopover/SmartLink.designtime',properties:{semanticObject:{type:'string',defaultValue:null},additionalSemanticObjects:{type:'string[]',defaultValue:[]},semanticObjectController:{type:'any',defaultValue:null},fieldName:{type:'string',defaultValue:null},semanticObjectLabel:{type:'string',defaultValue:null},createControlCallback:{type:'object',defaultValue:null},mapFieldToSemanticObject:{type:'boolean',defaultValue:true},contactAnnotationPath:{type:'string',defaultValue:undefined},ignoreLinkRendering:{type:'boolean',defaultValue:false},enableAvailableActionsPersonalization:{type:'boolean',defaultValue:true},uom:{type:'string',defaultValue:undefined}},aggregations:{innerControl:{type:'sap.ui.core.Control',multiple:false}},events:{beforePopoverOpens:{parameters:{semanticObject:{type:'string'},semanticAttributes:{type:'object'},semanticAttributesOfSemanticObjects:{type:'object'},setSemanticAttributes:{type:'function'},setAppStateKey:{type:'function'},originalId:{type:'string'},open:{type:'function'}}},navigationTargetsObtained:{parameters:{mainNavigation:{type:'sap.ui.comp.navpopover.LinkData'},actions:{type:'sap.ui.comp.navpopover.LinkData[]'},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData'},popoverForms:{type:'sap.ui.layout.form.SimpleForm[]'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'},show:{type:'function'}}},innerNavigate:{parameters:{text:{type:'string'},href:{type:'string'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'}}}}}});b.prototype.getInnerControlValue=function(){if(this._isRenderingInnerControl()){var i=this._getInnerControl();if(i){if(i.getText){return i.getText();}if(i.getValue){return i.getValue();}}}return this.getText();};b.prototype.getNavigationPopoverHandler=function(){return this._createNavigationPopoverHandler();};b.prototype.init=function(){S.prefetchDistinctSemanticObjects();this._oNavigationPopoverHandler=null;this.attachPress(this._onLinkPressed);this.addStyleClass('sapUiCompSmartLink');};b.prototype.applySettings=function(s){M.prototype.applySettings.apply(this,arguments);this._updateEnabled();};b.prototype.updateBindingContext=function(){C.prototype.updateBindingContext.apply(this,arguments);this.setHref(null);this.setTarget(null);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setBindingContext(this.getBindingContext());}};b.prototype._getTextOfDom=function(){if(!this.getDomRef()){return'';}if(this.$().find('span').length===2){return this.$().find('span')[0].textContent+this.$().find('span')[1].textContent;}else{return this.$()[0].textContent;}};b.prototype.setText=function(t){if(this._isRenderingInnerControl()){this.setProperty('text',t,true);}else{L.prototype.setText.call(this,t);}return this;};b.prototype.setMapFieldToSemanticObject=function(m){this.setProperty('mapFieldToSemanticObject',m);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setMapFieldToSemanticObject(m);}return this;};b.prototype.setSemanticObject=function(s){this.setProperty('semanticObject',s);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setSemanticObject(s);}this._updateEnabled();return this;};b.prototype.setAdditionalSemanticObjects=function(s){this.setProperty('additionalSemanticObjects',s);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setAdditionalSemanticObjects(s);}return this;};b.prototype.setContactAnnotationPath=function(c){this.setProperty('contactAnnotationPath',c);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setContactAnnotationPath(c);}this._updateEnabled();return this;};b.prototype.setEnableAvailableActionsPersonalization=function(e){this.setProperty('enableAvailableActionsPersonalization',e);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setEnableAvailableActionsPersonalization(e);}return this;};b.prototype.setIgnoreLinkRendering=function(i){this.setProperty('ignoreLinkRendering',i);this._updateEnabled();return this;};b.prototype.setFieldName=function(f){this.setProperty('fieldName',f);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setFieldName(f);}this._updateEnabled();return this;};b.prototype.setSemanticObjectController=function(c){if(c&&!(c instanceof sap.ui.comp.navpopover.SemanticObjectController)){q.sap.log.warning('Warning: setSemanticObjectController() has to be an object of sap.ui.comp.navpopover.SemanticObjectController instances',this);return this;}var o=this.getProperty('semanticObjectController');if(o===c){return this;}if(o){o.unregisterControl(this);}this.setProperty('semanticObjectController',c,true);if(c){c.registerControl(this);}if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setSemanticObjectController(c);}this._updateEnabled();return this;};b.prototype.onBeforeRendering=function(){L.prototype.onBeforeRendering.apply(this,arguments);if(!this.getSemanticObjectController()){var s=this._getSemanticObjectControllerOfParent();if(s){this.setSemanticObjectController(s);}}};b.prototype.exit=function(){if(this.getSemanticObjectController()){this.getSemanticObjectController().unregisterControl(this);}if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.destroy();this._oNavigationPopoverHandler=null;}};b.prototype._onLinkPressed=function(e){this._createNavigationPopoverHandler().openPopover();};b.prototype._createNavigationPopoverHandler=function(){if(!this._oNavigationPopoverHandler){if(!this.getFieldName()){var B=this.getBinding('text');var f=B&&B.getPath();if(!f&&B&&B.getBindings){f=B.getBindings()[0].getPath();}this.setFieldName(f);}this._oNavigationPopoverHandler=new N({semanticObject:this.getSemanticObject(),additionalSemanticObjects:this.getAdditionalSemanticObjects(),semanticObjectController:this.getSemanticObjectController(),fieldName:this.getFieldName(),mapFieldToSemanticObject:this.getMapFieldToSemanticObject(),contactAnnotationPath:this.getContactAnnotationPath(),enableAvailableActionsPersonalization:this.getEnableAvailableActionsPersonalization(),control:this,beforePopoverOpens:this._onBeforePopoverOpens.bind(this),navigationTargetsObtained:this._onNavigationTargetsObtained.bind(this),innerNavigate:this._onInnerNavigate.bind(this)});this._oNavigationPopoverHandler.setModel(this.getModel());}return this._oNavigationPopoverHandler;};b.prototype._onNavigationTargetsObtained=function(e){var p=e.getParameters();if(!this.hasListeners('navigationTargetsObtained')){p.show();return;}this.fireNavigationTargetsObtained({mainNavigation:p.mainNavigation,actions:p.actions,ownNavigation:p.ownNavigation,popoverForms:p.popoverForms,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,originalId:p.originalId,show:p.show});};b.prototype._onBeforePopoverOpens=function(e){var p=e.getParameters();if(!this.hasListeners('beforePopoverOpens')){p.open();return;}this.fireBeforePopoverOpens({originalId:p.originalId,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,semanticAttributesOfSemanticObjects:p.semanticAttributesOfSemanticObjects,setSemanticAttributes:p.setSemanticAttributes,setAppStateKey:p.setAppStateKey,open:p.open});};b.prototype._onInnerNavigate=function(e){var p=e.getParameters();if(!this.hasListeners('innerNavigate')){return;}this.fireInnerNavigate({text:p.text,href:p.href,originalId:p.originalId,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes});};b.prototype._isRenderingInnerControl=function(){return this.getIgnoreLinkRendering()&&this._getInnerControl()!==null;};b.prototype._getInnerControl=function(){var i=this.getAggregation('innerControl');if(i){return i;}var c=this.getCreateControlCallback();if(c){i=c();this.setAggregation('innerControl',i,true);return i;}return null;};b.prototype._getSemanticObjectControllerOfParent=function(){var s;var p=this.getParent();while(p){if(p.getSemanticObjectController){s=p.getSemanticObjectController();if(s){this.setSemanticObjectController(s);break;}}p=p.getParent();}return s;};b.prototype._updateEnabled=function(){var t=this;S.getDistinctSemanticObjects().then(function(s){var i=false;if(t.getSemanticObjectController()){var I=P.createArrayFromString(t.getSemanticObjectController().getIgnoredFields());i=I.indexOf(t.getFieldName())>-1;}var c=(t.getIgnoreLinkRendering()===false||t.getIgnoreLinkRendering()===true)?t.getIgnoreLinkRendering():false;var h=!(t.getContactAnnotationPath()===undefined);t.setEnabled(!i&&!c&&(S.hasDistinctSemanticObject(t.getSemanticObject(),s)||h));});};return b;},true);\n",
	"sap/ui/comp/navpopover/SmartLinkRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Renderer','sap/m/LinkRenderer'],function(q,R,L){'use strict';var S=R.extend(L);S.render=function(r,c){var b=true;if(c.getIgnoreLinkRendering()){var o=c._getInnerControl();if(o){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(o);r.write('</div>');b=false;}}if(b){L.render.apply(this,arguments);}};S.writeText=function(r,c){if(!c.getUom()){r.writeEscaped(c.getText());return;}r.write('<span>'+q.sap.encodeHTML(c.getText())+\"</span><span style='display:inline-block;min-width:2.5em;width:3.0em;text-align:start'>\"+q.sap.encodeHTML(c.getUom())+'</span>');};return S;},true);\n",
	"sap/ui/comp/navpopover/Util.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/comp/library','./Factory','./LinkData'],function(C,F,L){'use strict';var U={getStorableAvailableActions:function(m){return m.filter(function(M){return M.key!==undefined;});},sortArrayAlphabetical:function(n){var l;try{l=sap.ui.getCore().getConfiguration().getLocale().toString();if(typeof window.Intl!=='undefined'){var c=window.Intl.Collator(l,{numeric:true});n.sort(function(a,b){return c.compare(a,b);});}else{n.sort(function(a,b){return a.localeCompare(b,l,{numeric:true});});}}catch(e){}},retrieveNavigationTargets:function(s,a,A,c,S,m){var n={mainNavigation:undefined,ownNavigation:undefined,availableActions:[]};return new Promise(function(r){var x=F.getService('CrossApplicationNavigation');var u=F.getService('URLParsing');if(!x||!u){jQuery.sap.log.error(\"Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained\");return r(n);}var b=[s].concat(a);var p=b.map(function(d){return[{semanticObject:d,params:S?S[d]:undefined,appStateKey:A,ui5Component:c,sortResultsBy:'text'}];});x.getLinks(p).then(function(l){if(!l||!l.length){return r(n);}var d=x.hrefForExternal();if(d&&d.indexOf('?')!==-1){d=d.split('?')[0];}if(d){d+='?';}l[0][0].forEach(function(o){var f=u.parseShellHash(o.intent);var k=(f.semanticObject&&f.action)?f.semanticObject+'-'+f.action:undefined;var g=(o.tags&&o.tags.indexOf('superiorAction')>-1);if(o.intent.indexOf(d)===0){n.ownNavigation=new L({key:k,href:o.intent,text:o.text,visible:true,isSuperiorAction:g});return;}if(f.action&&(f.action==='displayFactSheet')){n.mainNavigation=new L({key:k,href:o.intent,text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_FACTSHEET'),visible:true,isSuperiorAction:g});return;}n.availableActions.push(new L({key:k,href:o.intent,text:o.text,visible:true,isSuperiorAction:g}));});if(!n.mainNavigation&&typeof m==='string'){n.mainNavigation=new L({text:m,visible:true});}var e=[];for(var i=1;i<b.length;i++){e=e.concat(l[i][0]);}e.forEach(function(o){var f=u.parseShellHash(o.intent);var g=(o.tags&&o.tags.indexOf('superiorAction')>-1);n.availableActions.push(new L({key:(f.semanticObject&&f.action)?f.semanticObject+'-'+f.action:undefined,href:o.intent,text:o.text,visible:true,isSuperiorAction:g}));});return r(n);},function(){jQuery.sap.log.error(\"'retrieveNavigationTargets' failed\");return r(n);});});},retrieveSemanticObjectMapping:function(p,o,b){if(!p){return Promise.resolve(null);}if(!o||!o.getMetaModel()){return Promise.resolve(null);}var t=this;var m=o.getMetaModel();return new Promise(function(r){m.loaded().then(function(){var M;try{M=m.getMetaContext(b);}catch(e){jQuery.sap.log.error(\"sap.ui.comp.navpopover.Util.retrieveSemanticObjectMapping: binding path '\"+b+\"' is not valid. Error has been caught: \"+e);return r(null);}if(!M){return r(null);}var E=M.getProperty(M.getPath());if(!E.property){return r(null);}var P=E.property.filter(function(a){return a.name===p;});if(P.length!==1){return r(null);}if(!P[0]['com.sap.vocabularies.Common.v1.SemanticObjectMapping']){return r(null);}var s=t._getSemanticObjectMappingsOfProperty(P[0],t._getSemanticObjectsOfProperty(P[0]));var S={};for(var q in s){S[s[q].name]=s[q].mapping;}return r(S);});});},_getSemanticObjectsOfProperty:function(p){var s={};for(var a in p){var A=a.split('#')[0];var q=a.split('#')[1]||'';if(jQuery.sap.startsWith(A,'com.sap.vocabularies.Common.v1.SemanticObject')&&jQuery.sap.endsWith(A,'com.sap.vocabularies.Common.v1.SemanticObject')){s[q]={name:p[a]['String'],mapping:undefined};}}return s;},_getSemanticObjectMappingsOfProperty:function(p,s){var g=function(S){var m={};if(jQuery.isArray(S)){S.forEach(function(P){m[P.LocalProperty.PropertyPath]=P.SemanticObjectProperty.String;});}return m;};for(var a in p){var A=a.split('#')[0];var q=a.split('#')[1]||'';if(jQuery.sap.startsWith(A,'com.sap.vocabularies.Common.v1.SemanticObjectMapping')&&jQuery.sap.endsWith(A,'com.sap.vocabularies.Common.v1.SemanticObjectMapping')){if(s[q]){s[q].mapping=g(p[a]);}}}return s;}};return U;},true);\n",
	"sap/ui/comp/navpopover/flexibility/changes/AddLink.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils'],function(q,U){'use strict';var A={};A.applyChange=function(c,n,p){var C=c.getContent();if(q.isEmptyObject(C)){U.log.error('Change does not contain sufficient information to be applied');return false;}n.getAvailableActions().some(function(a){if(a.getKey()===C.key){p.modifier.setProperty(a,'visible',C.visible);n._updateAvailableAction(a,c.getLayer());return true;}});return true;};A.completeChangeContent=function(c,s,p){if(q.isEmptyObject(s.content)){throw new Error('oSpecificChangeInfo.content should be filled');}if(!s.content.key){throw new Error('In oSpecificChangeInfo.content.key attribute is required');}if(s.content.visible!==true){throw new Error(\"In oSpecificChangeInfo.content.select attribute should be 'true'\");}c.setContent(s.content);};A.discardChangesOfLayer=function(l,n){n._discardAvailableActions(l);};return A;},true);\n",
	"sap/ui/comp/navpopover/flexibility/changes/RemoveLink.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils'],function(q,U){'use strict';var R={};R.applyChange=function(c,n,p){var C=c.getContent();if(q.isEmptyObject(C)){U.log.error('Change does not contain sufficient information to be applied');return false;}n.getAvailableActions().some(function(a){if(a.getKey()===C.key){p.modifier.setProperty(a,'visible',C.visible);n._updateAvailableAction(a,c.getLayer());return true;}});return true;};R.completeChangeContent=function(c,s,p){if(q.isEmptyObject(s.content)){throw new Error('oSpecificChangeInfo.content should be filled');}if(!s.content.key){throw new Error('In oSpecificChangeInfo.content.key attribute is required');}if(s.content.visible!==false){throw new Error(\"In oSpecificChangeInfo.content.select attribute should be 'false'\");}c.setContent(s.content);};R.discardChangesOfLayer=function(l,n){n._discardAvailableActions(l);};return R;},true);\n",
	"sap/ui/comp/odata/ChartMetadata.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define([],function(){'use strict';var c={'com.sap.vocabularies.UI.v1.ChartType/Column':'column','com.sap.vocabularies.UI.v1.ChartType/ColumnStacked':'stacked_column','com.sap.vocabularies.UI.v1.ChartType/ColumnDual':'dual_column','com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual':'dual_stacked_column','com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100':'100_stacked_column','com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual100':'100_dual_stacked_column','com.sap.vocabularies.UI.v1.ChartType/Bar':'bar','com.sap.vocabularies.UI.v1.ChartType/BarStacked':'stacked_bar','com.sap.vocabularies.UI.v1.ChartType/BarDual':'dual_bar','com.sap.vocabularies.UI.v1.ChartType/BarStackedDual':'dual_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/BarStacked100':'100_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/BarStackedDual100':'100_dual_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/Area':'line','com.sap.vocabularies.UI.v1.ChartType/AreaStacked':'stacked_column','com.sap.vocabularies.UI.v1.ChartType/AreaStacked100':'100_stacked_column','com.sap.vocabularies.UI.v1.ChartType/HorizontalArea':'bar','com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked':'stacked_bar','com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100':'100_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/Line':'line','com.sap.vocabularies.UI.v1.ChartType/LineDual':'dual_line','com.sap.vocabularies.UI.v1.ChartType/Combination':'combination','com.sap.vocabularies.UI.v1.ChartType/CombinationStacked':'stacked_combination','com.sap.vocabularies.UI.v1.ChartType/CombinationDual':'dual_combination','com.sap.vocabularies.UI.v1.ChartType/CombinationStackedDual':'dual_stacked_combination','com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStacked':'horizontal_stacked_combination','com.sap.vocabularies.UI.v1.ChartType/Pie':'pie','com.sap.vocabularies.UI.v1.ChartType/Donut':'donut','com.sap.vocabularies.UI.v1.ChartType/Scatter':'scatter','com.sap.vocabularies.UI.v1.ChartType/Bubble':'bubble','com.sap.vocabularies.UI.v1.ChartType/Radar':'line','com.sap.vocabularies.UI.v1.ChartType/HeatMap':'heatmap','com.sap.vocabularies.UI.v1.ChartType/TreeMap':'treemap','com.sap.vocabularies.UI.v1.ChartType/Waterfall':'waterfall','com.sap.vocabularies.UI.v1.ChartType/Bullet':'bullet','com.sap.vocabularies.UI.v1.ChartType/VerticalBullet':'vertical_bullet','com.sap.vocabularies.UI.v1.ChartType/HorizontalWaterfall':'horizontal_waterfall'};var m={'com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis1':'axis1','com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis2':'axis2','com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis3':'axis3','com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis4':'axis4'};var d={'com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category':'category','com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series':'series','com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category2':'category2'};var v=['AcceptanceRangeLowValue','AcceptanceRangeHighValue','ToleranceRangeLowValue','ToleranceRangeHighValue','DeviationRangeLowValue','DeviationRangeHighValue'];var C={mCriticalityType:{},mImprovementDirectionType:{},getChartType:function(s){return c[s];},getAnnotationChartType:function(u){for(var s in c){if(c[s]===u){return s;}}},getMeasureRole:function(r){return m[r];},getAnnotationMeasureRole:function(u){for(var t in m){if(m[t]===u){return t;}}},getDimensionRole:function(r){return d[r];},getAnnotationDimensionRole:function(u){for(var t in d){if(d[t]===u){return t;}}},getCriticalityThresholds:function(){return v;},calculateConstantValue:function(t){var V=t?(t.Decimal||t.Int||t.String):undefined;return Number(V);},getCriticalityType:function(s){return C.mCriticalityType[s];},getImprovementDirectionType:function(i){return C.mImprovementDirectionType[i];},feedWithChartLibrary:function(a){if(!C.chartLibrary){C.chartLibrary=a;var b=a.coloring.CriticalityType;var I=a.coloring.ImprovementDirectionType;C.mCriticalityType={'com.sap.vocabularies.UI.v1.CriticalityType/Neutral':b.Neutral,'com.sap.vocabularies.UI.v1.CriticalityType/Negative':b.Negative,'com.sap.vocabularies.UI.v1.CriticalityType/Critical':b.Critical,'com.sap.vocabularies.UI.v1.CriticalityType/Positive':b.Positive};C.mImprovementDirectionType={'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Target':I.Target,'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Maximize':I.Maximize,'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Minimize':I.Minimize};}}};return C;},true);\n",
	"sap/ui/comp/odata/CriticalityMetadata.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define([],function(){'use strict';var c={'com.sap.vocabularies.UI.v1.CriticalityType/Neutral':0,'com.sap.vocabularies.UI.v1.CriticalityType/Negative':1,'com.sap.vocabularies.UI.v1.CriticalityType/Critical':2,'com.sap.vocabularies.UI.v1.CriticalityType/Positive':3};var C={0:'None',1:'Error',2:'Warning',3:'Success'};var m={0:'sap-icon://status-inactive',1:'sap-icon://status-negative',2:'sap-icon://status-critical',3:'sap-icon://status-positive'};var a={getCriticalityState:function(t){if(typeof t==='string'){t=c[t];}return C[t];},getCriticalityIcon:function(t){if(typeof t==='string'){t=c[t];}return m[t];},getShowCriticalityIcon:function(t){return t==='com.sap.vocabularies.UI.v1.CriticalityRepresentationType/WithoutIcon'?false:true;}};return a;},true);\n",
	"sap/ui/comp/odata/FieldSelector.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.getCore().loadLibrary('sap.ui.fl');sap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','./FieldSelectorController','sap/m/library','sap/m/HBox','sap/m/VBox','sap/m/FlexItemData','sap/m/Label','sap/ui/core/ResizeHandler','sap/ui/comp/odata/FieldSelectorModelConverter','sap/ui/fl/fieldExt/Access','./FieldSelectorRenderer'],function(q,l,C,F,L,H,V,a,b,R,c,A,d){'use strict';var f=L.FlexDirection;var g=L.FlexAlignItems;var h=C.extend('sap.ui.comp.odata.FieldSelector',{metadata:{library:'sap.ui.comp',properties:{showSearchBar:{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{content:{type:'sap.ui.core.Control',multiple:false}},events:{fieldSelectionChanged:{}}}});h._tooltipBinding={parts:[{path:'com.sap.vocabularies.Common.v1.QuickInfo'},{path:'com.sap.vocabularies.Common.v1.Label'}],formatter:function tooltipFormatter(Q,o){if(Q&&Q.String){return Q.String;}if(o&&o.String){return o.String;}return'';}};h.prototype.init=function(){this._fieldNameText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_NAME');this._fieldTypeText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_TYPE');this._fieldLabelText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_LABEL');this._entityTypeText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_HEADER');this._createNewFieldText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_CREATE_NEW_FIELD');this._oFieldController=new F();this._sSelectedKey=undefined;this._oTable=undefined;this._oSearchField=undefined;this._oConverter=undefined;this._oCreateButton=undefined;this._bDisplayFieldExtButton=undefined;this._oCurrentFieldExtInfo=undefined;this._oScrollView=new sap.m.ScrollContainer();this._oTable=new sap.m.Table();this._oHeaderLayout=undefined;var s=sap.ui.getCore().byId('smartFormPersDialog');if(s){this._oResizeDialogHandlerId=R.register(s,this._handleResizeDialog.bind(this));}if(this._oScrollView){this._oResizeScrollViewHandlerId=R.register(this._oScrollView,this._handleResizeTable.bind(this));}};h.prototype._handleResizeDialog=function(){if(this._oScrollView){var e=q('#smartFormPersDialog-cont').height();var i=q('#smartFormPersDialogFieldSelectorHeader').height();var j=q('#sapUiCompFieldSelectorHeaderSearch').height();var t=q('#sapUiCompFieldSelectorTable-tblHeader').height();this._oScrollView.setHeight(e-i-j-t+'px');}};h.prototype._handleResizeTable=function(){if(this._oScrollView){var w=this._oScrollView.$('scroll').innerWidth();this._oTable.setWidth(w+'px');}};h.prototype.setModel=function(m,e,s,i,B,I){this._bDisplayFieldExtButton=s;if(!m){q.sap.log.error('oModel has to be set otherwise nothing will be displayed');}if(!e){q.sap.log.error('sEntityTypes has to be set otherwise nothing will be displayed');}this._oFieldController.init(m,e,i,B,I);this._constructLayout();this._updateCreateButtonState();};h.prototype.getSelectedField=function(){var r={entityType:this._sSelectedKey};var s=this._oTable.getSelectedItem();if(s){var S=s.getBindingContext();if(S){var o=S.getProperty();if(o){r.field=o.fieldLabel;r.name=o.name;r.entityName=o.entityName;r.entitySet=this._oFieldController.getMetaDataAnalyzer().getEntitySetNameFromEntityTypeName(r.entityType);r.path=o.name;r.isBoundToODataService=o.id===undefined;if(!r.isBoundToODataService){r.id=o.id;}else{if(r.entityType!==o.entityName){var p=this._oFieldController.getMetaDataAnalyzer()._getNameOfPropertyUsingComplexType(r.entityType,o.entityName);if(p){r.path=p+'/'+o.name;}else{q.sap.log.error('FieldSelector: Property of complex type '+o.name+' not found on entityType '+r.entityType);}}}}}}return r;};h.prototype.updateFieldLabel=function(o){var t=this;var e=this._oFieldController.getFields();var i=o.isBoundToODataService;var n=o.label;if(i===true){var B=o.bindingPaths;q.each(B,function(j,k){var s=k.path;var m=s.indexOf('/');var r=s.slice(0,m);var p=s.slice(m+1);var E=e[r];q.each(E,function(u,v){if(v.name&&v.name===p){v.fieldLabel=n;t._oFieldController.sortFieldsForEntity(r);t._updateTableData();return;}});});}else if(i===false){q.each(e,function(s,E){q.each(E,function(j,k){if(k.id&&k.id===o.id){k.fieldLabel=n;t._oFieldController.sortFieldsForEntity(s);}});});this._updateTableData();}};h.prototype._constructLayout=function(){var t=this;var o=new V({direction:f.Column});this._oHeaderLayout=new H('smartFormPersDialogFieldSelectorHeader',{direction:f.Row});this._oHeaderLayout.addStyleClass('sapUiCompFieldSelectorHeader');this._oHeaderLayoutSearch=new H({direction:f.Row});this._oHeaderLayoutSearch.addStyleClass('sapUiCompFieldSelectorHeaderSearch');this._oResizeHeaderHandlerId=R.register(this._oHeaderLayout,this._handleResizeDialog.bind(this));var e=new H({direction:f.Row,alignItems:g.Start,layoutData:new a({growFactor:2})});e.addStyleClass('sapUiCompFieldSelectorHeaderEntitySelection');var i=new b({text:this._entityTypeText,layoutData:new a({order:1,growFactor:1})});var D=this._getEntityTypesRow();D.setLayoutData(new a({order:2,growFactor:1}));D.addStyleClass('sapUiCompFieldSelectorComboBox');i.setLabelFor(D);i.setVisible(D.getVisible());e.addItem(i);e.addItem(D);this._oHeaderLayout.addItem(e);var s=this._getSearchRow();s.setLayoutData(new a({growFactor:1}));s.addStyleClass('sapUiCompFieldSelectorHeader');this._oHeaderLayoutSearch.addItem(s);this._oCreateButton=new sap.m.Button({text:this._createNewFieldText,press:function(E){if(t._oCurrentFieldExtInfo){var j=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');var k=(j&&j.hrefForExternal({target:{semanticObject:'CustomField',action:'develop'},params:{businessContexts:t._oCurrentFieldExtInfo.BusinessContexts,serviceName:t._oCurrentFieldExtInfo.ServiceName,serviceVersion:t._oCurrentFieldExtInfo.ServiceVersion}}));window.open(k,'_blank');}}});this._oCreateButton.addStyleClass('sapUiCompFieldSelectorCreateButton');this._oHeaderLayout.addItem(this._oCreateButton);o.addItem(this._oHeaderLayout);o.addItem(this._oHeaderLayoutSearch);o.addItem(this._getFieldsRow());this.setContent(o);};h.prototype._getEntityTypesRow=function(){var t=this;var D=new sap.m.ComboBox({selectionChange:function(E){t._oSearchField.setValue('');t._sSelectedKey=E.mParameters.selectedItem.getKey();t._updateTableData();t._updateCreateButtonState();},layoutData:new a({growFactor:1})});var e=this._oFieldController.getEntityTypes();for(var i=0;i<e.length;i++){D.addItem(new sap.ui.core.Item({text:e[i].label,key:e[i].key}));}if(e.length>0){this._sSelectedKey=e[0].key;D.setSelectedKey(this._sSelectedKey);}if(e.length===1){D.setVisible(false);}return D;};h.prototype._getSearchRow=function(){var i=0;var t=this;var v;this._oSearchField=new sap.m.SearchField({visible:this.getShowSearchBar(),liveChange:function(e){v=e.getSource().getValue();var D=(v?300:0);clearTimeout(i);if(D){i=setTimeout(function(){t._executeSearch(v);},D);}else{t._executeSearch(v);}},search:function(e){v=e.getSource().getValue();t._executeSearch(v);},layoutData:new a({growFactor:2})});return this._oSearchField;};h.prototype._executeSearch=function(v){var e=[];var o=new sap.ui.model.Filter('fieldLabel',sap.ui.model.FilterOperator.Contains,v);var Q=new sap.ui.model.Filter('quickInfo',sap.ui.model.FilterOperator.Contains,v);var i=new sap.ui.model.Filter([o,Q],false);e.push(i);var j=this._oTable.getBinding('items');j.filter(e,'Application');};h.prototype._getFieldsRow=function(){this._oScrollView.setVertical(true);this._oScrollView.addStyleClass('sapUiCompFieldSelectorScrollContainer');var i=[new sap.m.Column({header:new b({text:this._fieldLabelText})})];this._oTable=new sap.m.Table('sapUiCompFieldSelectorTable',{mode:'SingleSelectMaster',columns:i,selectionChange:function(e){var s=this.getSelectedField();this.fireFieldSelectionChanged(s);}.bind(this)});this._oTable.setFixedLayout(false);this._updateTableData();this._oScrollView.addContent(this._oTable);this._handleResizeDialog();return this._oScrollView;};h.prototype._updateTableData=function(){var m=new sap.ui.model.json.JSONModel();m.setData({modelData:this._oFieldController.getFields()});var t=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:'{fieldLabel}',tooltip:h._tooltipBinding,wrapping:false})],visible:{path:'fieldLabel',formatter:function(s){return!!s;}}});this._oTable.setModel(m);this._oTable.getModel().setSizeLimit(this._oFieldController.getMaxEntitySetSize()+5);this._oTable.bindItems('/modelData/'+this._sSelectedKey,t);};h.prototype._updateCreateButtonState=function(){if(!this._bDisplayFieldExtButton){this._oCreateButton.setVisible(false);}else{var t=this;var m=this._oFieldController.getMetaDataAnalyzer();t._oCreateButton.setEnabled(false);try{var p=A.getBusinessContexts(m.oModel.sServiceUrl,this._sSelectedKey);p.done(function(r){if(r){if(r.BusinessContexts){if(r.BusinessContexts.length>0){t._oCurrentFieldExtInfo=r;t._oCreateButton.setEnabled(true);}}}});p.fail(function(e){t._oCreateButton.setEnabled(false);if(e){if(q.isArray(e.errorMessages)){for(var i=0;i<e.errorMessages.length;i++){q.sap.log.error(e.errorMessages[i].text);}}}});}catch(e){t._oCreateButton.setEnabled(false);q.sap.log.error('exception occured in sap.ui.fl.fieldExt.Access.getBusinessContexts');}}};h.prototype.exit=function(){if(this._oResizeDialogHandlerId){R.deregister(this._oResizeDialogHandlerId);}if(this._oResizeHeaderHandlerId){R.deregister(this._oResizeHeaderHandlerId);}if(this._oResizeScrollViewHandlerId){R.deregister(this._oResizeScrollViewHandlerId);}this.destroyAggregation('content');this._oFieldController.destroy();this._sSelectedKey=null;this._oTable=null;this._oScrollView=null;this._oSearchField=null;this._oHeaderLayout=null;if(this._oConverter&&this._oConverter.destroy){this._oConverter.destroy();}this._oConverter=null;if(this._oCreateButton){if(this._oCreateButton.destroy){this._oCreateButton.destroy();}}this._oCreateButton=null;this._oCurrentFieldExtInfo=null;};return h;},true);\n",
	"sap/ui/comp/odata/FieldSelectorController.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./FieldSelectorModelConverter'],function(q,M){'use strict';var F=function(){this._oModelConverter=null;this._oFields={};this._aIgnoredFields=[];};F.prototype.init=function(o,e,i,b,I){if(!o){q.sap.log.error('oModel has to be set otherwise nothing will be displayed');}this._oModelConverter=new M(o);if(!e){e=this._oModelConverter.getAllEntityTypeNames();}if(!i){i=[];}var c=this._oModelConverter.getConvertedModel(e,i);if(b&&I){var f=this._updateFieldLabelsAndDetermineFieldsNotBoundToODataService(c,b,I);this._addFieldsNotBoundToODataService(c,f);}this._sortFields(c);};F.prototype._updateFieldLabelsAndDetermineFieldsNotBoundToODataService=function(c,b,i){var t=this;q.each(c,function(k,d){q.each(d,function(a,D){if(D.entityName&&D.name){if(k!==D.entityName){var m=t.getMetaDataAnalyzer();var p=m._getNameOfPropertyUsingComplexType(k,D.entityName);if(p){var o=b[k+'/'+p+'/'+D.name];if(o){o.isBoundToODataService=true;var s=o.label;if(s&&(s!==D.fieldLabel)){D.fieldLabel=s;}if(i){delete i[o.id];}}}else{q.sap.log.error('FieldSelector: Property of complex type '+D.name+' not found on entityType '+k);}}else{var o=b[D.entityName+'/'+D.name];if(o){o.isBoundToODataService=true;var s=o.label;if(s&&(s!==D.fieldLabel)){D.fieldLabel=s;}if(i){delete i[o.id];}}}}});});this._removeFieldsFromList(i,b,this._oModelConverter.invisibleFields);var f=[];q.each(i,function(k,o){f.push(o);});return f;};F.prototype._removeFieldsFromList=function(f,b,m){var t=this;if(!f||!m){return;}q.each(m,function(k,o){q.each(o,function(i,a){if(a.entityName&&a.name){if(k!==a.entityName){var c=t.getMetaDataAnalyzer();var p=c._getNameOfPropertyUsingComplexType(k,a.entityName);if(p){var d=b[k+'/'+p+'/'+a.name];if(d){delete f[a.id];}}else{q.sap.log.error('FieldSelector: Property of complex type '+a.name+' not found on entityType '+k);}}else{var d=b[a.entityName+'/'+a.name];if(d){delete f[a.id];}}}});});};F.prototype._addFieldsNotBoundToODataService=function(c,f){var e=function(C,E){if(!c[E.key]){c[E.key]=[];}c[E.key].push(C);};var a=function(o){o.isBoundToODataService=false;var C={id:o.id,fieldLabel:o.label};var E=this._oModelConverter.getEntityTypes();E.forEach(e.bind(null,C));};f.forEach(a.bind(this));};F.prototype._sortFields=function(c){var t=this;q.each(c,function(k,v){t._oFields[k]=v;t.sortFieldsForEntity.call(t,k);});};F.prototype.sortFieldsForEntity=function(e){this._oFields[e]=this._oFields[e].sort(function(a,b){if(a.fieldLabel>b.fieldLabel){return 1;}if(a.fieldLabel<b.fieldLabel){return-1;}return 0;});};F.prototype.getFields=function(){return this._oFields;};F.prototype.getEntityTypes=function(){return this._oModelConverter.getEntityTypes();};F.prototype.getMetaDataAnalyzer=function(){return this._oModelConverter.getMetaDataAnalyzer();};F.prototype.getMaxEntitySetSize=function(){var m=0;if(this._oFields){q.each(this._oFields,function(k,v){if(v&&v.length){if(v.length>m){m=v.length;}}});}return m;};F.prototype.destroy=function(){if(this._oModelConverter){this._oModelConverter.destroy();}this._oModelConverter=null;this._oFields=null;};return F;},true);\n",
	"sap/ui/comp/odata/FieldSelectorModelConverter.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./MetadataAnalyser'],function(q,M){'use strict';var F=function(d){this._oMetadataAnalyzer=new M(d);this._aEntityTypes=[];this.invisibleFields={};};F.prototype.getMetaDataAnalyzer=function(){return this._oMetadataAnalyzer;};F.prototype.getConvertedModel=function(E,i){var c={};this._aEntityTypes=this._getEntityTypes(E);for(var e=0;e<this._aEntityTypes.length;e++){var f=this._oMetadataAnalyzer.getFieldsByEntityTypeName(this._aEntityTypes[e].key);if(f){c[this._aEntityTypes[e].key]=this._updateAndFilterFields(f,i,false,this._aEntityTypes[e].key);}}return c;};F.prototype.getEntityTypes=function(){return this._aEntityTypes;};F.prototype.getAllEntityTypeNames=function(){if(this._oMetadataAnalyzer){return this._oMetadataAnalyzer.getAllEntityTypeNames();}return null;};F.prototype._updateAndFilterFields=function(a,i,I,k){var v=[];for(var f=0;f<a.length;f++){var c=a[f];if(c.visible===false){this.invisibleFields[k]=this.invisibleFields[k]||[];if(this.invisibleFields[k].indexOf(c)===-1){c.isComplexType=I;this.invisibleFields[k].push(c);}continue;}var b=this._isFieldOnIgnoreList(c,i,I);var d=this._isFieldBlacklisted(c);if(!b&&!d){if(this._isComplexType(c)===true){var V=this._resolveComplexTypeToFlatFieldList(c,i);if(V){v=v.concat(V);}}else{v.push(c);}}}return v;};F.prototype._isComplexType=function(f){if(f&&f.type){if(f.type.toLowerCase().indexOf('edm')!==0){return true;}}return false;};F.prototype._resolveComplexTypeToFlatFieldList=function(c,I){var r=[];var s=this._oMetadataAnalyzer.getSchemaDefinition();if(c&&c.type&&s){var t=this._getComplexTypeName(c);if(t){var C=s.complexType;var i=0;for(i=0;i<C.length;i++){var o=C[i];if(o.name===t){r=this._getFieldsFromComplexType(o,I);break;}}}}return r;};F.prototype._getFieldsFromComplexType=function(c,i){var f=this._oMetadataAnalyzer.getFieldsByComplexTypeName(c.name);if(f){return this._updateAndFilterFields(f,i,true,c.name);}return[];};F.prototype._getComplexTypeName=function(c){var t=c.type.split('.');if(t.length===2){return t[1];}return null;};F.prototype._isFieldOnIgnoreList=function(c,i,I){if(i){var n=this._aEntityTypes.length;var Q=c.entityName+'.'+c.name;if(n===1&&!I){if(i.indexOf(c.name)!==-1||i.indexOf(Q)!==-1){return true;}}else if(i.indexOf(Q)!==-1){return true;}}return false;};F.prototype._isFieldBlacklisted=function(c){if(c){if(c.name.toLowerCase().indexOf('uxfc')===0){return true;}else if(c.type.toLowerCase()==='edm.time'){return true;}}return false;};F.prototype._getEntityTypes=function(E,a){var b=[];var l;var c;if(!this._oMetadataAnalyzer||!this._oMetadataAnalyzer._oSchemaDefinition){return[];}var A=this._oMetadataAnalyzer._oSchemaDefinition.entityType;if(!E){c=[];for(var t=0;t<A.length;t++){c.push(A[t].name);}}if(!c){c=this._convertEntityTypesToArray(E);}for(var e=0;e<c.length;e++){l=this._oMetadataAnalyzer.getEntityLabelByEntityTypeName(c[e]);b.push({key:c[e],label:l||c[e]});}return b;};F.prototype._convertEntityTypesToArray=function(e){if(typeof(e)==='string'){var r=e.replace(/ /g,'');return r.split(',');}if(q.isArray(e)){return e;}return undefined;};F.prototype.destroy=function(){if(this._oMetadataAnalyzer&&this._oMetadataAnalyzer.destroy){this._oMetadataAnalyzer.destroy();}this._oMetadataAnalyzer=null;this._aEntityTypes=null;};return F;},true);\n",
	"sap/ui/comp/odata/FieldSelectorRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var F={};F.render=function(r,c){r.write('<span');r.writeControlData(c);r.writeClasses();r.write('>');var C=c.getContent();r.renderControl(C);r.write('</span>');};return F;},true);\n",
	"sap/ui/comp/odata/MetadataAnalyser.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./ODataType','sap/ui/model/odata/AnnotationHelper'],function(q,O,A){'use strict';var f={'com.sap.vocabularies.Common.v1.FilterExpressionType/SingleInterval':'interval','com.sap.vocabularies.Common.v1.FilterExpressionType/MultiValue':'multi-value','com.sap.vocabularies.Common.v1.FilterExpressionType/SingleValue':'single-value'};var s={'com.sap.vocabularies.UI.v1.SelectionRangeOptionType/EQ':'EQ','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/BT':'BT','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/CP':'CP','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/LE':'LE','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/GE':'GE','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/NE':'NE','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/NB':'NB','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/NP':'NP','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/GT':'GT','com.sap.vocabularies.UI.v1.SelectionRangeOptionType/LT':'LT'};var S={'com.sap.vocabularies.UI.v1.SelectionRangeSignType/I':'I','com.sap.vocabularies.UI.v1.SelectionRangeSignType/E':'E'};var M=function(r){if(typeof r==='object'){this.oModel=r;}else{this._sResourceRootUri=r;}this._oMetadata=null;if(!this.oModel&&this._sResourceRootUri){q.sap.log.error('Analyzing metadata cannot be done without an ODataModel!');return;}if(this.oModel){this._oMetaModel=this.oModel.getMetaModel();}if(this._oMetaModel){this._oMetadata=this._oMetaModel.getProperty('/');}if(this._oMetadata&&this._oMetadata.dataServices){this._oSchemaDefinition=this._oMetadata.dataServices.schema[0];}};M.hierarchyType={nodeFor:1,nodeExternalKeyFor:2,parentNodeFor:3,levelFor:4,drillStateFor:5,nodeDescendantCountFor:6};M.prototype.getNamespace=function(){if(this._oSchemaDefinition){return this._oSchemaDefinition.namespace;}};M.prototype.getSchemaDefinition=function(){return this._oSchemaDefinition;};M.prototype.getEntityContainerAttribute=function(a){var b=null,e;if(this._oMetaModel&&a){if(a.indexOf('sap:')<0){a='sap:'+a;}e=this._oMetaModel.getODataEntityContainer();b=e[a]||null;}return b;};M.prototype.getEntityLabelByEntityTypeName=function(e){var E=this._getEntityDefinition(e),r,R='';if(E){r=E['com.sap.vocabularies.Common.v1.Label'];if(r&&r.String){R=r.String;}}return R;};M.prototype._getEntityDefinition=function(e){var E=null;if(e){E=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(e));}return E;};M.prototype._getComplexTypeDefinition=function(c){var C=null;if(c){C=this._oMetaModel.getODataComplexType(this._getFullyQualifiedNameForEntity(c));}return C;};M.prototype._getNameOfPropertyUsingComplexType=function(e,c){var C=this.getNamespace();if(e&&c&&C){var t=C+'.'+c;var m=this._getEntityDefinition(e);if(m){var p=m.property;if(p&&p.length){var i=0;for(i=0;i<p.length;i++){var P=p[i];if(P&&P.type===t){return P.name;}}}}}return null;};M.prototype.removeNamespace=function(a){var i,r=a;if(a){i=a.lastIndexOf('.')+1;}if(i>0){r=a.substring(i);}return r;};M.prototype.getEntityTypeNameFromEntitySetName=function(e){var E=null,a=null;if(this._oMetaModel){E=this._oMetaModel.getODataEntitySet(e);if(E){a=E.entityType;}}return a;};M.prototype.getEntitySetNameFromEntityTypeName=function(e){var Q,E,a,i,l,o;if(this._oMetaModel&&e){Q=this._getFullyQualifiedNameForEntity(e);E=this._oMetaModel.getODataEntityContainer();if(E&&Q){a=E.entitySet;l=a.length;for(i=0;i<l;i++){o=a[i];if(o.entityType===Q){break;}o=null;}if(o){return o.name;}}}return null;};M.prototype.getKeysByEntitySetName=function(e){var k=null,E=null;if(!this._oMetaModel){return undefined;}E=this.getEntityTypeNameFromEntitySetName(e);if(E){k=this.getKeysByEntityTypeName(E);}return k;};M.prototype.getKeysByEntityTypeName=function(e){var k=null,p=null,i,l=0,E=null;if(!this._oMetaModel){return undefined;}E=this._getEntityDefinition(e);if(E){if(E.key){p=E.key.propertyRef;if(p){l=p.length;k=[];for(i=0;i<l;i++){k.push(p[i].name);}}}}return k;};M.prototype.getFieldsByEntitySetName=function(e){var F=null,E,a=null;if(!this._oMetaModel){return undefined;}E=this._oMetaModel.getODataEntitySet(e);if(E){a=E.entityType;}if(a){F=this.getFieldsByEntityTypeName(a);this._enrichEntitySetMetadata(F,E);}return F;};M.prototype._enrichEntitySetMetadata=function(F,e){var l,o,n,N,r,m;n=this._getNonSortableFields(e);N=this._getNonFilterableFields(e);r=this._getRequiredFilterFields(e);m=this._getFilterExpressionRestriction(e);l=F.length;while(l--){o=F[l];o.sortable=!(n.indexOf(o.name)>-1);o.filterable=!(N.indexOf(o.name)>-1);o.requiredFilterField=(r.indexOf(o.name)>-1);o.filterRestriction=m[o.name];}};M.prototype._extractPropertyPathsFromAnnotation=function(a,b){var p=[],c,l,P;if(a&&b){c=a[b];}if(c){l=c.length;while(l--){P=c[l].PropertyPath;if(P){p.push(P);}}}return p;};M.prototype._getNonSortableFields=function(e){var o;if(e){o=e['Org.OData.Capabilities.V1.SortRestrictions'];}return this._extractPropertyPathsFromAnnotation(o,'NonSortableProperties');};M.prototype._getNonFilterableFields=function(e){var F;if(e){F=e['Org.OData.Capabilities.V1.FilterRestrictions'];}return this._extractPropertyPathsFromAnnotation(F,'NonFilterableProperties');};M.prototype._getRequiredFilterFields=function(e){var F;if(e){F=e['Org.OData.Capabilities.V1.FilterRestrictions'];}return this._extractPropertyPathsFromAnnotation(F,'RequiredProperties');};M.prototype._getFilterExpressionRestriction=function(e){var F={},a,l,o,p,b;if(e){a=e['com.sap.vocabularies.Common.v1.FilterExpressionRestrictions'];if(a){l=a.length;while(l--){o=a[l];if(o){p=o.Property;b=o.AllowedExpressions;if(p&&b&&p.PropertyPath&&b.EnumMember){F[p.PropertyPath]=f[b.EnumMember];}}}}}return F;};M.prototype._isFilterable=function(p,e){var n,F=true;if(e){n=this._getNonFilterableFields(e);F=!(n.indexOf(p.name)>-1);}if(F){F=!(p['sap:filterable']==='false');}return F;};M.isHiddenFilter=function(p){return!!p['com.sap.vocabularies.UI.v1.HiddenFilter']&&M.isTermDefaultTrue(p['com.sap.vocabularies.UI.v1.HiddenFilter']);};M.isHidden=function(p){return!!p['com.sap.vocabularies.UI.v1.Hidden']&&M.isTermDefaultTrue(p['com.sap.vocabularies.UI.v1.Hidden']);};M.prototype.getFieldsByEntityTypeName=function(e){var E;if(!this._oMetaModel){return undefined;}E=this._getEntityDefinition(e);return this._getFieldsByEntityDefinition(E);};M.prototype.getFieldsByComplexTypeName=function(c,p){var C;if(!this._oMetaModel){return undefined;}C=this._getComplexTypeDefinition(c);return this._getFieldsByEntityDefinition(C,p);};M.prototype.getAllEntityTypeNames=function(){if(!this._oMetaModel){return undefined;}var o=this._oSchemaDefinition;if(o.entityType&&o.entityType.length>0){var i=0;var r=[];for(i=0;i<o.entityType.length;i++){r.push(o.entityType[i].name);}return r;}return null;};M.prototype.getFieldSemanticObjectMap=function(e){var o=this.getFieldsByEntitySetName(e);if(!o){return null;}var m={},i,l=o.length;for(i=0;i<l;i++){var F=o[i];var a=this.getSemanticObjectAnnotation(F.fullName);if(a&&a.semanticObject){m[F.name]=a.semanticObject;}}return m;};M.prototype._getFieldsByEntityDefinition=function(e,p){var F=null,P=null,i=0,l=0,o,a;if(e){P=e.property;}if(P){F=[];l=P.length;for(i=0;i<l;i++){o=P[i];if(o){a=this._parseV4PropertyAnnotations(o,e,p);this._determineHierarchyInformation(a,o);this._determineFilterAndSortInformation(a,o,null);F.push(a);}}}return F;};M.getDisplayFormat=function(p){var d=p['sap:display-format'];if(d){return d;}};M.isCalendarDate=function(p){return M.isPropertyStringType(p)&&M.isTermDefaultTrue(p['com.sap.vocabularies.Common.v1.IsCalendarDate']);};M.getAggregationRole=function(p){if(p['com.sap.vocabularies.Analytics.v1.Dimension']){return'dimension';}if(p['com.sap.vocabularies.Analytics.v1.Measure']){return'measure';}return undefined;};M.getLinkDisplayFormat=function(p){if(M.isEmailAddress(p)){return'EmailAddress';}if(M.isPhoneNumber(p)){return'PhoneNumber';}if(M.isURL(p)){return'URL';}return'';};M.getValueListMode=function(p){if(M.isValueListWithFixedValues(p)){return'fixed-values';}var v=p['sap:value-list'];if(v){return v;}return'';};M.isTermTrue=function(t){return!!t&&(t.Bool==='true');};M.isPropertyStringType=function(p){return!!p&&(p.type==='Edm.String');};M.isTermDefaultTrue=function(t){if(t){return t.Bool?t.Bool!=='false':true;}return false;};M.isNullable=function(p){return!(p&&(p.nullable==='false'));};M.isDigitSequence=function(p){return M.isPropertyStringType(p)&&M.isTermDefaultTrue(p['com.sap.vocabularies.Common.v1.IsDigitSequence']);};M.isUpperCase=function(p){return M.isPropertyStringType(p)&&M.isTermDefaultTrue(p['com.sap.vocabularies.Common.v1.IsUpperCase']);};M.isEmailAddress=function(p){return M.isPropertyStringType(p)&&M.isTermDefaultTrue(p['com.sap.vocabularies.Communication.v1.IsEmailAddress']);};M.isPhoneNumber=function(p){return M.isPropertyStringType(p)&&M.isTermDefaultTrue(p['com.sap.vocabularies.Communication.v1.IsPhoneNumber']);};M.isURL=function(p){return M.isPropertyStringType(p)&&(M.isTermDefaultTrue(p['Org.OData.Core.V1.IsURL'])||M.isTermDefaultTrue(p['Org.OData.Core.V1.IsUrl']));};M.isValueList=function(p){var t='com.sap.vocabularies.Common.v1.ValueList';return!!(p&&(p['sap:value-list']||p[t]));};M.isValueListWithFixedValues=function(p){var t='com.sap.vocabularies.Common.v1.ValueListWithFixedValues';return M.isTermTrue(p[t]);};M.prototype._parseProperty=function(p,e,P){var F=this._parseV4PropertyAnnotations(p,e,P);this._determineHierarchyInformation(F,p);this._determineFilterAndSortInformation(F,p,null);return F;};M.prototype._parseV4PropertyAnnotations=function(p,e,P){var F=q.extend({},p);var r=p['com.sap.vocabularies.Common.v1.Label'];if(r){F.fieldLabel=r.String;}r=p['com.sap.vocabularies.Common.v1.QuickInfo'];if(r){F.quickInfo=r.String;}F.displayFormat=M.getDisplayFormat(p);F.isDigitSequence=M.isDigitSequence(p);F.isURL=M.isURL(p);F.isEmailAddress=M.isEmailAddress(p);F.isPhoneNumber=M.isPhoneNumber(p);F.isUpperCase=M.isUpperCase(p);F.isCalendarDate=M.isCalendarDate(p);F.aggregationRole=M.getAggregationRole(p);r=p['Org.OData.Measures.V1.ISOCurrency'];if(r){F.isCurrencyField=true;F.isMeasureField=true;F.unit=r.Path;}r=p['Org.OData.Measures.V1.Unit'];if(r){F.isMeasureField=true;F.unit=r.Path;}r=p['com.sap.vocabularies.Common.v1.Text'];if(r){F.description=r.Path;F.displayBehaviour=this.getTextArrangementValue(r);}r=p['com.sap.vocabularies.UI.v1.IsImageURL']||p['com.sap.vocabularies.UI.v1.IsImageUrl'];F.isImageURL=M.isTermDefaultTrue(r);F.entityName=e.name;F.parentPropertyName=P;F.fullName=this._getFullyQualifiedNameForField(p.name,e);r=p['com.sap.vocabularies.Common.v1.FieldControl'];F.visible=!(r&&((r.EnumMember==='com.sap.vocabularies.Common.v1.FieldControlType/Hidden')||(r.EnumMember==='com.sap.vocabularies.Common.v1.FieldControlType/Inapplicable')));F.hidden=M.isHidden(p);F.visible=F.visible&&!F.hidden;F.hiddenFilter=M.isHiddenFilter(p);if(p['defaultValue']!==undefined){F.defaultPropertyValue=p['defaultValue'];}r=p['com.sap.vocabularies.Common.v1.FilterDefaultValue'];if(r){F.defaultFilterValue=this._getDefaultValues(p.type,r,p);}return F;};M.prototype._determineHierarchyInformation=function(F,p){var h={field:null,type:null};if(p['sap:hierarchy-node-for']!=null){h.field=p['sap:hierarchy-node-for'];h.type=M.hierarchyType.nodeFor;}if(p['sap:hierarchy-node-external-key-for']!=null){h.field=p['sap:hierarchy-node-external-key-for'];h.type=M.hierarchyType.nodeExternalKeyFor;}if(p['sap:hierarchy-parent-node-for']!=null){h.field=p['sap:hierarchy-parent-node-for'];h.type=M.hierarchyType.parentNodeFor;}if(p['sap:hierarchy-level-for']!=null){h.field=p['sap:hierarchy-level-for'];h.type=M.hierarchyType.levelFor;}if(p['sap:hierarchy-drill-state-for']!=null){h.field=p['sap:hierarchy-drill-state-for'];h.type=M.hierarchyType.drillStateFor;}if(p['sap:hierarchy-node-descendant-count-for']!=null){h.field=p['sap:hierarchy-node-descendant-count-for'];h.type=M.hierarchyType.nodeDescendantCountFor;}if(h.type!=null){F.hierarchy=h;}};M.prototype._determineFilterAndSortInformation=function(F,p,e){if(e){this._enrichEntitySetMetadata([F],e);}if(F.filterable==undefined||F.filterable){F.filterable=p['sap:filterable']!=='false';}if(!F.filterRestriction&&p['sap:filter-restriction']){F.filterRestriction=p['sap:filter-restriction'];}if(!F.requiredFilterField){F.requiredFilterField=p['sap:required-in-filter']==='true';}if(F.sortable==undefined||F.sortable){F.sortable=p['sap:sortable']!=='false';}};M.prototype._getDefaultValues=function(t,r,p){var v=null,d=O.getDefaultValueTypeName(t);if(r[d]){v=r[d];}else{q.sap.log.error('default value for '+p.name+' expected through the property '+d);}return v;};M.prototype.extractNavigationPropertyField=function(p,e){var E,m,o,P,a,n,b,F=null;if(e&&p){E='/'+e+'/';P=p.split('/');a=P.pop();n=P.join('/');if(n&&a){m=this._oMetaModel.getMetaContext(E+n);if(m){b=this._oMetaModel.getProperty(m.getPath());}}if(b){o=this._oMetaModel.getODataProperty(b,a);}if(o){F=this._parseV4PropertyAnnotations(o,b,n);F.name=p;var c=this._oMetaModel.getODataEntitySet(e);this._determineFilterAndSortInformation(F,o,c);F.name=o.name;}}return F;};M.prototype.getAllFilterableFieldNamesByEntityTypeName=function(e){var g,i,a,j,b,r,G;r=[];g=this.getAllFilterableFieldsByEntityTypeName(e);if(g&&g.length){a=g.length;for(i=0;i<a;i++){G=g[i];if(G.fields&&G.fields.length){b=G.fields.length;for(j=0;j<b;j++){r.push(G.fields[j].name);}}}}return r;};M.prototype._getAllFilterableFieldsByEntity=function(e,i,I,c){var F=[],E,o,a,n,r,b,d,g;if(!this._oMetaModel||!e){return undefined;}if(i){o=this._oMetaModel.getODataEntitySet(e);if(o){E=this._getEntityDefinition(o.entityType);}}else{E=this._getEntityDefinition(e);}if(E){F.push(this._getFilterableFieldsFromEntityDefinition(E,undefined,o));a=this._getFilterableAssociations(E,o);for(n in a){if(!c||(c.indexOf(n)>-1)){g=a[n];if(i){r=this._oMetaModel.getODataAssociationSetEnd(E,n);if(r.entitySet){d=this._oMetaModel.getODataEntitySet(r.entitySet);}}b=this._getEntityDefinition(g);if(b){if(I&&(b['sap:semantics']==='parameters')){continue;}F.push(this._getFilterableFieldsFromEntityDefinition(b,n,d));}}}}return F;};M.prototype.getAllFilterableFieldsByEntitySetName=function(e,i,c){if(!this._oMetaModel){return undefined;}return this._getAllFilterableFieldsByEntity(e,true,i,c);};M.prototype.getAllFilterableFieldsByEntityTypeName=function(e){if(!this._oMetaModel){return undefined;}return this._getAllFilterableFieldsByEntity(e);};M.prototype._getFilterableFieldsFromEntityDefinition=function(e,p,E){var F={},a=[],P=null,o,i,l,b=null;if(!this._oMetaModel||!e){return undefined;}o=e['com.sap.vocabularies.Common.v1.Label'];if(o){F.groupLabel=o.String;}F.groupEntityName=e.name;F.groupName=p;P=this._getFieldsByEntityDefinition(e,p);if(E){this._enrichEntitySetMetadata(P,E);}l=P.length;for(i=0;i<l;i++){b=P[i];if(b.visible&&b.filterable){a.push(b);}}F.fields=a;return F;};M.prototype._getFullyQualifiedNameForField=function(F,e){var n,E,r=F;if(e){n=e.namespace;E=e.name;}if(n&&E){r=n+'.'+E+'/'+F;}return r;};M.prototype.getFieldNameByFullyQualifiedFieldName=function(F){var r,n;r=this.removeNamespace(F);n=r.indexOf('/');r=r.substring(n+1);return r;};M.prototype._getFilterableAssociations=function(e,E){return this._getAssociations(e,E,true,false);};M.prototype._getAssociations=function(e,E,c,a){var F={},n=null,N=null,i,l=0,o=null;if(!this._oMetaModel||!e){return undefined;}n=e.navigationProperty;if(n&&n.length){l=n.length;for(i=0;i<l;i++){N=n[i];if(c){if(!this._isFilterable(N,E)||M.isHiddenFilter(N)){continue;}}o=this._oMetaModel.getODataAssociationEnd(e,N.name);if(!o||o.type===(e.namespace+'.'+e.name)){continue;}if(a||o.multiplicity==='1'||o.multiplicity==='0..1'){if(F[N.name]===undefined){F[N.name]=o.type;}}}}return F;};M.prototype.getParametersByEntitySetName=function(e){var r,a,m,n,b,c,d,o,E,g,h;h=this._oMetaModel.getODataEntitySet(e);if(h){E=this._getEntityDefinition(h.entityType);}a=this._getAssociations(E,null,false,false);for(n in a){c=a[n];o=this._oMetaModel.getODataAssociationSetEnd(E,n);if(o.entitySet){g=this._getEntityDefinition(c);if(g){if((g['sap:semantics']==='parameters')&&g.key){r={entitySetName:o.entitySet,parameters:[],navPropertyName:''};for(var i=0;i<g.key.propertyRef.length;i++){r.parameters.push(g.key.propertyRef[i].name);}m=this._getAssociations(g,null,false,true);for(b in m){d=m[b];if(d===h.entityType){r.navPropertyName=b;break;}}return r;}}}}return null;};M.prototype.getValueListAnnotationLazy=function(p){var P,a={additionalAnnotations:[]},r,b,c,t,d,o,Q;P=new Promise(function(R,e){if(p&&this._oMetaModel){c=p.split('/');t=this._oMetaModel.getODataEntityType(c[0])||this._oMetaModel.getODataComplexType(c[0]);b=c[1];d=this._oMetaModel.getODataProperty(t,b,true);if(d){o=this._oMetaModel.createBindingContext(d);this._oMetaModel.getODataValueLists(o).then(function(v){for(Q in v){r={annotation:v[Q]};if(r.annotation&&!r.annotation['PresentationVariantQualifier']){this._enrichValueHelpAnnotation(r,b);if(!Q){a.primaryValueListAnnotation=r;}else{r.qualifier=Q;a.additionalAnnotations.push(r);}}}R(a);}.bind(this),e);return;}}e();}.bind(this));return P;};M.prototype.getValueListAnnotationForFunctionImport=function(v,p){var a={additionalAnnotations:[]},r,Q;for(Q in v){r={annotation:v[Q]};if(r.annotation){this._enrichValueHelpAnnotation(r,p);if(!Q){a.primaryValueListAnnotation=r;}else{r.qualifier=Q;a.additionalAnnotations.push(r);}}}return a;};M.prototype.getValueListAnnotation=function(p){var a={additionalAnnotations:[]},r,P,b,t,o,Q;if(p&&this._oMetaModel){b=p.split('/');t=this._oMetaModel.getODataEntityType(b[0])||this._oMetaModel.getODataComplexType(b[0]);o=this._oMetaModel.getODataProperty(t,b[1]);if(o){P=o.name;for(var c in o){if(c==='com.sap.vocabularies.Common.v1.ValueList'||c.indexOf('com.sap.vocabularies.Common.v1.ValueList#')>-1){Q=null;r={annotation:o[c]};b=c.split('#');if(b.length===2){Q=b[1];}if(r.annotation){this._enrichValueHelpAnnotation(r,P);if(!Q){a.primaryValueListAnnotation=r;}else{r.qualifier=Q;a.additionalAnnotations.push(r);}}}}}}return a;};M.prototype._enrichValueHelpAnnotation=function(a,p){var r,R,e,k=[],K,I={},o={},b,c,F=[],v=[],d,P,V,l,g,L=0,i=0,h=0;if(a&&a.annotation){r=a.annotation;if(r){R=r['SearchSupported'];a.isSearchSupported=R?R.Bool==='true':false;R=r['CollectionPath'];if(R){a.valueListEntitySetName=R.String;if(this._oMetaModel){e=this._oMetaModel.getODataEntitySet(a.valueListEntitySetName);}if(e){a.valueListEntityName=e.entityType;a.semantics=e['sap:semantics'];k=this.getKeysByEntitySetName(e.name);F=this.getFieldsByEntitySetName(e.name);}}R=r['Label'];if(R){a.valueListTitle=R.String;}d=r['Parameters'];if(F&&d){L=d.length;}for(i=0;i<L;i++){g=d[i];V=undefined;l=undefined;P=g['ValueListProperty'];if(P){V=P.String;}P=g['LocalDataProperty'];if(P){l=P.PropertyPath;}b=false;if(g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterInOut'||g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterIn'){b=true;}c=false;if(g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterInOut'||g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterOut'){c=true;}if(b){I[l]=V;}if(c){o[l]=V;}if(c||g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly'){h=F.length;while(h--){if(F[h].name===V){v.push(F[h]);break;}}}if(!K&&c&&l===p){K=V;}}}a.inParams=I;a.outParams=o;a.fields=F;a.valueListFields=v;a.keys=k;a.keyField=K;a.descriptionField=this.getDescriptionFieldName(a.keyField,a.valueListEntitySetName);}};M.prototype.getDescriptionFieldName=function(k,e){var F,i=0,l,o,d;if(typeof k==='object'){o=k;}else{F=this.getFieldsByEntitySetName(e);if(F){l=F.length;for(i=0;i<l;i++){o=F[i];if(o.name===k){break;}o=null;}}}if(o&&o['com.sap.vocabularies.Common.v1.Text']){d=o['com.sap.vocabularies.Common.v1.Text'].Path;}return d;};M.prototype.getIsSearchSupported=function(a){var i=false,p;if(a){p=a.SearchSupported;if(p&&p.Bool==='true'){i=true;}}return i;};M.prototype.getValueListSemantics=function(a){var e,E,b;if(a){e=a['CollectionPath']?a['CollectionPath'].String:undefined;}if(e){E=this._oMetaModel.getODataEntitySet(e);if(E){b=E['sap:semantics'];}}return b;};M.prototype.getLineItemAnnotation=function(p,Q){var e,t,a,r;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){t='com.sap.vocabularies.UI.v1.LineItem';if(Q){t+='#'+Q;}a=e[t];if(a){r={annotation:a};this._enrichAnnotationWithUIDataField(r,a);}}}return r;};M.prototype.isSemanticAggregation=function(p){var e;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){return e['sap:semantics']==='aggregate';}}return false;};M.prototype.getPresentationVariantAnnotation=function(p,Q){var e,t,a,l,i,r,L,c,I;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){t='com.sap.vocabularies.UI.v1.PresentationVariant';if(Q){t+='#'+Q;}a=e[t];if(a){r={annotation:a,requestAtLeastFields:[],sortOrderFields:[],groupByFields:[],maxItems:undefined};if(a.Visualizations){l=a.Visualizations.length;for(i=0;i<l;i++){I=a.Visualizations[i].AnnotationPath;if(!L&&(I==='@com.sap.vocabularies.UI.v1.LineItem'||I.indexOf('@com.sap.vocabularies.UI.v1.LineItem#')>-1)){L=e[I.substring(1)];r.lineItemAnnotation={annotation:L};this._enrichAnnotationWithUIDataField(r.lineItemAnnotation,L);}else if(!c&&(I==='@com.sap.vocabularies.UI.v1.Chart'||I.indexOf('@com.sap.vocabularies.UI.v1.Chart#')>-1)){c=e[I.substring(1)];r.chartAnnotation={annotation:c,semantics:e['sap:semantics']};this._enrichChartAnnotation(r.chartAnnotation,c);}if(L&&c){break;}}}if(a.RequestAtLeast){l=a.RequestAtLeast.length;for(i=0;i<l;i++){r.requestAtLeastFields.push(a.RequestAtLeast[i].PropertyPath);}}if(a.SortOrder){l=a.SortOrder.length;for(i=0;i<l;i++){r.sortOrderFields.push({name:a.SortOrder[i].Property.PropertyPath,descending:a.SortOrder[i].Descending?a.SortOrder[i].Descending.Bool==='true':false});}}if(a.GroupBy){l=a.GroupBy.length;for(i=0;i<l;i++){r.groupByFields.push(a.GroupBy[i].PropertyPath);}}if(a.MaxItems){r.maxItems=a.MaxItems.Int;}}}}return r;};M.prototype._enrichChartAnnotation=function(a,o){var i,l,b;if(a&&o){a.measureFields=[];a.dimensionFields=[];a.measureAttributes={};a.dimensionAttributes={};if(o.ChartType&&o.ChartType.EnumMember){a.chartType=o.ChartType.EnumMember;}if(o.Measures){l=o.Measures.length;for(i=0;i<l;i++){a.measureFields.push(o.Measures[i].PropertyPath);}}if(o.MeasureAttributes){l=o.MeasureAttributes.length;for(i=0;i<l;i++){b=o.MeasureAttributes[i];if(b.Measure){a.measureAttributes[b.Measure.PropertyPath]={role:b.Role?b.Role.EnumMember:null,dataPoint:b.DataPoint?b.DataPoint.AnnotationPath:null};}}}if(o.Dimensions){l=o.Dimensions.length;for(i=0;i<l;i++){a.dimensionFields.push(o.Dimensions[i].PropertyPath);}}if(o.DimensionAttributes){l=o.DimensionAttributes.length;for(i=0;i<l;i++){b=o.DimensionAttributes[i];if(b.Dimension){a.dimensionAttributes[b.Dimension.PropertyPath]={role:b.Role?b.Role.EnumMember:null,hierarchyLevel:b.HierarchyLevel?b.HierarchyLevel.Int:0};}}}}};M.prototype.getChartAnnotation=function(p,Q){var e,a,r,t;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){t='com.sap.vocabularies.UI.v1.Chart';if(Q){t+='#'+Q;}a=e[t];if(a){r={annotation:a,semantics:e['sap:semantics']};this._enrichChartAnnotation(r,a);}}}return r;};M.prototype.getDataPointAnnotation=function(p){var e,P,Q,a,d,r={};if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){for(P in e){if(P==='com.sap.vocabularies.UI.v1.DataPoint'||P.indexOf('com.sap.vocabularies.UI.v1.DataPoint#')>-1){Q=null;d=e[P];a=P.split('#');if(a.length===2){Q=a[1];}if(d){if(Q){if(!r.additionalAnnotations){r.additionalAnnotations={};}r.additionalAnnotations[Q]=d;}else{r.primaryAnnotation=d;}}}}}}return r;};M.prototype.getFieldGroupAnnotation=function(p){var e,Q,P,r,a,R,b=[];if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(p));if(e){for(var c in e){if(c==='com.sap.vocabularies.UI.v1.FieldGroup'||c.indexOf('com.sap.vocabularies.UI.v1.FieldGroup#')>-1){Q=null;a=e[c];P=c.split('#');if(P.length===2){Q=P[1];}if(a){R={annotation:a};if(Q){R.groupName=Q;}r=a['Label'];if(r){R.groupLabel=r.String;}r=a['Data'];if(r){this._enrichAnnotationWithUIDataField(R,r);}b.push(R);}}}}}return b;};M.prototype.getFieldGroupsByFilterFacetsAnnotation=function(p){var e,P,Q,r,R,F=this.getFieldGroupAnnotation(p);R=F;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(p));if(e){for(var a in e){if(a==='com.sap.vocabularies.UI.v1.FilterFacets'||a.indexOf('com.sap.vocabularies.UI.v1.FilterFacets#')>-1){R=[];r=e[a];if(r){for(var i=0;i<r.length;i++){P=r[i].Target.AnnotationPath.split('#');if(P.length===2){Q=P[1];}if(Q){F.some(function(o){if(o.groupName===Q){if(r[i].Label){o.groupLabel=r[i].Label.String;}R.push(o);return true;}return false;});}}}}}}}return R;};M.prototype._enrichAnnotationWithUIDataField=function(a,r){var F=[],u={},l={},I={},c={},p,b,P,L=0,i=0;if(a&&r){L=r.length;F=[];l={};for(i=0;i<L;i++){P=r[i];if(P&&(P.RecordType==='com.sap.vocabularies.UI.v1.DataField'||P.RecordType==='com.sap.vocabularies.UI.v1.DataFieldWithUrl')){b=null;p=P['Value'];if(p){b=p.Path;}if(b){F.push(b);p=P['Url'];if(p){u[b]=this._extractURLInfo(p);}p=P['Label'];if(p&&p.String){l[b]=p.String;}I[b]=this._getImportanceAnnotation(P);p=P['Criticality'];if(p){c[b]=this._extractCriticalityInfo(p,P);}}}}a.fields=F;a.urlInfo=u;a.labels=l;a.importance=I;a.criticality=c;}};M.prototype._extractCriticalityInfo=function(c,r){var R,C;if(c.Path||c.EnumMember){R={};R['path']=c.Path;R['criticalityType']=c.EnumMember;C=r['CriticalityRepresentation'];if(C){if(C.Path){R['criticalityRepresentationPath']=C.Path;}else if(C.EnumMember){R['criticalityRepresentationType']=C.EnumMember;}}}return R;};M.prototype._extractURLInfo=function(p){var r,P,l,o;if(p){if(p.Apply&&p.Apply.Name==='odata.fillUriTemplate'){r={urlTarget:undefined,parameters:[]};if(!this._oDummyAnnotationHelperContext){this._oDummyAnnotationHelperContext=this._oMetaModel.createBindingContext('/');}if(this._oDummyAnnotationHelperContext){r.urlTarget=A.format(this._oDummyAnnotationHelperContext,p);}P=p.Apply.Parameters;l=P&&P.length?P.length:0;while(l--){o=P[l];if(o&&o.Type==='LabeledElement'&&o.Value&&o.Value.Path){r.parameters.push(o.Value.Path);}}}else if(p.Path){r={urlPath:p.Path};}}return r;};M.prototype.getSelectionVariantAnnotationList=function(p){var e,a,Q,r=[],P;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(p));if(e){for(var b in e){if(b==='com.sap.vocabularies.UI.v1.SelectionVariant'||b.indexOf('com.sap.vocabularies.UI.v1.SelectionVariant#')>-1){Q='';a=e[b];P=b.split('#');if(P.length===2){Q=P[1];}if(a){r.push({qualifier:Q,annotation:a});}}}}}return r;};M.prototype.getSelectionPresentationVariantAnnotationList=function(e){var E,o,a,b,Q,v,c,t=null,d=null,p=null,r=[],P;if(e&&this._oMetaModel){o=this._oMetaModel.getODataEntitySet(e);if(o){a=this._oMetaModel.getODataEntityType(o.entityType);}E=[o,a];var g=function(Q,i){return i.filter(function(d){return d.qualifier===Q;})[0];};var F=this.getEntityTypeNameFromEntitySetName(e);var h=this;E.forEach(function(i){if(i){for(var j in i){if(j==='com.sap.vocabularies.UI.v1.SelectionPresentationVariant'||j.indexOf('com.sap.vocabularies.UI.v1.SelectionPresentationVariant#')>-1){Q='';b=i[j];P=j.split('#');if(P.length===2){Q=P[1];}if(b){t=null;if(b.Text&&b.Text.String){t=b.Text.String;}if(b.SelectionVariant&&b.SelectionVariant.Path){c=b.SelectionVariant.Path;v='';P=c.split('#');if(P.length===2){v=P[1];}if(a[c.substring(1)]){var k=g(v,h.getSelectionVariantAnnotationList(F));d={qualifier:v,annotation:k?k.annotation:undefined};}}if(b.PresentationVariant&&b.PresentationVariant.Path){c=b.PresentationVariant.Path;v='';P=c.split('#');if(P.length===2){v=P[1];}if(a[c.substring(1)]){p={qualifier:v,annotation:h.getPresentationVariantAnnotation(F,v)};}}r.push({qualifier:Q,text:t,annotation:b,selectionVariant:d,presentationVariant:p});}}}}});}return r;};M.prototype.getSelectionFieldsAnnotation=function(p){var e,a,l,i,r;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(p));if(e){a=e['com.sap.vocabularies.UI.v1.SelectionFields'];if(a){r={annotation:a,selectionFields:[]};l=a.length;for(i=0;i<l;i++){r.selectionFields.push(a[i].PropertyPath);}}}}return r;};M.prototype.getSemanticKeyAnnotation=function(p){var e,a,l,i,r;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){a=e['com.sap.vocabularies.Common.v1.SemanticKey'];if(a){r={annotation:a,semanticKeyFields:[]};l=a.length;for(i=0;i<l;i++){r.semanticKeyFields.push(a[i].PropertyPath);}}}}return r;};M.prototype._getImportanceAnnotation=function(p){var i=null,r;r=p['com.sap.vocabularies.UI.v1.Importance'];if(r){i=r.EnumMember;}switch(i){case'com.sap.vocabularies.UI.v1.ImportanceType/Medium':return'Medium';case'com.sap.vocabularies.UI.v1.ImportanceType/Low':return'Low';default:return'High';}};M.prototype.getTextArrangementValue=function(p){var P,t,o,a,d;if(p&&this._oMetaModel){if(typeof(p)==='string'){p=this._getFullyQualifiedNameForEntity(p);P=p.split('/');if(P.length>1){t=this._oMetaModel.getODataEntityType(P[0])||this._oMetaModel.getODataComplexType(P[0]);o=this._oMetaModel.getODataProperty(t,P[1]);}else{o=this._oMetaModel.getODataEntityType(p)||this._oMetaModel.getODataComplexType(p);}}else{o=p;}if(o){a=o['com.sap.vocabularies.UI.v1.TextArrangement'];}if(a){switch(a.EnumMember){case'com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst':d='descriptionAndId';break;case'com.sap.vocabularies.UI.v1.TextArrangementType/TextLast':d='idAndDescription';break;case'com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate':d='idOnly';break;case'com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly':d='descriptionOnly';break;default:d=undefined;break;}}}return d;};M.prototype.getSemanticObjectAnnotation=function(p){var P,t,o,a;if(p&&this._oMetaModel){P=p.split('/');t=this._oMetaModel.getODataEntityType(P[0])||this._oMetaModel.getODataComplexType(P[0]);o=this._oMetaModel.getODataProperty(t,P[1]);if(o){a=o['com.sap.vocabularies.Common.v1.SemanticObject'];}return this._prepareSemanticObjectAnnotationFromProperty(a);}return null;};M.prototype.getSemanticObjectsFromAnnotation=function(p){if(!p||!this._oMetaModel){return null;}var P=p.split('/');var t=this._oMetaModel.getODataEntityType(P[0])||this._oMetaModel.getODataComplexType(P[0]);return M.getSemanticObjectsFromProperty(this._oMetaModel.getODataProperty(t,P[1]));};M.getSemanticObjectsFromProperty=function(p){var o={defaultSemanticObject:undefined,additionalSemanticObjects:[]};for(var a in p){if(a==='com.sap.vocabularies.Common.v1.SemanticObject'){o.defaultSemanticObject=p[a]['String'];}else if(q.sap.startsWith(a,'com.sap.vocabularies.Common.v1.SemanticObject#')){o.additionalSemanticObjects.push(p[a]['String']);}}return(o.defaultSemanticObject||o.additionalSemanticObjects.length>0)?o:undefined;};M.prototype.getSemanticObjectAnnotationFromProperty=function(p){var a;if(p){a=p['com.sap.vocabularies.Common.v1.SemanticObject'];return this._prepareSemanticObjectAnnotationFromProperty(a);}return null;};M.prototype._prepareSemanticObjectAnnotationFromProperty=function(a){var r,R;if(a){r=a['String'];if(r){R={annotation:a};R.semanticObject=r;}}return R;};M.prototype.getContactAnnotation=function(b){var m=this._oMetaModel.getMetaContext(b);var p=m.getProperty(m.getPath());return p['com.sap.vocabularies.Communication.v1.Contact'];};M.prototype._getFullyQualifiedNameForEntity=function(e){var n,r;if(!e){return undefined;}if(e.indexOf('.')>-1){return e;}n=this.getNamespace();if(n&&!(e.indexOf(n)>-1)){r=n+'.'+e;}else{r=e;}return r;};M.getSelectionRangeOptionType=function(t){return s[t];};M.getSelectionRangeSignType=function(t){return S[t];};M.prototype.destroy=function(){this.oModel=null;this._oMetaModel=null;this._oMetadata=null;this._oSchemaDefinition=null;this._sResourceRootUri=null;this.bIsDestroyed=true;this._oDummyAnnotationHelperContext=null;};return M;},true);\n",
	"sap/ui/comp/odata/ODataModelUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/v2/ODataModel'],function(O){'use strict';var a={handleModelInit:function(s,m){var l=false,M;if(s&&!s._bMetaModelLoadAttached&&m){M=s.getModel();if(M){if(M.getMetadata()&&M instanceof O){l=true;}else if(M.bLoadMetadataAsync||(M.getServiceMetadata&&!M.getServiceMetadata())){l=true;}s._bMetaModelLoadAttached=true;if(l&&M.getMetaModel()&&M.getMetaModel().loaded){M.getMetaModel().loaded().then(m.bind(s));}else{m.apply(s);}}}}};return a;},true);\n",
	"sap/ui/comp/odata/ODataType.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Boolean','sap/ui/model/odata/type/Byte','sap/ui/model/odata/type/DateTime','sap/ui/model/odata/type/DateTimeOffset','sap/ui/model/odata/type/Decimal','sap/ui/model/odata/type/Double','sap/ui/model/odata/type/Single','sap/ui/model/odata/type/Guid','sap/ui/model/odata/type/Int16','sap/ui/model/odata/type/Int32','sap/ui/model/odata/type/Int64','sap/ui/model/odata/type/SByte','sap/ui/model/odata/type/String','sap/ui/model/odata/type/Time','sap/ui/comp/odata/type/StringDate'],function(B,a,D,b,c,d,S,G,I,e,f,g,h,T,i){'use strict';var u={'Edm.Boolean':B,'Edm.Byte':a,'Edm.DateTime':D,'Edm.DateTimeOffset':b,'Edm.Decimal':c,'Edm.Double':d,'Edm.Float':S,'Edm.Guid':G,'Edm.Int16':I,'Edm.Int32':e,'Edm.Int64':f,'Edm.SByte':g,'Edm.Single':S,'Edm.String':h,'Edm.Time':T};var m={'Edm.Boolean':'Boolean','Edm.Byte':'Byte','Edm.DateTime':'DateTime','Edm.DateTimeOffset':'DateTimeOffset','Edm.Decimal':'Decimal','Edm.Double':'Double','Edm.Float':'Float','Edm.Guid':'Guid','Edm.Int16':'Int16','Edm.Int32':'Int32','Edm.Int64':'Int64','Edm.SByte':'SByte','Edm.Single':'Single','Edm.String':'String','Edm.Time':'Time'};var n={'Edm.Decimal':true,'Edm.Double':true,'Edm.Float':true,'Edm.Int16':true,'Edm.Int32':true,'Edm.Int64':true,'Edm.Single':true};var j={'Edm.DateTime':true,'Edm.DateTimeOffset':true,'Edm.Time':true};var O={getType:function(t,F,C,k){var o=null,_;if(k){return new i(F);}_=u[t];if(_){o=new _(F,C);}return o;},isNumeric:function(t){return n[t]?true:false;},isDateOrTime:function(t){return j[t]?true:false;},getDefaultValueTypeName:function(t){return m[t];}};return O;},true);\n",
	"sap/ui/comp/odata/SideEffects.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S=function(){};S.prototype.getSideEffects=function(p,t,m){var r={};if(m){if(p){if(m.entitySet){r.entitySet=this._getForPath(m.entitySet,p);}if(m.entityType){r.entityType=this._getForPath(m.entityType,p);}}if(t&&m.complexType){r.complexType=this._getForPath(m.complexType,t);}}return r;};S.prototype._getForPath=function(e,p){var n,s,r={};for(n in e){if(n.indexOf&&n.indexOf('com.sap.vocabularies.Common.v1.SideEffects')===0){s=e[n];if(this._checkSourceProperties(s,p)){r[n]=s;}if(this._checkSourceEntities(s,p)){r[n]=s;}}}return r;};S.prototype._checkSourceProperties=function(s,p){var i,l;if(s.SourceProperties){l=s.SourceProperties.length;for(i=0;i<l;i++){if(s.SourceProperties[i].PropertyPath===p){return true;}}}return false;};S.prototype._checkSourceEntities=function(s,p){var i,l;if(s.SourceEntities&&s.SourceEntities.Collection){l=s.SourceEntities.Collection.length;for(i=0;i<l;i++){if(s.SourceEntities.Collection[i].NavigationPropertyPath===p){return true;}}}return false;};S.prototype.destroy=function(){};return S;},true);\n",
	"sap/ui/comp/odata/type/StringDate.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/SimpleType','sap/ui/core/format/DateFormat','sap/ui/model/ValidateException','sap/ui/model/FormatException'],function(S,D,V,F){'use strict';var a=S.extend('sap.ui.comp.odata.type.StringDate',{constructor:function(f){S.apply(this,[f]);this.sName='sap.ui.comp.odata.type.StringDate';f=jQuery.extend({},f,{UTC:false});this.displayFormatter=D.getDateInstance(f);this.parseFormatter=D.getDateInstance({UTC:false,pattern:'yyyyMMdd'});}});a.prototype.parseValue=function(v,s){if(v!=null&&v!=''){var o=s==='string'?this.parseFormatter.parse(v,true):v;v=this.parseFormatter.format(o);}return v;};a.prototype.formatValue=function(v,t){if(v===null||v===undefined||v==''){return null;}if(!(v instanceof Date)){v=this.parseFormatter.parse(v);}if(t==='string'){return this.displayFormatter.format(v);}return v;};a.prototype.validateValue=function(v){if(v!=null){var d=this.parseFormatter.parse(v);if(!d){throw new V(v+' is not a valid date');}}};return a;});\n",
	"sap/ui/comp/personalization/BaseController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/base/ManagedObject','./Util','./ColumnHelper'],function(M,U,C){'use strict';var B=M.extend('sap.ui.comp.personalization.BaseController',{metadata:{'abstract':true,library:'sap.ui.comp',properties:{type:{type:'string',defaultValue:null},itemType:{type:'string',defaultValue:null},ignoreColumnKeys:{type:'object',defaultValue:[]},additionalIgnoreColumnKeys:{type:'object',defaultValue:[]},columnHelper:{type:'sap.ui.comp.personalization.ColumnHelper',defaultValue:null},columnKeys:{type:'string[]',defaultValue:[]},tableType:{type:'string',defaultValue:null}},associations:{table:{type:'sap.ui.core.Control',multiple:false}},events:{beforePotentialTableChange:{},afterPotentialTableChange:{}}}});B.prototype.exit=function(){if(this.getModel()){this.getModel().destroy();}};B.prototype.setModelFunction=function(){var t=this;return function(){if(!this.getModel('$sapmP13nPanel')){this.setModel(t.getInternalModel(),'$sapmP13nPanel');}};};B.prototype.setTable=function(t){this.setAssociation('table',t);this.setTableType(U.getTableType(this.getTable()));return this;};B.prototype.getTable=function(){var t=this.getAssociation('table');if(typeof t==='string'){t=sap.ui.getCore().byId(t);}return t;};B.prototype.getColumnMap=function(){return this.getColumnHelper().getColumnMap();};B.prototype.createControlDataStructure=function(i){i=i||[];var j={};j[this.getType()]={};j[this.getType()][this.getItemType()]=i;return j;};B.prototype.createColumnKeysStructure=function(c){c=c||[];var j={};j[this.getType()]={};j[this.getType()][this.getItemType()]=c.map(function(s){return{columnKey:s};});return j;};B.prototype.checkConsistency=function(){var c=this.getColumnMap();this.getIgnoreColumnKeys().some(function(s){if(c[s]&&c[s].getVisible()){throw\"The provided 'ignoreColumnKeys' for '\"+this.getType()+\"' are inconsistent. No columns specified as ignored is allowed to be visible.\";}},this);var a=this.getColumnKeys();Object.keys(c).forEach(function(s){if(a.indexOf(s)<0){throw\"The provided 'columnKeys' and columns are inconsistent. For the column '\"+s+\"' no entry in 'columnKeys' exists.\";}});};B.prototype.initializeInternalModel=function(m){['controlDataInitial','controlDataBase','controlData','alreadyKnownRuntimeData','alreadyKnownPersistentData'].forEach(function(p){if(!m.getProperty('/'+p)){m.setProperty('/'+p,{});}m.setProperty('/'+p+'/'+this.getType(),this.createControlDataStructure()[this.getType()]);},this);['ignoreData'].forEach(function(p){if(!m.getProperty('/'+p)){m.setProperty('/'+p,{});}m.setProperty('/'+p+'/'+this.getType(),this.createColumnKeysStructure()[this.getType()]);},this);['controlDataReduce','transientData','beforeOpenData','variantDataInitial'].forEach(function(p){if(!m.getProperty('/'+p)){m.setProperty('/'+p,undefined);}});this.setModel(m,'$sapuicomppersonalizationBaseController');};B.prototype._extendPropertyWithControlDataStructure=function(p){var m=this.getInternalModel();if(m.getProperty('/'+p)){return;}m.setProperty('/'+p,{});m.setProperty('/'+p+'/'+this.getType(),this.createControlDataStructure()[this.getType()]);};B.prototype.getInternalModel=function(){return this.getModel('$sapuicomppersonalizationBaseController');};B.prototype.calculateIgnoreData=function(){var i=this.getIgnoreColumnKeys().concat(this.getAdditionalIgnoreColumnKeys());i=i.filter(function(c,I){return i.indexOf(c)===I;});var j=this.createColumnKeysStructure(i);this.setIgnoreData2Model(j);};B.prototype.calculateControlData=function(){var j=U.copy(this.getControlDataBase());this._deselectIgnoreDataFromJson(j);this.setControlData2Model(j);};B.prototype.calculateControlDataReduce=function(){var j=U.copy(this.getControlDataBase());this._removeIgnoreDataFromJson(j);this.setControlDataReduce2Model(j);};B.prototype.calculateTransientData=function(j){j=U.copy(j);this._removeIgnoreDataFromJson(j);this.setTransientData2Model(j);};B.prototype._removeIgnoreDataFromJson=function(j){if(!this.getIgnoreData()[this.getType()]){return;}this.getIgnoreData()[this.getType()][this.getItemType()].forEach(function(i){var I=U.getIndexByKey('columnKey',i.columnKey,j[this.getType()][this.getItemType()]);if(I>-1){j[this.getType()][this.getItemType()].splice(I,1);}},this);};B.prototype._deselectIgnoreDataFromJson=function(j){if(!this.getIgnoreData()[this.getType()]){return;}this.getIgnoreData()[this.getType()][this.getItemType()].forEach(function(i){var I=U.getIndexByKey('columnKey',i.columnKey,j[this.getType()][this.getItemType()]);if(I>-1){this.handleIgnore(j,I);}},this);};B.prototype.updateControlDataBaseFromJson=function(j){var i=this.getIgnoreData();var b=U.copy(this.getControlDataBase());var o=U.copy(this.getControlDataBase());var J=U.copy(j);b[this.getType()][this.getItemType()]=this.getControlDataBase()[this.getType()][this.getItemType()].filter(function(I){return U.getIndexByKey('columnKey',I.columnKey,i[this.getType()][this.getItemType()])>-1;},this);J[this.getType()][this.getItemType()]=j[this.getType()][this.getItemType()].filter(function(I){return U.getIndexByKey('columnKey',I.columnKey,i[this.getType()][this.getItemType()])<0;},this);o[this.getType()][this.getItemType()]=J[this.getType()][this.getItemType()];if(this.getType()==='columns'){if(o[this.getType()][this.getItemType()].length!==J[this.getType()][this.getItemType()].length){throw\"the updated columns are inconsistent with 'controlDataBase'\";}o[this.getType()][this.getItemType()].some(function(I){if(U.getIndexByKey('columnKey',I.columnKey,J[this.getType()][this.getItemType()])<0){throw\"the columnKey '\"+I.columnKey+\"' is not contained in 'controlDataBase'\";}},this);}var a=U.copy(this.getControlDataBase());a[this.getType()][this.getItemType()]=o[this.getType()][this.getItemType()].concat(b[this.getType()][this.getItemType()]);Object.keys(a[this.getType()]).forEach(function(A){if(!jQuery.isArray(a[this.getType()][A])){a[this.getType()][A]=j[this.getType()][A];}},this);this.setControlDataBase2Model(a);};B.prototype.extendControlDataInitial=function(j){this._extendData('controlDataInitial',j);};B.prototype.extendControlDataBase=function(j){this._extendData('controlDataBase',j);};B.prototype.extendVariantDataInitial=function(j){this._extendData('variantDataInitial',j);};B.prototype.extendAlreadyKnownRuntimeData=function(j){this._extendData('alreadyKnownRuntimeData',j);};B.prototype.extendAlreadyKnownPersistentData=function(j){this._extendData('alreadyKnownPersistentData',j);};B.prototype._extendData=function(p,j){if(!j||!j[this.getType()]||!this._getInternalModelData(p)){return;}var J=U.copy(j);var m=this.getInternalModel();Object.keys(J[this.getType()]).forEach(function(a){if(jQuery.isArray(J[this.getType()][a])){J[this.getType()][a].forEach(function(i){var I=this._getInternalModelData(p)[this.getType()][a];if(U.getIndexByKey('columnKey',i.columnKey,I)>-1){throw\"columnKey '\"+i.columnKey+\"' does already exist in internal model\";}m.setProperty('/'+p+'/'+this.getType()+'/'+a+'/'+I.length+'/',i);},this);return;}m.setProperty('/'+p+'/'+this.getType()+'/'+a+'/',J[this.getType()][a]);},this);};B.prototype.setControlDataInitial2Model=function(j){this._setModelData('controlDataInitial',j);};B.prototype.setControlDataBase2Model=function(j){this._setModelData('controlDataBase',j);};B.prototype.setControlData2Model=function(j){this._setModelData('controlData',j);};B.prototype.setAlreadyKnownRuntimeData2Model=function(j){this._setModelData('alreadyKnownRuntimeData',j);};B.prototype.setAlreadyKnownPersistentData2Model=function(j){this._setModelData('alreadyKnownPersistentData',j);};B.prototype.setVariantDataInitial2Model=function(j){this._extendPropertyWithControlDataStructure('variantDataInitial');this._setModelData('variantDataInitial',j);};B.prototype.setIgnoreData2Model=function(j){this._setModelData('ignoreData',j);};B.prototype.setControlDataReduce2Model=function(j){this._extendPropertyWithControlDataStructure('controlDataReduce');this._setModelData('controlDataReduce',j);};B.prototype.setTransientData2Model=function(j){this._extendPropertyWithControlDataStructure('transientData');this._setModelData('transientData',j);};B.prototype.setBeforeOpenData2Model=function(j){this._extendPropertyWithControlDataStructure('beforeOpenData');this._setModelData('beforeOpenData',j);};B.prototype._setModelData=function(p,j){this.getInternalModel().setProperty('/'+p+'/'+this.getType(),(j?U.copy(j)[this.getType()]:undefined));};B.prototype.getControlDataInitial=function(){return this._getInternalModelData('controlDataInitial');};B.prototype.getControlDataBase=function(){return this._getInternalModelData('controlDataBase');};B.prototype.getControlData=function(){return this._getInternalModelData('controlData');};B.prototype.getAlreadyKnownRuntimeData=function(){return this._getInternalModelData('alreadyKnownRuntimeData');};B.prototype.getAlreadyKnownPersistentData=function(){return this._getInternalModelData('alreadyKnownPersistentData');};B.prototype.getVariantDataInitial=function(){return this._getInternalModelData('variantDataInitial');};B.prototype.getIgnoreData=function(){return this._getInternalModelData('ignoreData');};B.prototype.getControlDataReduce=function(){return this._getInternalModelData('controlDataReduce');};B.prototype.getTransientData=function(){return this._getInternalModelData('transientData');};B.prototype.getBeforeOpenData=function(){return this._getInternalModelData('beforeOpenData');};B.prototype.isEqualAdditionalIgnoreColumnKeys=function(c){var i=this.getAdditionalIgnoreColumnKeys();if(i.length!==c.length){return false;}return!i.some(function(s){return c.indexOf(s)<0;});};B.prototype._getInternalModelData=function(p){return this.getInternalModel().getProperty('/'+p);};B.prototype.determineMissingColumnKeys=function(j){if(!j||!j[this.getType()]||!j[this.getType()][this.getItemType()]){return this.createColumnKeysStructure();}var c=this.getColumnMap();var i=this.getIgnoreData();var m=j[this.getType()][this.getItemType()].filter(function(I){return!c[I.columnKey];}).filter(function(I){return U.getIndexByKey('columnKey',I.columnKey,i[this.getType()][this.getItemType()])<0;},this).map(function(I){return I.columnKey;});return this.createColumnKeysStructure(m);};B.prototype.extractIgnoreDataFromJson=function(j){if(!j||!j[this.getType()]||!j[this.getType()][this.getItemType()]){return null;}var i=this.getIgnoreData();var J=j[this.getType()][this.getItemType()].filter(function(m){return U.getIndexByKey('columnKey',m.columnKey,i[this.getType()][this.getItemType()])>-1;},this);return J.length?this.createControlDataStructure(J):null;};B.prototype.getTable2Json=function(j){var J=this.createControlDataStructure();var c=this.getColumnMap();var a=this.getColumnKeys();j[this.getType()][this.getItemType()].forEach(function(o){var b=c[o.columnKey];if(!b){jQuery.sap.log.warning(\"Column with columnKey '\"+o.columnKey+\"' does not exist.\");return;}var m=this.getColumn2Json(b,o.columnKey,a.indexOf(o.columnKey));if(m){J[this.getType()][this.getItemType()].push(m);}},this);this.getAdditionalData2Json(J,this.getTable());return J;};B.prototype.getTable2JsonTransient=function(j){var J=this.createControlDataStructure();var c=this.getColumnMap();var t,T;j[this.getType()][this.getItemType()].forEach(function(o){var a=c[o.columnKey];if(!a){return;}var s=U.getColumnBaseType(a);if(s===sap.ui.comp.personalization.ColumnType.TableColumn){if(!a.getLabel()){throw\"The column '\"+o.columnKey+\"' should have a 'label' aggregation otherwise the column can not be identified in the personalization dialog.\";}t=a.getLabel().getText();T=(a.getTooltip()instanceof sap.ui.core.TooltipBase)?a.getTooltip().getTooltip_Text():a.getTooltip_Text();}if(s===sap.ui.comp.personalization.ColumnType.ResponsiveColumn){if(!a.getHeader()){throw\"The column '\"+o.columnKey+\"' should have a 'header' aggregation otherwise the column can not be identified in the personalization dialog.\";}t=a.getHeader().getText();T=(a.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?a.getHeader().getTooltip().getTooltip_Text():a.getHeader().getTooltip_Text();}if(s===sap.ui.comp.personalization.ColumnType.ColumnWrapper){if(!a.getLabel()){throw\"The column '\"+o.columnKey+\"' should have a 'label' aggregation otherwise the column can not be identified in the personalization dialog.\";}t=a.getLabel();T=(a.getTooltip()instanceof sap.ui.core.TooltipBase)?a.getTooltip().getTooltip_Text():a.getTooltip_Text();}var m=this.getColumn2JsonTransient(a,o.columnKey,t,T);if(m){J[this.getType()][this.getItemType()].push(m);}},this);U.sortItemsByText(J[this.getType()][this.getItemType()],'text');return J;};B.prototype.getColumn2Json=function(c,s,i){};B.prototype.getAdditionalData2Json=function(j,t){};B.prototype.getColumn2JsonTransient=function(c,s){};B.prototype.handleIgnore=function(j,i){};B.prototype.fixConflictWithIgnore=function(j,J){};B.prototype.syncJson2Table=function(j){};B.prototype.getPanel=function(){};B.prototype.getChangeType=function(c,o){};B.prototype.getChangeData=function(c,o){};B.prototype.getUnionData=function(c,o){};return B;},true);\n",
	"sap/ui/comp/personalization/ChartWrapper.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Element','./ColumnWrapper'],function(q,E,C){'use strict';var a=E.extend('sap.ui.comp.personalization.ChartWrapper',{constructor:function(i,s){E.apply(this,arguments);},metadata:{library:'sap.ui.comp',properties:{externalFilters:{type:'sap.m.P13nFilterItem[]',defaultValue:[]}},aggregations:{columns:{type:'sap.ui.comp.personalization.ColumnWrapper',multiple:true,singularName:'column'}},associations:{chart:{type:'sap.chart.Chart',multiple:false}},events:{externalFiltersSet:{parameters:{filters:{type:'sap.m.P13nFilterItem[]'}}}}}});a.prototype.getChartObject=function(){var c=this.getAssociation('chart');if(typeof c==='string'){c=sap.ui.getCore().byId(c);}return c;};a.prototype.getDomRef=function(){var c=this.getChartObject();return c.getDomRef();};a.createChartWrapper=function(c,A,b){var p;var o={};c.getDimensions().forEach(function(d){p=d.data('p13nData');o[p.columnKey]=new C({label:d.getLabel(),tooltip:d.getTooltip(),selected:c.getVisibleDimensions().indexOf(d.getName())>-1,aggregationRole:sap.ui.comp.personalization.AggregationRole.Dimension,role:d.getRole()?d.getRole():d.getMetadata().getProperty('role').getDefaultValue(),sorted:p.sorted,sortOrder:p.sortOrder,customData:new sap.ui.core.CustomData({key:'p13nData',value:p}),hierarchyLevel:p.hierarchyLevel,chart:c});});c.getMeasures().forEach(function(m){p=m.data('p13nData');o[p.columnKey]=new C({label:m.getLabel(),tooltip:m.getTooltip(),selected:c.getVisibleMeasures().indexOf(m.getName())>-1,aggregationRole:sap.ui.comp.personalization.AggregationRole.Measure,role:m.getRole()?m.getRole():m.getMetadata().getProperty('role').getDefaultValue(),sorted:p.sorted,sortOrder:p.sortOrder,customData:new sap.ui.core.CustomData({key:'p13nData',value:p}),chart:c});});if(A){A.forEach(function(p){o[p.columnKey]=new C({label:p.label,tooltip:p.tooltip,selected:false,aggregationRole:sap.ui.comp.personalization.AggregationRole.NotDimeasure,sorted:p.sorted,sortOrder:p.sortOrder,customData:new sap.ui.core.CustomData({key:'p13nData',value:p}),chart:c});if(!o[p.columnKey].getParent()){c.addDependent(o[p.columnKey]);}});}return new a({chart:c,columns:b.map(function(s){return o[s];})});};return a;},true);\n",
	"sap/ui/comp/personalization/ColumnHelper.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','./Util','./ColumnWrapper'],function(q,M,U,C){'use strict';var a=M.extend('sap.ui.comp.personalization.ColumnHelper',{constructor:function(i,s){M.apply(this,arguments);},metadata:{properties:{callbackOnSetVisible:{type:'object',defaultValue:null},callbackOnSetSummed:{type:'object',defaultValue:null}}}});a.prototype.init=function(){this._oColumnKey2ColumnMap={};this._oColumnKeyIsMonkeyPatched={};};a.prototype.exit=function(){this._oColumnKey2ColumnMap=null;this._oColumnKeyIsMonkeyPatched=null;};a.prototype.addColumns=function(c){if(!c){return;}c.forEach(function(o){this._addColumnToMap(U.getColumnKey(o),o);},this);this._checkConsistencyOfColumns(this._oColumnKey2ColumnMap);};a.prototype.addColumnMap=function(c){if(!c){return;}for(var s in c){this._addColumnToMap(s,c[s]);}this._checkConsistencyOfColumns(this._oColumnKey2ColumnMap);};a.prototype.getColumnMap=function(){return this._oColumnKey2ColumnMap;};a.prototype._checkConsistencyOfColumns=function(c){if(q.isEmptyObject(c)){return;}var s=Object.keys(c)[0];var h=!!U._getCustomProperty(c[s],'columnKey');for(var b in c){if(h!==!!U._getCustomProperty(c[b],'columnKey')){throw'The table instance contains some columns for which a columnKey is provided, some for which a columnKey is not provided.';}}};a.prototype._addColumnToMap=function(c,o){if(this._oColumnKey2ColumnMap[c]){throw\"Duplicate 'columnKey': The column '\"+o.getId()+\"' and column '\"+this._oColumnKey2ColumnMap[c]+\"' have same 'columnKey' \"+c;}if(!this._oColumnKey2ColumnMap[c]){this._oColumnKey2ColumnMap[c]=o;this._monkeyPatchColumn(o,c);}};a.prototype._monkeyPatchColumn=function(c,s){if(c instanceof C){return;}if(this._oColumnKeyIsMonkeyPatched[s]){return;}this._oColumnKeyIsMonkeyPatched[s]=true;var f=this.getCallbackOnSetVisible();var S=c.setVisible.bind(c);var b=function(v){if(f){f(v,s);}S(v);};c.setVisible=b;if(c.setSummed){var d=this.getCallbackOnSetSummed();var e=c.setSummed.bind(c);var g=function(i){if(d){d(i,c);}e(i);};c.setSummed=g;}};return a;},true);\n",
	"sap/ui/comp/personalization/ColumnWrapper.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Element','sap/ui/comp/personalization/Util'],function(q,E,U){'use strict';var C=E.extend('sap.ui.comp.personalization.ColumnWrapper',{constructor:function(i,s){E.apply(this,arguments);},metadata:{library:'sap.ui.comp',properties:{label:{type:'string'},tooltip:{type:'string'},selected:{type:'boolean',defaultValue:false},aggregationRole:{type:'sap.ui.comp.personalization.AggregationRole'},role:{type:'string'},href:{type:'string',defaultValue:null},target:{type:'string',defaultValue:null},press:{type:'object',defaultValue:null},sorted:{type:'boolean',defaultValue:false},sortOrder:{type:'string',defaultValue:'Ascending'},hierarchyLevel:{type:'int',defaultValue:0},description:{type:'string',defaultValue:null}},associations:{chart:{type:'sap.chart.Chart',multiple:false}}}});C.prototype.getVisible=function(){var c=this.getAssociation('chart');if(typeof c==='string'){c=sap.ui.getCore().byId(c);}var v=c.getVisibleDimensions().concat(c.getVisibleMeasures());var s=U.getColumnKey(this);return v.indexOf(s)>-1;};return C;},true);\n",
	"sap/ui/comp/personalization/ColumnsController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','sap/ui/comp/library','./Util'],function(q,B,M,C,U){'use strict';var c=B.extend('sap.ui.comp.personalization.ColumnsController',{constructor:function(i,s){B.apply(this,arguments);this.setType(M.P13nPanelType.columns);this.setItemType(M.P13nPanelType.columns+'Items');},metadata:{properties:{triggerModelChangeOnColumnInvisible:{type:'boolean',group:'Misc',defaultValue:false}},events:{afterColumnsModelDataChange:{}}}});c.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable){t.detachColumnMove(this._onColumnMove,this);t.detachColumnVisibility(this._onColumnVisibility,this);t.detachColumnResize(this._onColumnResize,this);t.attachColumnMove(this._onColumnMove,this);t.attachColumnVisibility(this._onColumnVisibility,this);t.attachColumnResize(this._onColumnResize,this);}this._monkeyPatchTable(t);};c.prototype.getColumn2Json=function(o,s,i){return{columnKey:s,index:i,visible:o.getVisible(),width:o.getWidth?o.getWidth():undefined,total:o.getSummed?o.getSummed():undefined};};c.prototype.getAdditionalData2Json=function(j,t){j.columns.fixedColumnCount=t&&t.getFixedColumnCount?t.getFixedColumnCount():undefined;};c.prototype.getColumn2JsonTransient=function(o,s,t,T){return{columnKey:s,text:t,tooltip:T};};c.prototype.handleIgnore=function(j,i){j.columns.columnsItems[i].visible=false;};c.prototype.syncJson2Table=function(j){var t=this.getTable();var o=this.getColumnMap();this.fireBeforePotentialTableChange();if(this.getTable()&&(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable)){this._applyChangesToUiTableType(t,j,o);}else if(this.getTableType()===C.personalization.TableType.ResponsiveTable){this._applyChangesToMTableType(t,j,o);}this.fireAfterPotentialTableChange();};c.prototype.getDataSuiteFormat2Json=function(d){var j=this.createControlDataStructure();var a=function(s,p,P){var i=U.getIndexByKey('columnKey',s,j.columns.columnsItems);if(i<0){i=j.columns.columnsItems.length;j.columns.columnsItems.splice(i,0,{columnKey:s});}j.columns.columnsItems[i][p]=P;};this.getControlDataInitial().columns.columnsItems.filter(function(m){return m.visible===true;}).forEach(function(m){a(m.columnKey,'visible',false);});if(d.Visualizations&&d.Visualizations.length){var l=d.Visualizations.filter(function(v){return v.Type==='LineItem';});if(l.length){l[0].Content.forEach(function(o,i){a(o.Value,'visible',true);a(o.Value,'index',i);},this);}}if(d.Total&&d.Total.length){d.Total.forEach(function(s){a(s,'total',true);});}return j;};c.prototype.getDataSuiteFormatSnapshot=function(d){var o=this.getUnionData(this.getControlDataInitial(),this.getControlData());if(!o.columns||!o.columns.columnsItems||!o.columns.columnsItems.length){return;}var a=o.columns.columnsItems.filter(function(e){return!!e.total;});if(a.length){d.Total=a.map(function(e){return e.columnKey;});}var b=o.columns.columnsItems.filter(function(e){return!!e.visible;});if(b.length){if(!d.Visualizations){d.Visualizations=[];}b.sort(this._sortByIndex);d.Visualizations.push({Type:'LineItem',Content:b.map(function(e){return{Value:e.columnKey,Label:undefined};})});}};c.prototype._onColumnMove=function(e){var i=e.getParameter('newPos');var s=U.getColumnKey(e.getParameter('column'));var o=this.getControlData();var I=U.getIndexByKey('columnKey',s,o.columns.columnsItems);if(I<0||i<0||I>o.columns.columnsItems.length-1||i>o.columns.columnsItems.length-1){return;}this.fireBeforePotentialTableChange();var m=o.columns.columnsItems.splice(I,1);o.columns.columnsItems.splice(i,0,m[0]);var a=-1;o.columns.columnsItems.forEach(function(b){if(b.index!==undefined){b.index=++a;}});this.updateControlDataBaseFromJson(o);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};c.prototype._onColumnVisibility=function(e){this.fireBeforePotentialTableChange();this._updateInternalModel(U.getColumnKey(e.getParameter('column')),'visible',e.getParameter('newVisible'));this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};c.prototype._onColumnTotal=function(p){this.fireBeforePotentialTableChange();this._updateInternalModel(U.getColumnKey(p.column),'total',p.isSummed);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};c.prototype._onColumnResize=function(e){this.fireBeforePotentialTableChange();this._updateInternalModel(U.getColumnKey(e.getParameter('column')),'width',e.getParameter('width'));this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};c.prototype._onColumnFixedCount=function(f){this.fireBeforePotentialTableChange();var o=this.getControlData();this.getInternalModel().setProperty('/controlData/columns/fixedColumnCount',f);this.updateControlDataBaseFromJson(o);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};c.prototype._updateInternalModel=function(s,p,P){if(!s||!p){return;}var o=this.getControlData();var i=U.getIndexByKey('columnKey',s,o.columns.columnsItems);if(i<0){throw\"No entry found in 'controlDataBase' for columnKey '\"+s+\"'\";}this.getInternalModel().setProperty('/controlData/columns/columnsItems/'+i+'/'+p,P);this.updateControlDataBaseFromJson(o);};c.prototype.getPanel=function(p){var v=(p&&p.visibleItemsThreshold)?p.visibleItemsThreshold:-1;var t=this;return new Promise(function(r){sap.ui.require(['sap/m/P13nColumnsPanel','sap/m/P13nItem','sap/m/P13nColumnsItem'],function(P,a,b){return r(new P({visibleItemsThreshold:v,items:{path:'$sapmP13nPanel>/transientData/columns/columnsItems',template:new a({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}'})},columnsItems:{path:'$sapmP13nPanel>/controlDataReduce/columns/columnsItems',template:new b({columnKey:'{$sapmP13nPanel>columnKey}',index:'{$sapmP13nPanel>index}',visible:'{$sapmP13nPanel>visible}',width:'{$sapmP13nPanel>width}',total:'{$sapmP13nPanel>total}'})},beforeNavigationTo:t.setModelFunction(),changeColumnsItems:function(e){if(!e.getParameter('items')){return;}var o=t.getControlDataReduce();o.columns.columnsItems=e.getParameter('items');t.setControlDataReduce2Model(o);}}));});});};c.prototype._sortByIndex=function(a,b){if(a.index!==undefined&&b.index===undefined){return-1;}if(b.index!==undefined&&a.index===undefined){return 1;}if(a.index<b.index){return-1;}if(a.index>b.index){return 1;}return 0;};c.prototype._applyChangesToUiTableType=function(t,j,o){var a=null;var b={};var d=this;var s=function(i,k){i.forEach(function(m){b[m.columnKey]=m;});i.sort(d._sortByIndex);var l=i.map(function(m){return m.columnKey;});k.forEach(function(m,I){if(l.indexOf(m)<0){l.splice(I,0,m);}});return l;};var S=function(i,a){var k=b[i];if(k&&k.visible!==undefined&&a.getVisible()!==k.visible){a.setVisible(k.visible,true);}};var f=function(i,k,a){var T=t.indexOfColumn(a);var m=i;if(m!==undefined&&T!==m){if(T>-1){t.removeColumn(a,true);}t.insertColumn(a,m,true);}};var e=function(i,a){var k=b[i];if(k&&k.width!==undefined&&a.getWidth()!==k.width){a.setWidth(k.width,true);}};var g=function(i,a){var k=b[i];if(k&&k.total!==undefined&&a.getSummed&&a.getSummed()!==k.total){a.setSummed(k.total,true);}};if(j.columns.columnsItems.length){var h=s(j.columns.columnsItems,this.getColumnKeys());h.forEach(function(i,I){a=o[i];if(a){S(i,a);f(I,i,a);e(i,a);g(i,a);}});}var F=j.columns.fixedColumnCount||0;if(t.getFixedColumnCount&&t.getFixedColumnCount()!==F){t.setFixedColumnCount(F,true);}};c.prototype._applyChangesToMTableType=function(t,j,o){var T=false;var s=function(a,b){var m=a.index;if(m!==undefined){b.setOrder(m,true);T=true;}};var S=function(a,b){if(a.visible!==undefined&&b.getVisible()!==a.visible){b.setVisible(a.visible,true);T=true;}};if(j.columns.columnsItems.length){j.columns.columnsItems.sort(function(a,b){if(a.index<b.index){return-1;}if(a.index>b.index){return 1;}return 0;});j.columns.columnsItems.forEach(function(a){var b=o[a.columnKey];if(b){s(a,b);S(a,b);}},this);}if(T){t.invalidate();}};c.prototype.getChangeType=function(o,a){var b=this.getChangeData(o,a);var n=this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTriggerModelChangeOnColumnInvisible();if(b){var d=C.personalization.ChangeType.TableChanged;b.columns.columnsItems.some(function(i){if(i.visible||(i.visible===false&&n)){d=C.personalization.ChangeType.ModelChanged;return true;}if(i.total===false||i.total===true){d=C.personalization.ChangeType.ModelChanged;return true;}});return d;}return C.personalization.ChangeType.Unchanged;};c.prototype.getChangeData=function(o,a){if(!a||!a.columns||!a.columns.columnsItems){return null;}var b={columns:U.copy(o.columns)};var i=true;i=(o.columns.fixedColumnCount===a.columns.fixedColumnCount);o.columns.columnsItems.some(function(I){var d=U.getArrayElementByKey('columnKey',I.columnKey,a.columns.columnsItems);if(!U.semanticEqual(I,d)){i=false;return true;}});if(i){return null;}var t=[];b.columns.columnsItems.forEach(function(I,d){var e=U.getArrayElementByKey('columnKey',I.columnKey,a.columns.columnsItems);if(U.semanticEqual(I,e)){t.push(I);return;}for(var p in I){if(p==='columnKey'||!e){if(e&&e[p]===undefined){delete I[p];}else{continue;}}if(I[p]===e[p]){delete I[p];}}if(Object.keys(I).length<2){t.push(I);}});t.forEach(function(I){var d=U.getIndexByKey('columnKey',I.columnKey,b.columns.columnsItems);b.columns.columnsItems.splice(d,1);});if(b.columns.fixedColumnCount===0){delete b.columns.fixedColumnCount;}return b;};c.prototype._sortArrayByPropertyName=function(A,p,t){var s=[];if(t===null||t===undefined){t=false;}if(A&&A.length>0&&p!==undefined&&p!==null&&p!==''){if(t){s=q.extend(true,[],A);}else{s=A;}s.sort(function(a,b){var d=a[p];var e=b[p];if(d<e||(d!==undefined&&e===undefined)){return-1;}if(d>e||(d===undefined&&e!==undefined)){return 1;}return 0;});}return s;};c.prototype.getUnionData=function(j,J){if(!J||!J.columns||!J.columns.columnsItems){return U.copy(j);}var u=U.copy(J);Object.keys(j.columns).forEach(function(a){if(q.isArray(j.columns[a])){j.columns[a].forEach(function(m){var o=U.getArrayElementByKey('columnKey',m.columnKey,u.columns[a]);if(!o){u.columns[a].push(m);return;}if(o.visible===undefined&&m.visible!==undefined){o.visible=m.visible;}if(o.width===undefined&&m.width!==undefined){o.width=m.width;}if(o.total===undefined&&m.total!==undefined){o.total=m.total;}if(o.index===undefined&&m.index!==undefined){o.index=m.index;}});return;}if(u.columns[a]===undefined&&j.columns[a]!==undefined){u.columns[a]=j.columns[a];}},this);return u;};c.prototype.fixConflictWithIgnore=function(j,J){if(!j||!j.columns||!j.columns.columnsItems||!J||!J.columns||!J.columns.columnsItems||!J.columns.columnsItems.length){return j;}this._sortArrayByPropertyName(j.columns.columnsItems,'index');var i=false;J.columns.columnsItems.forEach(function(m){var a=U.getIndexByKey('columnKey',m.columnKey,j.columns.columnsItems);if(a<0||j.columns.columnsItems[a].index===undefined){return;}if((a+1<=j.columns.columnsItems.length-1&&j.columns.columnsItems[a+1].index===j.columns.columnsItems[a].index)||(a-1>=0&&j.columns.columnsItems[a-1].index===j.columns.columnsItems[a].index)){i=true;}if(a+1<=j.columns.columnsItems.length-1&&j.columns.columnsItems[a+1].index===j.columns.columnsItems[a].index){var o=j.columns.columnsItems.splice(a,1);j.columns.columnsItems.splice(a+1,0,o[0]);}});if(i){var I=-1;j.columns.columnsItems.forEach(function(m){if(m.index!==undefined){m.index=++I;}});}};c.prototype.isColumnSelected=function(o,s){var i=U.getIndexByKey('columnKey',s,o.columnsItems);return(i>-1)?o.columnsItems[i].visible:false;};c.prototype._monkeyPatchTable=function(t){if(this.getTableType()!==C.personalization.TableType.AnalyticalTable&&this.getTableType()!==C.personalization.TableType.Table&&this.getTableType()!==C.personalization.TableType.TreeTable){return;}var a=this;var s=t.setFixedColumnCount.bind(t);var S=function(f,b){a._onColumnFixedCount(f);s(f,b);};if(t.setFixedColumnCount.toString()===S.toString()){return;}t.setFixedColumnCount=S;};c.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(this.getTable()&&(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable)){t.detachColumnMove(this._onColumnMove,this);t.detachColumnVisibility(this._onColumnVisibility,this);t.detachColumnResize(this._onColumnResize,this);}};return c;},true);\n",
	"sap/ui/comp/personalization/Controller.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','sap/m/library','sap/ui/comp/library','./ColumnsController','./FilterController','./GroupController','./SortController','./DimeasureController','./SelectionController','./Util','./ChartWrapper','./SelectionWrapper','./ColumnHelper','sap/ui/core/MessageType','sap/m/P13nDialog','./Validator','sap/ui/model/json/JSONModel','sap/ui/Device','sap/ui/model/BindingMode'],function(q,M,a,C,b,F,G,S,D,c,U,d,e,f,g,P,V,J,h,B){'use strict';var i=M.extend('sap.ui.comp.personalization.Controller',{constructor:function(I,s){M.apply(this,arguments);},metadata:{library:'sap.ui.comp',properties:{setting:{type:'object',defaultValue:{}},resetToInitialTableState:{type:'boolean',defaultValue:true},columnKeys:{type:'string[]',defaultValue:[]}},associations:{table:{type:'object',multiple:false}},events:{beforePotentialTableChange:{},afterPotentialTableChange:{},afterP13nModelDataChange:{parameters:{persistentData:{type:'object'},persistentDataChangeType:{type:'sap.ui.comp.personalization.ChangeType'},runtimeDeltaData:{type:'object'},runtimeDeltaDataChangeType:{type:'sap.ui.comp.personalization.ChangeType'}}},requestColumns:{parameters:{columnKeys:{type:'string'}}},dialogAfterClose:{},dialogAfterOpen:{},dialogConfirmedReset:{}}}});i.prototype.applySettings=function(s){M.prototype.applySettings.apply(this,arguments);this._initialize();};i.prototype._initialize=function(){this._bInitCalled=true;var t=this.getTable();if(!t){throw'The table instance should be passed into constructor.';}this._createSettingCurrent(this.getSetting());var j=t.getColumns();if(!this.getColumnKeys().length){this.setProperty('columnKeys',U.getColumnKeys(j),true);}var m=this._createInternalModel(this.getColumnKeys());this._callControllers(this._oSettingCurrent,'initializeInternalModel',m);this._oColumnHelper=new f({callbackOnSetVisible:this._onSetVisible.bind(this),callbackOnSetSummed:this._onSetSummed.bind(this)});this._oColumnHelper.addColumns(j);this._callControllers(this._oSettingCurrent,'setColumnHelper',this._oColumnHelper);this._callControllers(this._oSettingCurrent,'setTriggerModelChangeOnColumnInvisible');this._callControllers(this._oSettingCurrent,'setTable',t);this._callControllers(this._oSettingCurrent,'setColumnKeys',this.getColumnKeys());this._callControllers(this._oSettingCurrent,'setIgnoreColumnKeys');this._callControllers(this._oSettingCurrent,'checkConsistency');this._callControllers(this._oSettingCurrent,'calculateIgnoreData');var k=i._getOrderedColumnKeys(this._oColumnHelper.getColumnMap(),this.getColumnKeys());this._extendModelStructure(k);this._callControllers(this._oSettingCurrent,'calculateControlData');this._suspendTable();this._syncTableUi();this._resumeTable(true);this._fireChangeEvent();};i.prototype.init=function(){this._oDialog=null;this._aColumnKeysOfDateType=[];this._aColumnKeysOfBooleanType=[];this._aColumnKeysOfTimeType=[];this._bIsDirty=false;this._bInitCalled=false;this._bSuspend=false;this._bUnconfirmedResetPressed=false;this._oColumnHelper=null;this._oSettingCurrent={};};i.prototype.setSetting=function(s){if(this._bInitCalled){throw'The setting instance should be passed only into constructor.';}s=this.validateProperty('setting',s);this.setProperty('setting',s,true);return this;};i.prototype.setResetToInitialTableState=function(r){if(this._bInitCalled){throw'The resetToInitialTableState property should be passed only into constructor.';}r=this.validateProperty('resetToInitialTableState',r);this.setProperty('resetToInitialTableState',r,true);return this;};i.prototype.setColumnKeys=function(j){if(this._bInitCalled){throw'The columnKeys array should be passed only into constructor.';}j=this.validateProperty('columnKeys',j);this.setProperty('columnKeys',j,true);return this;};i.prototype.setTable=function(t){if(this._bInitCalled){throw'The table instance should be passed only into constructor.';}this.setAssociation('table',t);return this;};i.prototype._createSettingCurrent=function(s){var t=U.getTableType(this.getTable());var j,T;switch(t){case C.personalization.TableType.ChartWrapper:j=[a.P13nPanelType.dimeasure,a.P13nPanelType.sort,a.P13nPanelType.filter];break;case C.personalization.TableType.SelectionWrapper:j=[a.P13nPanelType.selection];break;default:j=[a.P13nPanelType.columns,a.P13nPanelType.sort,a.P13nPanelType.filter,a.P13nPanelType.group];}for(T in s){if(s[T].visible===false&&j.indexOf(T)>-1){j.splice(j.indexOf(T),1);}if(s[T].visible===true){j.push(T);}}j.forEach(function(T){this._oSettingCurrent[T]={visible:true,controller:(s[T]&&s[T].controller)?s[T].controller:this._controllerFactory(T),payload:(s[T]&&s[T].payload)?s[T].payload:undefined,ignoreColumnKeys:(s[T]&&s[T].ignoreColumnKeys)?s[T].ignoreColumnKeys:[],triggerModelChangeOnColumnInvisible:(s[T]&&s[T].triggerModelChangeOnColumnInvisible)?s[T].triggerModelChangeOnColumnInvisible:undefined};},this);};i.prototype._mixSetting=function(s,o){if(!o){return s;}for(var t in o){if(o[t].visible===true&&s[t]&&s[t].visible===true){o[t].controller=s[t].controller;o[t].payload=o[t].payload||s[t].payload;}}return o;};i.prototype.openDialog=function(s){this._suspendTable();this._prepareDialogUi();var o=this._mixSetting(this._oSettingCurrent,s);this._oDialog=new P(this.getId()+'-P13nDialog',{stretch:h.system.phone,showReset:(s&&s.showReset!==undefined)?s.showReset:true,showResetEnabled:this._bIsDirty,initialVisiblePanelType:this._oInitialVisiblePanelType,validationExecutor:function(){var T=U.getTableType(this.getTable());var k=this._oColumnHelper.getColumnMap();var l=this._callControllers(o,'getUnionData',this._getControlDataInitial(),this._getControlDataReduce());return V.checkGroupAndColumns(T,o,k,l,[]).then(function(r){return V.checkSaveChanges(T,o,l,r);}).then(function(r){return V.checkChartConsistency(T,o,l,r);}).then(function(r){return r;});}.bind(this)});this._oDialog.toggleStyleClass('sapUiSizeCompact',!!q(this.getTable().getDomRef()).closest('.sapUiSizeCompact').length);if(s&&s.contentWidth){this._oDialog.setContentWidth(s.contentWidth);}if(s&&s.contentHeight){this._oDialog.setContentHeight(s.contentHeight);}if(s&&s.styleClass){this._oDialog.addStyleClass(s.styleClass);}var p=this._callControllers(o,'getPanel');var j=[];for(var t in p){if(p[t]){j.push(p[t]);}}Promise.all(j).then(function(k){k.forEach(function(l){this._oDialog.addPanel(l);},this);this._oDialog.attachOk(this._handleDialogOk,this);this._oDialog.attachCancel(this._handleDialogCancel,this);this._oDialog.attachReset(this._handleDialogReset,this);this._oDialog.attachAfterClose(this._handleDialogAfterClose,this);this._oDialog.open();this.fireDialogAfterOpen();}.bind(this));};i.prototype.addColumns=function(o){var t=this.getTable();Object.keys(o).forEach(function(s){if(!o[s].getParent()){t.addDependent(o[s]);}});this._oColumnHelper.addColumnMap(o);};i.prototype.getDataSuiteFormatSnapshot=function(){this._callControllers(this._oSettingCurrent,'calculateControlData');var r={};this._callControllers(this._oSettingCurrent,'getDataSuiteFormatSnapshot',r);return r;};i.prototype.setDataSuiteFormatSnapshot=function(r,p){var R=this._callControllers(this._oSettingCurrent,'getDataSuiteFormat2Json',r);this._setRuntimeAndPersonalizationData(R,p);};i.prototype.setPersonalizationDataAsDataSuiteFormat=function(r){var R=this._callControllers(this._oSettingCurrent,'getDataSuiteFormat2Json',r);this._setRuntimeAndPersonalizationData(R,R);};i.prototype.setPersonalizationData=function(p){this._setRuntimeAndPersonalizationData(p,p);};i.prototype.resetPersonalization=function(r){r=this._determineResetType(r);if(r===C.personalization.ResetType.ResetFull){this._resetFull();}else{this._resetPartial();}this._suspendTable();this._syncTableUi();this._resumeTable(true);this._fireChangeEvent(r);};i.prototype.addToSettingIgnoreColumnKeys=function(j){if(this._isEqualAdditionalIgnoreColumnKeys(j)){return this;}this._callControllers(this._oSettingCurrent,'setAdditionalIgnoreColumnKeys',j);this._callControllers(this._oSettingCurrent,'calculateIgnoreData');this._requestMissingColumnsWithoutIgnore(this._getControlDataBase());this._suspendTable();this._syncTableUi();this._resumeTable(true);this._fireChangeEvent();return this;};i.prototype._handleDialogReset=function(){this._bUnconfirmedResetPressed=true;var r=this._determineResetType();if(r===C.personalization.ResetType.ResetFull){this._resetFull();}else{this._resetPartial();}this._syncDialogUi();};i.prototype._handleDialogOk=function(){this._oDialog.detachOk(this._handleDialogOk,this);if(this._bUnconfirmedResetPressed){this.fireDialogConfirmedReset();}setTimeout(function(){this._postDialogUi(this._getControlDataReduce());this._syncTableUi();this._resumeTable(true);this._fireChangeEvent();}.bind(this),0);this._oDialog.close();};i.prototype._handleDialogCancel=function(){this._oDialog.detachCancel(this._handleDialogCancel,this);setTimeout(function(){this._postDialogUi(this._getBeforeOpenData());this._resumeTable(false);}.bind(this),0);this._oDialog.close();};i.prototype._handleDialogAfterClose=function(){this._oInitialVisiblePanelType=this._oDialog.getVisiblePanel()?this._oDialog.getVisiblePanel().getType():this._getInitialVisiblePanelType();this._bUnconfirmedResetPressed=false;if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}this.fireDialogAfterClose();};i.prototype._getInitialVisiblePanelType=function(){for(var t in this._oSettingCurrent){return t;}};i.prototype._suspendTable=function(){if(U.getTableBaseType(this.getTable())===C.personalization.TableType.Table){this._bSuspend=true;}};i.prototype._resumeTable=function(I){I=(I===undefined)?true:I;var t=this.getTable();if(this._bSuspend){if(t){if(I){t.invalidate();}}this._bSuspend=false;}};i.prototype._requestMissingColumnsWithoutIgnore=function(j){var o=this._callControllers(this._oSettingCurrent,'determineMissingColumnKeys',j);var m=U.getUnionOfColumnKeys(o);if(!m.length){return[];}this.fireRequestColumns({columnKeys:m});return m;};i.prototype._extendModelStructure=function(j){if(!j.length){return;}var o=this._callControllers(this._oSettingCurrent,'createColumnKeysStructure',j);var k=this._callControllers(this._oSettingCurrent,'getTable2Json',o);this._callControllers(this._oSettingCurrent,'extendControlDataInitial',k);this._callControllers(this._oSettingCurrent,'extendVariantDataInitial',k);this._callControllers(this._oSettingCurrent,'extendControlDataBase',k);this._callControllers(this._oSettingCurrent,'extendAlreadyKnownRuntimeData',k);this._callControllers(this._oSettingCurrent,'extendAlreadyKnownPersistentData',k);};i.prototype._setRuntimeAndPersonalizationData=function(r,p){r=(r===null?{}:r);if(!this._sanityCheck(r)){return;}p=(p===null?{}:p);if(!this._sanityCheck(p)){return;}this._setVariantData(p);this._extendModelStructure(this._requestMissingColumnsWithoutIgnore(r));var j=this._callControllers(this._oSettingCurrent,'getUnionData',this._getControlDataInitial(),p);this._callControllers(this._oSettingCurrent,'setVariantDataInitial2Model',j);var R=this._callControllers(this._oSettingCurrent,'getUnionData',this._getControlDataInitial(),r);this._callControllers(this._oSettingCurrent,'fixConflictWithIgnore',R,this._getIgnoreData());this._callControllers(this._oSettingCurrent,'setControlDataBase2Model',R);this._suspendTable();this._syncTableUi();this._resumeTable(true);this._fireChangeEvent();};i.prototype._prepareDialogUi=function(){var j=this._callControllers(this._oSettingCurrent,'createColumnKeysStructure',this.getColumnKeys());this._extendModelStructure(this._requestMissingColumnsWithoutIgnore(j));this._callControllers(this._oSettingCurrent,'setBeforeOpenData2Model',this._getControlDataBase());this._callControllers(this._oSettingCurrent,'calculateControlDataReduce');var o=this._callControllers(this._oSettingCurrent,'getTable2JsonTransient',j);this._callControllers(this._oSettingCurrent,'calculateTransientData',o);};i.prototype._postDialogUi=function(j){this._callControllers(this._oSettingCurrent,'updateControlDataBaseFromJson',j);this._callControllers(this._oSettingCurrent,'setBeforeOpenData2Model',undefined);this._callControllers(this._oSettingCurrent,'setControlDataReduce2Model',undefined);this._callControllers(this._oSettingCurrent,'setTransientData2Model',undefined);};i.prototype._syncDialogUi=function(){this._callControllers(this._oSettingCurrent,'calculateControlDataReduce');};i.prototype._syncTableUi=function(){this._callControllers(this._oSettingCurrent,'calculateControlData');this._callControllers(this._oSettingCurrent,'syncJson2Table',this._getControlData());};i.prototype._resetFull=function(){this._setVariantData(undefined);this._callControllers(this._oSettingCurrent,'setControlDataBase2Model',this._getControlDataInitial());};i.prototype._resetPartial=function(){this._callControllers(this._oSettingCurrent,'setControlDataBase2Model',this._getVariantDataInitial());};i.prototype._fireChangeEvent=function(r){r=this._determineResetType(r);var o={};var j=this._callControllers(this._oSettingCurrent,'getUnionData',this._getControlDataInitial(),this._getControlData());o.runtimeDeltaDataChangeType=this._callControllers(this._oSettingCurrent,'getChangeType',j,this._getAlreadyKnownRuntimeData());var k=this._callControllers(this._oSettingCurrent,'getUnionData',this._getControlDataInitial(),this._getControlDataBase());o.persistentDeltaDataChangeType=this._callControllers(this._oSettingCurrent,'getChangeType',k,this._getAlreadyKnownPersistentData());if(r===C.personalization.ResetType.ResetFull){o.persistentDataChangeType=this._callControllers(this._oSettingCurrent,'getChangeType',this._getControlDataBase(),this._getControlDataInitial());}else if(r===C.personalization.ResetType.ResetPartial){o.persistentDataChangeType=this._callControllers(this._oSettingCurrent,'getChangeType',this._getControlDataBase(),this._getVariantDataInitial());}this._bIsDirty=U.hasChangedType(o.persistentDataChangeType);if(!U.hasChangedType(o.runtimeDeltaDataChangeType)&&!U.hasChangedType(o.persistentDeltaDataChangeType)){return;}this._aColumnKeysOfDateType=U.getColumnKeysOfType('date',this._oColumnHelper.getColumnMap());this._aColumnKeysOfTimeType=U.getColumnKeysOfType('time',this._oColumnHelper.getColumnMap());this._aColumnKeysOfBooleanType=U.getColumnKeysOfType('boolean',this._oColumnHelper.getColumnMap());var l=this._callControllers(this._oSettingCurrent,'getChangeData',j,this._getAlreadyKnownRuntimeData());o.runtimeDeltaData=U.removeEmptyProperty(U.copy(l));U.recoverPersonalisationDateData(o.runtimeDeltaData,this._aColumnKeysOfDateType);U.recoverPersonalisationTimeData(o.runtimeDeltaData,this._aColumnKeysOfTimeType);U.recoverPersonalisationBooleanData(o.runtimeDeltaData,this._aColumnKeysOfBooleanType);var p=this._callControllers(this._oSettingCurrent,'getChangeData',this._getControlDataBase(),this._getControlDataInitial());o.persistentData=U.removeEmptyProperty(p);U.recoverPersonalisationDateData(o.persistentData,this._aColumnKeysOfDateType);U.recoverPersonalisationTimeData(o.persistentData,this._aColumnKeysOfTimeType);U.recoverPersonalisationBooleanData(o.persistentData,this._aColumnKeysOfBooleanType);this._callControllers(this._oSettingCurrent,'setAlreadyKnownRuntimeData2Model',this._getControlData());this._callControllers(this._oSettingCurrent,'setAlreadyKnownPersistentData2Model',this._getControlDataBase());delete o.persistentDeltaDataChangeType;this.fireAfterP13nModelDataChange(o);};i.prototype._onSetVisible=function(v,s){if(v){var I=U.getUnionOfAttribute(this._oSettingCurrent,'ignoreColumnKeys');if(I.indexOf(s)>-1){throw\"The provided 'ignoreColumnKeys' are inconsistent. No column specified as ignored is allowed to be visible. \"+this;}}};i.prototype._onSetSummed=function(I,o){this._oSettingCurrent.columns.controller._onColumnTotal({column:o,isSummed:I});};i.prototype._getArgumentsByType=function(A,t){var r=[],o=null;if(A&&A.length&&t){A.forEach(function(j){if(j&&j[t]&&typeof j[t]!=='function'){o={};o[t]=j[t];r.push(o);}else{r.push(j);}});}return r;};i.prototype._callControllers=function(s,m){var o,j,A;var r={},k=Array.prototype.slice.call(arguments,2);for(var t in s){o=j=A=null;o=s[t];j=o.controller;if(!j||!o.visible||!j[m]){continue;}A=this._getArgumentsByType(k,t);if(m==='getPanel'){A.push(o.payload);}else if(m==='setIgnoreColumnKeys'){A.push(o.ignoreColumnKeys);}else if(m==='setTriggerModelChangeOnColumnInvisible'){A.push(o.triggerModelChangeOnColumnInvisible);}var R=j[m].apply(j,A);if(R!==null&&R!==undefined&&R[t]!==undefined){r[t]=R[t];}else{r[t]=R;}}return r;};i.prototype._sanityCheck=function(j){return true;};i.prototype._createInternalModel=function(j){var m=new J();m.setDefaultBindingMode(B.TwoWay);if(j.length){m.setSizeLimit(j.length);}this.setModel(m,'$sapuicomppersonalizationBaseController');return m;};i.prototype._getInternalModel=function(){return this.getModel('$sapuicomppersonalizationBaseController');};i.prototype._getInternalModelData=function(s){return this._getInternalModel().getProperty('/'+s);};i.prototype._getControlDataInitial=function(){return this._getInternalModelData('controlDataInitial');};i.prototype._getControlDataBase=function(){return this._getInternalModelData('controlDataBase');};i.prototype._getIgnoreData=function(){return this._getInternalModelData('ignoreData');};i.prototype._getControlData=function(){return this._getInternalModelData('controlData');};i.prototype._getControlDataReduce=function(){return this._getInternalModelData('controlDataReduce');};i.prototype._getTransientData=function(){return this._getInternalModelData('transientData');};i.prototype._getAlreadyKnownRuntimeData=function(){return this._getInternalModelData('alreadyKnownRuntimeData');};i.prototype._getAlreadyKnownPersistentData=function(){return this._getInternalModelData('alreadyKnownPersistentData');};i.prototype._getVariantDataInitial=function(){return this._getInternalModelData('variantDataInitial');};i.prototype._getBeforeOpenData=function(){return this._getInternalModelData('beforeOpenData');};i.prototype._setVariantData=function(j){this._getInternalModel().setProperty('/variantData',j?U.copy(j):undefined);};i.prototype._getVariantData=function(){return this._getInternalModel().getProperty('/variantData');};i.prototype._getControllers=function(){return this._oSettingCurrent;};i.prototype._controllerFactory=function(t){var j=this;switch(t){case a.P13nPanelType.columns:return new b({afterColumnsModelDataChange:function(){j._fireChangeEvent();},beforePotentialTableChange:function(){j.fireBeforePotentialTableChange();},afterPotentialTableChange:function(){j.fireAfterPotentialTableChange();}});case a.P13nPanelType.sort:return new S({afterSortModelDataChange:function(){j._fireChangeEvent();},beforePotentialTableChange:function(){j.fireBeforePotentialTableChange();},afterPotentialTableChange:function(){j.fireAfterPotentialTableChange();}});case a.P13nPanelType.filter:return new F({afterFilterModelDataChange:function(){j._fireChangeEvent();},beforePotentialTableChange:function(){j.fireBeforePotentialTableChange();},afterPotentialTableChange:function(){j.fireAfterPotentialTableChange();}});case a.P13nPanelType.group:return new G({afterGroupModelDataChange:function(){j._fireChangeEvent();},beforePotentialTableChange:function(){j.fireBeforePotentialTableChange();},afterPotentialTableChange:function(){j.fireAfterPotentialTableChange();}});case a.P13nPanelType.dimeasure:return new D({afterDimeasureModelDataChange:function(){j._fireChangeEvent();},beforePotentialTableChange:function(){j.fireBeforePotentialTableChange();},afterPotentialTableChange:function(){j.fireAfterPotentialTableChange();}});case a.P13nPanelType.selection:return new c({afterSelectionModelDataChange:function(){j._fireChangeEvent();},beforePotentialTableChange:function(){j.fireBeforePotentialTableChange();},afterPotentialTableChange:function(){j.fireAfterPotentialTableChange();}});default:throw\"Panel type '\"+t+\"' is not valid\";}};i.prototype.getTable=function(){var t=this.getAssociation('table');if(typeof t==='string'){t=sap.ui.getCore().byId(t);}return t;};i._getOrderedColumnKeys=function(o,j){var m=Object.keys(o);return j.reduce(function(r,s){if(m.indexOf(s)>-1){r.push(s);}return r;},[]);};i.prototype.exit=function(){var t;this._resumeTable(false);if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}this._callControllers(this._oSettingCurrent,'destroy');for(t in this._oSettingCurrent){this._oSettingCurrent[t]=null;}this._oSettingCurrent=null;this._oColumnHelper=null;};i.prototype._determineResetType=function(r){r=r||this.getResetToInitialTableState()?C.personalization.ResetType.ResetFull:C.personalization.ResetType.ResetPartial;if(r===C.personalization.ResetType.ResetFull||this._getVariantData()===undefined){return C.personalization.ResetType.ResetFull;}return C.personalization.ResetType.ResetPartial;};i.prototype._isEqualAdditionalIgnoreColumnKeys=function(j){var o=this._callControllers(this._oSettingCurrent,'isEqualAdditionalIgnoreColumnKeys',j);var I=true;for(var t in o){I=I&&o[t];}return I;};i.SyncReason={ResetFull:14,ResetPartial:15,NewModelDataMixedWithVariant:7};return i;},true);\n",
	"sap/ui/comp/personalization/DimeasureController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','sap/ui/comp/library','./ChartWrapper','./Util'],function(q,B,M,C,c,U){'use strict';var D=B.extend('sap.ui.comp.personalization.DimeasureController',{constructor:function(i,s){B.apply(this,arguments);this.setType(M.P13nPanelType.dimeasure);this.setItemType(M.P13nPanelType.dimeasure+'Items');},metadata:{events:{afterDimeasureModelDataChange:{}}}});D.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(this.getTableType()!==C.personalization.TableType.ChartWrapper){throw\"The provided object is incorrect. 'oTable' has to be an instance of sap.ui.comp.personalization.ChartWrapper. \";}var o=t.getChartObject();o.detachDrilledDown(this._onDrilledDown,this);o.attachDrilledDown(this._onDrilledDown,this);o.detachDrilledUp(this._onDrilledUp,this);o.attachDrilledUp(this._onDrilledUp,this);this._monkeyPatchTable(o);};D.prototype._monkeyPatchTable=function(o){var t=this;var s=o.setChartType.bind(o);var S=function(a){s(a);t._onSetChartType(a);};if(o.setChartType.toString()===S.toString()){return;}o.setChartType=S;};D.prototype._onSetChartType=function(s){var o=this.getControlData();if(!s||s===o.dimeasure.chartTypeKey){return;}this.fireBeforePotentialTableChange();o.dimeasure.chartTypeKey=s;this.updateControlDataBaseFromJson(o);this.fireAfterPotentialTableChange();this.fireAfterDimeasureModelDataChange();};D.prototype._onDrilledDown=function(e){this.fireBeforePotentialTableChange();this._addVisibleDimensions(e.getParameter('dimensions')||[]);this.fireAfterPotentialTableChange();this.fireAfterDimeasureModelDataChange();};D.prototype._addVisibleDimensions=function(d){if(!d.length){return;}var o=this.getControlData();var v=o.dimeasure.dimeasureItems.filter(function(m){return m.aggregationRole===C.personalization.AggregationRole.Dimension&&d.indexOf(m.columnKey)<0;}).reduce(function(i,m){return m.visible?i+1:i;},0);d.forEach(function(s,i){var I=v+i;var a=U.getIndexByKey('columnKey',s,o.dimeasure.dimeasureItems);if(a<0||I<0||a>o.dimeasure.dimeasureItems.length-1||I>o.dimeasure.dimeasureItems.length-1){return;}var m=o.dimeasure.dimeasureItems.splice(a,1);m[0].visible=true;o.dimeasure.dimeasureItems.splice(I,0,m[0]);var b=-1;o.dimeasure.dimeasureItems.forEach(function(e){if(e.index!==undefined){e.index=++b;}});this.updateControlDataBaseFromJson(o);},this);};D.prototype._onDrilledUp=function(e){this.fireBeforePotentialTableChange();var o=this.getControlData();var i=e.getParameter('dimensions')||[];i.forEach(function(s){var m=U.getArrayElementByKey('columnKey',s,o.dimeasure.dimeasureItems);if(!m){throw\"No entry found in 'controlDataBase' for columnKey '\"+s+\"'\";}m.visible=false;this.updateControlDataBaseFromJson(o);},this);this.fireAfterPotentialTableChange();this.fireAfterDimeasureModelDataChange();};D.prototype.getColumn2Json=function(o,s,i){if(!U.isAggregatable(o)){return null;}return{columnKey:s,index:i,visible:o.getVisible(),role:o.getRole(),aggregationRole:o.getAggregationRole()};};D.prototype.getAdditionalData2Json=function(j,t){var o=t.getChartObject();j.dimeasure.chartTypeKey=o.getChartType();};D.prototype.getColumn2JsonTransient=function(o,s,t,T){if(!U.isAggregatable(o)){return null;}return{columnKey:s,text:t,tooltip:T,aggregationRole:o.getAggregationRole()};};D.prototype.handleIgnore=function(j,i){j.dimeasure.dimeasureItems[i].visible=false;};D.prototype.syncJson2Table=function(j){var o=this.getTable().getChartObject();var u=function(a,s,S,g){var b=U.copy(a);b.sort(D._sortByIndex);var e=[];b.forEach(function(f){if(f.visible===true){e.push(f.columnKey);var h=g(f.columnKey);if(h){h.setRole(f.role);}}});if(JSON.stringify(e)!==JSON.stringify(s)){S(e);}};this.fireBeforePotentialTableChange();var d=j.dimeasure.dimeasureItems.filter(function(a){return a.aggregationRole===C.personalization.AggregationRole.Dimension;});var m=j.dimeasure.dimeasureItems.filter(function(a){return a.aggregationRole===C.personalization.AggregationRole.Measure;});var v=o.getVisibleDimensions();u(d,v,o.setVisibleDimensions.bind(o),o.getDimensionByName.bind(o));var V=o.getVisibleMeasures();u(m,V,o.setVisibleMeasures.bind(o),o.getMeasureByName.bind(o));o.setChartType(j.dimeasure.chartTypeKey);this.fireAfterPotentialTableChange();};D.prototype.getDataSuiteFormat2Json=function(d){var j=this.createControlDataStructure();var a=function(s,p,P){var i=U.getIndexByKey('columnKey',s,j.dimeasure.dimeasureItems);if(i<0){i=j.dimeasure.dimeasureItems.length;j.dimeasure.dimeasureItems.splice(i,0,{columnKey:s});}j.dimeasure.dimeasureItems[i][p]=P;};this.getControlDataInitial().dimeasure.dimeasureItems.filter(function(m){return m.visible===true;}).forEach(function(m){a(m.columnKey,'visible',false);});if(d.Visualizations&&d.Visualizations.length){var b=d.Visualizations.filter(function(V){return V.Type==='Chart';});if(b.length){var v=0;if(b[0].Content.Dimensions.length){v=b[0].Content.Dimensions.length;b[0].Content.Dimensions.forEach(function(n,i){var A=U.getArrayElementByKey('Dimension',n,b[0].Content.DimensionAttributes);a(n,'visible',true);a(n,'index',i);if(A&&A.Role){a(n,'role',sap.ui.comp.odata.ChartMetadata.getDimensionRole(A.Role));}a(n,'aggregationRole',C.personalization.AggregationRole.Dimension);},this);}if(b[0].Content.Measures.length){b[0].Content.Measures.forEach(function(n,i){var A=U.getArrayElementByKey('Measure',n,b[0].Content.MeasureAttributes);a(n,'visible',true);a(n,'index',v+i);if(A&&A.Role){a(n,'role',sap.ui.comp.odata.ChartMetadata.getMeasureRole(A.Role));}a(n,'aggregationRole',C.personalization.AggregationRole.Measure);},this);}}j.dimeasure.chartTypeKey=sap.ui.comp.odata.ChartMetadata.getChartType(b[0].Content.ChartType);}return j;};D.prototype.getDataSuiteFormatSnapshot=function(d){var o=this.getUnionData(this.getControlDataInitial(),this.getControlData());if(!o.dimeasure||!o.dimeasure.dimeasureItems||!o.dimeasure.dimeasureItems.length){return;}var a=o.dimeasure.dimeasureItems.filter(function(b){return b.aggregationRole===C.personalization.AggregationRole.Dimension;}).filter(function(b){return b.visible===true;});var m=o.dimeasure.dimeasureItems.filter(function(b){return b.aggregationRole===C.personalization.AggregationRole.Measure;}).filter(function(b){return b.visible===true;});if(a.length||m.length){if(!d.Visualizations){d.Visualizations=[];}d.Visualizations.push({Type:'Chart',Content:{ChartType:sap.ui.comp.odata.ChartMetadata.getAnnotationChartType(o.dimeasure.chartTypeKey),Dimensions:a.map(function(b){return b.columnKey;}),DimensionAttributes:a.map(function(b){return{Dimension:b.columnKey,Role:sap.ui.comp.odata.ChartMetadata.getAnnotationDimensionRole(b.role)};}),Measures:m.map(function(b){return b.columnKey;}),MeasureAttributes:m.map(function(b){return{Measure:b.columnKey,Role:sap.ui.comp.odata.ChartMetadata.getAnnotationMeasureRole(b.role)};})}});}};D.prototype.getPanel=function(p){if(!U.hasAggregatableColumns(this.getColumnMap())){return null;}var a=(p&&p.availableChartTypes)?p.availableChartTypes:[];var t=this;return new Promise(function(r){sap.ui.require(['sap/m/P13nDimMeasurePanel','sap/m/P13nItem','sap/m/P13nDimMeasureItem'],function(P,b,d){return r(new P({availableChartTypes:a,chartTypeKey:'{$sapmP13nPanel>/controlDataReduce/dimeasure/chartTypeKey}',items:{path:'$sapmP13nPanel>/transientData/dimeasure/dimeasureItems',template:new b({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}',aggregationRole:'{$sapmP13nPanel>aggregationRole}'})},dimMeasureItems:{path:'$sapmP13nPanel>/controlDataReduce/dimeasure/dimeasureItems',template:new d({columnKey:'{$sapmP13nPanel>columnKey}',index:'{$sapmP13nPanel>index}',visible:'{$sapmP13nPanel>visible}',role:'{$sapmP13nPanel>role}'})},beforeNavigationTo:t.setModelFunction(),changeChartType:function(e){var o=t.getControlDataReduce();o.dimeasure.chartTypeKey=e.getParameter('chartTypeKey');t.setControlDataReduce2Model(o);},changeDimMeasureItems:function(e){if(!e.getParameter('items')){return;}var i=e.getParameter('items');var o=t.getControlDataReduce();o.dimeasure.dimeasureItems.forEach(function(m){var f=U.getArrayElementByKey('columnKey',m.columnKey,i);if(!f){return;}m.index=f.index;m.visible=f.visible;m.role=f.role;});t.setControlDataReduce2Model(o);}}));});});};D.prototype._isDimMeasureItemEqual=function(d,o){if(!d&&!o){return true;}if(d&&!o){if(d.index===-1&&d.visible===false){return true;}return false;}if(o&&!d){if(o.index===-1&&o.visible===false){return true;}return false;}for(var p in d){if(o[p]===undefined||d[p]!==o[p]){return false;}}return true;};D.prototype._isSemanticEqual=function(p,P){if(p.dimeasure.chartTypeKey!==P.dimeasure.chartTypeKey){return false;}var s=function(a,b){if(a.visible===true&&(b.visible===false||b.visible===undefined)){return-1;}else if((a.visible===false||a.visible===undefined)&&b.visible===true){return 1;}else if(a.visible===true&&b.visible===true){if(a.index<b.index){return-1;}else if(a.index>b.index){return 1;}else{return 0;}}else if((a.visible===false||a.visible===undefined)&&(b.visible===false||b.visible===undefined)){if(a.columnKey<b.columnKey){return-1;}else if(a.columnKey>b.columnKey){return 1;}else{return 0;}}};var d=U.copy(p.dimeasure.dimeasureItems).sort(s);var e=U.copy(P.dimeasure.dimeasureItems).sort(s);var i=true;d.some(function(o,I){if(!this._isDimMeasureItemEqual(o,e[I])){i=false;return true;}},this);return i;};D.prototype.getChangeType=function(p,P){if(!P||!P.dimeasure||!P.dimeasure.dimeasureItems){return C.personalization.ChangeType.Unchanged;}return this._isSemanticEqual(p,P)?C.personalization.ChangeType.Unchanged:C.personalization.ChangeType.TableChanged;};D.prototype.getChangeData=function(p,P){if(!p||!p.dimeasure||!p.dimeasure.dimeasureItems){return this.createControlDataStructure();}if(!P||!P.dimeasure||!P.dimeasure.dimeasureItems){return{chartTypeKey:p.dimeasure.chartTypeKey,dimeasure:U.copy(p.dimeasure)};}if(!this._isSemanticEqual(p,P)){return{chartTypeKey:p.dimeasure.chartTypeKey,dimeasure:U.copy(p.dimeasure)};}return null;};D.prototype.getUnionData=function(j,J){if(!J||!J.dimeasure||!J.dimeasure.dimeasureItems){return U.copy(j);}var u=U.copy(J);Object.keys(j.dimeasure).forEach(function(a){if(q.isArray(j.dimeasure[a])){j.dimeasure[a].forEach(function(m){var o=U.getArrayElementByKey('columnKey',m.columnKey,u.dimeasure[a]);if(!o){u.dimeasure[a].push(m);return;}if(o.visible===undefined&&m.visible!==undefined){o.visible=m.visible;}if(o.role===undefined&&m.role!==undefined){o.role=m.role;}if(o.index===undefined&&m.index!==undefined){o.index=m.index;}if(o.aggregationRole===undefined&&m.aggregationRole!==undefined){o.aggregationRole=m.aggregationRole;}});return;}if(u.dimeasure[a]===undefined&&j.dimeasure[a]!==undefined){u.dimeasure[a]=j.dimeasure[a];}},this);return u;};D._sortByIndex=function(a,b){if(a.index<b.index){return-1;}else if(a.index>b.index){return 1;}else{return 0;}};D.prototype.isChartConsistent=function(o){var t=this.getTable();if(!t){return true;}var a=t.getChartObject();if(!a){return true;}sap.ui.getCore().loadLibrary('sap.chart');try{var r=sap.chart.api.getChartTypeLayout(o.dimeasure.chartTypeKey,a.getDimensions(),a.getMeasures());return r.errors.length===0;}catch(e){return false;}};D.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t){var o=t.getChartObject();if(o){o.detachDrilledDown(this._onDrilledDown,this);o.detachDrilledUp(this._onDrilledUp,this);}}};return D;},true);\n",
	"sap/ui/comp/personalization/FilterController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','sap/ui/comp/library','./Util','./ChartWrapper','sap/ui/comp/filterbar/VariantConverterTo','sap/ui/comp/filterbar/VariantConverterFrom','sap/ui/model/odata/type/Boolean','sap/ui/model/type/Boolean','sap/ui/model/odata/ODataModel','sap/ui/model/odata/v2/ODataModel','sap/ui/model/Model'],function(q,B,M,C,U,a,V,b,c,d,O,e,f){'use strict';var F=B.extend('sap.ui.comp.personalization.FilterController',{constructor:function(i,s){B.apply(this,arguments);this.setType(M.P13nPanelType.filter);this.setItemType(M.P13nPanelType.filter+'Items');},metadata:{events:{afterFilterModelDataChange:{}}}});F.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);};F.prototype.getColumn2Json=function(o,s,i){if(this.getTableType()!==C.personalization.TableType.AnalyticalTable&&this.getTableType()!==C.personalization.TableType.Table&&this.getTableType()!==C.personalization.TableType.TreeTable){return null;}if(!U.isFilterable(o)){return null;}if(!o.getFiltered||(o.getFiltered&&!o.getFiltered())){return null;}return{columnKey:s,exclude:false,operation:o.getFilterOperator(),value1:o.getFilterValue(),value2:''};};F.prototype.getColumn2JsonTransient=function(o,s,t,T){if(!U.isFilterable(o)){return null;}var g=this.getTable();var h;if(g.getModel()instanceof O||g.getModel()instanceof e){h=new c();}else if(g.getModel()instanceof f){h=new d();}var i;if(h){i=['',h.formatValue(false,'string'),h.formatValue(true,'string')];}var v;if(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable){if(U.getColumnType(o)==='boolean'){v=U._getCustomProperty(o,'values')||i;}return{columnKey:s,text:t,tooltip:T,maxLength:U._getCustomProperty(o,'maxLength'),precision:U._getCustomProperty(o,'precision'),scale:U._getCustomProperty(o,'scale'),type:U.getColumnType(o),values:v};}if(this.getTableType()===C.personalization.TableType.ResponsiveTable){if(U.getColumnType(o)==='boolean'){v=U._getCustomProperty(o,'values')||i;}return{columnKey:s,text:t,tooltip:T,maxLength:U._getCustomProperty(o,'maxLength'),precision:U._getCustomProperty(o,'precision'),scale:U._getCustomProperty(o,'scale'),type:U.getColumnType(o),values:v};}if(this.getTableType()===C.personalization.TableType.ChartWrapper){return{columnKey:s,text:t,tooltip:T,maxLength:U._getCustomProperty(o,'maxLength'),precision:U._getCustomProperty(o,'precision'),scale:U._getCustomProperty(o,'scale'),type:U.getColumnType(o),values:v};}};F.prototype.handleIgnore=function(j,i){j.sort.sortItems.splice(i,1);};F.prototype.syncJson2Table=function(j){var o=this.getColumnMap();var g=q.extend(true,{},o);this.fireBeforePotentialTableChange();if(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable){j.filter.filterItems.forEach(function(i){var h=o[i.columnKey];if(h){if(!h.getFiltered()){h.setFiltered(true);}delete g[i.columnKey];}});for(var s in g){var h=g[s];if(h&&h.getFiltered()){h.setFiltered(false);}}}this.fireAfterPotentialTableChange();};F.prototype.getDataSuiteFormat2Json=function(D){var j=this.createControlDataStructure();if(!D.SelectOptions||!D.SelectOptions.length){return j;}j.filter.filterItems=D.SelectOptions.map(function(s){var o=b.convertOption(s.Ranges[0].Option,s.Ranges[0].Low);return{columnKey:s.PropertyName,exclude:(s.Ranges[0].Sign==='E'),operation:o.op,value1:o.v,value2:s.Ranges[0].High};});return j;};F.prototype.getDataSuiteFormatSnapshot=function(D){var o=this.getUnionData(this.getControlDataInitial(),this.getControlData());if(!o.filter||!o.filter.filterItems||!o.filter.filterItems.length){return;}o.filter.filterItems.forEach(function(g){var r=V.addRangeEntry(D,g.columnKey);V.addRanges(r,[g]);});};F.prototype.getPanel=function(p){if(!U.hasFilterableColumns(this.getColumnMap())){return null;}if(p&&p.column){var s=U.getColumnKey(p.column);if(s){var j=this.getTransientData();j.filter.filterItems.forEach(function(i){i['isDefault']=i.columnKey===s;});}}var t=this;return new Promise(function(r){sap.ui.require(['sap/m/P13nFilterPanel','sap/m/P13nItem','sap/m/P13nFilterItem','sap/ui/comp/providers/ValueListProvider'],function(P,g,h,i){var o=new P({containerQuery:true,items:{path:'$sapmP13nPanel>/transientData/filter/filterItems',template:new g({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}',maxLength:'{$sapmP13nPanel>maxLength}',precision:'{$sapmP13nPanel>precision}',scale:'{$sapmP13nPanel>scale}',type:'{$sapmP13nPanel>type}',isDefault:'{$sapmP13nPanel>isDefault}',values:'{$sapmP13nPanel>values}'})},filterItems:{path:'$sapmP13nPanel>/controlDataReduce/filter/filterItems',template:new h({key:'{$sapmP13nPanel>key}',columnKey:'{$sapmP13nPanel>columnKey}',exclude:'{$sapmP13nPanel>exclude}',operation:'{$sapmP13nPanel>operation}',value1:'{$sapmP13nPanel>value1}',value2:'{$sapmP13nPanel>value2}'})},beforeNavigationTo:t.setModelFunction(),addFilterItem:function(E){if(!E.getParameter('filterItemData')){return;}var I=E.getParameter('index');var k=E.getParameter('filterItemData');var l={columnKey:k.getColumnKey(),operation:k.getOperation(),exclude:k.getExclude(),value1:k.getValue1(),value2:k.getValue2()};var m=t.getControlDataReduce();if(I>-1){m.filter.filterItems.splice(I,0,l);}else{m.filter.filterItems.push(l);}t.setControlDataReduce2Model(m);},removeFilterItem:function(E){var I=E.getParameter('index');if(I<0){return;}var k=t.getControlDataReduce();k[t.getType()][t.getItemType()].splice(I,1);t.setControlDataReduce2Model(k);}});var S=function(k,l){var m=t.getColumnMap(true);var n=m[l];var u=U._getCustomProperty(n,'fullName');if(u){k.setShowSuggestion(true);k.setFilterSuggests(false);k.setModel(t.getTable().getModel());return new i({control:k,fieldName:l,typeAheadEnabled:true,aggregation:'suggestionRows',resolveInOutParams:false,loadAnnotation:true,fullyQualifiedFieldName:u,model:t.getTable().getModel(),enableShowTableSuggestionValueHelp:false});}};o._oIncludeFilterPanel._fSuggestCallback=S;o._oExcludeFilterPanel._fSuggestCallback=S;return r(o);});});};F.prototype.getChangeType=function(p,P){if(!P||!P.filter||!P.filter.filterItems){return C.personalization.ChangeType.Unchanged;}if(P&&P.filter&&P.filter.filterItems){P.filter.filterItems.forEach(function(o){delete o.key;delete o.source;});}if(p&&p.filter&&p.filter.filterItems){p.filter.filterItems.forEach(function(o){delete o.key;delete o.source;});}var i=JSON.stringify(p.filter.filterItems)!==JSON.stringify(P.filter.filterItems);return i?C.personalization.ChangeType.ModelChanged:C.personalization.ChangeType.Unchanged;};F.prototype.getChangeData=function(p,P){if(!p||!p.filter||!p.filter.filterItems){return this.createControlDataStructure();}if(P&&P.filter&&P.filter.filterItems){P.filter.filterItems.forEach(function(o){delete o.key;delete o.source;});}if(p&&p.filter&&p.filter.filterItems){p.filter.filterItems.forEach(function(o){delete o.key;delete o.source;});}if(!P||!P.filter||!P.filter.filterItems){return{filter:U.copy(p.filter)};}if(JSON.stringify(p.filter.filterItems)!==JSON.stringify(P.filter.filterItems)){return{filter:U.copy(p.filter)};}return null;};F.prototype.getUnionData=function(j,J){if(!J||!J.filter||!J.filter.filterItems){return{filter:U.copy(j.filter)};}return{filter:U.copy(J.filter)};};F.prototype.exit=function(){B.prototype.exit.apply(this,arguments);};return F;},true);\n",
	"sap/ui/comp/personalization/GroupController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','sap/ui/comp/library','sap/ui/table/library','./Util','sap/m/P13nConditionPanel'],function(q,B,M,C,T,U,P){'use strict';var G=B.extend('sap.ui.comp.personalization.GroupController',{constructor:function(i,s){B.apply(this,arguments);this.setType(M.P13nPanelType.group);this.setItemType(M.P13nPanelType.group+'Items');},metadata:{events:{afterGroupModelDataChange:{}}}});G.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable){t.detachGroup(this._onGroup,this);t.attachGroup(this._onGroup,this);}};G.prototype.getColumn2Json=function(c,s,i){if(this.getTableType()!==C.personalization.TableType.AnalyticalTable){return null;}if(!c.getGrouped()){return null;}return{columnKey:s,isGrouped:c.getGrouped(),operation:c.getSortOrder&&c.getSortOrder()===T.SortOrder.Ascending?sap.m.P13nConditionOperation.GroupAscending:sap.m.P13nConditionOperation.GroupDescending,showIfGrouped:c.getShowIfGrouped?c.getShowIfGrouped():false};};G.prototype.getAdditionalData2Json=function(j,t){if(this.getTableType()!==C.personalization.TableType.AnalyticalTable){return;}if(!j.group.groupItems.length){return;}t.getGroupedColumns().forEach(function(c,i){if(typeof c==='string'){c=sap.ui.getCore().byId(c);}var I=U.getIndexByKey('columnKey',U.getColumnKey(c),j.group.groupItems);if(I>-1&&i===I){return;}var o=j.group.groupItems.splice(I,1);j.group.groupItems.splice(i,0,o);});};G.prototype.getColumn2JsonTransient=function(c,s,t,a){if(!U.isGroupable(c)){return null;}return{columnKey:s,text:t,tooltip:a};};G.prototype.handleIgnore=function(j,i){j.sort.sortItems.splice(i,1);};G.prototype.syncJson2Table=function(j){var c=this.getColumnMap();var t=this.getTable();var o;this.fireBeforePotentialTableChange();if(this.getTableType()===C.personalization.TableType.TreeTable){return;}else if(this.getTableType()===C.personalization.TableType.AnalyticalTable){for(var s in c){o=c[s];if(!o){return;}if(o.getGrouped()){o.setGrouped(false);o.setShowIfGrouped(false);}}j.group.groupItems.forEach(function(m){o=c[m.columnKey];if(!o){return;}o.setGrouped(true);o.setShowIfGrouped(m.showIfGrouped);});}else if(this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.TreeTable){if(j.group.groupItems.length>0){j.group.groupItems.some(function(m){o=c[m.columnKey];if(o){t.setGroupBy(o);return true;}});}else{t.setGroupBy(null);}}this.fireAfterPotentialTableChange();};G.prototype.getDataSuiteFormat2Json=function(d){var j=this.createControlDataStructure();if(!d.GroupBy||!d.GroupBy.length){return j;}j.group.groupItems=d.GroupBy.map(function(g){return{columnKey:g,operation:sap.m.P13nConditionOperation.GroupAscending,showIfGrouped:false};});return j;};G.prototype.getDataSuiteFormatSnapshot=function(d){var c=this.getUnionData(this.getControlDataInitial(),this.getControlData());if(!c.group||!c.group.groupItems||!c.group.groupItems.length){return;}d.GroupBy=c.group.groupItems.map(function(m){return m.columnKey;});};G.prototype._onGroup=function(e){this.fireBeforePotentialTableChange();this._updateInternalModel(e.getParameter('groupedColumns'));this.fireAfterPotentialTableChange();this.fireAfterGroupModelDataChange();};G.prototype._updateInternalModel=function(g){this.getInternalModel().setProperty('/controlData/group/groupItems',[]);var c=this.getControlData();g.forEach(function(o){if(typeof o==='string'){o=sap.ui.getCore().byId(o);}var s=U.getColumnKey(o);var i=U.getIndexByKey('columnKey',s,c.group.groupItems);i=(i>-1)?i:c.group.groupItems.length;this.getInternalModel().setProperty('/controlData/group/groupItems/'+i+'/',{columnKey:s,showIfGrouped:o.getShowIfGrouped?o.getShowIfGrouped():false});},this);this.updateControlDataBaseFromJson(c);};G.prototype.getPanel=function(){if(!U.hasGroupableColumns(this.getColumnMap())){return null;}var t=this;return new Promise(function(r){sap.ui.require(['sap/m/P13nGroupPanel','sap/m/P13nItem','sap/m/P13nGroupItem'],function(a,b,c){return r(new a({maxGroups:t.getTableType()===C.personalization.TableType.AnalyticalTable?'-1':'1',containerQuery:true,items:{path:'$sapmP13nPanel>/transientData/group/groupItems',template:new b({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}'})},groupItems:{path:'$sapmP13nPanel>/controlDataReduce/group/groupItems',template:new c({columnKey:'{$sapmP13nPanel>columnKey}',operation:'{$sapmP13nPanel>operation}',showIfGrouped:'{$sapmP13nPanel>showIfGrouped}'})},beforeNavigationTo:t.setModelFunction(),addGroupItem:function(e){if(!e.getParameter('groupItemData')){return;}var i=e.getParameter('index');var g=e.getParameter('groupItemData');var o={columnKey:g.getColumnKey(),operation:g.getOperation(),showIfGrouped:g.getShowIfGrouped()};var d=t.getControlDataReduce();if(i>-1){d.group.groupItems.splice(i,0,o);}else{d.group.groupItems.push(o);}t.setControlDataReduce2Model(d);},removeGroupItem:function(e){var i=e.getParameter('index');if(i<0){return;}var o=t.getControlDataReduce();o.group.groupItems.splice(i,1);t.setControlDataReduce2Model(o);}}));});});};G.prototype.getChangeType=function(p,o){if(!o||!o.group||!o.group.groupItems){return C.personalization.ChangeType.Unchanged;}var i=JSON.stringify(p.group.groupItems)!==JSON.stringify(o.group.groupItems);return i?C.personalization.ChangeType.ModelChanged:C.personalization.ChangeType.Unchanged;};G.prototype.getChangeData=function(p,o){if(!p||!p.group||!p.group.groupItems){return this.createControlDataStructure();}if(!o||!o.group||!o.group.groupItems){return{group:U.copy(p.group)};}if(JSON.stringify(p.group.groupItems)!==JSON.stringify(o.group.groupItems)){return{group:U.copy(p.group)};}return null;};G.prototype.getUnionData=function(j,J){if(!J||!J.group||!J.group.groupItems){return{group:U.copy(j.group)};}return{group:U.copy(J.group)};};G.prototype.isGroupSelected=function(c,s){var i=-1;c.groupItems.some(function(m,I){if(m.columnKey===s){i=I;return true;}});return i>-1;};G.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this.getTable()&&(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable)){this.getTable().detachGroup(this._onGroup,this);}};return G;},true);\n",
	"sap/ui/comp/personalization/SelectionController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','sap/ui/comp/library','./Util'],function(q,B,M,C,U){'use strict';var S=B.extend('sap.ui.comp.personalization.SelectionController',{constructor:function(i,s){B.apply(this,arguments);this.setType(M.P13nPanelType.selection);this.setItemType(M.P13nPanelType.selection+'Items');},metadata:{events:{afterSelectionModelDataChange:{}}}});S.prototype.getColumn2Json=function(c,s,i){return{columnKey:s,text:c.getLabel(),visible:c.getSelected()};};S.prototype.getColumn2JsonTransient=function(c,s,t,T){return{columnKey:s,text:t,href:c.getHref(),target:c.getTarget(),press:c.getPress(),description:c.getDescription()};};S.prototype.syncJson2Table=function(j){this.fireBeforePotentialTableChange();this.fireAfterPotentialTableChange();};S.prototype.getPanel=function(p){var t=this;return new Promise(function(r){sap.ui.require(['sap/m/P13nSelectionPanel','sap/m/P13nItem','sap/m/P13nSelectionItem'],function(P,a,b){return r(new P({titleLarge:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_SELECTION_TITLE'),items:{path:'$sapmP13nPanel>/transientData/selection/selectionItems',template:new a({columnKey:'{$sapmP13nPanel>columnKey}',href:'{$sapmP13nPanel>href}',target:'{$sapmP13nPanel>target}',text:'{$sapmP13nPanel>text}',press:'{$sapmP13nPanel>press}'})},selectionItems:{path:'$sapmP13nPanel>/controlDataReduce/selection/selectionItems',template:new b({columnKey:'{$sapmP13nPanel>columnKey}',selected:'{$sapmP13nPanel>visible}'})},beforeNavigationTo:t.setModelFunction(),changeSelectionItems:function(e){if(!e.getParameter('items')){return;}var j=t.createControlDataStructure();e.getParameter('items').forEach(function(m){j.selection.selectionItems.push({columnKey:m.columnKey,visible:m.selected});});t.setControlDataReduce2Model(j);}}));});});};S.prototype.getChangeType=function(d,D){return this.getChangeData(d,D)?C.personalization.ChangeType.ModelChanged:C.personalization.ChangeType.Unchanged;};S.prototype.getChangeData=function(d,D){if(!D||!D.selection||!D.selection.selectionItems){return null;}var c={selection:U.copy(d.selection)};if(this._isSemanticEqual(d,D)){return null;}var t=[];c.selection.selectionItems.forEach(function(i){var I=U.getArrayElementByKey('columnKey',i.columnKey,D.selection.selectionItems);if(U.semanticEqual(i,I)){t.push(i);return;}for(var p in i){if(p==='columnKey'||!I){continue;}if(i[p]===I[p]){delete i[p];}}if(Object.keys(i).length<2){t.push(i);}});t.forEach(function(i){var I=U.getIndexByKey('columnKey',i.columnKey,c.selection.selectionItems);c.selection.selectionItems.splice(I,1);});return c;};S.prototype.getUnionData=function(d,D){var o=U.copy(d);if(!D||!D.selection||!D.selection.selectionItems){return o.selection?{selection:U.copy(o.selection)}:null;}if(!o||!o.selection||!o.selection.selectionItems){return{selection:U.copy(D.selection)};}var u=this.createControlDataStructure();o.selection.selectionItems.forEach(function(s){var a=U.getArrayElementByKey('columnKey',s.columnKey,D.selection.selectionItems);if(a){if(a.visible!==undefined){s.visible=a.visible;}}u.selection.selectionItems.push(s);});return u;};S.prototype._isSemanticEqual=function(d,D){var s=function(a,b){if(a.visible===true&&(b.visible===false||b.visible===undefined)){return-1;}else if((a.visible===false||a.visible===undefined)&&b.visible===true){return 1;}else if(a.visible===true&&b.visible===true){return 0;}else if((a.visible===false||a.visible===undefined)&&(b.visible===false||b.visible===undefined)){if(a.columnKey<b.columnKey){return-1;}else if(a.columnKey>b.columnKey){return 1;}else{return 0;}}};var c=U.copy(d.selection.selectionItems).sort(s);var e=U.copy(D.selection.selectionItems).sort(s);return!c.some(function(o,i){if(!U.semanticEqual(o,e[i])){return true;}});};return S;},true);\n",
	"sap/ui/comp/personalization/SelectionWrapper.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Element','./ColumnWrapper'],function(q,E,C){'use strict';var S=E.extend('sap.ui.comp.personalization.SelectionWrapper',{constructor:function(i,s){E.apply(this,arguments);},metadata:{library:'sap.ui.comp',aggregations:{columns:{type:'sap.ui.comp.personalization.ColumnWrapper',multiple:true,singularName:'column'}}}});S.createSelectionWrapper=function(m,f){return new S({columns:m.map(function(M){var c=new C({label:M.text,selected:M.visible,href:f?undefined:M.href,target:M.target,press:M.press,description:M.description});c.data('p13nData',{columnKey:M.key});return c;})});};return S;},true);\n",
	"sap/ui/comp/personalization/SortController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','sap/ui/comp/library','./Util'],function(q,B,M,C,U){'use strict';var S=B.extend('sap.ui.comp.personalization.SortController',{constructor:function(i,s){B.apply(this,arguments);this.setType(M.P13nPanelType.sort);this.setItemType(M.P13nPanelType.sort+'Items');},metadata:{events:{afterSortModelDataChange:{}}}});S.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(this.getTable()&&(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable)){t.detachSort(this._onSort,this);t.attachSort(this._onSort,this);}};S.prototype.getColumn2Json=function(c,s,i){if(!U.isSortable(c)){return null;}if(!c.getSorted||(c.getSorted&&!c.getSorted())){return null;}return{columnKey:s,operation:c.getSortOrder()};};S.prototype.getColumn2JsonTransient=function(c,s,t,T){if(!U.isSortable(c)){return null;}return{columnKey:s,text:t,tooltip:T};};S.prototype.handleIgnore=function(j,i){j.sort.sortItems.splice(i,1);};S.prototype.syncJson2Table=function(j){var c=this.getColumnMap();var o=q.extend(true,{},c);this.fireBeforePotentialTableChange();if(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable){j.sort.sortItems.forEach(function(m){var a=c[m.columnKey];if(!a){return;}if(m.operation===undefined){return;}if(!a.getSorted()){a.setSorted(true);}if(a.getSortOrder()!==m.operation){a.setSortOrder(m.operation);}delete o[m.columnKey];});for(var s in o){var a=o[s];if(a&&a.getSorted()){a.setSorted(false);}}}this.fireAfterPotentialTableChange();};S.prototype.getDataSuiteFormat2Json=function(d){var j=this.createControlDataStructure();if(!d.SortOrder||!d.SortOrder.length){return j;}j.sort.sortItems=d.SortOrder.map(function(s){return{columnKey:s.Property,operation:s.Descending?'Descending':'Ascending'};});return j;};S.prototype.getDataSuiteFormatSnapshot=function(d){var c=this.getUnionData(this.getControlDataInitial(),this.getControlData());if(!c.sort||!c.sort.sortItems||!c.sort.sortItems.length){return;}d.SortOrder=c.sort.sortItems.map(function(s){return{Property:s.columnKey,Descending:s.operation==='Descending'};});};S.prototype._onSort=function(e){e.preventDefault();this._updateInternalModel(U.getColumnKey(e.getParameter('column')),e.getParameter('sortOrder'),e.getParameter('columnAdded'));this.syncJson2Table(this.getControlData());this.fireAfterSortModelDataChange();};S.prototype._updateInternalModel=function(c,o,a){if(!c||(o!=='Descending'&&o!=='Ascending')){return;}if(!a){this.getInternalModel().setProperty('/controlData/sort/sortItems',[]);}var b=this.getControlData();var i=U.getIndexByKey('columnKey',c,b.sort.sortItems);i=(i>-1)?i:b.sort.sortItems.length;this.getInternalModel().setProperty('/controlData/sort/sortItems/'+i+'/',{columnKey:c,operation:o});this.updateControlDataBaseFromJson(b);};S.prototype.getPanel=function(){if(!U.hasSortableColumns(this.getColumnMap())){return null;}var t=this;return new Promise(function(r){sap.ui.require(['sap/m/P13nSortPanel','sap/m/P13nItem','sap/m/P13nSortItem'],function(P,a,b){return r(new P({containerQuery:true,items:{path:'$sapmP13nPanel>/transientData/sort/sortItems',template:new a({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}'})},sortItems:{path:'$sapmP13nPanel>/controlDataReduce/sort/sortItems',template:new b({columnKey:'{$sapmP13nPanel>columnKey}',operation:'{$sapmP13nPanel>operation}'})},beforeNavigationTo:t.setModelFunction(),addSortItem:function(e){if(!e.getParameter('sortItemData')){return;}var i=e.getParameter('index');var s=e.getParameter('sortItemData');var o={columnKey:s.getColumnKey(),operation:s.getOperation()};var c=t.getControlDataReduce();if(i>-1){c.sort.sortItems.splice(i,0,o);}else{c.sort.sortItems.push(o);}t.setControlDataReduce2Model(c);},removeSortItem:function(e){var i=e.getParameter('index');if(i<0){return;}var j=t.getControlDataReduce();j.sort.sortItems.splice(i,1);t.setControlDataReduce2Model(j);}}));});});};S.prototype.getChangeType=function(p,P){if(!P||!P.sort||!P.sort.sortItems){return C.personalization.ChangeType.Unchanged;}var i=JSON.stringify(p.sort.sortItems)!==JSON.stringify(P.sort.sortItems);return i?C.personalization.ChangeType.ModelChanged:C.personalization.ChangeType.Unchanged;};S.prototype.getChangeData=function(p,P){if(!p||!p.sort||!p.sort.sortItems){return{sort:{sortItems:[]}};}if(!P||!P.sort||!P.sort.sortItems){return{sort:U.copy(p.sort)};}if(JSON.stringify(p.sort.sortItems)!==JSON.stringify(P.sort.sortItems)){return{sort:U.copy(p.sort)};}return null;};S.prototype.getUnionData=function(j,J){if(!J||!J.sort||!J.sort.sortItems){return{sort:U.copy(j.sort)};}return{sort:U.copy(J.sort)};};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this.getTable()&&(this.getTableType()===C.personalization.TableType.AnalyticalTable||this.getTableType()===C.personalization.TableType.Table||this.getTableType()===C.personalization.TableType.TreeTable)){this.getTable().detachSort(this._onSort,this);}};return S;},true);\n",
	"sap/ui/comp/personalization/Util.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/comp/library','sap/m/library'],function(C,M){'use strict';var U={getColumnKeysOfType:function(t,c){var a=[];for(var s in c){if(this.getColumnType(c[s])===t){a.push(s);}}return a;},getColumnKeys:function(c){if(!c||!c.length){return[];}return c.map(function(o){return this.getColumnKey(o);},this);},sortItemsByText:function(i,k){var l;try{var l=sap.ui.getCore().getConfiguration().getLocale().toString();if(typeof window.Intl!=='undefined'){var c=window.Intl.Collator(l,{numeric:true});i.sort(function(a,b){return c.compare(a[k],b[k]);});}else{i.sort(function(a,b){return a[k].localeCompare(b[k],l,{numeric:true});});}}catch(e){}},recoverPersonalisationDateData:function(p,c){if(c.length&&p&&p.filter){p.filter.filterItems.forEach(function(f){if(c.indexOf(f.columnKey)>-1){if(f.value1&&typeof(f.value1)==='string'){f.value1=new Date(f.value1);}if(f.value2&&typeof(f.value2)==='string'){f.value2=new Date(f.value2);}}});}},recoverPersonalisationTimeData:function(p,c){if(c.length&&p&&p.filter){p.filter.filterItems.forEach(function(f){if(c.indexOf(f.columnKey)>-1){if(f.value1&&typeof(f.value1)==='string'){f.value1=new Date(f.value1);}if(f.value2&&typeof(f.value2)==='string'){f.value2=new Date(f.value2);}}});}},recoverPersonalisationBooleanData:function(p,c){if(c.length&&p&&p.filter){p.filter.filterItems.forEach(function(f){if(c.indexOf(f.columnKey)>-1){if(f.value1&&typeof(f.value1)==='string'){f.value1=f.value1==='true';}if(f.value2&&typeof(f.value2)==='string'){f.value2=f.value2==='true';}}});}},getUnionOfAttribute:function(s,a){var u=[];var A=function(c){if(u.indexOf(c)<0){u.push(c);}};for(var n in s){var N=s[n];if(!N[a]){continue;}N[a].forEach(A);}return u;},getUnionOfColumnKeys:function(j){var u=[];var c=function(I){u=u.concat(I.map(function(o){return o.columnKey;}));u=u.filter(function(s,a){return u.indexOf(s)===a;});};for(var t in j){for(var i in j[t]){if(!jQuery.isArray(j[t][i])){continue;}c(j[t][i]);}}return u;},copy:function(o){if(o instanceof Array){return jQuery.extend(true,[],o);}return jQuery.extend(true,{},o);},sort:function(k,A){var r=this.copy(A);r.sort(function(a,b){var t=a[k].toLocaleLowerCase();var T=b[k].toLocaleLowerCase();if(t<T){return-1;}if(t>T){return 1;}return 0;});return r;},removeEmptyProperty:function(j){for(var t in j){if(j[t]===null||j[t]===undefined){delete j[t];}}return j;},enrichEmptyProperty:function(o,O){o=o||{};for(var t in O){if(o[t]===null||o[t]===undefined){o[t]=O[t];}}return o;},semanticEqual:function(i,I){if(!i||!I){return false;}for(var p in i){if(i[p]!==I[p]){return false;}}return true;},hasChangedType:function(c){for(var t in c){if(c[t]===sap.ui.comp.personalization.ChangeType.ModelChanged||c[t]===sap.ui.comp.personalization.ChangeType.TableChanged){return true;}}return false;},isNamespaceChanged:function(c,n){if(c[n]){return c[n]===sap.ui.comp.personalization.ChangeType.ModelChanged||c[n]===sap.ui.comp.personalization.ChangeType.TableChanged;}return false;},createArrayFromString:function(e){if(!e){return[];}var E=[];var r=e.split(',');r.forEach(function(f){if(f!==''){E.push(f.trim());}});return E;},getIndexByKey:function(k,K,a){if(!a||!a.length){return-1;}var I=-1;a.some(function(e,i){if(e[k]!==undefined&&e[k]===K){I=i;return true;}});return I;},getColumnKey:function(c){return this._getCustomProperty(c,'columnKey')||c.getId();},getColumnType:function(c){return this._getCustomProperty(c,'type');},hasSortableColumns:function(c){for(var s in c){if(U.isSortable(c[s])){return true;}}return false;},hasGroupableColumns:function(c){for(var s in c){if(U.isGroupable(c[s])){return true;}}return false;},hasFilterableColumns:function(c){for(var s in c){if(U.isFilterable(c[s])){return true;}}return false;},hasAggregatableColumns:function(c){for(var s in c){if(U.isAggregatable(c[s])){return true;}}return false;},isGroupable:function(c){if(sap.ui.table&&sap.ui.table.AnalyticalColumn&&c instanceof sap.ui.table.AnalyticalColumn){return c.isGroupable()||this._getCustomProperty(c,'isGroupable');}if(c instanceof sap.m.Column){return this.isSortable(c);}return false;},isSortable:function(c){if(c.getSortProperty){return!!c.getSortProperty();}return!!this._getCustomProperty(c,'sortProperty');},isFilterable:function(c){if(c.getFilterProperty){return!!c.getFilterProperty();}return!!this._getCustomProperty(c,'filterProperty');},isAggregatable:function(c){if(c.getAggregationRole){return c.getAggregationRole()===sap.ui.comp.personalization.AggregationRole.Dimension||c.getAggregationRole()===sap.ui.comp.personalization.AggregationRole.Measure;}return false;},getArrayElementByKey:function(k,K,a){if(!a||!a.length){return null;}var e=null;a.some(function(E){if(E[k]!==undefined&&E[k]===K){e=E;return true;}});return e;},isColumnIgnored:function(c,i){if(!i){return false;}return i.indexOf(this.getColumnKey(c))>-1;},createSort2Json:function(t,d,i){if(this.getTableBaseType(t)!==sap.ui.comp.personalization.TableType.Table&&this.getTableType(t)!==sap.ui.comp.personalization.TableType.ChartWrapper){return;}this.addSortPersistentData(this._mapTable2P13nSortJson(t),{sort:{sortItems:d}},i);},addSortPersistentData:function(s,d,i){s.sort.sortItems.forEach(function(S){if(!S.isSorted||i.indexOf(S.columnKey)>-1){return;}d.sort.sortItems.push({columnKey:S.columnKey,operation:S.operation});});},_mapTable2P13nSortJson:function(t){return{sort:{sortItems:t.getColumns().map(function(c){return{columnKey:U.getColumnKey(c),isSorted:c.getSorted(),operation:c.getSortOrder()};})}};},getTableType:function(t){switch(t&&t.getMetadata().getName()){case'sap.ui.comp.personalization.ChartWrapper':return sap.ui.comp.personalization.TableType.ChartWrapper;case'sap.ui.comp.personalization.SelectionWrapper':return sap.ui.comp.personalization.TableType.SelectionWrapper;case'sap.m.Table':return sap.ui.comp.personalization.TableType.ResponsiveTable;case'sap.ui.table.AnalyticalTable':return sap.ui.comp.personalization.TableType.AnalyticalTable;case'sap.ui.table.TreeTable':return sap.ui.comp.personalization.TableType.TreeTable;case'sap.ui.table.Table':return sap.ui.comp.personalization.TableType.Table;}return null;},getTableBaseType:function(t){switch(this.getTableType(t)){case sap.ui.comp.personalization.TableType.ChartWrapper:return sap.ui.comp.personalization.TableType.ChartWrapper;case sap.ui.comp.personalization.TableType.SelectionWrapper:return sap.ui.comp.personalization.TableType.SelectionWrapper;case sap.ui.comp.personalization.TableType.ResponsiveTable:return sap.ui.comp.personalization.TableType.ResponsiveTable;case sap.ui.comp.personalization.TableType.AnalyticalTable:case sap.ui.comp.personalization.TableType.Table:case sap.ui.comp.personalization.TableType.TreeTable:return sap.ui.comp.personalization.TableType.Table;}return null;},getColumnBaseType:function(c){switch(c&&c.getMetadata().getName()){case'sap.ui.comp.personalization.ColumnWrapper':return sap.ui.comp.personalization.ColumnType.ColumnWrapper;case'sap.m.Column':return sap.ui.comp.personalization.ColumnType.ResponsiveColumn;case'sap.ui.table.AnalyticalColumn':case'sap.ui.table.Column':return sap.ui.comp.personalization.ColumnType.TableColumn;}return null;},_getCustomProperty:function(c,p){var o=this._getCustomData(c);if(!o||!p){return null;}return o[p];},_getCustomData:function(c){if(!c){return null;}var o=c.data('p13nData');if(typeof o==='string'){try{o=JSON.parse(o);c.data('p13nData',o);}catch(e){}}return o;}};return U;},true);\n",
	"sap/ui/comp/personalization/Validator.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/m/library','sap/ui/core/MessageType'],function(M,a){'use strict';var V={checkGroupAndColumns:function(t,s,c,p,r){if(t!==sap.ui.comp.personalization.TableType.AnalyticalTable||!s.group||!s.columns){return Promise.resolve(r);}for(var C in c){var b=s.columns.controller.isColumnSelected(p.columns,C);var g=s.group.controller.isGroupSelected(p.group,C);if(g&&!b){r.push({columnKey:C,panelTypes:[sap.m.P13nPanelType.group,sap.m.P13nPanelType.columns],messageType:a.Warning,messageText:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('PERSODIALOG_MSG_GROUPING_NOT_POSSIBLE_DESCRIPTION')});}}return Promise.resolve(r);},checkSaveChanges:function(t,s,c,r){if(t!==sap.ui.comp.personalization.TableType.SelectionWrapper||!s.selection||!s.selection.payload||!c||!c.selection){return Promise.resolve(r);}return s.selection.payload.callbackSaveChanges(c.selection.selectionItems).then(function(S){if(S){return r;}r.push({panelTypes:[sap.m.P13nPanelType.selection],messageType:a.Error,messageText:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('PERSODIALOG_MSG_CHANGES_SAVE_FAILED')});return r;});},checkChartConsistency:function(t,s,c,r){if(t!==sap.ui.comp.personalization.TableType.ChartWrapper){return Promise.resolve(r);}var i=s.dimeasure.controller.isChartConsistent(c);if(!i){r.push({panelTypes:[sap.m.P13nPanelType.dimeasure],messageType:a.Error,messageText:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('PERSODIALOG_MSG_VALIDATION_CHARTTYPE')});}return Promise.resolve(r);}};return V;},true);\n",
	"sap/ui/comp/providers/BaseValueListProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/base/EventProvider','sap/ui/comp/odata/ODataType','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/util/FormatUtil'],function(q,l,E,O,M,F){'use strict';var D=l.smartfilterbar.DisplayBehaviour;var A=l.ANALYTICAL_PARAMETER_PREFIX;var B=E.extend('sap.ui.comp.providers.BaseValueListProvider',{constructor:function(p){E.call(this);this.sFieldName=p.fieldName;this.oControl=p.control;this.oODataModel=p.model;this.oFilterModel=p.filterModel;this.oFilterProvider=p.filterProvider;this.sDisplayFormat=p.displayFormat;this._oDateFormatSettings=p.dateFormatSettings;this._fieldViewMetadata=p.fieldViewMetadata;this.sValueListEntitySetName=null;if(!this._oDateFormatSettings){this._oDateFormatSettings={};}if(!this._oDateFormatSettings.hasOwnProperty('UTC')){this._oDateFormatSettings['UTC']=true;}this.bResolveInOutParams=(p.resolveInOutParams===false)?false:true;this.sDisplayBehaviour=p.displayBehaviour;this.sDDLBDisplayBehaviour=this.sDisplayBehaviour;if(!this.sDDLBDisplayBehaviour||this.sDDLBDisplayBehaviour===D.auto){this.sDDLBDisplayBehaviour=this.oFilterProvider?this.oFilterProvider.sDefaultDropDownDisplayBehaviour:D.descriptionOnly;}this.sPropertyTypePath='';if(this.bResolveInOutParams&&!this.oFilterModel&&!this.oFilterProvider){this._resolvePropertyPath();}if(p.loadAnnotation&&p.fullyQualifiedFieldName){this._oMetadataAnalyser=p.metadataAnalyser;this._sFullyQualifiedFieldName=p.fullyQualifiedFieldName;this._attachAnnotationLoadOnRender();}else{this._onAnnotationLoad({primaryValueListAnnotation:p.annotation,additionalAnnotations:p.additionalAnnotations});}}});B.prototype._attachAnnotationLoadOnRender=function(){this.oBeforeRenderingEventDelegate={onBeforeRendering:function(){this.oControl.removeEventDelegate(this.oBeforeRenderingEventDelegate,this);delete this.oBeforeRenderingEventDelegate;if(!this._bValueListRequested){if(this.bInitialised){if(this._onMetadataInitialised&&this.sAggregationName&&!this.bTypeAheadEnabled&&this.oControl.$()){this._onMetadataInitialised();}}else{this._loadAnnotation();}}}};this.oControl.addEventDelegate(this.oBeforeRenderingEventDelegate,this);};B.prototype.loadAnnotation=function(){if(this.oBeforeRenderingEventDelegate){this.oControl.removeEventDelegate(this.oBeforeRenderingEventDelegate,this);delete this.oBeforeRenderingEventDelegate;}if(this.oAfterRenderingEventDelegate){this.oControl.removeEventDelegate(this.oAfterRenderingEventDelegate,this);delete this.oAfterRenderingEventDelegate;}this._loadAnnotation();};B.prototype._loadAnnotation=function(){if(!this._bValueListRequested){this._bValueListRequested=true;if(!this._oMetadataAnalyser){this._oMetadataAnalyser=new M(this.oODataModel);this._bCleanupMetadataAnalyser=true;}this._oMetadataAnalyser.getValueListAnnotationLazy(this._sFullyQualifiedFieldName).then(this._onAnnotationLoad.bind(this),function(e){this._oError=e;this.bInitialised=true;q.sap.log.debug(e);}.bind(this));}};B.prototype.attachValueListChanged=function(f,L){this.attachEvent('valueListChanged',f,L);};B.prototype.detachValueListChanged=function(f,L){this.detachEvent('valueListChanged',f,L);};B.prototype._onAnnotationLoad=function(v){this.oPrimaryValueListAnnotation=v.primaryValueListAnnotation;this.additionalAnnotations=v.additionalAnnotations;this._resolveAnnotationData(this.oPrimaryValueListAnnotation);this.bInitialised=true;if(this._onMetadataInitialised&&this.sAggregationName&&!this.bTypeAheadEnabled&&this.oControl.$()){this._onMetadataInitialised();}};B.prototype._resolvePropertyPath=function(){var b=this.oControl.getBindingInfo('value'),p,P,a;if(b&&b.parts){p=b.parts[0]?b.parts[0].path:'';}if(p){a=p.split('/');if(a.length>1){P=a[a.length-1];this.sPropertyTypePath=p.replace('/'+P,'');}}};B.prototype._resolveAnnotationData=function(a){var L=0,i=0,c,f,t,T,C,o;if(this.oODataModel&&a){this.bSupportBasicSearch=a.isSearchSupported;this.sValueListTitle=a.valueListTitle||a.qualifier;this.sKey=a.keyField;this._aKeys=a.keys;this.sValueListEntitySetName=a.valueListEntitySetName;this.mInParams=a.inParams;this.mOutParams=a.outParams;this.sTokenDisplayBehaviour=this.sDisplayBehaviour;if(!this.sTokenDisplayBehaviour||this.sTokenDisplayBehaviour===D.auto){this.sTokenDisplayBehaviour=this.oFilterProvider?this.oFilterProvider.sDefaultTokenDisplayBehaviour:D.descriptionAndId;}if(!a.descriptionField){this.sTokenDisplayBehaviour=D.idOnly;}this.sDescription=a.descriptionField||this.sKey;if(this.sValueListEntitySetName&&this.sKey){this._aCols=[];this.aSelect=[];c=a.valueListFields;L=c.length;for(i=0;i<L;i++){f=c[i];t=null;T=null;C=undefined;o=undefined;if(f.type==='Edm.Boolean'){t='boolean';}else if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'){t='date';o=this._oDateFormatSettings;C={displayFormat:'Date'};}else if(f.type==='Edm.Decimal'){t='decimal';C={precision:f.precision,scale:f.scale};}else if(f.type==='Edm.String'){if(f.isCalendarDate){t='stringdate';}else{t='string';}}T=O.getType(f.type,o,C,f.isCalendarDate);if(f.visible&&!f.hidden){this._aCols.push({label:f.fieldLabel,tooltip:f.quickInfo||f.fieldLabel,type:t,oType:T,width:F.getWidth(f,15),template:f.name,sort:f.sortable?f.name:undefined,sorted:f.sortable&&f.name===this.sKey,sortOrder:'Ascending'});}this.aSelect.push(f.name);}if(a.descriptionField){this.aSelect.push(a.descriptionField);}}else{if(!this.sKey){q.sap.log.error('BaseValueListProvider',\"key for ValueListEntitySetName '\"+this.sValueListEntitySetName+\"' missing! Please check your annotations\");}}}};B.prototype._getFilterData=function(){var d,f={};if(this.oFilterProvider&&this.oFilterProvider._oSmartFilter){d=this.oFilterProvider._oSmartFilter.getFilterData();if(this._fieldViewMetadata&&this._fieldViewMetadata.fieldName&&(this._fieldViewMetadata.fieldName.indexOf(A)===0)){Object.keys(d).forEach(function(n){var a=n.split(A);f[a[a.length-1]]=d[n];});return f;}}return d;};B.prototype._setFilterData=function(f){var d=f,o={};if(this.oFilterProvider){if(this._fieldViewMetadata&&this._fieldViewMetadata.fieldName&&(this._fieldViewMetadata.fieldName.indexOf(A)===0)){Object.keys(f).forEach(function(n){o[A+n]=f[n];});d=o;}this.oFilterProvider.setFilterData(d);}};B.prototype._calculateFilterInputData=function(){var L,v,d=null;delete this.mFilterInputData;if(this.oFilterProvider&&this.oFilterProvider._oSmartFilter){d=this._getFilterData();}else if(this.oFilterModel){d=this.oFilterModel.getData();}else if(this.oODataModel&&this.bResolveInOutParams){d=this.oODataModel.getData(this.sPropertyTypePath,this.oControl.getBindingContext());}if(this.mInParams&&d){this.mFilterInputData={};this.aFilterField=[];for(L in this.mInParams){if(L){v=this.mInParams[L];if(v!==this.sKey){if(d[L]){this.mFilterInputData[v]=d[L];this.aFilterField.push(v);}}}}}};B.prototype._calculateAndSetFilterOutputData=function(d){var L,v,f=null,o,e,n,i,a;if(this.mOutParams&&d&&(this.oFilterProvider||this.oFilterModel)){f={};a=function(c){return c.key===n.key;};for(L in this.mOutParams){if(L){v=this.mOutParams[L];if(v!==this.sKey){e=null;i=d.length;while(i--){o=d[i];if(o[v]){n={key:o[v]};if(!f[L]){if(!e&&this.oFilterModel){e=this.oFilterModel.getData();}if(e&&e[L]&&e[L].items){f[L]=e[L];}else{f[L]={items:[]};}}if(f[L].items.filter(a).length<=0){var b=false;if(this.oFilterProvider&&e&&e[L]&&e[L].ranges){e[L].ranges.some(function(r){if(r.operation==='EQ'&&r.value1===n.key){b=true;}return b;});}if(!b){f[L].items.push(n);}}}}}}}if(f){if(this.oFilterProvider){this._setFilterData(f);if(!q.isEmptyObject(f)){this.fireEvent('valueListChanged',{'changes':Object.keys(f)});}}else if(this.oFilterModel){this.oFilterModel.setData(f,true);}}}else if(this.oODataModel&&this.bResolveInOutParams){this._calculateAndSetODataModelOutputData(d[0]);}};B.prototype._calculateAndSetODataModelOutputData=function(d){var b,L,v,p,V,c={};if(d&&this.mOutParams){b=this.oControl.getBindingContext();for(L in this.mOutParams){if(L){v=this.mOutParams[L];if(v!==this.sKey){V=d[v];c[L]=V;p=this.sPropertyTypePath?this.sPropertyTypePath+'/'+L:L;this.oODataModel.setProperty(p,V,b,true);}}}if(c&&!q.isEmptyObject(c)){this.fireEvent('valueListChanged',{'changes':c});}}};B.prototype.destroy=function(){sap.ui.base.EventProvider.prototype.destroy.apply(this,arguments);if(this._bCleanupMetadataAnalyser&&this._oMetadataAnalyser){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;this.oControl=null;this.sFieldName=null;this.mFilterInputData=null;this.aFilterField=null;this.sValueListEntitySetName=null;this.oODataModel=null;this.oFilterModel=null;this.oFilterProvider=null;this.oPrimaryValueListAnnotation=null;this.additionalAnnotations=null;this.sDisplayFormat=null;this.bSupportBasicSearch=null;this.bInitialised=null;this._oError=null;this.sValueListTitle=null;this.sKey=null;this._aKeys=null;this.mInParams=null;this.mOutParams=null;this.sDescription=null;this.aSelect=null;this._aCols=null;this.sDDLBDisplayBehaviour=null;this.sTokenDisplayBehaviour=null;this._oDateFormatSettings=null;this.bIsDestroyed=true;};return B;},true);\n",
	"sap/ui/comp/providers/ChartProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/odata/ChartMetadata','sap/ui/comp/odata/ODataType','./ControlProvider','sap/ui/core/format/DateFormat'],function(q,M,C,O,a,D){'use strict';var b=function(p){if(p){this._oParentODataModel=p.model;this.sEntitySet=p.entitySet;this._sIgnoredFields=p.ignoredFields;this._bSkipAnnotationParse=p.skipAnnotationParse==='true';this._sChartQualifier=p.chartQualifier;this._sPresentationVariantQualifier=p.presentationVariantQualifier;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;try{this._oDateFormatSettings=p.dateFormatSettings?JSON.parse(p.dateFormatSettings):undefined;}catch(e){}if(p.chartLibrary){C.feedWithChartLibrary(p.chartLibrary);}}this._aODataFieldMetadata=[];this._oChartViewMetadata=null;this._oChartDataPointMetadata=null;this._aIgnoredFields=[];this._oMetadataAnalyser=new M(this._oParentODataModel);this._intialiseMetadata();};b.prototype._intialiseMetadata=function(){var c,d=[],f,i,l=0;this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntitySet);this._sFullyQualifiedEntityTypeName=this._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.sEntitySet);if(!this._bSkipAnnotationParse){this._oPresentationVariant=this._oMetadataAnalyser.getPresentationVariantAnnotation(this._sFullyQualifiedEntityTypeName,this._sPresentationVariantQualifier);if(this._oPresentationVariant&&this._oPresentationVariant.chartAnnotation){this._oChartAnnotation=this._oPresentationVariant.chartAnnotation;}else{this._oChartAnnotation=this._oMetadataAnalyser.getChartAnnotation(this._sFullyQualifiedEntityTypeName,this._sChartQualifier);}}if(!this._oDefaultDropDownDisplayBehaviour){this._oDefaultDropDownDisplayBehaviour=this._oMetadataAnalyser.getTextArrangementValue(this._sFullyQualifiedEntityTypeName);}this._generateIgnoredFieldsArray();this._oControlProvider=new a({metadataAnalyser:this._oMetadataAnalyser,model:this._oParentODataModel,fieldsMetadata:this._aODataFieldMetadata,dateFormatSettings:this._oDateFormatSettings,defaultDropDownDisplayBehaviour:this._oDefaultDropDownDisplayBehaviour,enableDescriptions:false,entitySet:this.sEntitySet});if(this._aODataFieldMetadata){this._prepareHierarchy();l=this._aODataFieldMetadata.length;}for(i=0;i<l;i++){f=this._aODataFieldMetadata[i];if(this._aIgnoredFields.indexOf(f.name)>-1||!f.visible||f.hidden){continue;}if(f.type.indexOf('Edm.')===0){c=this._getFieldViewMetadata(f);this._enrichWithChartViewMetadata(f,c);d.push(f);}}if(this._oChartAnnotation){this._oChartViewMetadata=q.extend({},this._oChartAnnotation);this._oChartViewMetadata.chartType=C.getChartType(this._oChartViewMetadata.chartType);this._oChartViewMetadata.fields=d;}};b.prototype._prepareHierarchy=function(){for(var i=0;i<this._aODataFieldMetadata.length;i++){if(this._aODataFieldMetadata[i].hierarchy){for(var j=0;j<this._aODataFieldMetadata.length;j++){this._aODataFieldMetadata[j].hierarchy=this._aODataFieldMetadata[j].hierarchy||{};this._aODataFieldMetadata[j].hierarchy.up=this._aODataFieldMetadata[j].hierarchy.up||{};if(this._aODataFieldMetadata[i].hierarchy.field===this._aODataFieldMetadata[j].name){this._aODataFieldMetadata[i].hierarchy.down=this._getFieldViewMetadata(this._aODataFieldMetadata[j]);this._aODataFieldMetadata[j].hierarchy.up[this._aODataFieldMetadata[i].hierarchy.type]=this._getFieldViewMetadata(this._aODataFieldMetadata[i]);}}}}};b.prototype._setAnnotationMetadata=function(f){if(f&&f.fullName){var s=this._oMetadataAnalyser.getSemanticObjectsFromAnnotation(f.fullName);if(s){f.semanticObjects=s;}}};b.prototype._getFieldViewMetadata=function(f){var c=this._oControlProvider.getFieldViewMetadata(f,false);this._setAnnotationMetadata(c);return c;};b.prototype._generateIgnoredFieldsArray=function(){if(this._sIgnoredFields){this._aIgnoredFields=this._sIgnoredFields.split(',');}};b.prototype._enrichWithChartViewMetadata=function(f,v){function i(R,c){return c.aggregationRole&&c.aggregationRole===R;}f.isMeasure=i('measure',f);f.isDimension=i('dimension',f);f.isHierarchyDimension=f.hierarchy&&f.hierarchy.type===M.hierarchyType.nodeFor&&i('dimension',f.hierarchy.down);f.dateFormatter=this._getDateFormatter(f);f.timeUnitType=this._getTimeUnitType(f);f.isTimeDimension=f.timeUnitType!==undefined;f.role=this._getRole(f);f.hierarchyLevel=this._getHierarchyLevel(f);f.dataPoint=this._getDataPoint(f);f.filterType=v.filterType;if(v.template){f.template=v.template;}if(f.isDimension){f.displayBehaviour=v.displayBehaviour;}else if(f.isHierarchyDimension){var r=f.hierarchy.up[M.hierarchyType.nodeExternalKeyFor]||v;f.displayBehaviour=r.displayBehaviour;f.description=r.description||r.name;}f.isSemanticObject=(v.semanticObjects)?true:false;this._setInResult(f);this._setSortOrder(f);};b.prototype._getTimeUnitType=function(f){var t;switch(f.type){case'Edm.Date':t='Date';break;case'Edm.DateTime':if(f.displayFormat==='Date'){t='Date';}break;case'Edm.String':if(f.isCalendarDate){t='yearmonthday';}break;default:break;}return t;};b.prototype._getDateFormatter=function(f){var c,d;switch(f.type){case'Edm.Date':d=D.getDateInstance(this.oDateFormatSettings);break;case'Edm.Time':d=D.getTimeInstance(this.oDateFormatSettings);break;case'Edm.DateTimeOffset':case'Edm.DateTime':if(f.displayFormat==='Date'){d=D.getDateInstance(this.oDateFormatSettings);}else{d=D.getDateTimeInstance(this.oDateFormatSettings);}break;case'Edm.String':if(f.isCalendarDate){var s=O.getType('Edm.String',this.oDateFormatSettings,{},true);c=function(v){v=s.formatValue(v,'string');return v;};}break;default:break;}if(d){c=function(t){if(!t){return null;}var e=new Date(t);return d.format(e);};}return c;};b.prototype._setInResult=function(f){if(this._oPresentationVariant){if(this._oPresentationVariant.requestAtLeastFields&&this._oPresentationVariant.requestAtLeastFields.indexOf(f.name)>-1){f.inResult=true;}}};b.prototype._setSortOrder=function(f){f.sorted=false;f.sortOrder='Ascending';var l;if(this._oPresentationVariant&&this._oPresentationVariant.sortOrderFields){l=this._oPresentationVariant.sortOrderFields.length;for(var i=0;i<l;i++){if(this._oPresentationVariant.sortOrderFields[i].name===f.name){f.sorted=true;f.sortOrder=this._oPresentationVariant.sortOrderFields[i].descending?'Descending':'Ascending';break;}}}};b.prototype._unmarkTextDimensions=function(f,t){var i,F;for(i=0;i<f.length;i++){F=f[i];if(F.isDimension){if(t.indexOf(F.name)>-1){F.isDimension=false;}}}};b.prototype._getRole=function(f){if(this._oChartAnnotation){if((f.isDimension||f.isHierarchyDimension)&&this._oChartAnnotation.dimensionAttributes[f.name]){return C.getDimensionRole(this._oChartAnnotation.dimensionAttributes[f.name].role);}else if(f.isMeasure&&this._oChartAnnotation.measureAttributes[f.name]){return C.getMeasureRole(this._oChartAnnotation.measureAttributes[f.name].role);}}};b.prototype._getHierarchyLevel=function(f){if(this._oChartAnnotation){if(f.isHierarchyDimension&&this._oChartAnnotation.dimensionAttributes[f.name]){var l=null;try{l=parseInt(this._oChartAnnotation.dimensionAttributes[f.name].hierarchyLevel,10);}catch(e){l=0;}return l;}return 0;}};b.prototype._getTextPropertyForHierachyDimension=function(f){var r=f.hierarchy.up[M.hierarchyType.nodeExternalKeyFor]||f;return r.description||r.name;};b.prototype._getDataPoint=function(f){if(this._oChartAnnotation&&f.isMeasure&&this._oChartAnnotation.measureAttributes[f.name]&&this._oChartAnnotation.measureAttributes[f.name].dataPoint){var d=this._oChartAnnotation.measureAttributes[f.name].dataPoint;var c=d.split('#');var Q=c.length===2?c[1]:'';return this._getMeasureDataPoint(Q,f.name);}return null;};b.prototype.getChartViewMetadata=function(){return this._oChartViewMetadata;};b.prototype.getViewField=function(d){var f=this._oChartViewMetadata.fields.filter(function(c){return c.name===d;})[0];return f;};b.prototype.getChartDataPointMetadata=function(){if(!this._oChartDataPointMetadata&&this._sFullyQualifiedEntityTypeName){this._oChartDataPointMetadata=this._oMetadataAnalyser.getDataPointAnnotation(this._sFullyQualifiedEntityTypeName);}return this._oChartDataPointMetadata;};b.prototype._getMeasureDataPoint=function(Q,m){var c=this.getChartDataPointMetadata();if(c){var d=null;if(Q){if(c.additionalAnnotations){d=c.additionalAnnotations[Q];}}else{if(c.primaryAnnotation){d=c.primaryAnnotation;}}if(d!=null&&d.Value&&d.Value.Path==m){return d;}}return null;};b.prototype.getIsUTCDateHandlingEnabled=function(){return this._oDateFormatSettings?this._oDateFormatSettings.UTC:false;};b.prototype.destroy=function(){if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(this._oControlProvider&&this._oControlProvider.destroy){this._oControlProvider.destroy();}this._oControlProvider=null;this._aODataFieldMetadata=null;this._oChartViewMetadata=null;this._oChartDataPointMetadata=null;this._sIgnoredFields=null;this.bIsDestroyed=true;};b.prototype.provideSemanticColoring=function(d){var c={};if(d.Criticality){if(d.Criticality.Path){c={Calculated:d.Criticality.Path};}else{c={Static:C.getCriticalityType(d.Criticality.EnumMember)};}}else{var t={};var e=this._buildThresholds(t,d.CriticalityCalculation);if(e){c={ConstantThresholds:t};}else{c={DynamicThresholds:t};}}return c;};b.prototype._buildThresholds=function(t,c){var d=true;t.ImprovementDirection=C.getImprovementDirectionType(c.ImprovementDirection.EnumMember);var v=C.getCriticalityThresholds();var l=v.length;var o={oneSupplied:false};var e={oneSupplied:false};for(var i=0;i<l;i++){o[v[i]]=c[v[i]]?c[v[i]].Path:undefined;o.oneSupplied=o.oneSupplied||o[v[i]];if(!o.oneSupplied){e[v[i]]=C.calculateConstantValue(c[v[i]]);e.oneSupplied=e.oneSupplied||e[v[i]];}}if(o.oneSupplied){d=false;for(var i=0;i<l;i++){if(o[v[i]]){t[v[i]]=o[v[i]];}}}else{var A;t.AggregationLevels=[];if(e.oneSupplied){A={VisibleDimensions:null};for(var i=0;i<l;i++){if(e[v[i]]){A[v[i]]=e[v[i]];}}t.AggregationLevels.push(A);}if(c.ConstantThresholds&&c.ConstantThresholds.length>0){for(var i=0;i<c.ConstantThresholds.length;i++){var f=c.ConstantThresholds[i];var V=f.AggregationLevel?[]:null;if(f.AggregationLevel&&f.AggregationLevel.length>0){for(var j=0;j<f.AggregationLevel.length;j++){V.push(f.AggregationLevel[j].PropertyPath);}}A={VisibleDimensions:V};for(var j=0;j<l;j++){var n=C.calculateConstantValue(f[v[j]]);if(n){A[v[j]]=n;}}t.AggregationLevels.push(A);}}}return d;};b.prototype.getMaxItems=function(){var m=-1;if(this._oPresentationVariant&&this._oPresentationVariant.maxItems){m=Math.min(this._oPresentationVariant.maxItems,100);}return m;};return b;},true);\n",
	"sap/ui/comp/providers/ControlProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/TimePicker','sap/m/HBox','sap/m/Input','sap/m/Text','sap/m/ObjectIdentifier','sap/m/ObjectStatus','sap/m/Image','sap/m/Link','sap/m/VBox','sap/ui/comp/navpopover/SmartLink','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/smartfield/ODataHelper','sap/ui/comp/smartfield/SmartField','sap/ui/comp/odata/ODataType','sap/ui/comp/odata/CriticalityMetadata','sap/ui/comp/util/FormatUtil','sap/ui/comp/util/MultiCurrencyUtil','sap/ui/core/Control','sap/ui/comp/navpopover/SemanticObjectController','sap/ui/comp/navpopover/NavigationPopoverHandler'],function(q,C,a,D,T,H,I,b,O,c,d,L,V,S,M,e,f,g,h,F,j,k,l,N){'use strict';var m;var n=function(p){if(p){this._oParentODataModel=p.model;this._oMetadataAnalyser=p.metadataAnalyser;this._aODataFieldMetadata=p.fieldsMetadata;this._oLineItemAnnotation=p.lineItemAnnotation;this._oSemanticKeyAnnotation=p.semanticKeyAnnotation;this._smartTableId=p.smartTableId;this._isAnalyticalTable=p.isAnalyticalTable;this._isMobileTable=p.isMobileTable;this._oDateFormatSettings=p.dateFormatSettings;this._bEnableDescriptions=p.enableDescriptions;this._oCurrencyFormatSettings=p.currencyFormatSettings;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour||'descriptionAndId';this.useSmartField=p.useSmartField==='true';this.useSmartToggle=p.useSmartToggle==='true';this._sEntitySet=p.entitySet;this._oSemanticKeyAdditionalControl=p._semanticKeyAdditionalControl;this._oSemanticObjectController=p.semanticObjectController;}if(!this._oMetadataAnalyser&&this._oParentODataModel){this._oMetadataAnalyser=new M(this._oParentODataModel);this._intialiseMetadata();}this._mSmartField={};this._oHelper=new e(this._oMetadataAnalyser.oModel);this._aValueListProvider=[];this._aValueHelpProvider=[];this._aLinkHandlers=[];};n.prototype._intialiseMetadata=function(){if(!this._aODataFieldMetadata){this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntity);}};n.prototype.getFieldViewMetadata=function(o,i){var p=this._createFieldMetadata(o);this._createFieldTemplate(p,i);return p;};n.prototype._createFieldTemplate=function(v,i){if(this.useSmartField){v.template=new f({value:{path:v.name},entitySet:this._sEntitySet,contextEditable:{path:'sm4rtM0d3l>/editable',mode:'OneWay'},controlContext:this._isMobileTable?'responsiveTable':'table',wrapping:this._isMobileTable});if(g.isNumeric(v.type)||g.isDateOrTime(v.type)||v.isCalendarDate){v.template.setTextAlign('Right');v.template.setWidth('100%');}this._completeSmartField(v);v.template._setPendingEditState(i);}if(this.useSmartToggle){v.template=new m({editable:{path:'sm4rtM0d3l>/editable',mode:'OneWay'},edit:this.useSmartField?v.template:this._createEditableTemplate(v),display:this._createDisplayOnlyTemplate(v)});}else if(!this.useSmartField){v.template=i?this._createEditableTemplate(v):this._createDisplayOnlyTemplate(v);}};n.prototype._completeSmartField=function(v){var o={annotations:{},path:v.name};if(!this._mSmartField.entitySetObject){this._mSmartField.entitySetObject=this._oHelper.oMeta.getODataEntitySet(this._sEntitySet);this._mSmartField.entityType=this._oHelper.oMeta.getODataEntityType(this._mSmartField.entitySetObject.entityType);}o.modelObject=this._oParentODataModel;o.entitySetObject=this._mSmartField.entitySetObject;o.entitySet=this._mSmartField.entitySetObject;o.entityType=this._mSmartField.entityType;this._oHelper.getProperty(o);v.fieldControlProperty=this._oHelper.oAnnotation.getFieldControlPath(o.property.property);if(v.fieldControlProperty&&v.parentPropertyName){v.fieldControlProperty=v.parentPropertyName+'/'+v.fieldControlProperty;}o.annotations.uom=this._oHelper.getUnitOfMeasure2(o);o.annotations.text=this._oHelper.getTextProperty2(o);o.annotations.lineitem=this._oLineItemAnnotation;o.annotations.semantic=M.getSemanticObjectsFromProperty(o.property.property);this._oHelper.getUOMTextAnnotation(o);if(o.property.property['sap:value-list']||o.property.property['com.sap.vocabularies.Common.v1.ValueList']){o.annotations.valuelist=this._oHelper.getValueListAnnotationPath(o);if(o.property.property['sap:value-list']){o.annotations.valuelistType=o.property.property['sap:value-list'];}else{o.annotations.valuelistType=this._oMetadataAnalyser.getValueListSemantics(o.property.property['com.sap.vocabularies.Common.v1.ValueList']);}}this._oHelper.getUOMValueListAnnotationPath(o);delete o.entitySet;v.template.data('configdata',{'configdata':o});v.template.data('dateFormatSettings',this._oDateFormatSettings);v.template.data('currencyFormatSettings',this._oCurrencyFormatSettings);v.template.data('defaultDropDownDisplayBehaviour',this._oDefaultDropDownDisplayBehaviour);if(o.annotations.uom||g.isNumeric(v.type)||g.isDateOrTime(v.type)||v.isCalendarDate){var A=v.template.getTextAlign();if(A==='Initial'){A='Right';}v.align=A;}};n.prototype._createEditableTemplate=function(v,B){var t=null,o,i,p;var r=(v.type==='Edm.DateTime'||v.type==='Edm.DateTimeOffset')&&v.displayFormat==='Date';if(r||v.isCalendarDate){o=this._oDateFormatSettings;i={displayFormat:'Date'};t=new D({dateValue:{path:v.name}});}else if(v.type==='Edm.Boolean'){t=new C({selected:{path:v.name}});}else if(v.type==='Edm.Decimal'){i={precision:v.precision,scale:v.scale};}else if(v.type==='Edm.String'){i={isDigitSequence:v.isDigitSequence};}p=g.getType(v.type,o,i,v.isCalendarDate);if(v.semanticObjects&&(!B)){t=this._createSmartLinkFieldTemplate(v,p,function(){return this._createEditableTemplate(v,true);}.bind(this));}if(!t){if(v.type==='Edm.Time'){t=new T({value:{path:v.name,type:p}});}else{t=new I({value:{path:v.name,type:p}});if(v.unit){t.bindProperty('description',{path:v.unit});t.setTextAlign('Right');t.setTextDirection('LTR');t.setFieldWidth('80%');}else if(this._bEnableDescriptions&&v.description){t.bindProperty('description',{path:v.description});}else if(g.isNumeric(v.type)||g.isDateOrTime(v.type)||v.isCalendarDate){t.setTextAlign('Right');t.setTextDirection('LTR');}if(v.hasValueListAnnotation){this._associateValueHelpAndSuggest(t,v);}}}return t;};n.prototype._associateValueHelpAndSuggest=function(o,i){o.setShowValueHelp(true);this._aValueHelpProvider.push(new sap.ui.comp.providers.ValueHelpProvider({loadAnnotation:true,fullyQualifiedFieldName:i.fullName,metadataAnalyser:this._oMetadataAnalyser,control:o,model:this._oParentODataModel,preventInitialDataFetchInValueHelpDialog:true,dateFormatSettings:this._oDateFormatSettings,takeOverInputValue:false,fieldName:i.fieldName,type:i.type,maxLength:i.maxLength,displayFormat:i.displayFormat,displayBehaviour:i.displayBehaviour,title:i.label}));o.setShowSuggestion(true);o.setFilterSuggests(false);this._aValueListProvider.push(new sap.ui.comp.providers.ValueListProvider({loadAnnotation:true,fullyQualifiedFieldName:i.fullName,metadataAnalyser:this._oMetadataAnalyser,control:o,model:this._oParentODataModel,dateFormatSettings:this._oDateFormatSettings,typeAheadEnabled:true,aggregation:'suggestionRows',displayFormat:i.displayFormat,displayBehaviour:i.displayBehaviour}));};n.prototype._createDisplayOnlyTemplate=function(v,B){var t=null,o=null,i,p,A,r;if(v.displayFormat==='Date'||v.isCalendarDate){i=this._oDateFormatSettings;p={displayFormat:'Date'};}else if(v.type==='Edm.Decimal'){p={precision:v.precision,scale:v.scale};}else if(v.type==='Edm.String'){p={isDigitSequence:v.isDigitSequence};}o=g.getType(v.type,i,p,v.isCalendarDate);if(g.isNumeric(v.type)||g.isDateOrTime(v.type)||v.isCalendarDate){A='Right';}if(this._isMobileTable){if(v.isImageURL){t=new d({src:{path:v.name},width:'3em',height:'3em'});}else if(this._oSemanticKeyAnnotation&&this._oSemanticKeyAnnotation.semanticKeyFields&&this._oSemanticKeyAnnotation.semanticKeyFields.indexOf(v.name)>-1){t=this._createObjectIdentifierTemplate(v,o,this._oSemanticKeyAnnotation.semanticKeyFields.indexOf(v.name)===0);}}if(this._oLineItemAnnotation&&this._oLineItemAnnotation.urlInfo&&this._oLineItemAnnotation.urlInfo[v.name]){t=this._createLink(v,o,this._oLineItemAnnotation.urlInfo[v.name]);}else if(this._oLineItemAnnotation&&this._oLineItemAnnotation.criticality&&this._oLineItemAnnotation.criticality[v.name]){t=this._createObjectStatusTemplate(v,o,this._oLineItemAnnotation.criticality[v.name]);}if(!t){if(v.semanticObjects&&(!B)){t=this._createSmartLinkFieldTemplate(v,o,function(){return this._createDisplayOnlyTemplate(v,true);}.bind(this));}else if(v.unit){t=this._createMeasureFieldTemplate(v,o);}else{r=this._getDefaultBindingInfo(v,o);t=new b({wrapping:this._isMobileTable,textAlign:A,text:r});}}v.align=A;return t;};n.prototype._getDefaultBindingInfo=function(v,t){var B={path:v.name,type:t};if(this._bEnableDescriptions&&v.description){B={parts:[{path:v.name,type:t},{path:v.description}],formatter:function(i,s){return F.getFormattedExpressionFromDisplayBehaviour(v.displayBehaviour,i,s);}};}return B;};n.prototype._createLink=function(v,t,o){var i=null;v.linkProperties=o.parameters||o.urlPath;if(o.urlPath){i={path:o.urlPath};}else if(o.urlTarget){i=o.urlTarget;}return new L({text:this._getDefaultBindingInfo(v,t),wrapping:this._isMobileTable,href:i});};n.prototype._createObjectIdentifierTemplate=function(v,t,i){var o,s,p,r,u,w;var x;var y=this;if(v.semanticObjects){l.getDistinctSemanticObjects().then(function(z){x=l.hasDistinctSemanticObject(v.semanticObjects.defaultSemanticObject,z);if(x){w=new N({semanticObject:v.semanticObjects.defaultSemanticObject,additionalSemanticObjects:v.semanticObjects.additionalSemanticObjects,semanticObjectLabel:v.label,fieldName:v.name,semanticObjectController:y._oSemanticObjectController,navigationTargetsObtained:function(E){var o=sap.ui.getCore().byId(E.getSource().getControl());var A=E.getParameters().mainNavigation;if(A){A.setDescription(o.getText());}E.getParameters().show(o.getTitle(),A,undefined,undefined);}});y._aLinkHandlers.push(w);}});}if(v.description){switch(v.displayBehaviour){case'descriptionAndId':s=v.description;p=v.name;r=t;break;case'idAndDescription':s=v.name;p=v.description;u=t;break;case'idOnly':s=v.name;r=t;break;default:s=v.description;break;}}else{s=v.name;u=t;}o=new O({title:s?{path:s,type:u}:undefined,text:p?{path:p,type:r}:undefined,titleActive:v.semanticObjects?{path:'$sapuicompcontrolprovider_distinctSO>/distinctSemanticObjects/'+v.semanticObjects.defaultSemanticObject,formatter:function(z){return!!z;}}:false,titlePress:function(E){if(x&&w){w.setControl(E.getSource());w.openPopover(E.getParameter('domRef'));}}});o.attachEvent('ObjectIdentifier.designtime',function(E){if(w){w.setControl(E.getSource());E.getParameters().registerNavigationPopoverHandler(w);}});o.setModel(l.getJSONModel(),'$sapuicompcontrolprovider_distinctSO');if(this._oSemanticKeyAdditionalControl&&i){this._bSemanticKeyAdditionalControlUsed=true;return new V({renderType:'Bare',items:[o,this._oSemanticKeyAdditionalControl]}).addStyleClass('sapMTableContentMargin');}return o;};n.prototype._createObjectStatusTemplate=function(v,t,o){var s,i,p,B;p=h.getShowCriticalityIcon(o.criticalityRepresentationType);if(o.path){v.criticality=o.path;s={path:o.path,formatter:h.getCriticalityState};if(o.criticalityRepresentationPath){v.criticalityRepresentation=o.criticalityRepresentationPath;i={parts:[{path:o.path},{path:o.criticalityRepresentationPath}],formatter:function(r,u){return h.getShowCriticalityIcon(u)?h.getCriticalityIcon(r):undefined;}};}else if(p){i={path:o.path,formatter:h.getCriticalityIcon};}}else{s=h.getCriticalityState(o.criticalityType);if(o.criticalityRepresentationPath){v.criticalityRepresentation=o.criticalityRepresentationPath;i={path:o.criticalityRepresentationPath,formatter:function(r){return h.getShowCriticalityIcon(r)?h.getCriticalityIcon(o.criticalityType):undefined;}};}else if(p){i=h.getCriticalityIcon(o.criticalityType);}}if(v.unit){B={parts:[{path:v.name,type:t},{path:v.unit}],formatter:v.isCurrencyField?F.getInlineAmountFormatter():F.getInlineMeasureUnitFormatter(),useRawValues:v.isCurrencyField};}else{B=this._getDefaultBindingInfo(v,t);}return new c({text:B,state:s,icon:i});};n.prototype._createSmartLinkFieldTemplate=function(v,t,i){var B=v.unit?{parts:[{path:v.name,type:t},{path:v.unit}],formatter:v.isCurrencyField?F.getAmountCurrencyFormatter():F.getMeasureUnitFormatter(),useRawValues:true}:this._getDefaultBindingInfo(v,t);var o=new S({semanticObject:v.semanticObjects.defaultSemanticObject,additionalSemanticObjects:v.semanticObjects.additionalSemanticObjects,semanticObjectLabel:v.label,fieldName:v.name,text:B,uom:v.unit?{path:v.unit}:undefined,wrapping:this._isMobileTable,semanticObjectController:this._oSemanticObjectController,navigationTargetsObtained:function(E){var p=this.getBinding('text');if(!q.isArray(p.getValue())||v.unit){E.getParameters().show();return;}var r=p.getValue();var s=F.getTextsFromDisplayBehaviour(v.displayBehaviour,r[0],r[1]);var u=E.getParameters().mainNavigation;if(u){u.setDescription(s.secondText);}E.getParameters().show(s.firstText,u,undefined,undefined);}});o.setCreateControlCallback(i);return o;};n.prototype._createMeasureFieldTemplate=function(v,t){var o,A,i,p,u,E=false;E=!!(v.isCurrencyField&&this._oCurrencyFormatSettings&&this._oCurrencyFormatSettings.showCurrencySymbol);p=new b({layoutData:new sap.m.FlexItemData({growFactor:1,baseSize:'0%'}),textDirection:'LTR',wrapping:false,textAlign:'End',text:{parts:[{path:v.name,type:t},{path:v.unit}],formatter:v.isCurrencyField?F.getAmountCurrencyFormatter():F.getMeasureUnitFormatter(),useRawValues:v.isCurrencyField}});u=new b({layoutData:new sap.m.FlexItemData({shrinkFactor:0}),textDirection:'LTR',wrapping:false,textAlign:'Begin',width:'2.5em',text:{path:v.unit,formatter:E?F.getCurrencySymbolFormatter():undefined}});o=new H({renderType:'Bare',justifyContent:'End',items:[p,u]});o.addStyleClass('sapUiCompDirectionLTR');if(v.isCurrencyField&&this._isAnalyticalTable){A=new L({text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_MULTI_LINK_TEXT')||'Show Details',visible:{path:v.unit,formatter:j.isMultiCurrency},press:function(r){j.openMultiCurrencyPopover(r,{currency:v.name,unit:v.unit,additionalParent:this.useSmartToggle,smartTableId:this._smartTableId,template:i});}.bind(this)});i=o;i.bindProperty('visible',{path:v.unit,formatter:function(s){return!j.isMultiCurrency(s);}});o=new V({renderType:'Bare',items:[A,i]});}return o;};n.prototype._createFieldMetadata=function(o){var i=q.extend({},o);i.label=o.fieldLabel||o.name;i.quickInfo=o.quickInfo||i.label;i.displayBehaviour=i.displayBehaviour||this._oDefaultDropDownDisplayBehaviour;i.filterType=this._getFilterType(o);this._updateValueListMetadata(i);this._setAnnotationMetadata(i);return i;};n.prototype._updateValueListMetadata=function(o){o.hasValueListAnnotation=o['sap:value-list']!==undefined;if(o.hasValueListAnnotation){o.hasFixedValues=o['sap:value-list']==='fixed-values';}else if(o['com.sap.vocabularies.Common.v1.ValueList']){o.hasValueListAnnotation=true;o.hasFixedValues=this._oMetadataAnalyser.getValueListSemantics(o['com.sap.vocabularies.Common.v1.ValueList'])==='fixed-values';}};n.prototype._setAnnotationMetadata=function(o){if(o&&o.fullName){o.semanticObjects=this._oMetadataAnalyser.getSemanticObjectsFromAnnotation(o.fullName);}};n.prototype._getFilterType=function(o){if(g.isNumeric(o.type)){return'numeric';}else if(o.type==='Edm.DateTime'&&o.displayFormat==='Date'){return'date';}else if(o.type==='Edm.DateTimeOffset'){return'datetime';}else if(o.type==='Edm.String'){if(o.isCalendarDate){return'stringdate';}return'string';}else if(o.type==='Edm.Boolean'){return'boolean';}else if(o.type==='Edm.Time'){return'time';}return undefined;};n.prototype.destroy=function(){var o=function(A){var i;if(A){i=A.length;while(i--){A[i].destroy();}}};if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(!this._bSemanticKeyAdditionalControlUsed&&this._oSemanticKeyAdditionalControl&&this._oSemanticKeyAdditionalControl.destroy){this._oSemanticKeyAdditionalControl.destroy();}o(this._aValueHelpProvider);this._aValueHelpProvider=null;o(this._aValueListProvider);this._aValueListProvider=null;o(this._aLinkHandlers);this._aLinkHandlers=null;if(this._oHelper){this._oHelper.destroy();}this._oHelper=null;this._mSmartField=null;this._aODataFieldMetadata=null;this._oDateFormatSettings=null;this._oCurrencyFormatSettings=null;this._oDefaultDropDownDisplayBehaviour=null;this._oLineItemAnnotation=null;this._oSemanticKeyAnnotation=null;this._oParentODataModel=null;this.bIsDestroyed=true;};m=k.extend('sap.ui.comp.SmartToggle',{metadata:{library:'sap.ui.comp',properties:{editable:{type:'boolean',defaultValue:false}},aggregations:{edit:{type:'sap.ui.core.Control',multiple:false},display:{type:'sap.ui.core.Control',multiple:false}},associations:{ariaLabelledBy:{type:'sap.ui.core.Control',multiple:true,singularName:'ariaLabelledBy'}}},renderer:function(r,o){r.write('<span ');r.writeControlData(o);r.addClass('sapUiCompSmartToggle');r.writeClasses();r.write('>');r.renderControl(o.getEditable()?o.getEdit():o.getDisplay());r.write('</span>');}});m.prototype.getFocusDomRef=function(){var o=this.getEditable()?this.getEdit():this.getDisplay();if(o){return o.getFocusDomRef();}return k.prototype.getFocusDomRef.call(this);};m.prototype.getAccessibilityInfo=function(){var o=this.getEditable()?this.getEdit():this.getDisplay();if(o&&o.getAccessibilityInfo){return o.getAccessibilityInfo();}return null;};m.prototype.addAssociation=function(A,i,s){if(A==='ariaLabelledBy'){var E=this.getEdit(),o=this.getDisplay();E&&E.addAssociation(A,i,s);o&&o.addAssociation(A,i,s);}return k.prototype.addAssociation.apply(this,arguments);};m.prototype.removeAssociation=function(A,o,s){if(A==='ariaLabelledBy'){var E=this.getEdit(),i=this.getDisplay();E&&E.removeAssociation(A,o,s);i&&i.removeAssociation(A,o,s);}return k.prototype.removeAssociation.apply(this,arguments);};m.prototype.removeAllAssociation=function(A,s){if(A==='ariaLabelledBy'){var E=this.getEdit(),o=this.getDisplay();E&&E.removeAllAssociation(A,s);o&&o.removeAllAssociation(A,s);}return k.prototype.removeAllAssociation.apply(this,arguments);};return n;},true);\n",
	"sap/ui/comp/providers/TableProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser','./ControlProvider','sap/ui/comp/util/FormatUtil'],function(q,M,C,F){'use strict';var T=function(p){if(p){this._oParentODataModel=p.model;this.sEntitySet=p.entitySet;this._sIgnoredFields=p.ignoredFields;this._sInitiallyVisibleFields=p.initiallyVisibleFields;this.isEditableTable=p.isEditableTable;this._smartTableId=p.smartTableId;this._isAnalyticalTable=p.isAnalyticalTable;this._isMobileTable=p.isMobileTable;this.useSmartField=p.useSmartField;this.useSmartToggle=p.useSmartToggle;this._bSkipAnnotationParse=p.skipAnnotationParse==='true';this._sLineItemQualifier=p.lineItemQualifier;this._sPresentationVariantQualifier=p.presentationVariantQualifier;this.enableInResultForLineItem=p.enableInResultForLineItem==='true';this._oSemanticKeyAdditionalControl=p._semanticKeyAdditionalControl;try{this._oDateFormatSettings=p.dateFormatSettings?JSON.parse(p.dateFormatSettings):undefined;this._oCurrencyFormatSettings=p.currencyFormatSettings?JSON.parse(p.currencyFormatSettings):undefined;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;}catch(e){}}if(!this._oDateFormatSettings){this._oDateFormatSettings={};}if(!this._oDateFormatSettings.hasOwnProperty('UTC')){this._oDateFormatSettings['UTC']=true;}this._aODataFieldMetadata=[];this._aTableViewMetadata=[];this._aIgnoredFields=[];this._aInitiallyVisibleFields=[];this._oMetadataAnalyser=new M(this._oParentODataModel);this._oSemanticObjectController=p.semanticObjectController;this._intialiseMetadata();};T.prototype._intialiseMetadata=function(){var t=[],c=-1,i,l,f,o,s,S,a;this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntitySet);a=this._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.sEntitySet);if(!this._bSkipAnnotationParse){this._oPresentationVariant=this._oMetadataAnalyser.getPresentationVariantAnnotation(a,this._sPresentationVariantQualifier);if(this._oPresentationVariant){this._oLineItemAnnotation=this._oPresentationVariant.lineItemAnnotation;}if(!this._oLineItemAnnotation){this._oLineItemAnnotation=this._oMetadataAnalyser.getLineItemAnnotation(a,this._sLineItemQualifier);}}if(this._isMobileTable){this._oSemanticKeyAnnotation=this._oMetadataAnalyser.getSemanticKeyAnnotation(a);}if(!this._isAnalyticalTable){this._addLineItemNavigationFields(a);}S=this._oMetadataAnalyser.getEntityContainerAttribute('supported-formats');if(S){this._bSupportsExcelExport=S.indexOf('xlsx')>-1;}if(!this._oDefaultDropDownDisplayBehaviour){this._oDefaultDropDownDisplayBehaviour=this._oMetadataAnalyser.getTextArrangementValue(a);}this._generateArrays();this._oControlProvider=new C({metadataAnalyser:this._oMetadataAnalyser,model:this._oParentODataModel,fieldsMetadata:this._aODataFieldMetadata,lineItemAnnotation:this._oLineItemAnnotation,semanticKeyAnnotation:this._oSemanticKeyAnnotation,_semanticKeyAdditionalControl:this._oSemanticKeyAdditionalControl,isMobileTable:this._isMobileTable,isAnalyticalTable:this._isAnalyticalTable,smartTableId:this._smartTableId,dateFormatSettings:this._oDateFormatSettings,currencyFormatSettings:this._oCurrencyFormatSettings,defaultDropDownDisplayBehaviour:this._oDefaultDropDownDisplayBehaviour,useSmartField:this.useSmartField,useSmartToggle:this.useSmartToggle,enableDescriptions:true,entitySet:this.sEntitySet,semanticObjectController:this._oSemanticObjectController});this._oFieldSemanticObjectMap={};if(this._aODataFieldMetadata){l=this._aODataFieldMetadata.length;}for(i=0;i<l;i++){f=this._aODataFieldMetadata[i];if(this._aIgnoredFields.indexOf(f.name)>-1||!f.visible||f.hidden){continue;}if(f.type.indexOf('Edm.')===0){o=this._oControlProvider.getFieldViewMetadata(f,this.isEditableTable);this._enrichWithTableViewMetadata(o,c++);t.push(o);if(o.semanticObject){this._oFieldSemanticObjectMap[o.name]=o.semanticObject;}}}s=function(b,d){return b.index-d.index;};this._aTableViewMetadata=t.sort(s);if(this._isAnalyticalTable&&this._mDimensionFromText){this._aTableViewMetadata.forEach(function(b){var d=this._mDimensionFromText[b.name];if(d&&b.aggregationRole!=='dimension'){if(!b.additionalProperty){b.additionalProperty=d;}else{b.additionalProperty+=','+d;}}}.bind(this));}};T.prototype._addLineItemNavigationFields=function(f){var a,l,s,o;if(this._aODataFieldMetadata&&this._oLineItemAnnotation){a=this._oLineItemAnnotation.fields;if(a){l=a.length;}while(l--){s=a[l];if(s&&s.indexOf('/')>=0){o=this._oMetadataAnalyser.extractNavigationPropertyField(s,this.sEntitySet);if(o){o.name=o.parentPropertyName+'/'+o.name;if(o.description){o.description=o.parentPropertyName+'/'+o.description;}if(o.unit){o.unit=o.parentPropertyName+'/'+o.unit;}this._aODataFieldMetadata.push(o);}}}}};T.prototype.getFieldSemanticObjectMap=function(){return this._oFieldSemanticObjectMap;};T.prototype.getTableViewMetadata=function(){return this._aTableViewMetadata;};T.prototype.getSupportsExcelExport=function(){return this._bSupportsExcelExport;};T.prototype.getIsUTCDateHandlingEnabled=function(){return this._oDateFormatSettings?this._oDateFormatSettings.UTC:false;};T.prototype.getRequestAtLeastFields=function(){return(this._oPresentationVariant&&this._oPresentationVariant.requestAtLeastFields)?this._oPresentationVariant.requestAtLeastFields:[];};T.prototype._generateArrays=function(){if(this._sIgnoredFields){this._aIgnoredFields=this._sIgnoredFields.split(',');}if(this._sInitiallyVisibleFields){this._aInitiallyVisibleFields=this._sInitiallyVisibleFields.split(',');}};T.prototype._enrichWithTableViewMetadata=function(f,c){var a=[],n=[],p,l;var e=function(P){var N,t;if(P&&P.indexOf('/')>-1){t=P.split('/');t.pop();N=t.join('/');}return N;};this._updateLabel(f);f.isInitiallyVisible=this._isInitiallyVisible(f);f.index=this._getIndex(f,c);f.width=F.getWidth(f);if(f.isMeasureField&&f.unit){a.push(f.unit);}else if(f.description){a.push(f.description);}if(f.criticality){a.push(f.criticality);}if(f.criticalityRepresentation){a.push(f.criticalityRepresentation);}if(f.linkProperties&&f.linkProperties.length){a=a.concat(f.linkProperties);}if(f.fieldControlProperty){a.push(f.fieldControlProperty);}l=a.length;if(l){f.additionalProperty=a.join(',');while(l--){p=e(a[l]);if(p){n.push(p);}}}if(f.parentPropertyName){n.push(f.parentPropertyName);}f.navigationProperty=n.join(',');this._setSortOrder(f);if(this._isAnalyticalTable){f.summed=f.aggregationRole==='measure';this._setInResult(f);this._setGroupBy(f);this._mapDimensionFromTextProperty(f);}};T.prototype._isInitiallyVisible=function(f){var i=false;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields){i=this._oLineItemAnnotation.fields.indexOf(f.name)>-1;if(i&&!sap.ui.Device.system.desktop){var I=this._getFieldImportance(f);if(I){if(sap.ui.Device.system.tablet){i=I==='High'||I==='Medium';}else if(sap.ui.Device.system.phone){i=I==='High';}}}}if(!i&&this._aInitiallyVisibleFields){i=this._aInitiallyVisibleFields.indexOf(f.name)>-1;}return i;};T.prototype._setInResult=function(f){if(this._oPresentationVariant){if(this._oPresentationVariant.requestAtLeastFields&&this._oPresentationVariant.requestAtLeastFields.indexOf(f.name)>-1){f.inResult=true;}}else if(this.enableInResultForLineItem){if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields&&this._oLineItemAnnotation.fields.indexOf(f.name)>-1){f.inResult=true;}}};T.prototype._setSortOrder=function(f){var l;if(this._oPresentationVariant&&this._oPresentationVariant.sortOrderFields){l=this._oPresentationVariant.sortOrderFields.length;for(var i=0;i<l;i++){if(this._oPresentationVariant.sortOrderFields[i].name===f.name){f.sorted=true;f.sortOrder=this._oPresentationVariant.sortOrderFields[i].descending?'Descending':'Ascending';break;}}}};T.prototype._setGroupBy=function(f){if(this._oPresentationVariant&&this._oPresentationVariant.groupByFields&&this._oPresentationVariant.groupByFields.indexOf(f.name)>=0){f.grouped=true;}};T.prototype._getFieldImportance=function(f){var r=null;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.importance){r=this._oLineItemAnnotation.importance[f.name];}return r;};T.prototype._mapDimensionFromTextProperty=function(f){if(!f.description||f.aggregationRole!=='dimension'){return;}if(!this._mDimensionFromText){this._mDimensionFromText={};}this._mDimensionFromText[f.description]=f.name;};T.prototype._getIndex=function(f,c){var i=-1,l=0,I=0;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields){l=this._oLineItemAnnotation.fields.length;i=this._oLineItemAnnotation.fields.indexOf(f.name);}if(i<0&&this._aInitiallyVisibleFields){I=this._aInitiallyVisibleFields.length;i=this._aInitiallyVisibleFields.indexOf(f.name);if(i>-1){i+=l;}}if(i>-1){return i;}return c+l+I;};T.prototype._updateLabel=function(f){var l;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.labels){l=this._oLineItemAnnotation.labels[f.name];}if(l){f.label=l;if(f.template&&f.template.setSemanticObjectLabel){f.template.setSemanticObjectLabel(f.label);}}};T.prototype.destroy=function(){if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(this._oControlProvider&&this._oControlProvider.destroy){this._oControlProvider.destroy();}this._mDimensionFromText=null;this._oControlProvider=null;this._aODataFieldMetadata=null;this._aTableViewMetadata=null;this._aIgnoredFields=null;this._aInitiallyVisibleFields=null;this._sIgnoredFields=null;this._sInitiallyVisibleFields=null;this.bIsDestroyed=true;};return T;},true);\n",
	"sap/ui/comp/providers/TokenParser.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject'],function(q,M){'use strict';var T=function(d){this._sDefaultOperation=d;this._aKeyFields=[];this._mTypeOperations={'default':['EQ','BT','LT','LE','GT','GE','NE'],'string':['Contains','EQ','BT','StartsWith','EndsWith','LT','LE','GT','GE','NE'],'date':['EQ','BT','LT','LE','GT','GE','NE'],'time':['EQ','BT','LT','LE','GT','GE','NE'],'numeric':['EQ','BT','LT','LE','GT','GE','NE'],'numc':['Contains','EQ','BT','EndsWith','LT','LE','GT','GE','NE'],'boolean':['EQ']};this._init();};T.prototype._init=function(){this.createOperation('BT','foo...bar','...',/^.+\\.\\.\\..+$/,'$0...$1',function(t){var s=t.slice(0,t.indexOf(this.operation));var a=t.slice(t.indexOf(this.operation)+this.operation.length);return[s,a];});this.createOperation('EQ','=foo','=',/^\\=.+$/,'=$0');this.createOperation('Contains','*foo*','**',/^\\*.+\\*$/,'*$0*',function(t){return[t.slice(1,t.length-1).trim()];});this.createOperation('StartsWith','foo*','*',/^([^\\*].*)\\*$/,'$0*',function(t){return[t.slice(0,t.length-1).trim()];});this.createOperation('EndsWith','*foo','*',/^\\*(.*[^\\*])$/,'*$0');this.createOperation('LT','< foo','<',/^\\<([^\\=].*)$/,'<$0');this.createOperation('LE','<=foo','<=',/^\\<\\=(.+)$/,'<=$0');this.createOperation('GT','> foo','>',/^\\>([^\\=].*)$/,'>$0');this.createOperation('GE','>=foo','>=',/^\\>\\=(.+)$/,'>=$0');this.createOperation('NE','!=foo','!=',/^\\!\\=(.+)$/,'!(=$0)').exclude=true;};T.prototype.destroy=function(){this._oInput.removeValidator(this._validator);this._oInput=null;this._aOrgValidators=null;this._aKeyFields=null;this._mTypeOperations=null;};T.prototype.setDefaultOperation=function(o){this._sDefaultOperation=o;};T.prototype.getDefaultOperation=function(){return this._sDefaultOperation;};T.prototype.getOperations=function(){return this._mOperations;};T.prototype.getOperation=function(o){return this._mOperations&&this._mOperations[o];};T.prototype._getKeyFieldByLabel=function(l){var k;this._aKeyFields.some(function(K){if(K.label.toUpperCase()===l.toUpperCase()){k=K;}},this);return k;};T.prototype.addKeyField=function(k){this._aKeyFields.push(k);};T.prototype.getKeyFields=function(){return this._aKeyFields;};T.prototype.addTypeOperations=function(t,o){this._mTypeOperations[t]=o;};T.prototype.removeTypeOperations=function(t){delete this._mTypeOperations[t];};T.prototype.getTypeOperations=function(t){return this._mTypeOperations[t]||this._mTypeOperations['default'];};T.prototype.createOperation=function(o,e,O,r,t,p){if(!this._mOperations){this._mOperations={};}this._mOperations[o]={key:o,example:e,operation:O,re:r,template:t,exclude:false,parser:this,match:function(s,k){var a=this.re.exec(s);if(a){var v=this.parse(s);if(k){v.forEach(function(V){if(k.hasOwnProperty('maxLength')&&k.maxLength>=0&&V.length>k.maxLength){a=null;}if(k.oType){try{V=k.oType.parseValue(V,'string');k.oType.validateValue(V);}catch(b){a=null;}}},this);}}return a;},parse:p||function(s){return[s.slice(this.operation.length).trim()];},getFilledTemplate:function(s,k){var v=this.parse(s);var a=this.template;for(var i=0;i<v.length;i++){a=a.replace('$'+i,this.formatValue(v[i],false,k));}return a;},getConditionData:function(s,k){var a={};a.exclude=this.exclude;a.operation=this.exclude?'EQ':this.key;var v=this.parse(s);for(var i=0;i<v.length;i++){a['value'+(i+1)]=this.formatValue(v[i],true,k);}return a;},formatValue:function(v,P,k){if(!k){return v;}if(k.hasOwnProperty('maxLength')){if(k.maxLength>=0){v=v.substring(0,k.maxLength);}}if(k.displayFormat){if(k.displayFormat==='UpperCase'){v=v.toUpperCase();}}if(k.oType){try{v=k.oType.parseValue(v,'string');k.oType.validateValue(v);}catch(a){return'ERROR';}if(!P){v=k.oType.formatValue(v,'string');}}return v;}};return this._mOperations[o];};T.prototype.removeOperation=function(o){delete this._mOperations[o];};T.prototype.removeAllOperations=function(){var o=Object.keys(this._mOperations);o.forEach(function(a){delete this._mOperations[a];},this);};T.prototype.getTranslatedText=function(t,o,r){var s=o.key;t=t!=='default'?'_'+t.toUpperCase()+'_':'';if(t==='_STRING_'||t==='_BOOLEAN_'||t==='_NUMC_'){t='';}if(t==='_TIME_'){t='_DATE_';}if(!r){r='sap.m';}s='CONDITIONPANEL_OPTION'+t+s;var a=sap.ui.getCore().getLibraryResourceBundle(r).getText(s)||s;if(q.sap.startsWith(a,'CONDITIONPANEL_OPTION')){s='CONDITIONPANEL_OPTION'+o.key;a=sap.ui.getCore().getLibraryResourceBundle(r).getText(s);}return a;};T.prototype.associateInput=function(i){this._oInput=i;this._aOrgValidators=this._oInput._tokenizer?this._oInput._tokenizer._aTokenValidators.slice():[];this._oInput.removeAllValidators();this._oInput.addValidator(this._validator.bind(this));};T.prototype._validator=function(a){if(this._aOrgValidators){var t;this._aOrgValidators.some(function(v){t=v(a);return t;},this);if(t){return t;}}if(a.suggestionObject&&a.suggestionObject.getKey){var k=a.suggestionObject.getKey();var b=a.suggestionObject.getText();var c=a.suggestionObject.getAdditionalText();if(c){return this._onValidate(c);}else{return new sap.m.Token({key:k,text:b+' ('+k+')',tooltip:b});}}if(a.suggestedToken){var s=a.suggestedToken.getText();var K=a.suggestedToken.getKey();a.suggestedToken.setText(s+' ('+K+')');a.suggestedToken.setTooltip(a.suggestedToken.getText());return a.suggestedToken;}if(a.text){return this._onValidate(a.text);}return null;};T.prototype._onValidate=function(t){var k=this._aKeyFields.length>0?this._aKeyFields[0]:null;if(this._oInput._getIsSuggestionPopupOpen&&this._oInput._getIsSuggestionPopupOpen()&&this._oInput._oSuggestionTable&&this._oInput._oSuggestionTable.getSelectedItem()){return null;}if(k){var a=/^\\w+\\:\\s/.exec(t);if(a){var K=a[0];k=this._getKeyFieldByLabel(K.slice(0,K.indexOf(':')));t=t.slice(a[0].length).trim();}}var b=k&&k.type||'default';var c=this.getTypeOperations(b);var C=function(o,t){if(o.match(t,k)){var r=o.getConditionData(t,k);r.keyField=k?k.key:null;if(b=='numc'){if(['Contains','EndsWith'].indexOf(o.key)!=-1){r.value1=k.oType.formatValue(r.value1,'string');}}var s=(k&&k.label&&this._aKeyFields.length>1?k.label+': ':'')+o.getFilledTemplate(t,k);s=M.escapeSettingsValue(s);return new sap.m.Token({text:s,tooltip:s}).data('range',r);}return null;}.bind(this);var d;if(c.some(function(o){d=C(this._mOperations[o],t);return d;},this)){return d;}if(this._sDefaultOperation&&this._mOperations[this._sDefaultOperation]){t=this._mOperations[this._sDefaultOperation].template.replace('$0',t);return C(this._mOperations[this._sDefaultOperation],t);}return null;};return T;},true);\n",
	"sap/ui/comp/providers/ValueHelpProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/List','sap/m/PlacementType','sap/m/ResponsivePopover','sap/m/StandardListItem','./BaseValueListProvider','sap/ui/comp/util/FormatUtil','sap/ui/model/json/JSONModel','sap/ui/core/format/DateFormat'],function(q,L,P,R,S,B,F,J,D){'use strict';var V=B.extend('sap.ui.comp.providers.ValueHelpProvider',{constructor:function(p){if(p){this.preventInitialDataFetchInValueHelpDialog=p.preventInitialDataFetchInValueHelpDialog;this.sTitle=p.title;this.bSupportMultiselect=!!p.supportMultiSelect;this.bSupportRanges=p.supportRanges;this.bIsSingleIntervalRange=p.isSingleIntervalRange;this.bIsUnrestrictedFilter=p.isUnrestrictedFilter;this.bTakeOverInputValue=(p.takeOverInputValue===false)?false:true;if(this.bIsSingleIntervalRange){this.bSupportRanges=true;}this._sType=p.type;this._sMaxLength=p.maxLength;this._sScale=p.scale;this._sPrecision=p.precision;}B.apply(this,arguments);this._onInitialise();}});V.prototype._onInitialise=function(){if(this.oControl.attachValueHelpRequest){this._fVHRequested=function(e){if(!this.bInitialised){return;}this.oControl=e.getSource();this.bForceTriggerDataRetreival=e.getParameter('fromSuggestions');if(this.bTakeOverInputValue||this.bForceTriggerDataRetreival){this.sBasicSearchText=e.getSource().getValue();}this._createValueHelpDialog();}.bind(this);this.oControl.attachValueHelpRequest(this._fVHRequested);}};V.prototype._createValueHelpDialog=function(){if(!this.bCreated){this.bCreated=true;if(!this._oValueHelpDialogClass){sap.ui.require(['sap/ui/comp/valuehelpdialog/ValueHelpDialog'],this._onValueHelpDialogRequired.bind(this));}else{this._onValueHelpDialogRequired(this._oValueHelpDialogClass);}}};V.prototype._getTitle=function(){if(this.sTitle){return this.sTitle;}else if(this.oFilterProvider){return this.oFilterProvider._determineFieldLabel(this._fieldViewMetadata);}return'';};V.prototype._onValueHelpDialogRequired=function(a){this._oValueHelpDialogClass=a;var v=this.oControl.getId()+'-valueHelpDialog';this.oValueHelpDialog=new a(v,{stretch:sap.ui.Device.system.phone,basicSearchText:this.sBasicSearchText,supportRangesOnly:this.bIsSingleIntervalRange||!this.oPrimaryValueListAnnotation,supportMultiselect:this.bSupportMultiselect,title:this._getTitle(),supportRanges:this.bSupportRanges,displayFormat:this.sDisplayFormat,ok:this._onOK.bind(this),cancel:this._onCancel.bind(this),afterClose:function(){if(this.oPrimaryValueListAnnotation){this._resolveAnnotationData(this.oPrimaryValueListAnnotation);}this.oValueHelpDialog.destroy();this.bCreated=false;if(this.oControl&&this.oControl.focus&&!sap.ui.Device.system.phone){this.oControl.focus();}}.bind(this)});this.oControl.addDependent(this.oValueHelpDialog);this.oValueHelpDialog.suggest(function(c,f){if(this.oPrimaryValueListAnnotation){var C=function(b){c.setShowSuggestion(true);c.setFilterSuggests(false);c._oSuggestProvider=new b({control:c,fieldName:f,typeAheadEnabled:true,aggregation:'suggestionRows',displayFormat:this.sDisplayFormat,displayBehaviour:this.sTokenDisplayBehaviour,resolveInOutParams:false,annotation:this.oPrimaryValueListAnnotation,model:this.oODataModel,enableShowTableSuggestionValueHelp:false});}.bind(this);if(!sap.ui.require('sap/ui/comp/providers/ValueListProvider')){sap.ui.require(['sap/ui/comp/providers/ValueListProvider'],C);}else{C(sap.ui.comp.providers.ValueListProvider);return c._oSuggestProvider;}return null;}}.bind(this));if(this.bIsSingleIntervalRange){this.oValueHelpDialog.setIncludeRangeOperations([sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ],this._sType);this.oValueHelpDialog.setMaxIncludeRanges(1);this.oValueHelpDialog.setMaxExcludeRanges(0);this._updateInitialInterval();}else if((this._sType==='date'||this._sType==='time'||this._sType==='datetime')&&!this.bIsUnrestrictedFilter){this.oValueHelpDialog.setIncludeRangeOperations([sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ],this._sType);this.oValueHelpDialog.setMaxExcludeRanges(0);}if(this.oControl.$()&&this.oControl.$().closest('.sapUiSizeCompact').length>0){this.oValueHelpDialog.addStyleClass('sapUiSizeCompact');}else if(this.oControl.$()&&this.oControl.$().closest('.sapUiSizeCozy').length>0){this.oValueHelpDialog.addStyleClass('sapUiSizeCozy');}else if(q('body').hasClass('sapUiSizeCompact')){this.oValueHelpDialog.addStyleClass('sapUiSizeCompact');}else{this.oValueHelpDialog.addStyleClass('sapUiSizeCozy');}if(this.bSupportRanges){this.oValueHelpDialog.setRangeKeyFields([{label:this._getTitle(),key:this.sFieldName,type:this._sType,formatSettings:this._sType==='numc'?{isDigitSequence:true,maxLength:this._sMaxLength}:q.extend({},this._oDateFormatSettings,{UTC:false}),scale:this._sScale,precision:this._sPrecision,maxLength:this._sMaxLength}]);}if(!(this.bIsSingleIntervalRange||!this.oPrimaryValueListAnnotation)){this.oValueHelpDialog.setModel(this.oODataModel);this._createAdditionalValueHelpControls();this._createCollectiveSearchControls();}if(this.oControl.getTokens){var t=this.oControl.getTokens();this.oValueHelpDialog.setTokens(t);}this.oValueHelpDialog.open();};V.prototype._updateInitialInterval=function(){var i=this.oControl.getValue(),t,r,v,f,d;if(i){t=new sap.m.Token();r={exclude:false,keyField:this.sFieldName};if(this._sType==='numeric'){v=F.parseFilterNumericIntervalData(i);}else if(this._sType==='datetime'){v=F.parseDateTimeOffsetInterval(i);f=D.getDateTimeInstance(q.extend({},this._oDateFormatSettings,{UTC:false}));d=f.parse(v[0]);v[0]=d?d:new Date(v[0]);if(v.length===2){d=f.parse(v[1]);v[1]=d?d:new Date(v[1]);}}else{v=i.split('-');}if(v&&v.length===2){r.operation='BT';r.value1=v[0];r.value2=v[1];}else{r.operation='EQ';r.value1=i;}t.data('range',r);}if(t){this.oValueHelpDialog.setTokens([t]);}};V.prototype._createCollectiveSearchControls=function(){var p,l,I,i=0,a=0,o,A,r;if(this.additionalAnnotations&&this.additionalAnnotations.length){o=function(e){var s=e.getParameter('listItem'),b;p.close();if(s){b=s.data('_annotation');if(b){this._triggerAnnotationChange(b);}}}.bind(this);l=new L({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:o});r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');p=new R({placement:P.Bottom,showHeader:true,contentHeight:'30rem',title:r.getText('COLLECTIVE_SEARCH_SELECTION_TITLE'),content:[l],afterClose:function(){this.oValueHelpDialog._rotateSelectionButtonIcon(false);}.bind(this)});I=new S({title:this.oPrimaryValueListAnnotation.valueListTitle});I.data('_annotation',this.oPrimaryValueListAnnotation);l.addItem(I);l.setSelectedItem(I);this.oValueHelpDialog.oSelectionTitle.setText(this.oPrimaryValueListAnnotation.valueListTitle);this.oValueHelpDialog.oSelectionTitle.setTooltip(this.oPrimaryValueListAnnotation.valueListTitle);a=this.additionalAnnotations.length;for(i=0;i<a;i++){A=this.additionalAnnotations[i];I=new S({title:A.valueListTitle});I.data('_annotation',A);l.addItem(I);}this.oValueHelpDialog.oSelectionButton.setVisible(true);this.oValueHelpDialog.oSelectionTitle.setVisible(true);this.oValueHelpDialog.oSelectionButton.attachPress(function(){if(!p.isOpen()){this.oValueHelpDialog._rotateSelectionButtonIcon(true);p.openBy(this.oValueHelpDialog.oSelectionButton);}else{p.close();}}.bind(this));}};V.prototype._triggerAnnotationChange=function(a){this.oValueHelpDialog.oSelectionTitle.setText(a.valueListTitle);this.oValueHelpDialog.oSelectionTitle.setTooltip(a.valueListTitle);this.oValueHelpDialog.resetTableState();this._resolveAnnotationData(a);this._createAdditionalValueHelpControls();};V.prototype._createAdditionalValueHelpControls=function(){var b=null;this.oValueHelpDialog.setKey(this.sKey);this.oValueHelpDialog.setKeys(this._aKeys);this.oValueHelpDialog.setDescriptionKey(this.sDescription);this.oValueHelpDialog.setTokenDisplayBehaviour(this.sTokenDisplayBehaviour);var c=new J();c.setData({cols:this._aCols});this.oValueHelpDialog.setModel(c,'columns');if(this.bSupportBasicSearch){b=this.sKey;}if(this.oSmartFilterBar){this.oSmartFilterBar._setCollectiveSearch(null);this.oSmartFilterBar.destroy();}this.oSmartFilterBar=new sap.ui.comp.smartfilterbar.SmartFilterBar(this.oValueHelpDialog.getId()+'-smartFilterBar',{entitySet:this.sValueListEntitySetName,basicSearchFieldName:b,enableBasicSearch:this.bSupportBasicSearch,advancedMode:true,showGoOnFB:!sap.ui.Device.system.phone,expandAdvancedArea:(!this.bForceTriggerDataRetreival&&sap.ui.Device.system.desktop),search:this._onFilterBarSearchPressed.bind(this),reset:this._onFilterBarResetPressed.bind(this),filterChange:this._onFilterBarFilterChange.bind(this),initialise:this._onFilterBarInitialise.bind(this)});if(this._oDateFormatSettings){this.oSmartFilterBar.data('dateFormatSettings',this._oDateFormatSettings);}this.oSmartFilterBar.isRunningInValueHelpDialog=true;this.oValueHelpDialog.setFilterBar(this.oSmartFilterBar);};V.prototype._onFilterBarFilterChange=function(){if(this.oValueHelpDialog.isOpen()){var t=this.oValueHelpDialog.getTable();if(t){t.setShowOverlay(true);this.oValueHelpDialog.TableStateSearchData();}}};V.prototype._onFilterBarSearchPressed=function(){this._rebindTable();};V.prototype._rebindTable=function(){var f,p,b,t,e,s;f=this.oSmartFilterBar.getFilters();p=this.oSmartFilterBar.getParameters()||{};if(this.aSelect&&this.aSelect.length){p['select']=this.aSelect.toString();}if(this.sKey&&this._oMetadataAnalyser){e=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sValueListEntitySetName);for(var i=0;i<e.length;i++){if(e[i].name===this.sKey&&e[i].sortable!==false){s=new sap.ui.model.Sorter(this.sKey);break;}}}b={path:'/'+this.sValueListEntitySetName,filters:f,parameters:p,sorter:s,events:{dataReceived:function(E){this.oValueHelpDialog.TableStateDataFilled();t.setBusy(false);var o=E.getSource(),a;if(o&&this.oValueHelpDialog&&this.oValueHelpDialog.isOpen()){a=o.getLength();if(a){this.oValueHelpDialog.update();}}}.bind(this)}};t=this.oValueHelpDialog.getTable();t.setShowOverlay(false);this.oValueHelpDialog.TableStateDataSearching();t.setBusy(true);if(t instanceof sap.m.Table){b.factory=function(I,c){var C=t.getModel('columns').getData().cols;return new sap.m.ColumnListItem({cells:C.map(function(a){var d=a.template;return new sap.m.Label({text:'{'+d+'}'});})});};t.bindItems(b);}else{t.bindRows(b);}};V.prototype._onFilterBarResetPressed=function(){this._calculateFilterInputData();if(this.oSmartFilterBar){this.oSmartFilterBar.setFilterData(this.mFilterInputData);}};V.prototype._onFilterBarInitialise=function(){var b=null;this._onFilterBarResetPressed();if(this.oSmartFilterBar&&this.oSmartFilterBar.getBasicSearchControl){b=this.oSmartFilterBar.getBasicSearchControl();if(b){b.setValue(this.sBasicSearchText);if(sap.ui.Device.system.phone&&b instanceof sap.m.SearchField){b.setShowSearchButton(true);}}}if(!this.preventInitialDataFetchInValueHelpDialog||this.bForceTriggerDataRetreival){this._rebindTable();this.bForceTriggerDataRetreival=false;}};V.prototype._onOK=function(c){var t=c.getParameter('tokens'),r,k,i=0,a=[],o=null,f;this._onCancel();if(this.oControl instanceof sap.m.MultiInput){this.oControl.setValue('');this.oControl.destroyTokens();this.oControl.setTokens(t);i=t.length;while(i--){o=t[i].data('row');if(o){a.push(o);}}}else{if(t[0]){if(this.bIsSingleIntervalRange){r=t[0].data('range');if(r){if(this._sType==='datetime'){f=D.getDateTimeInstance(q.extend({},this._oDateFormatSettings,{UTC:false}));if(typeof r.value1==='string'){r.value1=new Date(r.value1);}if(r.operation==='BT'){if(typeof r.value2==='string'){r.value2=new Date(r.value2);}k=f.format(r.value1)+'-'+f.format(r.value2);}else{k=f.format(r.value1);}}else{if(r.operation==='BT'){k=r.value1+'-'+r.value2;}else{k=r.value1;}}}}else{k=t[0].getKey();}o=t[0].data('row');if(o){a.push(o);}t[0].destroy();}this.oControl.setValue(k);this.oControl.fireChange({value:k,validated:true});}this._calculateAndSetFilterOutputData(a);};V.prototype._onCancel=function(){this.oValueHelpDialog.close();this.oValueHelpDialog.setModel(null);};V.prototype.destroy=function(){if(this.oControl&&this.oControl.detachValueHelpRequest){this.oControl.detachValueHelpRequest(this._fVHRequested);this._fVHRequested=null;}B.prototype.destroy.apply(this,arguments);if(this.oValueHelpDialog){this.oValueHelpDialog.destroy();this.oValueHelpDialog=null;}if(this.oSmartFilterBar){this.oSmartFilterBar.destroy();this.oSmartFilterBar=null;}this.sTitle=null;this._fieldViewMetadata=null;this._oValueHelpDialogClass=null;};return V;},true);\n",
	"sap/ui/comp/providers/ValueListProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/m/Column','sap/m/ColumnListItem','sap/m/Text','sap/m/Token','./BaseValueListProvider','sap/ui/core/Item','sap/ui/model/Filter','sap/ui/model/Sorter','sap/ui/model/json/JSONModel','sap/ui/comp/util/FormatUtil','sap/ui/comp/smartfilterbar/FilterProvider'],function(q,l,C,a,T,b,B,I,F,S,J,c,d){'use strict';var D=l.smartfilterbar.DisplayBehaviour;var V=B.extend('sap.ui.comp.providers.ValueListProvider',{constructor:function(p){if(!d){d=sap.ui.require('sap/ui/comp/smartfilterbar/FilterProvider');}if(p){this.sAggregationName=p.aggregation;this.bTypeAheadEnabled=p.typeAheadEnabled;this.bEnableShowTableSuggestionValueHelp=p.enableShowTableSuggestionValueHelp===undefined?true:p.enableShowTableSuggestionValueHelp;this.dropdownItemKeyType=p.dropdownItemKeyType;}B.apply(this,arguments);this._onInitialise();}});V.prototype._onInitialise=function(){if(!this.bTypeAheadEnabled){this.oAfterRenderingEventDelegate={onAfterRendering:this._onMetadataInitialised};this.oControl.addEventDelegate(this.oAfterRenderingEventDelegate,this);}else if(this.oControl.attachSuggest){this._fSuggest=function(e){this.oControl=e.getSource();if(!this.bInitialised){return;}if(!this.oTemplate||!this.oControl.data('_hassuggestionTemplate')){this._createSuggestionTemplate();}var f=e.getParameter('suggestValue');this._fetchData(f);}.bind(this);this.oControl.attachSuggest(this._fSuggest);if(!this.oFilterModel){var t=this;var s=this.oControl.setParent;this.oControl.setParent=function(n,A,e){var o=this.getParent();var r=s.apply(this,arguments);n=this.getParent();var f=!(n&&(o===null));if((n!==o)&&f){t.unbindAggregation();}return r;};}this._handleSelect();}};V.prototype._onMetadataInitialised=function(){if(this.bInitialised){if(this.oAfterRenderingEventDelegate){this.oControl.removeEventDelegate(this.oAfterRenderingEventDelegate,this);}if(this.sAggregationName&&this.sAggregationName=='suggestionRows'){this._createSuggestionTemplate();}else{this._createDropDownTemplate();}this._fetchData();if(this.oAfterRenderingEventDelegate){delete this.oAfterRenderingEventDelegate;}}};V.prototype._isSortable=function(n){if(this.oPrimaryValueListAnnotation){for(var i=0;i<this.oPrimaryValueListAnnotation.valueListFields.length;i++){if(this.oPrimaryValueListAnnotation.valueListFields[i].name===n){return this.oPrimaryValueListAnnotation.valueListFields[i].sortable!==false;}}return false;}return false;};V.prototype._createDropDownTemplate=function(){this._oTemplate=new I({key:{path:this.sKey,type:this.dropdownItemKeyType},text:{parts:[{path:this.sKey,type:this.dropdownItemKeyType},{path:this.sDescription}],formatter:function(i,s){return c.getFormattedExpressionFromDisplayBehaviour(this.sDDLBDisplayBehaviour,i,s);}.bind(this)}});this._oSorter=null;if(this.sDDLBDisplayBehaviour===D.idOnly||this.sDDLBDisplayBehaviour===D.idAndDescription){if(this._isSortable(this.sKey)){this._oSorter=new S(this.sKey);}}else{if(this._isSortable(this.sDescription)){this._oSorter=new S(this.sDescription);}else if((this.sDescription!==this.sKey)&&this._isSortable(this.sKey)){this._oSorter=new S(this.sKey);}}};V.prototype._createSuggestionTemplate=function(){var i=0,L=0,t,s=0;this._oTemplate=new a();if(this._aCols){this.oControl.removeAllSuggestionColumns();L=this._aCols.length;for(i=0;i<L;i++){var e=false,m='1px',w=this._aCols[i].width;if(sap.ui.Device.system.phone){w=undefined;if(i>=2){e=true;m=(i+1)*10+'rem';}}this.oControl.addSuggestionColumn(new C({header:new T({wrapping:false,text:this._aCols[i].label,tooltip:this._aCols[i].tooltip||this._aCols[i].label}),demandPopin:e,popinDisplay:sap.m.PopinDisplay.Inline,minScreenWidth:m,width:w}));t=null;if(this._aCols[i].type==='string'){t={path:this._aCols[i].template};}this._oTemplate.addCell(new T({wrapping:false,text:{path:this._aCols[i].template,type:this._aCols[i].oType},tooltip:t}));if(w){s+=parseFloat(w.substring(0,w.length-2));}}if(s>0){this.oControl.setProperty('maxSuggestionWidth',s+L+'em',true);}}this.oControl.data('_hassuggestionTemplate',true);};V.prototype._handleSelect=function(){var h=function(o,f){var k,t,e;if(o){k=o[this.sKey];t=o[this.sDescription];}if(k||(k==='')){if(this.oControl.addToken){t=c.getFormattedExpressionFromDisplayBehaviour(this.sTokenDisplayBehaviour,k,t);e=new b({key:k,text:t,tooltip:t});e.data('row',o);if(f){f(e);}delete this.oControl.__sValidationText;}else{this.oControl.setValue(k);this.oControl.fireChange({value:k,validated:true});}}this._calculateAndSetFilterOutputData([o]);}.bind(this);var A=function(){if(this.oFilterProvider&&this.oFilterProvider._oSmartFilter&&this.oFilterProvider._oSmartFilter.bIsSearchPending&&this.oFilterProvider._oSmartFilter.search){if(this.oFilterProvider._oSmartFilter.getLiveMode&&this.oFilterProvider._oSmartFilter.getLiveMode()){return;}this.oFilterProvider._oSmartFilter.search();}}.bind(this);if(this.oControl.addValidator){var v=this.oControl._tokenizer?this.oControl._tokenizer._aTokenValidators.slice():[];this.oControl.removeAllValidators();this._fValidator=function(o){if(!this.bInitialised){return;}if(v){var t;v.some(function(g){t=g(o);return t;},this);if(t){return t;}}var r=o.suggestionObject,e,i=o.text,f=[],p;if(r){e=this.oODataModel.getData(r.getBindingContextPath());h(e,o.asyncCallback);}else if(i){if(this.sDisplayFormat==='UpperCase'){i=i.toUpperCase();}if(this.oControl.__sValidationText!==i){this.oControl.__sValidationText=i;this.oControl.__bValidatingToken=true;this._calculateFilterInputData();if(this.mFilterInputData&&this.aFilterField){f=d.generateFilters(this.aFilterField,this.mFilterInputData);}f.push(new F(this.sKey,sap.ui.model.FilterOperator.EQ,i));if(this.bSupportBasicSearch){p={'search-focus':this.sKey};}this.oODataModel.read('/'+this.sValueListEntitySetName,{filters:f,urlParameters:p,success:function(R,g){var j=R;delete this.oControl.__bValidatingToken;if(R){if(R.results&&R.results.length>=1){if(R.results.length===1){j=R.results[0];}if(this.oControl.data('__validationError')){this.oControl.data('__validationError',null);this.oControl.setValueState('None');}}else{this.oControl.setValueState('Error');this.oControl.data('__validationError',true);}if(j&&j[this.sKey]){h(j,o.asyncCallback);}}A();}.bind(this),error:function(){if(this.oControl.data('__validationError')){this.oControl.setValueState('None');}delete this.oControl.__bValidatingToken;A();}.bind(this)});}else{if(this.oControl.data('__validationError')){this.oControl.setValueState(sap.ui.core.ValueState.Error);}}}}.bind(this);this.oControl.addValidator(this._fValidator);}else if(this.oControl.attachSuggestionItemSelected){this._fSuggestionItemSelected=function(e){var r=e.getParameter('selectedRow'),o;if(r){o=r.getModel().getData(r.getBindingContextPath());h(o);}};this.oControl.attachSuggestionItemSelected(this._fSuggestionItemSelected);}this.oControl.setRowResultFunction(function(s){var o,r='';if(s){o=s.getBindingContext();}if(o&&this.sKey){r=o.getProperty(this.sKey);}return r;}.bind(this));};V.prototype._fetchData=function(s){var p={},f=[],e,E;if(this.bTypeAheadEnabled){if(s&&this.sDisplayFormat==='UpperCase'){s=s.toUpperCase();}if(this.bSupportBasicSearch){p['custom']={'search-focus':this.sKey,'search':s};}this._calculateFilterInputData();if(this.mFilterInputData&&this.aFilterField){f=d.generateFilters(this.aFilterField,this.mFilterInputData,{dateSettings:this._oDateFormatSettings});}if(!this.bSupportBasicSearch){if(this._fieldViewMetadata&&this._fieldViewMetadata.filterType==='numc'){f.push(new F(this.sKey,sap.ui.model.FilterOperator.Contains,s));}else{f.push(new F(this.sKey,sap.ui.model.FilterOperator.StartsWith,s));}}e=10;if(this.bEnableShowTableSuggestionValueHelp){E={dataReceived:function(o){var g=o.getSource(),i;if(g){i=g.getLength();if(i&&i<=e){this.oControl.setShowTableSuggestionValueHelp(false);}else{this.oControl.setShowTableSuggestionValueHelp(true);}}}.bind(this)};}else{this.oControl.setShowTableSuggestionValueHelp(false);}}if(this.aSelect&&this.aSelect.length){p['select']=this.aSelect.toString();}if(!this.sValueListEntitySetName){q.sap.log.error('ValueListProvider','Empty sValueListEntitySetName for '+this.sAggregationName+' binding! (missing primaryValueListAnnotation)');}this.oControl.bindAggregation(this.sAggregationName,{path:'/'+this.sValueListEntitySetName,length:e,parameters:p,filters:f,sorter:this._oSorter,events:E,template:this._oTemplate,templateShareable:false});};V.prototype.unbindAggregation=function(){if(this.oControl){this.oControl.unbindAggregation(this.sAggregationName);}return this;};V.prototype.destroy=function(){if(this.oControl){if(this.oControl.detachSuggest){this.oControl.detachSuggest(this._fSuggest);this._fSuggest=null;}if(this.oControl.removeValidator){this.oControl.removeValidator(this._fValidator);this._fValidator=null;}else if(this.oControl.detachSuggestionItemSelected){this.oControl.detachSuggestionItemSelected(this._fSuggestionItemSelected);this._fSuggestionItemSelected=null;}this.oControl.unbindAggregation(this.sAggregationName);this.oControl.data('_hassuggestionTemplate',false);delete this.oControl.__sValidationText;delete this.oControl.__bValidatingToken;}B.prototype.destroy.apply(this,arguments);if(this.oJsonModel){this.oJsonModel.destroy();this.oJsonModel=null;}if(this._oTemplate){this._oTemplate.destroy();}this._oTemplate=null;this.sAggregationName=null;this.bTypeAheadEnabled=null;this._oSorter=null;};return V;},true);\n",
	"sap/ui/comp/smartchart/SmartChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.getCore().loadLibrary('sap.chart');sap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/chart/Chart','sap/chart/library','sap/chart/data/HierarchyDimension','sap/chart/data/Dimension','sap/chart/data/TimeDimension','sap/chart/data/Measure','sap/m/SegmentedButton','sap/m/Button','sap/m/Text','sap/m/FlexItemData','sap/ui/core/Item','sap/m/OverflowToolbar','sap/m/OverflowToolbarButton','sap/m/ToolbarSeparator','sap/m/ToolbarSpacer','sap/m/VBox','sap/m/VBoxRenderer','sap/ui/comp/providers/ChartProvider','sap/ui/comp/smartfilterbar/FilterProvider','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/comp/personalization/Util','sap/ui/Device','sap/ui/comp/odata/ODataModelUtil','sap/ui/comp/odata/MetadataAnalyser','sap/m/P13nFilterItem','sap/viz/ui5/controls/VizTooltip','sap/ui/comp/state/UIState','sap/m/SelectionDetails','sap/m/SelectionDetailsItem','sap/m/SelectionDetailsItemLine','sap/m/Title','sap/ui/comp/util/FormatUtil','sap/ui/comp/navpopover/NavigationPopoverHandler','sap/ui/core/InvisibleText','sap/m/OverflowToolbarLayoutData','sap/m/library','sap/ui/comp/personalization/Controller','sap/ui/comp/personalization/ChartWrapper'],function(q,c,C,d,H,D,T,M,S,B,f,F,I,O,g,h,j,V,k,m,o,p,r,s,P,t,u,v,w,x,U,y,z,A,E,G,N,J,K,L,Q,R){'use strict';var W=L.ToolbarDesign;var X=L.ListMode;var Y=L.ListType;var Z=L.PlacementType;var $;var _;var a1;var b1;var c1;var d1;var e1;var f1;var g1=V.extend('sap.ui.comp.smartchart.SmartChart',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartchart/SmartChart.designtime',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},smartFilterId:{type:'string',group:'Misc',defaultValue:null},ignoredFields:{type:'string',group:'Misc',defaultValue:null},requestAtLeastFields:{type:'string',group:'Misc',defaultValue:null},ignoreFromPersonalisation:{type:'string',group:'Misc',defaultValue:null},chartType:{type:'string',group:'Misc',defaultValue:null},ignoredChartTypes:{type:'string',group:'Misc',defaultValue:null},useVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},useChartPersonalisation:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:null},persistencyKey:{type:'string',group:'Misc',defaultValue:null},currentVariantId:{type:'string',group:'Misc',defaultValue:null},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},showDrillButtons:{type:'boolean',group:'Misc',defaultValue:true},showZoomButtons:{type:'boolean',group:'Misc',defaultValue:true},showSemanticNavigationButton:{type:'boolean',group:'Misc',defaultValue:true},showVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},showDownloadButton:{type:'boolean',group:'Misc',defaultValue:false},showDetailsButton:{type:'boolean',group:'Misc',defaultValue:false},showDrillBreadcrumbs:{type:'boolean',group:'Misc',defaultValue:false},showChartTooltip:{type:'boolean',group:'Misc',defaultValue:true},showLegendButton:{type:'boolean',group:'Misc',defaultValue:true},legendVisible:{type:'boolean',group:'Misc',defaultValue:true},selectionMode:{type:'sap.chart.SelectionMode',group:'Misc',defaultValue:sap.chart.SelectionMode.Multi},showFullScreenButton:{type:'boolean',group:'Misc',defaultValue:true},useTooltip:{type:'boolean',group:'Misc',defaultValue:true},useListForChartTypeSelection:{type:'boolean',group:'Misc',defaultValue:true},showChartTypeSelectionButton:{type:'boolean',group:'Misc',defaultValue:true},noData:{type:'string',group:'Misc',defaultValue:null},showToolbar:{type:'boolean',group:'Misc',defaultValue:true},toolbarStyle:{type:'sap.m.ToolbarStyle',group:'Appearance'},showDimensionsTitle:{type:'boolean',group:'Misc',defaultValue:true},showMeasuresTitle:{type:'boolean',group:'Misc',defaultValue:true}},associations:{smartVariant:{type:'sap.ui.core.Control',multiple:false}},aggregations:{toolbar:{type:'sap.m.Toolbar',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false},selectionDetailsItemActions:{type:'sap.ui.core.Item',multiple:true},selectionDetailsActions:{type:'sap.ui.core.Item',multiple:true},selectionDetailsActionGroups:{type:'sap.ui.core.Item',multiple:true}},events:{initialise:{},beforeRebindChart:{},dataReceived:{},afterVariantInitialise:{},afterVariantSave:{parameters:{currentVariantId:{type:'string'}}},afterVariantApply:{parameters:{currentVariantId:{type:'string'}}},showOverlay:{},fullScreenToggled:{parameters:{fullScreen:{type:'boolean'}}},selectionDetailsActionPress:{parameters:{action:{type:'sap.ui.core.Item'},itemContexts:{type:'sap.ui.model.Context'},level:{type:'sap.m.SelectionDetailsActionLevel'}}},chartDataChanged:{parameters:{changeTypes:{type:'object'}}}}},renderer:k.render});g1.prototype.init=function(){sap.m.FlexBox.prototype.init.call(this);this.addStyleClass('sapUiCompSmartChart');this.setFitContainer(true);this._bUpdateToolbar=true;this._oChartTypeModel=null;this.setHeight('100%');var a=new sap.ui.model.json.JSONModel({items:[]});this.setModel(a,'$smartChartTypes');this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._processResizeHandler(true);if(!this.getLayoutData()){this.setLayoutData(new F({growFactor:1,baseSize:'auto'}));}};g1.prototype._getVariantManagementControl=function(a){var b=null;if(a){if(typeof a==='string'){b=sap.ui.getCore().byId(a);}else{b=a;}if(b){if(!(b instanceof p)){q.sap.log.error('Control with the id='+typeof a.getId=='function'?a.getId():a+' not of expected type');return null;}}}return b;};g1.prototype._createVariantManagementControl=function(){if(this._oVariantManagement||(!this.getUseVariantManagement()&&!this.getUseChartPersonalisation())||!this.getPersistencyKey()){return;}var a=new sap.ui.comp.smartvariants.PersonalizableInfo({type:'chart',keyName:'persistencyKey',dataSource:this.getEntitySet()});a.setControl(this);var b=this.getSmartVariant();if(b){this._oVariantManagement=this._getVariantManagementControl(b);}else if(this._oSmartFilter&&this._oSmartFilter.data('pageVariantPersistencyKey')){b=this._oSmartFilter.getSmartVariant();if(b){this._oVariantManagement=this._getVariantManagementControl(b);}}else{this._oVariantManagement=new p(this.getId()+'-variant',{showShare:true});}if(this._oVariantManagement){if(!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(this.getShowVariantManagement());}this._oVariantManagement.addPersonalizableControl(a);this._oVariantManagement.attachSave(this._variantSaved,this);this._oVariantManagement.attachAfterSave(this._variantAfterSave,this);this._oVariantManagement.initialise(this._variantInitialised,this);}};g1.prototype._variantInitialised=function(){if(!this._oCurrentVariant){this._oCurrentVariant='STANDARD';}this.fireAfterVariantInitialise();if(this._oVariantManagement&&!this._oVariantManagement.getEnabled()){this._checkAndTriggerBinding();}};g1.prototype._variantSaved=function(){if(this._oPersController){this._oPersController.setPersonalizationData(this._oCurrentVariant);}};g1.prototype._variantAfterSave=function(){this.fireAfterVariantSave({currentVariantId:this.getCurrentVariantId()});};g1.prototype.setUseChartPersonalisation=function(b){this.setProperty('useChartPersonalisation',b,true);this._bUpdateToolbar=true;};g1.prototype.setUseTooltip=function(b){this.setProperty('useTooltip',b,true);this._createTooltipOrPopover();};g1.prototype._createTooltipOrPopover=function(){if(this.getUseTooltip()&&this.getShowChartTooltip()){this._toggleChartTooltipVisibility(true);}else{this._createPopover();}};g1.prototype._createPopover=function(){if(this._oChart){if(!$&&!this._bVizPopoverRequested){$=sap.ui.require('sap/viz/ui5/controls/Popover');if(!$){sap.ui.require(['sap/viz/ui5/controls/Popover'],h1.bind(this));this._bVizPopoverRequested=true;}}if(!this._oPopover&&$){this._oPopover=new $({});}if(this._oPopover){var a=sap.ui.getCore().byId(this._oChart.getVizUid());if(!a._onConnectPopover()){this._oPopover.connect(this._oChart.getVizUid());}}}};function h1(a){$=a;this._bVizPopoverRequested=false;if(!this._bIsBeingDestroyed){this._createPopover();}}g1.prototype._destroyPopover=function(){if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};g1.prototype.setUseVariantManagement=function(b){this.setProperty('useVariantManagement',b,true);if(this._oPersController){this._oPersController.setResetToInitialTableState(!b);}this._bUpdateToolbar=true;};g1.prototype.setToolbar=function(a){if(this._oToolbar){this.removeItem(this._oToolbar);}this._oToolbar=a;this._bUpdateToolbar=true;this._oToolbar.setVisible(this.getShowToolbar());this._oToolbar.setStyle(this.getToolbarStyle());};g1.prototype.getToolbar=function(){return this._oToolbar;};g1.prototype.setHeader=function(a){this.setProperty('header',a,true);this._refreshHeaderText();};g1.prototype._refreshHeaderText=function(){if(!this._headerText){this._bUpdateToolbar=true;return;}var a=this.getHeader();this._headerText.setText(a);};g1.prototype._createToolbar=function(){if(!this._oToolbar){this._oToolbar=new O({design:W.Transparent,height:'auto'});this._oToolbar.addStyleClass('sapUiCompSmartChartToolbar');}this._oToolbar.setLayoutData(new F({shrinkFactor:0}));this.insertItem(this._oToolbar,0);this._oToolbar.setVisible(this.getShowToolbar());this._oToolbar.setStyle(this.getToolbarStyle());};g1.prototype._createToolbarContent=function(){this._addVariantManagementToToolbar();this._addSeparatorToToolbar();this._addHeaderToToolbar();this._addSpacerToToolbar();this._addSemanticNavigationButton();this._addDetailsButton();this._addDrillUpDownButtons();this._addLegendButton();this._addZoomInOutButtons();this._addDownloadButton();this._addPersonalisationToToolbar();this._addFullScreenButton();this._addChartTypeToToolbar();if(this._oToolbar&&(this._oToolbar.getContent().length===0||(this._oToolbar.getContent().length===1&&this._oToolbar.getContent()[0]instanceof j))){this.removeItem(this._oToolbar);this._oToolbar.destroy();this._oToolbar=null;}};g1.prototype.setShowVariantManagement=function(b){this.setProperty('showVariantManagement',b);if(this._oVariantManagement&&this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(b);}};g1.prototype.setShowDetailsButton=function(b){this.setProperty('showDetailsButton',b);if(this._oSelectionDetails){this._oSelectionDetails.setVisible(b);if(this._oDrillDownTextButton){this._oDrillDownTextButton.setVisible(b);}this._setBehaviorTypeForDataSelection();}if(this._oDrillDownButton){this._oDrillDownButton.setVisible(!b);}};g1.prototype.setShowChartTypeSelectionButton=function(b){this.setProperty('showChartTypeSelectionButton',b);if(this._oChartTypeButton){this._oChartTypeButton.setVisible(b);}};g1.prototype.setShowDownloadButton=function(b){this.setProperty('showDownloadButton',b);if(this._oDownloadButton){this._oDownloadButton.setVisible(b);}};g1.prototype.setShowDrillBreadcrumbs=function(b){this.setProperty('showDrillBreadcrumbs',b);if(b&&!this._oDrillBreadcrumbs){this._addDrillBreadcrumbs();}if(this._oDrillBreadcrumbs){this._oDrillBreadcrumbs.setVisible(b);}if(this._oDrillUpButton){this._oDrillUpButton.setVisible(!b);}};g1.prototype.setShowChartTooltip=function(b){this.setProperty('showChartTooltip',b);this._toggleChartTooltipVisibility(b);};g1.prototype._setBehaviorTypeForDataSelection=function(){if(this.getShowDetailsButton()){this._oChart.setVizProperties({'interaction':{'behaviorType':'noHoverBehavior'}});}else{if(this._oChart.getVizProperties().interaction.behaviorType){var i=this._oChart.getVizProperties().interaction;delete i.behaviorType;this._oChart.setVizProperties({'interaction':i});}}};g1.prototype._addDrillBreadcrumbs=function(){if(!this._oDrillBreadcrumbs&&this.getShowDrillBreadcrumbs()){if((!_||!a1)&&!this._bBreadcrumbsRequested){_=sap.ui.require('sap/m/Breadcrumbs');a1=sap.ui.require('sap/m/Link');if(!_){sap.ui.require(['sap/m/Breadcrumbs','sap/m/Link'],i1.bind(this));this._bBreadcrumbsRequested=true;}}if(this._oChart&&_&&a1){this._oDrillBreadcrumbs=new _(this.getId()+'-drillBreadcrumbs',{visible:this.getShowDrillBreadcrumbs()}).addStyleClass('sapUiCompSmartChartBreadcrumbs');this.insertItem(this._oDrillBreadcrumbs,1);this._updateDrillBreadcrumbs();this._oChart.attachDrilledUp(function(e){this._updateDrillBreadcrumbs();}.bind(this));this._oChart.attachDrilledDown(function(e){this._updateDrillBreadcrumbs();}.bind(this));}}};function i1(b,l){_=b;a1=l;this._bBreadcrumbsRequested=false;if(!this._bIsBeingDestroyed){this._addDrillBreadcrumbs();}}g1.prototype.getDrillStackFilters=function(){var a=this.getChart().getDrillStack();var b=[];var e=function(i){if(!i){return;}if(i&&i.sPath&&i.sOperator){b.push(i);}if(i.aFilters){i.aFilters.forEach(function(l){e(l);});}};a.forEach(function(i){e(i.filter);});return b;};g1.prototype._getDrillStackDimensions=function(){var a=this.getChart().getDrillStack();var b=[];a.forEach(function(e){e.dimension.forEach(function(i){if(i!=null&&i!=''&&b.indexOf(i)==-1){b.push(i);}});});return b;};g1.prototype._updateDrillBreadcrumbs=function(){if(!this._oDrillBreadcrumbs){return;}var a=this._oChart.getDrillStack();var n=[];if(a){a.reverse();a.forEach(function(l,o1,p1){if(l.dimension.length>0&&typeof this._oChart.getDimensionByName(l.dimension[l.dimension.length-1])!='undefined'){if(this.getShowDrillBreadcrumbs()){this._oDrillBreadcrumbs.setVisible(true);}var q1=this._oChart.getDimensionByName(l.dimension[l.dimension.length-1]).getLabel();if(o1==0){this._oDrillBreadcrumbs.setCurrentLocationText(q1);}else{var r1=new a1({text:q1,press:function(s1){var t1=this._oDrillBreadcrumbs.indexOfLink(s1.getSource());this._oChart.drillUp(t1+1);this._oChart.fireDeselectData(s1);this._updateDrillBreadcrumbs();}.bind(this)});n.push(r1);}}else{if(o1==0){this._oDrillBreadcrumbs.setVisible(false);}}}.bind(this));}var b=this._oDrillBreadcrumbs.getLinks();n.reverse();var e=false;if(b.length!==n.length){e=true;}else{for(var i=0;i<n.length;i++){if(n[i].getText()!=b[i].getText()){e=true;break;}}}if(e){if(this._oDrillBreadcrumbs.getLinks()){this._oDrillBreadcrumbs.removeAllLinks();}for(var i=0;i<n.length;i++){this._oDrillBreadcrumbs.addLink(n[i]);}}};g1.prototype._addDetailsButton=function(){this._oSelectionDetails=new y(this.getId()+'-selectionDetails',{visible:this.getShowDetailsButton()});this._oSelectionDetails.registerSelectionDetailsItemFactory([],function(a,b,e,l){var n=[];for(var i=0;i<a.length;i++){n.push(new A({label:a[i].label,value:a[i].value,unit:a[i].unit}));}return new z({enableNav:(function(){if(this._determineSemanticObjectsforDetailsPopover(b,e).length>0){return true;}else{return false;}}.bind(this)()),lines:n}).setBindingContext(e);}.bind(this));this._oSelectionDetails.attachNavigate(function(e){if(e.getParameter('direction')==='back'){e.getParameter('content').destroy();}else{this._navigateToSemanticObjectDetails(e);}}.bind(this));this._oSelectionDetails.attachActionPress(function(e){var i=[];e.getParameter('items').forEach(function(a){i.push(a.getBindingContext());});this.fireSelectionDetailsActionPress({id:e.getParameter('id'),action:e.getParameter('action'),itemContexts:i,level:e.getParameter('level')});}.bind(this));this._oSelectionDetails.attachSelectionHandler('_selectionDetails',this._oChart);this._oSelectionDetails.attachBeforeOpen(function(e){var a=this._oSelectionDetails.getItems();a.forEach(function(l){var b=this._getDetailsActionsClones();b.selectionDetailsItemActions.forEach(function(n){l.addAction(n);});}.bind(this));var b=this._getDetailsActionsClones().selectionDetailsActions;this._oSelectionDetails.removeAllActions();b.forEach(function(l){this._oSelectionDetails.addAction(l);}.bind(this));var i=this._getDetailsActionsClones().selectionDetailsActionGroups;this._oSelectionDetails.removeAllActionGroups();i.forEach(function(l){this._oSelectionDetails.addActionGroup(l);}.bind(this));}.bind(this));this._oSelectionDetails.attachBeforeClose(function(e){if(this._oNavigationContainer){this._oNavigationContainer.destroy();}}.bind(this));this._oToolbar.addContent(this._oSelectionDetails);this._addDrillDownTextButton();};g1.prototype._getDetailsActionsClones=function(){var a={selectionDetailsItemActions:[],selectionDetailsActions:[],selectionDetailsActionGroups:[]};this.getSelectionDetailsItemActions().forEach(function(i){a.selectionDetailsItemActions.push(i.clone());});this.getSelectionDetailsActions().forEach(function(i){a.selectionDetailsActions.push(i.clone());});this.getSelectionDetailsActionGroups().forEach(function(i){a.selectionDetailsActionGroups.push(i.clone());});return a;};g1.prototype._addDownloadButton=function(){if(!this._oDownloadButton){this._oDownloadButton=new g(this.getId()+'btnDownload',{type:'Transparent',text:this._oRb.getText('CHART_DOWNLOADBTN_TEXT'),tooltip:this._oRb.getText('CHART_DOWNLOADBTN_TOOLTIP'),icon:'sap-icon://download',visible:this.getShowDownloadButton(),press:function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var a=new window.Blob([this._getVizFrame().exportToSVGString()],{'type':'image/svg+xml'});window.navigator.msSaveOrOpenBlob(a);}else{this._downloadChartPNG();}}.bind(this)});this._oToolbar.addContent(this._oDownloadButton);}};g1.prototype._downloadChartSVG=function(){var a=this.getHeader();var b=document.createElement('a');b.setAttribute('href','data:image/svg+xml,'+encodeURIComponent(this._getVizFrame().exportToSVGString()));b.setAttribute('download',a?a:'Chart'+'.svg');b.click();};g1.prototype._downloadChartPNG=function(){var a=this.getHeader();var b=this._getVizFrame().exportToSVGString();var e=document.createElement('canvas');var i=e.getContext('2d');var l=new Image();l.width=e.width=document.getElementById(this._oChart.getId()).offsetWidth;l.height=e.height=document.getElementById(this._oChart.getId()).offsetHeight;l.onload=function(){i.drawImage(l,0,0);var n=document.createElement('a');n.setAttribute('href',e.toDataURL());n.setAttribute('download',a?a:'Chart'+'.png');n.click();};l.setAttribute('crossOrigin','anonymous');l.src='data:image/svg+xml,'+encodeURIComponent(b);};g1.prototype._addFullScreenButton=function(){var a;if(this.getShowFullScreenButton()){a=new g(this.getId()+'-btnFullScreen',{type:'Transparent',press:function(){this._toggleFullScreen(!this.bFullScreen);}.bind(this)});this.oFullScreenButton=a;this._renderFullScreenButton();this._oToolbar.addContent(a);}};g1.prototype._addZoomInOutButtons=function(){var a=this;this._oZoomInButton=new g(this.getId()+'-btnZoomIn',{type:'Transparent',text:this._oRb.getText('CHART_ZOOMINBTN_TEXT'),tooltip:this._oRb.getText('CHART_ZOOMINBTN_TOOLTIP'),icon:'sap-icon://zoom-in',press:function(){if(a._oChart){a._oChart.zoom({direction:'in'});this._toggleZoomButtonEnablement();}}.bind(this),visible:this.getShowZoomButtons()});this._oZoomOutButton=new g(this.getId()+'-btnZoomOut',{type:'Transparent',text:this._oRb.getText('CHART_ZOOMOUTBTN_TEXT'),tooltip:this._oRb.getText('CHART_ZOOMOUTBTN_TOOLTIP'),icon:'sap-icon://zoom-out',press:function(){if(a._oChart){a._oChart.zoom({direction:'out'});this._toggleZoomButtonEnablement();}}.bind(this),visible:this.getShowZoomButtons()});this._oToolbar.addContent(this._oZoomInButton);this._oToolbar.addContent(this._oZoomOutButton);this._oChart.attachRenderComplete(this._toggleZoomButtonEnablement,this);};g1.prototype._toggleZoomButtonEnablement=function(){var i=this._oChart.getZoomInfo().currentZoomLevel;if(i===undefined){return;}else if(i===null){this._oZoomOutButton.setEnabled(false);this._oZoomInButton.setEnabled(false);}else if(i===0){this._oZoomOutButton.setEnabled(false);this._oZoomInButton.setEnabled(true);}else if(i===1){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else{if(this._oZoomOutButton.getEnabled()==false){this._oZoomOutButton.setEnabled(true);}if(this._oZoomInButton.getEnabled()==false){this._oZoomInButton.setEnabled(true);}}};g1.prototype.setShowZoomButtons=function(b){this.setProperty('showZoomButtons',b);if(this._oZoomInButton){this._oZoomInButton.setVisible(b);}if(this._oZoomOutButton){this._oZoomOutButton.setVisible(b);}};g1.prototype.setShowFullScreenButton=function(b){this.setProperty('showFullScreenButton',b);if(this.oFullScreenButton){this.oFullScreenButton.setVisible(b);}};g1.prototype.setLegendVisible=function(b){this.setProperty('legendVisible',b);this._setLegendVisible(b);};g1.prototype._setLegendVisible=function(b){var a=this._getVizFrame();if(a){a.setLegendVisible(b);}};g1.prototype._getVizFrame=function(){var a=null;if(this._oChart){a=this._oChart.getAggregation('_vizFrame');}return a;};g1.prototype._addLegendButton=function(){var a=this;this._oLegendButton=new g(this.getId()+'-btnLegend',{type:'Transparent',text:this._oRb.getText('CHART_LEGENDBTN_TEXT'),tooltip:this._oRb.getText('CHART_LEGENDBTN_TOOLTIP'),icon:'sap-icon://legend',press:function(){a.setLegendVisible(!a.getLegendVisible());},visible:this.getShowLegendButton()});this._oToolbar.addContent(this._oLegendButton);};g1.prototype.setShowLegendButton=function(b){this.setProperty('showLegendButton',b);if(this._oLegendButton){this._oLegendButton.setVisible(b);}};g1.prototype.setShowSemanticNavigationButton=function(b){this.setProperty('showSemanticNavigationButton',b);if(this._oSemanticalNavButton){this._oSemanticalNavButton.setVisible(b);}else{if(b){this._addSemanticNavigationButton();}}};g1.prototype._addSemanticNavigationButton=function(){var a=this,b;if(!this._oSemanticalNavButton&&this.getShowSemanticNavigationButton()&&this._oToolbar){this._oSemanticalNavButton=new B(this.getId()+'-btnNavigation',{type:'Transparent',text:this._oRb.getText('CHART_SEMNAVBTN'),tooltip:this._oRb.getText('CHART_SEMNAVBTN_TOOLTIP'),visible:this.getShowSemanticNavigationButton(),enabled:false});var n=new N({control:this._oSemanticalNavButton,navigationTargetsObtained:function(l){var o1=l.getParameters().mainNavigation;if(o1){var p1=l.getSource().getBindingContext().getObject();var q1=this._getField(l.getSource().getFieldName());var r1=G.getTextsFromDisplayBehaviour(q1.displayBehaviour,p1[q1.name],p1[q1.description]);o1.setDescription(r1.secondText);l.getParameters().show(r1.firstText,o1,undefined,undefined);}l.getParameters().show();}.bind(this)});var e=this.getSemanticObjectController();if(e){n.setSemanticObjectController(e);}this._oSemanticalNavButton.attachPress(function(l){if(b&&(b.length>0)){if(b.length===1){var o1=v.getSemanticObjectsFromProperty(b[0]);if(o1){n.setFieldName(b[0].name);n.setSemanticObject(o1.defaultSemanticObject);n.setAdditionalSemanticObjects(o1.additionalSemanticObjects);n.openPopover();}}else{a._semanticObjectList(b,n);}}});if(this._oChart){this._oChart.attachDeselectData(function(){b=a._setSelectionDataPointHandling(n);});this._oChart.attachSelectData(function(){b=a._setSelectionDataPointHandling(n);});}var i=this._indexOfSpacerOnToolbar();this._oToolbar.insertContent(this._oSemanticalNavButton,i+1);}};g1.prototype.setSelectionMode=function(a){this.setProperty('selectionMode',a);if(this._oChart){this._oChart.setSelectionMode(a);}};g1.prototype._setSelectionDataPointHandling=function(n){var a=this._setSelectionDataPoint(n);if(a&&a.length>0){this._oSemanticalNavButton.setEnabled(true);}else{this._oSemanticalNavButton.setEnabled(false);}return a;};g1.prototype._setSemanticObjectsContext=function(e){var a,b,i=null;a=e.getParameter('item').getBindingContext();if(a){b=a.getObject();if(b){i=this._determineSemanticObjectsforDetailsPopover(b,a);}}return i;};g1.prototype._setSelectionDataPoint=function(n){var a,b,e=null,l;var o1=this._oChart.getSelectedDataPoints();if(!o1||!o1.dataPoints||(o1.dataPoints.length===0)){return e;}if(o1.dataPoints.length===1){a=o1.dataPoints[0].context;if(a){b=a.getObject();if(b){e=this._determineSemanticObjects(b,a);if(e&&(e.length>0)){n.setBindingContext(a);}}}return e;}l=[];for(var i=0;i<o1.dataPoints.length;i++){a=o1.dataPoints[i].context;if(a){b=a.getObject();if(b){l.push(b);}}}if(l&&l.length>0){e=this._condensBasedOnSameValue(l);if(e&&e.length>0){n.setBindingContext(o1.dataPoints[o1.dataPoints.length-1].context);}}return e;};g1.prototype._condensBasedOnSameValue=function(a){var b=null,e,l,n;b=this._determineSemanticObjects(a[0]);if(b&&b.length>0){for(var i=0;i<b.length;i++){l=b[i];n=l.name;if(this._bAllValuesAreEqual(a,n)){if(!e){e=[];}e.push(l);}}b=e;}return b;};g1.prototype._bAllValuesAreEqual=function(a,b){var e,l;for(var i=0;i<a.length;i++){e=a[i];if(i===0){l=e[b];continue;}if(l!=e[b]){return false;}}return true;};g1.prototype._semanticObjectList=function(a,n){var b,l,e,o1;if(this._oChart){if((!b1||!c1||!d1)&&!this._bSemanticObjectListRequested){b1=sap.ui.require('sap/m/ResponsivePopover');c1=sap.ui.require('sap/m/List');d1=sap.ui.require('sap/m/StandardListItem');if(!b1||!c1||!d1){sap.ui.require(['sap/m/ResponsivePopover','sap/m/List','sap/m/StandardListItem'],j1.bind(this));this._bSemanticObjectListRequested=true;this._oSemanticObjectListAttr={object:a,nav:n};}}if(!b1||!c1||!d1){return;}l=new c1({mode:X.SingleSelectMaster,selectionChange:function(p1){if(p1&&p1.mParameters&&p1.mParameters.listItem){var q1=p1.mParameters.listItem.data('semObj');if(q1){n.setFieldName(p1.mParameters.listItem.data('fieldName'));n.setSemanticObject(q1.defaultSemanticObject);n.setAdditionalSemanticObjects(q1.additionalSemanticObjects);n.openPopover();}}b.close();}});for(var i=0;i<a.length;i++){o1=a[i];e=new d1({title:o1.fieldLabel,type:Y.Active});e.data('semObj',v.getSemanticObjectsFromProperty(o1));e.data('fieldName',o1.name);l.addItem(e);}b=new b1({title:this._oRb.getText('CHART_SEMNAVBTN'),showHeader:false,contentWidth:'12rem',placement:Z.Left});b.addContent(l);b.openBy(this._oSemanticalNavButton);}};function j1(a,l,b){b1=a;c1=l;d1=b;this._bSemanticObjectListRequested=false;if(!this._bIsBeingDestroyed){this._semanticObjectList(this._oSemanticObjectListAttr.object,this._oSemanticObjectListAttr.nav);}delete this._oSemanticObjectListAttr;}g1.prototype._semanticObjectListForDetails=function(a,b){var l,e,n;if(!this._oChart){return undefined;}l=new c1({mode:X.SingleSelectMaster,rememberSelections:false,itemPress:function(i){if(i&&i.mParameters&&i.mParameters.listItem){var o1=i.mParameters.listItem.data('semObj');if(o1){var p1=new N({fieldName:i.mParameters.listItem.data('fieldName'),control:i.mParameters.listItem,semanticObject:o1.defaultSemanticObject,additionalSemanticObjects:o1.additionalSemanticObjects,navigationTargetsObtained:function(i){var q1=i.getParameters().mainNavigation;if(q1){var r1=b.getObject();var s1=this._getField(i.getSource().getFieldName());var t1=G.getTextsFromDisplayBehaviour(s1.displayBehaviour,r1[s1.name],r1[s1.description]);q1.setDescription(t1.secondText);i.getParameters().show(t1.firstText,q1,undefined,undefined);}i.getParameters().show();}.bind(this)});p1._getNavigationContainer().then(function(q1){var r1=q1.getDirectLink();if(r1){p1._fireInnerNavigate({text:r1.getText(),href:r1.getHref()});window.location.href=r1.getHref();q1.destroy();return;}q1.attachAvailableActionsPersonalizationPress(this._onAvailableActionsPersonalizationPress,this);this._oSelectionDetails.navTo('',q1);}.bind(this),function(q1){q.sap.log.error('NavigationContainer could not be determined: '+q1);});}}}.bind(this)});sap.ui.comp.navpopover.SemanticObjectController.getDistinctSemanticObjects().then(function(o1){for(var i=0;i<a.length;i++){n=a[i];if(sap.ui.comp.navpopover.SemanticObjectController.hasDistinctSemanticObject(n['com.sap.vocabularies.Common.v1.SemanticObject'].String,o1)){e=new d1({title:n.fieldLabel,type:Y.Navigation});e.setBindingContext(b);e.data('semObj',v.getSemanticObjectsFromProperty(n));e.data('fieldName',n.name);l.addItem(e);}}});return l;};g1.prototype._onAvailableActionsPersonalizationPress=function(e){var n=e.getSource();this._oSelectionDetails.setPopoverModal(true);n.openSelectionDialog(false,true,undefined,true,undefined).then(function(){this._oSelectionDetails.setPopoverModal(false);}.bind(this));};g1.prototype._determineSemanticObjects=function(e,i){var n,l,o1=[];if(e){for(n in e){if(n){l=this._getField(n);if(l&&l.isDimension&&l.isSemanticObject){o1.push(l);}}}}if(o1){o1.sort(function(a,b){return a.fieldLabel.localeCompare(b.fieldLabel);});}return o1;};g1.prototype._determineSemanticObjectsforDetailsPopover=function(e,i){var n,l,o1=[];if(e){for(n in e){if(n){l=this._getField(n);if(l&&l.isDimension&&l.isSemanticObject){o1.push(l);}}}}if(o1){o1.sort(function(a,b){return a.fieldLabel.localeCompare(b.fieldLabel);});}return o1;};g1.prototype._addDrillUpDownButtons=function(){if(this.getShowDrillButtons()){var a=this;this._oDrillUpButton=new g(this.getId()+'-btnDrillUp',{type:'Transparent',tooltip:this._oRb.getText('CHART_DRILLUPBTN_TOOLTIP'),text:this._oRb.getText('CHART_DRILLUPBTN_TEXT'),icon:'sap-icon://drill-up',press:function(){if(a._oChart){a._oChart.drillUp();}},visible:!this.getShowDrillBreadcrumbs()});this._oDrillDownButton=new g(this.getId()+'-btnDrillDown',{type:'Transparent',tooltip:this._oRb.getText('CHART_DRILLDOWNBTN_TOOLTIP'),text:this._oRb.getText('CHART_DRILLDOWNBTN_TEXT'),icon:'sap-icon://drill-down',press:function(e){a._drillDown(e);},visible:!this.getShowDetailsButton()});this._oToolbar.addContent(this._oDrillUpButton);this._oToolbar.addContent(this._oDrillDownButton);}};g1.prototype._addDrillDownTextButton=function(){this._oDrillDownTextButton=new B(this.getId()+'-btnDrillDownText',{type:'Transparent',text:this._oRb.getText('CHART_DRILLDOWNBTN_TEXT'),tooltip:this._oRb.getText('CHART_DRILLDOWNBTN_TOOLTIP'),enabled:true,visible:this.getShowDetailsButton(),layoutData:new K({closeOverflowOnInteraction:false}),press:function(e){this._drillDown(e);}.bind(this)});this._oToolbar.addContent(this._oDrillDownTextButton);};g1.prototype.setShowDrillButtons=function(b){this.setProperty('showDrillButtons',b);if(this._oDrillUpButton){this._oDrillUpButton.setVisible(b);}if(this._oDrillDownButton){this._oDrillDownButton.setVisible(b);}};g1.prototype._triggerSearchInPopover=function(e,l){var a,i,b,n,o1,p1;if(!e||!l){return;}a=e.getParameters();if(!a){return;}o1=a.newValue?a.newValue.toLowerCase():'';if(this._oChart){p1=l.getItems();for(i=0;i<p1.length;i++){n=p1[i].getTooltip();b=p1[i].getTitle();if((b&&(b.toLowerCase().indexOf(o1)>-1))||(n&&(n.toLowerCase().indexOf(o1)>-1))){p1[i].setVisible(true);}else{p1[i].setVisible(false);}}}};g1.prototype._drillDown=function(e,a){var b=this,l,n,o1,p1,q1,r1,s1,t1,i,u1,v1;if(this._oChart){if((!b1||!c1||!e1||!f1||!d1)&&!this._bDrillDownRequested){b1=sap.ui.require('sap/m/ResponsivePopover');c1=sap.ui.require('sap/m/List');e1=sap.ui.require('sap/m/Bar');f1=sap.ui.require('sap/m/SearchField');d1=sap.ui.require('sap/m/StandardListItem');if(!b1||!c1||!e1||!f1||!d1){sap.ui.require(['sap/m/ResponsivePopover','sap/m/List','sap/m/Bar','sap/m/SearchField','sap/m/StandardListItem'],k1.bind(this));this._bDrillDownRequested=true;this._oDrillDownSource=e.getSource();}}if(!b1||!c1||!e1||!f1||!d1){return;}r1=new c1({mode:X.SingleSelectMaster,selectionChange:function(e){if(e&&e.mParameters&&e.mParameters.listItem){if(e.mParameters.listItem.getType()===Y.Inactive){return;}var p1=e.mParameters.listItem.data('dim');if(p1){b._oChart.drillDown(p1);}}l.close();}});s1=new e1();t1=new f1({placeholder:this._oRb.getText('CHART_DRILLDOWN_SEARCH')});t1.attachLiveChange(function(e){b._triggerSearchInPopover(e,r1);});s1.addContentRight(t1);l=new b1({contentWidth:'25rem',contentHeight:'20rem',placement:Z.Bottom,subHeader:s1});if(t.system.desktop){var w1=new J({text:this._oRb.getText('CHART_DRILLDOWN_TITLE')});l.setShowHeader(false);l.addContent(w1);l.addAriaLabelledBy(w1);}else{l.setTitle(this._oRb.getText('CHART_DRILLDOWN_TITLE'));}l.addContent(r1);n=this._getDrillStackDimensions();o1=this._getSortedDimensions();if(o1.length<7){s1.setVisible(false);}for(i=0;i<o1.length;i++){p1=o1[i];if(n.indexOf(p1.getName())>-1){continue;}v1=this._oChartProvider.getViewField(p1.getName());if(!v1.filterable&&this._oChart.getSelectedDataPoints().count>0){continue;}q1=new d1({title:p1.getLabel(),type:Y.Active});q1.data('dim',p1);u1=this._getFieldTooltip(p1.name);if(u1){q1.setTooltip(u1);}r1.addItem(q1);}l.openBy(e?e.getSource():a);}};function k1(a,l,b,e,i){b1=a;c1=l;e1=b;f1=e;d1=i;this._bDrillDownRequested=false;if(!this._bIsBeingDestroyed){this._drillDown(null,this._oDrillDownSource);}delete this._oDrillDownSource;}g1.prototype._navigateToSemanticObjectDetails=function(e){var a=this._setSemanticObjectsContext(e);if(a&&(a.length>0)){if(a.length===1){var b=v.getSemanticObjectsFromProperty(a[0]);if(b){var i=e.getParameter('item');var n=new N({fieldName:a[0].name,control:i,semanticObject:b.defaultSemanticObject,additionalSemanticObjects:b.additionalSemanticObjects,navigationTargetsObtained:function(p1){var q1=p1.getParameters().mainNavigation;if(q1){var r1=i.getBindingContext().getObject();var s1=this._getField(p1.getSource().getFieldName());var t1=G.getTextsFromDisplayBehaviour(s1.displayBehaviour,r1[s1.name],r1[s1.description]);q1.setDescription(t1.secondText);p1.getParameters().show(t1.firstText,q1,undefined,undefined);}p1.getParameters().show();}.bind(this)});n._getNavigationContainer().then(function(p1){this._oNavigationContainer=p1;p1.attachAvailableActionsPersonalizationPress(this._onAvailableActionsPersonalizationPress,this);this._oSelectionDetails.navTo('',p1);}.bind(this),function(p1){q.sap.log.error('NavigationContainer could not be determined');});}}else{var l=e.getParameter('item').getBindingContext();if((!c1||!d1)&&!this._bObjectListRequested){c1=sap.ui.require('sap/m/List');d1=sap.ui.require('sap/m/StandardListItem');if(!c1||!d1){sap.ui.require(['sap/m/List','sap/m/StandardListItem'],l1.bind(this));this._bObjectListRequested=true;this._oObjectListAttr={context:l,objects:a};}}if(c1&&d1){var o1=this._semanticObjectListForDetails(a,l);this._oSelectionDetails.navTo(this._oRb.getText('CHART_SEMNAVBTN'),o1);}}}};function l1(l,a){c1=l;d1=a;this._bObjectListRequested=false;if(!this._bIsBeingDestroyed){var b=this._semanticObjectListForDetails(this._oObjectListAttr.objects,this._oObjectListAttr.context);this._oSelectionDetails.navTo(this._oRb.getText('CHART_SEMNAVBTN'),b);}delete this._oObjectListAttr;}g1.prototype._addHeaderToToolbar=function(){if(this.getHeader()&&this._oToolbar){if(!this._headerText){this._headerText=new E({});this._headerText.addStyleClass('sapMH4Style');this._headerText.addStyleClass('sapUiCompSmartChartHeader');}this._refreshHeaderText();this._oToolbar.insertContent(this._headerText,0);}else if(this._headerText&&this._oToolbar){this._oToolbar.removeContent(this._headerText);}};g1.prototype._addSeparatorToToolbar=function(){if(this.getHeader()&&this.getUseVariantManagement()&&this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oSeparator=new h();this._oToolbar.insertContent(this._oSeparator,0);if(!this._oToolbar.getHeight()){this._oToolbar.setHeight('auto');}}else if(this._oSeparator){this._oToolbar.removeContent(this._oSeparator);}};g1.prototype._addVariantManagementToToolbar=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){if(this.getUseVariantManagement()){this._oToolbar.insertContent(this._oVariantManagement,0);}else if(this._oVariantManagement){this._oToolbar.removeContent(this._oVariantManagement);}}};g1.prototype._addSpacerToToolbar=function(){if(this._indexOfSpacerOnToolbar()===-1){this._oToolbar.addContent(new j());}};g1.prototype._indexOfSpacerOnToolbar=function(){var a=this._oToolbar.getContent(),i,l;if(a){l=a.length;i=0;for(i;i<l;i++){if(a[i]instanceof j){return i;}}}return-1;};g1.prototype._addPersonalisationToToolbar=function(){if(this.getUseChartPersonalisation()){if(!this._oChartPersonalisationButton){this._oChartPersonalisationButton=new g(this.getId()+'-btnPersonalisation',{type:'Transparent',icon:'sap-icon://action-settings',text:this._oRb.getText('CHART_PERSOBTN_TEXT'),tooltip:this._oRb.getText('CHART_PERSOBTN_TOOLTIP'),press:function(e){this._oPersController.openDialog({dimeasure:{visible:true,payload:{availableChartTypes:this._getAvailableChartTypes()}},sort:{visible:true},filter:{visible:true}});}.bind(this)});}this._oToolbar.addContent(this._oChartPersonalisationButton);}else if(this._oChartPersonalisationButton){this._oToolbar.removeContent(this._oChartPersonalisationButton);}};g1.prototype._addChartTypeToToolbar=function(){this._oChartTypeButton=this._createChartTypeButton();this._oToolbar.addContent(this._oChartTypeButton);};g1.prototype._createChartTypeButton=function(){var a=new g(this.getId()+'-btnChartType',{visible:this.getShowChartTypeSelectionButton(),type:'Transparent',text:this._oRb.getText('CHART_TYPEBTN_TEXT'),layoutData:new K({closeOverflowOnInteraction:false}),press:function(e){this._displayChartTypes(e);}.bind(this)});this._enrichPassedButton(a,this._oChart.getChartType());return a;};g1.prototype._displayChartTypes=function(e,a){var b=this,i,l,n,o1,p1=false;if(this._bAvailableChartListIsOpen){return;}if(this._oChart&&(e||a)){if((!b1||!c1||!e1||!f1||!d1)&&!this._bChartTypesRequested){b1=sap.ui.require('sap/m/ResponsivePopover');c1=sap.ui.require('sap/m/List');e1=sap.ui.require('sap/m/Bar');f1=sap.ui.require('sap/m/SearchField');d1=sap.ui.require('sap/m/StandardListItem');if(!b1||!c1||!e1||!f1||!d1){sap.ui.require(['sap/m/ResponsivePopover','sap/m/List','sap/m/Bar','sap/m/SearchField','sap/m/StandardListItem'],m1.bind(this));this._bChartTypesRequested=true;this._oChartTypesSource=e.getSource();}}if(!b1||!c1||!e1||!f1||!d1){return;}var q1=e?e.getSource():a;var r1=new d1({title:'{$smartChartTypes>text}',icon:'{$smartChartTypes>icon}',selected:'{$smartChartTypes>selected}'});l=new c1({mode:X.SingleSelectMaster,items:{path:'$smartChartTypes>/items',template:r1},selectionChange:function(e){if(e&&e.mParameters&&e.mParameters.listItem){var t1=e.mParameters.listItem.getBinding('title');if(t1){var u1=t1.getContext();if(u1){var v1=u1.getObject();if(v1&&v1.key){b._setChartType(v1.key);b._enrichPassedButton(b._oChartTypeButton,b._oChart.getChartType());}}}}p1=true;b._rerenderControlInFullscreen();i.close();}});n=new e1();o1=new f1({placeholder:this._oRb.getText('CHART_TYPE_SEARCH')});o1.attachLiveChange(function(e){b._triggerSearchInPopover(e,l);});n.addContentRight(o1);i=new b1({placement:Z.Bottom,subHeader:n,contentWidth:'25rem'});i.attachAfterClose(function(e){if(!p1){}b._bAvailableChartListIsOpen=false;});i.setModel(this.getModel('$smartChartTypes'),'$smartChartTypes');if(t.system.desktop){var s1=new J({text:this._oRb.getText('CHART_TYPELIST_TEXT')});i.setShowHeader(false);i.addContent(s1);i.addAriaLabelledBy(s1);}else{i.setTitle(this._oRb.getText('CHART_TYPELIST_TEXT'));}i.addContent(l);if(l.getItems().length<7){n.setVisible(false);}this._bAvailableChartListIsOpen=true;i.openBy(q1);}};function m1(a,l,b,e,i){b1=a;c1=l;e1=b;f1=e;d1=i;this._bChartTypesRequested=false;if(!this._bIsBeingDestroyed){this._displayChartTypes(null,this._oChartTypesSource);}delete this._oChartTypesSource;}var n1={'bar':'sap-icon://horizontal-bar-chart','bullet':'sap-icon://horizontal-bullet-chart','bubble':'sap-icon://bubble-chart','column':'sap-icon://vertical-bar-chart','combination':'sap-icon://business-objects-experience','dual_bar':'sap-icon://horizontal-bar-chart','dual_column':'sap-icon://vertical-bar-chart','dual_combination':'sap-icon://business-objects-experience','dual_horizontal_combination':'sap-icon://business-objects-experience','dual_horizontal_stacked_combination':'sap-icon://business-objects-experience','dual_line':'sap-icon://line-chart','dual_stacked_bar':'sap-icon://full-stacked-chart','dual_stacked_column':'sap-icon://vertical-stacked-chart','dual_stacked_combination':'sap-icon://business-objects-experience','donut':'sap-icon://donut-chart','heatmap':'sap-icon://heatmap-chart','horizontal_stacked_combination':'sap-icon://business-objects-experience','line':'sap-icon://line-chart','pie':'sap-icon://pie-chart','scatter':'sap-icon://scatter-chart','stacked_bar':'sap-icon://full-stacked-chart','stacked_column':'sap-icon://vertical-stacked-chart','stacked_combination':'sap-icon://business-objects-experience','treemap':'sap-icon://Chart-Tree-Map','vertical_bullet':'sap-icon://vertical-bullet-chart','100_dual_stacked_bar':'sap-icon://full-stacked-chart','100_dual_stacked_column':'sap-icon://vertical-stacked-chart','100_stacked_bar':'sap-icon://full-stacked-chart','100_stacked_column':'sap-icon://full-stacked-column-chart','waterfall':'sap-icon://vertical-waterfall-chart','horizontal_waterfall':'sap-icon://horizontal-waterfall-chart'};g1.prototype._rerenderControlInFullscreen=function(){if(this.bFullScreen&&this._oFullScreenUtil){this.getChart().setLayoutData(new F({baseSize:'100%'}));this.invalidate(this.getChart());}};g1.prototype._getMatchingIcon=function(a){var i=n1[a];if(!i){i='';}return i;};g1.prototype._enrichPassedButton=function(b,a,e){if(!b){return;}if(e===undefined){e=a;var i=this._retrieveChartTypeDescription(a);if(i&&i.text){e=i.text;}}b.data('chartType',a);var l=this._getMatchingIcon(a);b.setIcon(l?l:'sap-icon://vertical-bar-chart');var n=(this._oChart.getChartType()===a)?'CHART_TYPE_TOOLTIP':'CHART_TYPE_UNSEL_TOOLTIP';b.setTooltip(this._oRb.getText(n,[e]));};g1.prototype._updateAvailableChartType=function(){var a=this,b,e,i=[];b=this.getModel('$smartChartTypes');if(!b){return;}e={items:i};var l=this._oChart.getChartType();this._getAvailableChartTypes().forEach(function(n){var o1={key:n.key,text:n.text,icon:a._getMatchingIcon(n.key),selected:l===n.key};i.push(o1);});b.setData(e);if(this._oSegmentedButton){this._updateVisibilityOfChartTypes(this._oSegmentedButton);}};g1.prototype._createPersonalizationController=function(){if(this._oPersController){return;}var a=this.data('p13nDialogSettings');if(typeof a==='string'){try{a=JSON.parse(a);}catch(e){a=null;}}a=this._setIgnoreFromPersonalisationToSettings(a);a=a||{};var b=R.createChartWrapper(this._oChart,this._oChart.data('p13nData'),this._aColumnKeysOrdered);if(this.$()&&this.$().closest('.sapUiSizeCompact').length>0){this._oChart.addStyleClass('sapUiSizeCompact');}this._oPersController=new Q(this.getId()+'-persoController',{table:b,setting:a,resetToInitialTableState:!this.getUseVariantManagement(),afterP13nModelDataChange:this._personalisationModelDataChange.bind(this)});this._oPersController.attachDialogConfirmedReset(function(){if(this._oDrillBreadcrumbs){this._updateDrillBreadcrumbs();}var i=sap.ui.getCore().byId(this.getId()+'-btnChartType');if(i){this._enrichPassedButton(i,this._oChart.getChartType());}}.bind(this));};g1.prototype._setIgnoreFromPersonalisationToSettings=function(a){var i=P.createArrayFromString(this.getIgnoreFromPersonalisation());if(i.length){if(!a){a={};}var b=function(e){if(!a[e]){a[e]={};}a[e].ignoreColumnKeys=i;};b('dimeasure');b('filter');b('sort');}return a;};g1.prototype._personalisationModelDataChange=function(e){this._oCurrentVariant=e.getParameter('persistentData');var a=e.getParameter('runtimeDeltaDataChangeType');var b=this._getChangeStatus(a);if(b===sap.ui.comp.personalization.ChangeType.Unchanged){return;}this._fireChartDataChanged(a);if(!this._bApplyingVariant){if(!this.getUseVariantManagement()){this._persistPersonalisation();}else if(this._oVariantManagement){this._oVariantManagement.currentVariantSetModified(true);}}this._updateAvailableChartType();this._enrichPassedButton(this._oChartTypeButton,this._oChart.getChartType());if(b===sap.ui.comp.personalization.ChangeType.TableChanged){if(this._oSemanticalNavButton){this._oSemanticalNavButton.setEnabled(false);}}else if(b===sap.ui.comp.personalization.ChangeType.ModelChanged&&this._bIsChartBound){if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindChart();}}if(this._oDrillBreadcrumbs){this._updateDrillBreadcrumbs();}};g1.prototype._fireChartDataChanged=function(a){var b={dimeasure:false,filter:false,sort:false};for(var e in a){if(a[e]!=='Unchanged'){b[e]=true;}}this.fireChartDataChanged({changeTypes:b});};g1.prototype._getChangeStatus=function(a){if(!a){return sap.ui.comp.personalization.ChangeType.ModelChanged;}if(a.sort===sap.ui.comp.personalization.ChangeType.ModelChanged||a.filter===sap.ui.comp.personalization.ChangeType.ModelChanged||a.dimeasure===sap.ui.comp.personalization.ChangeType.ModelChanged||a.group===sap.ui.comp.personalization.ChangeType.ModelChanged){return sap.ui.comp.personalization.ChangeType.ModelChanged;}if(a.sort===sap.ui.comp.personalization.ChangeType.TableChanged||a.filter===sap.ui.comp.personalization.ChangeType.TableChanged||a.dimeasure===sap.ui.comp.personalization.ChangeType.TableChanged||a.group===sap.ui.comp.personalization.ChangeType.TableChanged){return sap.ui.comp.personalization.ChangeType.TableChanged;}return sap.ui.comp.personalization.ChangeType.Unchanged;};g1.prototype.setEntitySet=function(e){this.setProperty('entitySet',e);this._initialiseMetadata();};g1.prototype.propagateProperties=function(){V.prototype.propagateProperties.apply(this,arguments);this._initialiseMetadata();};g1.prototype._initialiseMetadata=function(){if(!this.bIsInitialised){u.handleModelInit(this,this._onMetadataInitialised);}};g1.prototype._onMetadataInitialised=function(){this._bMetaModelLoadAttached=false;if(!this.bIsInitialised){this._createChartProvider();if(this._oChartProvider){this._oChartViewMetadata=this._oChartProvider.getChartViewMetadata();if(this._oChartViewMetadata){this.bIsInitialised=true;this._listenToSmartFilter();this._createVariantManagementControl();this._assignData();this._createContent();this._createToolbarContent();this._createPersonalizationController();this.fireInitialise();if(!this._oVariantManagement||(this._oVariantManagement&&this._bVariantInitialised)){this._checkAndTriggerBinding();}}}}};g1.prototype._checkAndTriggerBinding=function(){if(!this._bAutoBindingTriggered){this._bAutoBindingTriggered=true;if(this.getEnableAutoBinding()){if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindChart();}}}};g1.prototype._createChartProvider=function(){var a,e;e=this.getEntitySet();a=this.getModel();if(a&&!this._bChartCreated){this._aAlwaysSelect=[];this._aInitialSorters=[];this._createToolbar();this._createChart();this._addDrillBreadcrumbs();this._bChartCreated=true;}if(a&&e){this._oChartProvider=new m({entitySet:e,ignoredFields:this.getIgnoredFields(),dateFormatSettings:this.data('dateFormatSettings'),defaultDropDownDisplayBehaviour:this.data('defaultDimensionDisplayBehaviour'),skipAnnotationParse:this.data('skipAnnotationParse'),chartQualifier:this.data('chartQualifier'),presentationVariantQualifier:this.data('presentationVariantQualifier'),model:a,chartLibrary:d});}};g1.prototype._listenToSmartFilter=function(){this._fetchSmartFilter();if(this._oSmartFilter){this._oSmartFilter.attachSearch(this._reBindChart,this);this._oSmartFilter.attachFilterChange(this._filterChangeEvent,this);this.setNoData(this._oRb.getText('CHART_NO_RESULTS'));}else{this.setNoData(this._oRb.getText('CHART_NO_DATA_WITHOUT_FILTERBAR'));}if(this._oChart){this._oChart.setCustomMessages({'NO_DATA':this.getNoData()});}};g1.prototype.getNoData=function(){var n=this.getProperty('noData');if(!n){this._fetchSmartFilter();if(this._oSmartFilter){n=this._oRb.getText('CHART_NO_DATA');}else{n=this._oRb.getText('CHART_NO_DATA_WITHOUT_FILTERBAR');}this.setNoData(n,true);}return n;};g1.prototype._fetchSmartFilter=function(){var a=null;a=this.getSmartFilterId();this._oSmartFilter=this._findControl(a);};g1.prototype._filterChangeEvent=function(){if(this._bIsChartBound&&this._oSmartFilter&&!this._oSmartFilter.getLiveMode()&&!this._oSmartFilter.isDialogOpen()){this._showOverlay(true);}};g1.prototype._renderOverlay=function(b){if(this._oChart){var a=this._oChart.$(),e=a.find('.sapUiCompSmartChartOverlay');if(b&&e.length===0){e=q('<div>').addClass('sapUiOverlay sapUiCompSmartChartOverlay').css('z-index','1');a.append(e);}else if(!b){e.remove();}}};g1.prototype.showOverlay=function(b){this._showOverlay(b);};g1.prototype._showOverlay=function(b){if(b){var a={show:true};this.fireShowOverlay({overlay:a});b=a.show;}this._hasOverlay=b;this._renderOverlay(b);};g1.prototype._findControl=function(i){var a,b;if(i){a=sap.ui.getCore().byId(i);if(!a){b=this._getView();if(b){a=b.byId(i);}}}return a;};g1.prototype._getView=function(){if(!this._oView){var a=this.getParent();while(a){if(a instanceof sap.ui.core.mvc.View){this._oView=a;break;}a=a.getParent();}}return this._oView;};g1.prototype._updateInResultDimensions=function(){var a=this._getInResultDimensionTotal();var b=function(n){var e=this.getChart().getInResultDimensions();if(e.length!=n.length){return false;}for(var i=0,l=e.length;i<l;i++){if(e[i]!=n[i]){return false;}}return true;}.bind(this);if(a.length>0&&!b(a)){this.getChart().setInResultDimensions(a);}};g1.prototype.rebindChart=function(){this._reBindChart();};g1.prototype._reBindChart=function(){var a,b,e=[],i,l,n,o1={},p1={preventChartBind:false};a=this._getChartPersonalisationData()||{};i=a.filters;l=a.excludeFilters;n=a.sorters;if(this._oSmartFilter){b=this._oSmartFilter.getFilters();o1=this._oSmartFilter.getParameters()||{};}if(b&&b.length){if(l){e=[new sap.ui.model.Filter([b[0],l],true)];}else{e=b;}}else if(l){e=[l];}if(i){i=e.concat(i);}else{i=e;}this._updateInResultDimensions();o1['entitySet']=this.getEntitySet();if(!n){n=[];}p1.filters=i;p1.sorter=n;p1.parameters=o1;p1.events={};this.fireBeforeRebindChart({bindingParams:p1});if(!p1.preventChartBind){n=p1.sorter;i=p1.filters;o1=p1.parameters;this._oChart.setBusy(true);this._bDataLoadPending=true;g1._addBindingListener(p1,'change',this._onDataLoadComplete.bind(this));g1._addBindingListener(p1,'dataReceived',this._onDataReceived.bind(this));var q1={path:this.getChartBindingPath()||('/'+this.getEntitySet()),parameters:o1,filters:i,sorter:n,events:p1.events};if(p1.length){q1.length=Math.min(p1.length,100);}else{var r1=this._oChartProvider.getMaxItems();if(r1>0){q1.length=r1;}}this._oChart.bindData(q1);this._showOverlay(false);this._bIsChartBound=true;}};g1.prototype._onDataReceived=function(e){if(e&&e.getParameter&&e.getParameter('__simulateAsyncAnalyticalBinding')){return;}this._onDataLoadComplete(e,true);this.fireDataReceived(e);};g1._addBindingListener=function(b,e,a){if(!b.events){b.events={};}if(!b.events[e]){b.events[e]=a;}else{var i=b.events[e];b.events[e]=function(){a.apply(this,arguments);i.apply(this,arguments);};}};g1.prototype._onDataLoadComplete=function(e,b){if(this._oSemanticalNavButton){this._oSemanticalNavButton.setEnabled(false);}if(this._bDataLoadPending||b){this._bDataLoadPending=false;this._updateAvailableChartType();this._oChart.setBusy(false);}};g1.prototype._assignData=function(){if(this._oChartViewMetadata&&this._oChart){if(this._oChartViewMetadata.measureFields&&(this._oChartViewMetadata.measureFields.length>0)){this._oChart.setVisibleMeasures(this._oChartViewMetadata.measureFields);}if(this._oChartViewMetadata.dimensionFields&&(this._oChartViewMetadata.dimensionFields.length>0)){this._oChart.setVisibleDimensions(this._oChartViewMetadata.dimensionFields);}if(!this.getChartType()&&this._oChartViewMetadata.chartType){this._setChartType(this._oChartViewMetadata.chartType);}}};g1.prototype._createP13nObject=function(a){if(a.sortable&&a.sorted){var b={columnKey:a.name,operation:a.sortOrder};this._aInitialSorters.push(b);}return{columnKey:a.name,leadingProperty:a.name,additionalProperty:a.additionalProperty,sortProperty:a.sortable?a.name:undefined,filterProperty:a.filterable?a.name:undefined,type:a.filterType,maxLength:a.maxLength,precision:a.precision,scale:a.scale,isMeasure:a.isMeasure,isDimension:a.isDimension,isHierarchyDimension:a.isHierarchyDimension,hierarchyLevel:a.hierarchyLevel,aggregationRole:a.aggregationRole,label:a.label,tooltip:a.quickInfo,sorted:a.sorted,sortOrder:a.sortOrder};};g1.prototype._createContent=function(){var i,l=0,a,b,e,n=[],o1,p1=this;var q1=[];this._aColumnKeysOrdered=[];q.extend(this._aColumnKeysOrdered,this._oChartViewMetadata.dimensionFields);this._aColumnKeysOrdered=this._aColumnKeysOrdered.concat(this._oChartViewMetadata.measureFields);l=this._oChartViewMetadata.fields.length;for(i=0;i<l;i++){b=null;a=this._oChartViewMetadata.fields[i];a.label=a.fieldLabel||a.name;if(this._aColumnKeysOrdered.indexOf(a.name)===-1){this._aColumnKeysOrdered.push(a.name);}if(this.getChart().getDimensionByName(a.name)===undefined&&this.getChart().getMeasureByName(a.name)===undefined){o1=this._createP13nObject(a);e={name:a.name,label:a.label,tooltip:a.quickInfo};}if(a.inResult){this._aAlwaysSelect.push(a.name);}if(a.isDimension||a.isHierarchyDimension){if(this.getChart().getDimensionByName(a.name)===undefined){if(a.isDimension){if(a.isTimeDimension){b=new T(e);switch(a.timeUnitType){case'Date':b.setTimeUnit(sap.chart.TimeUnitType.Date);break;case'yearmonthday':b.setTimeUnit(sap.chart.TimeUnitType.yearmonthday);break;default:break;}}else{b=new D(e);}}else{e.level=a.hierarchyLevel;b=new H(e);}this._oChart.addDimension(b);if(a.description){b.setTextProperty(a.description);b.setTextFormatter(function(s1,t1){var u1=this.getIdentity();var v1=p1._getDisplayBehaviour(u1);return G.getFormattedExpressionFromDisplayBehaviour(v1,s1,t1);});}else if(a.dateFormatter){b.setTextFormatter(a.dateFormatter);}}else{var r1=this.getChart().getDimensionByName(a.name).data('p13nData');if(r1){this.getChart().getDimensionByName(a.name).data('p13nData',typeof r1==='string'?JSON.parse(r1):r1);}}}else if(a.isMeasure){if(this.getChart().getMeasureByName(a.name)===undefined){b=new M(e);this._oChart.addMeasure(b);if(a.dataPoint){q1.push({dataPoint:a.dataPoint,measure:b});}if(a.unit){b.setUnitBinding(a.unit);}}else{var r1=this.getChart().getMeasureByName(a.name).data('p13nData');if(r1){this.getChart().getMeasureByName(a.name).data('p13nData',typeof r1==='string'?JSON.parse(r1):r1);}}}else if(a.sortable||a.filterable){n.push(o1);}if(b){if(a.role){b.setRole(a.role);}b.data('p13nData',o1);}}if(this._oChart){this._oChart.data('p13nData',n);}if(q1.length>0){this._enrichFromDataPoints(q1);}};g1.prototype._getDisplayBehaviour=function(n){var a=this._getField(n);if(a){return a.displayBehaviour;}return'';};g1.prototype._getField=function(n){var a,i,l;if(n&&this._oChartViewMetadata&&this._oChartViewMetadata.fields){l=this._oChartViewMetadata.fields.length;for(i=0;i<l;i++){a=this._oChartViewMetadata.fields[i];if(a.name===n){return a;}}}return null;};g1.prototype._createChart=function(){var a=this.getItems(),l=a?a.length:0,b,e=this;while(l--){b=a[l];if(b instanceof C){break;}b=null;}if(b){this._oChart=b;}else{this._oChart=new C({uiConfig:{applicationSet:'fiori'},busyIndicatorDelay:0,vizProperties:{title:{text:''},plotArea:{dataLabel:{hideWhenOverlap:false}},general:{groupData:false},valueAxis:{title:{visible:e.getShowMeasuresTitle()}},categoryAxis:{title:{visible:e.getShowDimensionsTitle()},layout:{autoHeight:true,autoWidth:true}}},selectionMode:this.getSelectionMode(),width:'100%'});this._toggleChartTooltipVisibility(this.getShowChartTooltip());this._setBehaviorTypeForDataSelection();this.insertItem(this._oChart,2);}this.setLegendVisible(this.getLegendVisible());if(!this._oChart.getLayoutData()){var i={growFactor:1};var n=this.getLayoutData();if(n&&n.getBaseSize){i.baseSize=n.getBaseSize();}else{i.baseSize='100%';}this._oChart.setLayoutData(new F(i));}if(this.getChartType()){this._setChartType(this.getChartType());}this._oChart.attachRenderComplete(function(){if(this._hasOverlay){setTimeout(function(){this._showOverlay(true);}.bind(this),0);}}.bind(this));this._oChart.setCustomMessages({'NO_DATA':this.getNoData()});this._createTooltipOrPopover();};g1.prototype._toggleChartTooltipVisibility=function(b){if(this._oChart){if(b){if(!this._vizTooltip){this._vizTooltip=new x();}this._vizTooltip.connect(this.getChart().getVizUid());}else{if(this._vizTooltip){this._vizTooltip.destroy();}}}};g1.prototype._updateVizTooltipFormatter=function(){if(this._vizTooltip){if(this.getChart().getChartType().match(/100/)!==null){this._vizTooltip.setFormatString(sap.viz.ui5.format.ChartFormatter.DefaultPattern.PERCENT);}else{this._vizTooltip.setFormatString(sap.viz.ui5.format.ChartFormatter.DefaultPattern.STANDARDFLOAT);}}};g1.prototype.getChart=function(){return this._oChart;};g1.prototype._getChartTypes=function(){var a;try{a=sap.chart.api.getChartTypes();}catch(e){a={};q.sap.log.error('sap.chart.api..getChartTypes throws an exception.\\n'+e.toString());}return a;};g1.prototype._getAvailableChartTypes=function(){var i,a,b=[],e,l={},n;if(this._oChart){n=P.createArrayFromString(this.getIgnoredChartTypes());l=this._getChartTypes();e=this._oChart.getAvailableChartTypes().available;if(e){for(i=0;i<e.length;i++){a=e[i].chart;if(n.indexOf(a)<0){b.push({key:a,text:l[a]});}}}}return b;};g1.prototype._getAllChartTypes=function(){var a,b=[],e,i;i=P.createArrayFromString(this.getIgnoredChartTypes());e=this._getChartTypes();for(a in e){if(a){if(i.indexOf(a)<0){b.push({key:a,text:e[a]});}}}return b;};g1.prototype._retrieveChartTypeDescription=function(a){var b=this._getChartTypes();return({key:a,text:b[a]});};g1.prototype._setChartType=function(a){if(this._oChart){var b=this._oChart.getHeight();this._oChart.setChartType(a);this._aDetailsEntries=[];this._updateVizTooltipFormatter();this._toggleMeasureUnitBinding(a,this._oChart.getMeasures());this._oChart.setHeight(b);}};g1.prototype._toggleMeasureUnitBinding=function(a,b){if(typeof b!='undefined'&&b instanceof Array){if(a.substring(0,4)==='100_'){b.forEach(function(i){i.setUnitBinding();});}else{if(this._oChartProvider){var e=this._oChartProvider._aODataFieldMetadata;b.forEach(function(l){for(var i=e.length-1;i>=0;i--){if(e[i].name==l.getName()){if(e[i]['Org.OData.Measures.V1.ISOCurrency']&&e[i]['Org.OData.Measures.V1.ISOCurrency'].Path){l.setUnitBinding(e[i]['Org.OData.Measures.V1.ISOCurrency'].Path);}break;}}});}}}};g1.prototype._getDimensions=function(){var a=[];if(this._oChart){a=this._oChart.getDimensions();}return a;};g1.prototype._getVisibleDimensions=function(){var a=[];if(this._oChart){a=this._oChart.getVisibleDimensions();}return a;};g1.prototype._getMeasures=function(){var a=[];if(this._oChart){a=this._oChart.getMeasures();}return a;};g1.prototype._getVisibleMeasures=function(){var a=[];if(this._oChart){a=this._oChart.getVisibleMeasures();}return a;};g1.prototype._getSortedDimensions=function(){var e=[];if(this._oChart){e=this._oChart.getDimensions();if(e){e.sort(function(a,b){if(a.getLabel()&&b.getLabel()){return a.getLabel().localeCompare(b.getLabel());}});}}return e;};g1.prototype.fetchVariant=function(){if(this._oCurrentVariant==='STANDARD'||this._oCurrentVariant===null){return{};}return this._oCurrentVariant;};g1.prototype.applyVariant=function(a,b){this._oCurrentVariant=a;if(this._oCurrentVariant==='STANDARD'){this._oCurrentVariant=null;}this._bApplyingVariant=true;if(this._oPersController){if(this._oCurrentVariant===null||q.isEmptyObject(this._oCurrentVariant)){this._oPersController.resetPersonalization(sap.ui.comp.personalization.ResetType.ResetFull);}else{this._oPersController.setPersonalizationData(this._oCurrentVariant);}}this._bApplyingVariant=false;this.fireAfterVariantApply({currentVariantId:this.getCurrentVariantId()});};g1.prototype.variantsInitialized=function(){this._bVariantInitialised=true;this._checkAndTriggerBinding();};g1.prototype.getUiState=function(){var a=this._oPersController?this._oPersController.getDataSuiteFormatSnapshot():null;return new U({presentationVariant:{ContextUrl:'',MaxItems:this._oChartProvider?this._oChartProvider.getMaxItems():undefined,SortOrder:a?a.SortOrder:[],GroupBy:a?a.GroupBy:[],Total:a?a.Total:[],RequestAtLeast:this._getInResultDimensionTotal(),Visualizations:a?a.Visualizations:[]},selectionVariant:{SelectOptions:a?a.SelectOptions:[]},variantName:this.getCurrentVariantId()});};g1.prototype.setUiState=function(a){if(this._oPersController){var b=(this._oVariantManagement&&a.getVariantName())?this._oVariantManagement.getVariantContent(this,a.getVariantName()):{};this._oPersController.setDataSuiteFormatSnapshot(q.extend(true,{},a.getPresentationVariant(),a.getSelectionVariant()),b);}if(a.getPresentationVariant()){this._oChart.setInResultDimensions(a.getPresentationVariant().RequestAtLeast);}};g1.prototype.setUiStateAsVariant=function(a){if(this._oPersController){this._oPersController.setPersonalizationDataAsDataSuiteFormat(q.extend(true,{},a.getPresentationVariant(),a.getSelectionVariant()));}if(a.getPresentationVariant()){this._oChart.setInResultDimensions(a.getPresentationVariant().RequestAtLeast);}};g1.prototype.setRequestAtLeastFields=function(a){this.setProperty('requestAtLeastFields',a);if(this._oChart){this._updateInResultDimensions();}};g1.prototype._getInResultDimensionTotal=function(){var i=[];if(this.getRequestAtLeastFields()){i=this.getRequestAtLeastFields().split(',');}i=i.concat(this._aAlwaysSelect);if(this.getChart()){i=i.concat(this.getChart().getInResultDimensions());}return i.filter(function(e,a,b){return a==b.indexOf(e);});};g1.prototype._getFieldTooltip=function(a){var b=this._getFieldByKey(a);if(b){return b.quickInfo;}return'';};g1.prototype._getFieldByKey=function(a){var i,b=null;if(this._oChartViewMetadata&&this._oChartViewMetadata.fields){for(i=0;i<this._oChartViewMetadata.fields.length;i++){b=this._oChartViewMetadata.fields[i];if(a===b.name){return b;}}return null;}};g1.prototype._getByKey=function(a,b){var i,l,e,n;if(a){l=a.length;for(i=0;i<l;i++){e=a[i];n=e.data('p13nData');if(n&&n.columnKey===b){return e;}}}return null;};g1.prototype._getDimensionByKey=function(a){if(this._oChart){return this._getByKey(this._oChart.getDimensions(),a);}return null;};g1.prototype._getMeasureByKey=function(a){if(this._oChart){return this._getByKey(this._oChart.getMeasures(),a);}return null;};g1.prototype._getChartObjByKey=function(a){var b=this._getDimensionByKey(a);if(!b){b=this._getMeasureByKey(a);}return b;};g1.prototype._getPathFromColumnKeyAndProperty=function(a,b){var e=null,i,l;i=this._getChartObjByKey(a);if(i){l=i.data('p13nData');if(l){e=l[b];}}return e;};g1.prototype._getChartPersonalisationData=function(){if(!this._oCurrentVariant){return null;}var a=[],b=[],e=[],i,l,n;if(this._oCurrentVariant.sort){l=this._oCurrentVariant.sort.sortItems;}else{l=this._aInitialSorters;}if(l){l.forEach(function(o1){var p1=o1.operation==='Descending';n=o1.columnKey;a.push(new sap.ui.model.Sorter(n,p1));},this);}if(this._oCurrentVariant.filter){this._oCurrentVariant.filter.filterItems.forEach(function(o1){var p1=o1.value1,q1=o1.value2;n=o1.columnKey;if(p1 instanceof Date&&this._oChartProvider&&this._oChartProvider.getIsUTCDateHandlingEnabled()){p1=o.getDateInUTCOffset(p1);q1=q1?o.getDateInUTCOffset(q1):q1;}if(o1.exclude){e.push(new r(n,s.NE,p1));}else{b.push(new r(n,o1.operation,p1,q1));}},this);if(e.length){i=new r(e,true);}}return{filters:b,excludeFilters:i,sorters:a};};g1.prototype._persistPersonalisation=function(){var a=this;if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.getVariantsInfo(function(b){var e=null;if(b&&b.length>0){e=b[0].key;}var i=e!==null;var l={name:'Personalisation',global:false,overwrite:i,key:e,def:true};a._oVariantManagement.fireSave(l);});}};g1.prototype.getCurrentVariantId=function(){var a='';if(this._oVariantManagement){a=this._oVariantManagement.getCurrentVariantId();}return a;};g1.prototype.setCurrentVariantId=function(a){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setCurrentVariantId(a);}else{q.sap.log.error('sap.ui.comp.smartchart.SmartChart.prototype.setCurrentVariantId: VariantManagement does not exist or is a page variant');}};g1.prototype._adjustHeight=function(){if(this._oChart){var i=0,b=0;var a=this.getDomRef()?this.getDomRef().offsetHeight:0;if(a===0){return;}if(this._oToolbar&&this._oToolbar.getDomRef()){i=this._oToolbar.getDomRef().offsetHeight;}if(this._oDrillBreadcrumbs&&this._oDrillBreadcrumbs.getDomRef()){var e=this._oDrillBreadcrumbs.getDomRef().parentNode?this._oDrillBreadcrumbs.getDomRef().parentNode:this._oDrillBreadcrumbs.getDomRef();b=e.offsetHeight;}var l=a-i-b;this._oChart.setHeight(l+'px');this._updateDrillBreadcrumbs();if(this._hasOverlay){setTimeout(function(){this._showOverlay(true);}.bind(this),0);}}};g1.prototype._toggleFullScreen=function(b,a){if(!this.oFullScreenButton||(b===this.bFullScreen&&!a)){return;}if(b==true&&this._oChart){this._sChartHeight=this._oChart.getHeight();}this.bFullScreen=b;if(!this._oFullScreenUtil){this._oFullScreenUtil=sap.ui.requireSync('sap/ui/comp/util/FullScreenUtil');}this._oFullScreenUtil.toggleFullScreen(this,this.bFullScreen,this.oFullScreenButton,this._toggleFullScreen.bind(this,false));this._renderFullScreenButton();this.fireFullScreenToggled({fullScreen:b});if(b==false&&this._oChart){this._oChart.setHeight(this._sChartHeight);}};g1.prototype._renderFullScreenButton=function(){this.oFullScreenButton.setTooltip(this.bFullScreen?this._oRb.getText('CHART_MINIMIZEBTN_TOOLTIP'):this._oRb.getText('CHART_MAXIMIZEBTN_TOOLTIP'));this.oFullScreenButton.setText(this.bFullScreen?this._oRb.getText('CHART_MINIMIZEBTN_TEXT'):this._oRb.getText('CHART_MAXIMIZEBTN_TEXT'));this.oFullScreenButton.setIcon(this.bFullScreen?'sap-icon://exit-full-screen':'sap-icon://full-screen');};g1.prototype._enrichFromDataPoints=function(a){var l=a.length;var b=[];var e={};for(var i=0;i<l;i++){this._interpretDataPoint(a[i].dataPoint,a[i].measure,e,b);}if(b.length>0){this._oChart.setActiveColoring({coloring:sap.chart.ColoringType.Criticality,parameters:{measure:b}});this._oChart.setColorings({Criticality:{MeasureValues:e}});}};g1.prototype._interpretDataPoint=function(a,b,e,i){this._setSemanticPatterns(a,b);if(b.setBoundaryValues){this._setBoundaryValues(a,b);}if(a.Criticality||a.CriticalityCalculation){e[a.Value.Path]=this._oChartProvider.provideSemanticColoring(a);i.push(a.Value.Path);}};g1.prototype._setSemanticPatterns=function(a,b){var e=a.TargetValue?a.TargetValue.Path:null;var i=a.ForecastValue?a.ForecastValue.Path:null;b.setSemantics(sap.chart.data.MeasureSemantics.Actual);if(e!=null){var l=this._oChart.getMeasureByName(e);if(l){l.setSemantics(sap.chart.data.MeasureSemantics.Reference);}else{q.sap.log.error('sap.ui.comp.SmartChart: '+a.TargetValue.Path+' is not a valid measure');}}if(i){var n=this._oChart.getMeasureByName(i);if(n){n.setSemantics(sap.chart.data.MeasureSemantics.Projected);}else{q.sap.log.error('sap.ui.comp.SmartChart: '+a.ForecastValue.Path+' is not a valid measure');}}b.setSemanticallyRelatedMeasures({referenceValueMeasure:e,projectedValueMeasure:i});};g1.prototype._setBoundaryValues=function(a,b){var e={};if(a.MinimumValue){e.minimum=a.MinimumValue;}if(a.MaximumValue){e.maximum=a.MaximumValue;}if(e.minimum||e.maximum){b.setBoundaryValues(e);}};g1.prototype.isInitialised=function(){return!!this.bIsInitialised;};g1.prototype.exit=function(){this._oRb=null;if(this._oSmartFilter){this._oSmartFilter.detachSearch(this._reBindChart,this);this._oSmartFilter.detachFilterChange(this._filterChangeEvent,this);}if(this._oChartProvider&&this._oChartProvider.destroy){this._oChartProvider.destroy();}this._oChartProvider=null;if(this._oPersController&&this._oPersController.destroy){this._oPersController.destroy();}if(this._oSegmentedButton){this._oSegmentedButton.removeAllButtons();this._oButtonChart1.destroy();this._oButtonChart2.destroy();this._oButtonChart3.destroy();this._oButtonChart4.destroy();this._oButtonChart5.destroy();this._oButtonChart1=null;this._oButtonChart2=null;this._oButtonChart3=null;this._oButtonChart4=null;this._oButtonChart5=null;}this._oPersController=null;if(this._oVariantManagement){this._oVariantManagement.detachSave(this._variantSaved,this);this._oVariantManagement.detachAfterSave(this._variantAfterSave,this);if(!this._oVariantManagement.isPageVariant()&&this._oVariantManagement.destroy){this._oVariantManagement.destroy();}}this._oVariantManagement=null;this._destroyPopover();if(this._oFullScreenUtil){this._oFullScreenUtil.cleanUpFullScreen(this);this._oFullScreenUtil=null;}if(this._oDetailsPopover){this._oDetailsPopover.destroy();if(this._oRelatedAppsMasterList){this._oRelatedAppsMasterList.destroy();}}this._processResizeHandler(false);if(this.oChart){this._oChart.detachRenderComplete(this._toggleZoomButtonEnablement,this);}this._oCurrentVariant=null;this._oChartViewMetadata=null;this._aAlwaysSelect=null;this._aInitialSorters=null;this._oSmartFilter=null;this._oToolbar=null;this._oChartPersonalisationButton=null;this._oView=null;this._oChart=null;};g1.prototype._processResizeHandler=function(a){if(a){this.sResizeListenerId=null;if(t.system.desktop){this.sResizeListenerId=sap.ui.core.ResizeHandler.register(this,this._adjustHeight.bind(this));}else{t.orientation.attachHandler(this._adjustHeight,this);t.resize.attachHandler(this._adjustHeight,this);}}else{if(t.system.desktop&&this.sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this.sResizeListenerId);this.sResizeListenerId=null;}else{t.orientation.detachHandler(this._adjustHeight,this);t.resize.detachHandler(this._adjustHeight,this);}}};g1.prototype.setShowToolbar=function(b){if(this._oToolbar){this._oToolbar.setVisible(b);}return this.setProperty('showToolbar',b,true);};g1.prototype.setToolbarStyle=function(a){if(this._oToolbar){this._oToolbar.setStyle(a);}return this.setProperty('toolbarStyle',a,true);};g1.prototype.setShowDimensionsTitle=function(b){if(this._oChart){this._oChart.setVizProperties({'categoryAxis':{'title':{'visible':b}}});}return this.setProperty('showDimensionsTitle',b,true);};g1.prototype.setShowMeasuresTitle=function(b){if(this._oChart){this._oChart.setVizProperties({'valueAxis':{'title':{'visible':b}}});}return this.setProperty('showMeasuresTitle',b,true);};return g1;},true);\n",
	"sap/ui/comp/smartfield/AnnotationHelper.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define([],function(){'use strict';var A=function(){};A.prototype.getText=function(p){return this._getObject('com.sap.vocabularies.Common.v1.Text/Path',p);};A.prototype.getTextArrangement=function(p,e){var E=null,P=null;P=this._getObject('com.sap.vocabularies.Common.v1.Text',p);if(P){E=P['com.sap.vocabularies.UI.v1.TextArrangement'];}if(!E){E=this._getObject('com.sap.vocabularies.UI.v1.TextArrangement',e);}if(E&&E.EnumMember){if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst'){return'descriptionAndId';}if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextLast'){return'idAndDescription';}if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate'){return'idOnly';}if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly'){return'descriptionOnly';}}return null;};A.prototype.getUnit=function(p){return this._getObject('Org.OData.Measures.V1.ISOCurrency/Path',p)||this._getObject('Org.OData.Measures.V1.Unit/Path',p);};A.prototype.getLabel=function(p){var l=this._getObject('com.sap.vocabularies.UI.v1.DataFieldWithUrl/Label/String',p);return l||this._getObject('com.sap.vocabularies.Common.v1.Label/String',p);};A.prototype.isCurrency=function(p){return(p['sap:semantics']==='currency-code')||!!this._getObject('Org.OData.Measures.V1.ISOCurrency/Path',p);};A.prototype.getQuickInfo=function(p){return this._getObject('com.sap.vocabularies.Common.v1.QuickInfo/String',p);};A.prototype.isMasked=function(p){return(!!this._getObject('com.sap.vocabularies.Common.v1.Masked',p));};A.prototype.isMultiLineText=function(p){return(!!this._getObject('com.sap.vocabularies.UI.v1.MultiLineText',p));};A.prototype.isStaticMandatory=function(p){var f=this._getObject('com.sap.vocabularies.Common.v1.FieldControl',p);if(f&&f.EnumMember){return(f.EnumMember==='com.sap.vocabularies.Common.v1.FieldControlType/Mandatory');}return false;};A.prototype.isNullable=function(p){var n=this._getObject('nullable',p);if(n){return(n==='true');}return true;};A.prototype.isUpperCase=function(p){return(this._getObject('com.sap.vocabularies.Common.v1.IsUpperCase/Bool',p)==='true');};A.prototype.canCreateEntitySet=function(e){return!(this._getObject('Org.OData.Capabilities.V1.InsertRestrictions/Insertable/Bool',e)==='false');};A.prototype.canCreateProperty=function(p){var i=this._getObject('Org.OData.Core.V1.Immutable/Bool',p);var c=this._getObject('Org.OData.Core.V1.Computed/Bool',p);if(c){return c=='false';}if(i){return i=='true';}return true;};A.prototype.canUpdateEntitySet=function(e){return!(this._getObject('Org.OData.Capabilities.V1.UpdateRestrictions/Updatable/Bool',e)==='false');};A.prototype.getUpdateEntitySetPath=function(e){return this._getObject('Org.OData.Capabilities.V1.UpdateRestrictions/Updatable/Path',e);};A.prototype.canUpdateProperty=function(p){var n=(this._getObject('Org.OData.Core.V1.Computed/Bool',p)==='true')||(this._getObject('Org.OData.Core.V1.Immutable/Bool',p)==='true')||(this._getObject('com.sap.vocabularies.Common.v1.FieldControl/EnumMember',p)==='com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly');return!n;};A.prototype.getFieldControlPath=function(p){return this._getObject('com.sap.vocabularies.Common.v1.FieldControl/Path',p);};A.prototype.getVisible=function(p){var v=this._getObject('com.sap.vocabularies.Common.v1.FieldControl/EnumMember',p);if(v==='com.sap.vocabularies.Common.v1.FieldControlType/Hidden'){return'false';}var h=this._getObject('com.sap.vocabularies.UI.v1.Hidden',p);if(h&&!(h.Bool=='false')){return'false';}return'true';};A.prototype._getObject=function(p,o){var n=o,P=p.split('/'),i=0;while(n&&P[i]){n=n[P[i]];i++;}return n;};A.prototype.destroy=function(){};return A;},true);\n",
	"sap/ui/comp/smartfield/BindingUtil.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/AnnotationHelper','sap/ui/base/BindingParser'],function(A,B){'use strict';var a=function(){};a.prototype.correctPath=function(p){var e,r=/\\((.+)\\)*/,m=r.exec(p);if(m){e=p.replace(m[0],'');}else{e=p;}return e.replace('/','');};a.prototype.getNavigationProperties=function(c){var o,b,r={};b=c.getBindingContext();if(b&&b.sPath){r.paths=b.sPath.split('/');}o=c.getObjectBinding();if(o&&o.sPath){r.objectBinding=o.sPath;if(r.paths){r.paths.push(o.sPath);}else{r.paths=[o.sPath];}}if(!r.paths){r.paths=[];}return r;};a.prototype.getBindingParts=function(b,p,I){var l=0,i,P,o;if(b&&b.parts){l=b.parts.length;}for(i=0;i<l;i++){o='';P=b.parts[i];if(P.model){o=o+P.model+'>';}o=o+P.path;p.push(o);I.length++;}};a.prototype.toBinding=function(I){var o={},n,p,i,l,N={model:true,formatter:true,mode:true,path:true};if(I){if(I.parts&&I.parts.length){l=I.parts.length;o.parts=[];}for(i=0;i<l;i++){p=I.parts[i];o.parts.push(p);}for(n in N){if(I[n]){o[n]=I[n];}}return o;}return null;};a.prototype.toBindingPath=function(I){var o,O='',p,i,l;o=this.toBinding(I);if(o){if(o.model){O=o.model+'>';}if(o.path){O=O+o.path;}else if(o.parts&&o.parts.length>0){l=o.parts.length;for(i=0;i<l;i++){p=o.parts[i];if(p.model){O=O+p.model+'>';}O=O+p.path;}}}return O;};a.prototype.fromFormatter=function(m,f,p){var i,l,P,b={model:m,formatter:f.formatter};P=f.path();l=P.length;if(l>0){b.parts=P;if(p){for(i=0;i<l;i++){p.push(P[i]);}}}else{b.path='';}return b;};a.prototype.executeODataBindingExpression=function(b,o){var i,v,V,p,h,H='';if(b&&o){h=A.format(o,b);H=h;p=B.complexParser(h,o);V=[];if(p){if(p.formatter){for(i=0;i<p.parts.length;i++){v=o.getProperty(p.parts[i].path,'value');V.push(v);}H=p.formatter.apply(null,V);}else{H=o.getProperty(p.path,'value');}}}return H;};a.prototype.destroy=function(){};return a;},true);\n",
	"sap/ui/comp/smartfield/Configuration.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfield.Configuration',{metadata:{library:'sap.ui.comp',properties:{controlType:{type:'sap.ui.comp.smartfield.ControlType',group:'Misc',defaultValue:null},displayBehaviour:{type:'sap.ui.comp.smartfield.DisplayBehaviour',group:'Misc',defaultValue:null},preventInitialDataFetchInValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true}}}});return C;},true);\n",
	"sap/ui/comp/smartfield/ControlFactoryBase.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/Object','sap/ui/comp/util/FormatUtil','sap/ui/comp/providers/ValueHelpProvider','sap/ui/comp/providers/ValueListProvider','sap/ui/comp/smartfield/BindingUtil','sap/m/HBox'],function(q,B,F,V,a,b,H){'use strict';var C=B.extend('sap.ui.comp.smartfield.ControlFactoryBase',{constructor:function(m,p){B.apply(this,arguments);this.sName='ControlFactoryBase';this._oModel=m;this._oParent=p;this._oBinding=new b();this._aProviders=[];this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}});C.prototype.createControl=function(c){var m,o;m=this._getCreator(c);if(m){o=this[m]();this._addAriaLabelledBy(o);if(o&&o.onCreate){this[o.onCreate](o.control,o.params);}}return o;};C.prototype._addAriaLabelledBy=function(c){var t;if((this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.None)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.Form)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.SmartFormGrid)){if(c){t=c.control;if(t instanceof H){if(t.getItems().length>0){t=t.getItems()[0];}}}if(t&&t.addAriaLabelledBy&&this._oParent.getAriaLabelledBy().length>0){t.removeAllAriaLabelledBy();this._oParent.getAriaLabelledBy().forEach(function(A){t.addAriaLabelledBy(A);});}}};C.prototype.addValidations=function(c,m){var s,e,t=this;s=function(S,E){var M,o,d=E.getSource();if(d){if(d.setValueState){d.setValueState(S);}o=E.getParameter('exception');if(o){M=o.message;}if(!M){M=E.getParameter('message');}if(d.setValueStateText){d.setValueStateText(M);}}if(m){t._oParent[m](S===sap.ui.core.ValueState.Error);}};e=function(E){s(sap.ui.core.ValueState.Error,E);};c.attachFormatError(e);c.attachParseError(e);c.attachValidationError(e);c.attachValidationSuccess(function(E){s(sap.ui.core.ValueState.None,E);});};C.prototype._getDisplayBehaviourConfiguration=function(d){var D=null;var c=this._oParent.getConfiguration();if(c){D=c.getDisplayBehaviour();}if(!D&&this._oMetaData&&this._oMetaData.entityType){D=this._oHelper.oAnnotation.getTextArrangement(this._oMetaData.property.property,this._oMetaData.entityType);}if(!D){D=this._oParent.data(d);}return D;};C.prototype._getPreventInitialDataFetchInVHDialog=function(){var c=this._oParent.getConfiguration();return c?c.getPreventInitialDataFetchInValueHelpDialog():true;};C.prototype._formatDisplayBehaviour=function(d,k,D){var s=this._getDisplayBehaviourConfiguration(d);if(d==='defaultCheckBoxDisplayBehaviour'){return this._getFormattedExpressionFromDisplayBehaviour(s,k);}if(d==='defaultComboBoxReadOnlyDisplayBehaviour'&&!s){s='descriptionAndId';}return F.getFormattedExpressionFromDisplayBehaviour(s||'idOnly',k,D);};C.prototype._getFormattedExpressionFromDisplayBehaviour=function(d,v){var k='';switch(d){case'OnOff':k=v?'SMARTFIELD_CB_ON':'SMARTFIELD_CB_OFF';break;case'TrueFalse':k=v?'SMARTFIELD_CB_TRUE':'SMARTFIELD_CB_FALSE';break;default:k=v?'SMARTFIELD_CB_YES':'SMARTFIELD_CB_NO';break;}return this._oRb.getText(k);};C.prototype.shouldCreateValueHelpForControl=function(c){if(!c){return false;}var p=this._oParent;return p&&((p.getMode()==='edit')||(c.getMetadata().getName()==='sap.ui.comp.smartfield.DisplayComboBox'));};C.prototype.getDropdownItemKeyType=function(){};C.prototype.createValueHelp=function(c,p,v,m,o){var d,e;if(v.annotation&&(p['sap:value-list']||p['com.sap.vocabularies.Common.v1.ValueList'])){var D=this._getDisplayBehaviourConfiguration('defaultDropDownDisplayBehaviour'),f=this._oParent.data('dateFormatSettings'),P=this._getPreventInitialDataFetchInVHDialog();if(typeof f==='string'){try{f=JSON.parse(f);}catch(g){}}var A,s;if(typeof v.annotation==='string'){s=v.annotation;}else if(v&&typeof v.annotation==='object'){A=v.analyser.getValueListAnnotationForFunctionImport({'':v.annotation},p.name).primaryValueListAnnotation;}if(!v.noDialog){if(c.setFilterSuggests){c.setFilterSuggests(false);}d=new V({loadAnnotation:true,fullyQualifiedFieldName:s,annotation:A,metadataAnalyser:v.analyser,control:c,model:m,preventInitialDataFetchInValueHelpDialog:P,dateFormatSettings:f,takeOverInputValue:false,supportMultiSelect:!!v.supportMultiSelect,supportRanges:!!v.supportRanges,fieldName:p.name,title:v.dialogtitle,displayBehaviour:D,type:v.type});if(o){d.attachValueListChanged(o);}this._aProviders.push(d);if(c.setShowValueHelp){c.setShowValueHelp(true);}}e=new a({control:c,dropdownItemKeyType:this.getDropdownItemKeyType(c),typeAheadEnabled:!v.noTypeAhead,aggregation:v.aggregation,loadAnnotation:true,fullyQualifiedFieldName:s,annotation:A,metadataAnalyser:v.analyser,model:m,dateFormatSettings:f,displayBehaviour:D});if(!v.noTypeAhead){if(c.setShowSuggestion){c.setShowSuggestion(true);}}if(o){e.attachValueListChanged(o);}this._aProviders.push(e);}};C.prototype.getAttribute=function(n){var i=this._oParent.getBindingInfo(n);if(i){return this._oBinding.toBindingPath(i);}return this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();};C.prototype.createAttributes=function(A,t,N,e){var c=this,m={},i;for(var n in N){i=this._oParent.getBindingInfo(n);if(i){m[n]=this._oBinding.toBinding(i);}else{m[n]=this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();}}if(A){m[A]={model:this._oMetaData.model,path:this._oMetaData.path,type:t?this._oTypes.getType(t):null};}if(e){m[e.event]=function(p){try{c._oParent.fireChange({value:p.mParameters[e.parameter],newValue:p.mParameters[e.parameter]});}catch(d){q.sap.log.warning(d);}};}this.addObjectBinding(m);return m;};C.prototype.mapBindings=function(A,N){var n,i;for(n in N){i=this._oParent.getBindingInfo(n);if(i){A[N[n]]=this._oBinding.toBinding(i);}else{A[N[n]]=this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();}}};C.prototype.addObjectBinding=function(A,o){if(!o){o=this._oParent.getObjectBinding(this._oMetaData.model);}if(A&&o){A.objectBindings={};A.objectBindings[this._oMetaData.model]=o.sPath;}};C.prototype.getFormatSettings=function(f){var m=null,c,o,l;if(f){m=this._oParent.data(f);if(!m){c=this._oParent.getCustomData();if(c){l=c.length;while(l--){o=c[l];if(o.getKey()===f){m=o.getValue();break;}}}}if(m&&typeof(m)==='string'){try{m=JSON.parse(m);}catch(e){return null;}}}return m;};C.prototype.destroyValueHelp=function(){this._aProviders.forEach(function(p){p.destroy();});this._aProviders=[];};C.prototype.destroy=function(){this.destroyValueHelp();if(this._oBinding){this._oBinding.destroy();}this._oBinding=null;this._oParent=null;this._oModel=null;this._oRb=null;};return C;},true);\n",
	"sap/ui/comp/smartfield/ControlProposal.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfield.ControlProposal',{metadata:{library:'sap.ui.comp',properties:{controlType:{type:'sap.ui.comp.smartfield.ControlProposalType',group:'Misc',defaultValue:sap.ui.comp.smartfield.ControlProposalType.None}},aggregations:{objectStatus:{type:'sap.ui.comp.smartfield.ObjectStatus',multiple:false}}}});return C;},true);\n",
	"sap/ui/comp/smartfield/FieldControl.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/smartfield/BindingUtil','sap/ui/model/ParseException'],function(q,B,P){'use strict';var F=function(p,h){this._bIsDestroyed=false;this._oBinding=new B();this._oStoredProperties={};this._bVisibleSet=false;this._bEditableSet=false;this._bMandatorySet=false;this._bUomEditableSet=false;this._oStoredBindings={};this._oParent=p;this._oHelper=h;this._oAnnotation=h.oAnnotation;};F.prototype.getBindableAttributes=function(n){var c=this._oParent.data('configdata');if(c&&(c.configdata&&!c.configdata.isUOM||!c.configdata)){if(c.configdata&&c.configdata.property&&c.configdata.property.property&&this._oAnnotation.getFieldControlPath(c.configdata.property.property)){return['editable','visible'];}else{return['editable'];}}if(n){return['editable','visible'];}return['editable','visible','mandatory'];};F.prototype.getControlProperties=function(m,b){var M,l,n,r={};if(m&&b){l=b.length;while(l--){n=b[l];M='_get'+n.substring(0,1).toUpperCase()+n.substring(1);if(this[M]){r[n]=this[M](m,this._oParent.getBindingInfo(n));}}}return r;};F.prototype._getEditable=function(m,b,p){var a,i=-1,e=-1,c=-1,t=this,o={length:0};if(p==='uomEditable'){this._bUomEditableSet=true;}else{this._bEditableSet=true;}if(!b){if(p){a=this._oParent['get'+p.substring(0,1).toUpperCase()+p.substring(1)]();this._oStoredProperties[p]=a;}else{a=this._oParent.getEditable();this._oStoredProperties['editable']=a;}this._oStoredBindings.editable=null;}else if(this._oStoredBindings.editable===undefined){this._oStoredBindings.editable=b;}return{path:function(){var d=[],s,l=0;if(!m.property||!m.property.property){return[''];}s=t._oAnnotation.getFieldControlPath(m.property.property);if(s){d.push(t._toPath(m,s));i=l;l++;}if(m.entitySet['sap:updatable-path']){d.push(m.entitySet['sap:updatable-path']);e=l;l++;}if(b){c=l;t._oBinding.getBindingParts(b,d,o);l=l+o.length;}if(l>0){return d;}return[''];},formatter:function(v,d,f,g){var A=[],h,O;if(t._bIsDestroyed){return false;}if(!t._oAnnotation){return false;}if(this&&(typeof this.getBindingContext==='function')){h=this.getBindingContext();}else{h=t._oParent.getBindingContext();}if(!h){return v;}if(h.getObject&&m&&m.property&&m.property.property){O=h.getObject();if(O&&O.__metadata&&O.__metadata.created){if(!t._getCreatableStatic(m)){return false;}}else if(!t._getUpdatableStatic(m)){return false;}}if(i>-1){A.push(arguments[i]!==1);}if(e>-1&&(!O||!O.__metadata||!O.__metadata.created)){A.push(!!arguments[e]);}if(c>-1){if(b.formatter){A.push(t._execFormatter(b.formatter,arguments,c,o.length));}else{A.push(!!arguments[c]);}}else{A.push(a);}return t._compare(A,false,true);}};};F.prototype._execFormatter=function(f,a,s,l){var A=[],i;if(s>-1&&l>-1){for(i=0;i<l;i++){A.push(a[s+i]);}}return f.apply(null,A);};F.prototype._getCreatableStatic=function(m){return(this._oAnnotation.canCreateEntitySet(m.entitySet)&&this._oAnnotation.canCreateProperty(m.property.property));};F.prototype._getUpdatableStatic=function(m){return(this._oAnnotation.canUpdateEntitySet(m.entitySet)&&this._oAnnotation.canUpdateProperty(m.property.property));};F.prototype._compare=function(a,p,d){var i,l=a.length;for(i=0;i<l;i++){if(a[i]===p){return p;}}return d;};F.prototype._getVisible=function(m,b){var p,i=-1,a=-1,t=this,o={length:0};this._bVisibleSet=true;if(!b){p=this._oParent.getVisible();this._oStoredProperties.visible=p;this._oStoredBindings.visible=null;}else if(this._oStoredBindings.visible===undefined){this._oStoredBindings.visible=b;}return{path:function(){var c=[],s,l=0;if(!m.property||!m.property.property){return[''];}s=t._oAnnotation.getFieldControlPath(m.property.property);if(s){c.push(t._toPath(m,s));a=l;l++;}if(b){i=l;t._oBinding.getBindingParts(b,c,o);l=l+o.length;}if(l>0){return c;}return[''];},formatter:function(c,d){var A=[];if(t._bIsDestroyed){return false;}if(!t._oAnnotation){return false;}if(m.property&&m.property.property&&t._oAnnotation.getVisible(m.property.property)==='false'){return false;}if(a>-1){A.push(arguments[a]!==0);}if(i>-1){if(b.formatter){A.push(t._execFormatter(b.formatter,arguments,i,o.length));}else{A.push(!!arguments[i]);}}else{A.push(p);}return t._compare(A,false,true);}};};F.prototype._getMandatory=function(m,b){var p,i=-1,a=-1,t=this,o={length:0};this._bMandatorySet=true;if(!b){p=this._oParent.getMandatory();this._oStoredProperties.mandatory=p;this._oStoredBindings.mandatory=null;}else if(this._oStoredBindings.mandatory===undefined){this._oStoredBindings.mandatory=b;}return{path:function(){var c=[],s,l=0;if(!m.property||!m.property.property){return[''];}s=t._oAnnotation.getFieldControlPath(m.property.property);if(s){c.push(t._toPath(m,s));a=l;l++;}if(b){i=l;t._oBinding.getBindingParts(b,c,o);l=l+o.length;}if(l>0){return c;}return[''];},formatter:function(c,d){var A=[];if(t._bIsDestroyed){return true;}if(m.property&&m.property.property){if(m.property.property.nullable==='false'||(t._oAnnotation&&t._oAnnotation.isStaticMandatory(m.property.property))){A.push(true);}else if(m.property.property.nullable){A.push(false);}}if(a>-1){A.push(arguments[a]===7);}if(i>-1){if(b.formatter){A.push(t._execFormatter(b.formatter,arguments,i,o.length));}else{A.push(!!arguments[i]);}}else{A.push(p);}return t._compare(A,true,false);}};};F.prototype._toPath=function(m,p){if(m.property.complex){return m.path.replace(m.property.property.name,p);}if(m.navigationPath){return m.navigationPath+'/'+p;}return p;};F.prototype.getMandatoryCheck=function(p){var r,t=this;if(p){switch(p.property.type){case'Edm.DateTimeOffset':case'Edm.DateTime':case'Edm.Time':case'Edm.String':r=function(v){if(t._oParent&&t._oParent.getMandatory()&&t._oParent.getClientSideMandatoryCheck()&&(!t._oAnnotation||!t._oAnnotation.isStaticMandatory(p.property)||!t._oAnnotation.isNullable(p.property))&&!v){throw new P(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('VALUEHELPVALDLG_FIELDMESSAGE'));}};break;case'Edm.Decimal':case'Edm.Double':case'Edm.Float':case'Edm.Single':case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':case'Edm.Byte':case'Edm.SByte':r=function(v){if(t._oParent&&t._oParent.getMandatory()&&t._oParent.getClientSideMandatoryCheck()&&(!t._oAnnotation||!t._oAnnotation.isStaticMandatory(p.property)||!t._oAnnotation.isNullable(p.property))&&(v===null||v===undefined||v==='')){throw new P(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('VALUEHELPVALDLG_FIELDMESSAGE'));}};break;default:break;}}return r;};F.prototype.getUOMEditState=function(m){var n,u,U,l=0,b;b=this._oParent.getBindingInfo('editable');n=this._getEditable(m,b);U={model:m.model,path:this._oHelper.getUOMPath(m),entitySet:m.entitySet,entityType:m.entityType,property:{property:m.annotations.uom.property,complex:m.property.complex,typePath:this._oHelper.getUOMTypePath(m)}};u=this._getEditable(U,this._oParent.getBindingInfo('uomEditable'),'uomEditable');return{path:function(){var N=n.path(),a=u.path();if(N[0]===''&&a===''){return[''];}l=N.length;return N.concat(a);},formatter:function(v,p,a,c){var A=[],i,N,d,e=arguments.length;for(i=0;i<l;i++){A.push(arguments[i]);}N=n.formatter.apply(null,A);A=[];for(i=0;i<e;i++){A.push(arguments[i]);}for(i=0;i<l;i++){A.shift();}d=u.formatter.apply(null,A);if(!d&&!N){return 0;}return 1;}};};F.prototype.hasUomEditState=function(m){var p;if(m&&m.annotations&&m.annotations.uom){p=this._oParent.getControlProposal();if(p){if(p.getControlType()==='ObjectNumber'){return true;}if(p.getObjectStatus()){return true;}}return this._oParent.getProposedControl()==='ObjectNumber';}return false;};F.prototype.destroy=function(){if(this._oBinding){this._oBinding.destroy();}this._oAnnotation=null;this._oBinding=null;if(this._oParent&&!this._oParent._bInDestroy){for(var p in this._oStoredProperties){this._oParent.unbindProperty(p,true);if(this._oParent['set'+p.substring(0,1).toUpperCase()+p.substring(1)]){this._oParent['set'+p.substring(0,1).toUpperCase()+p.substring(1)](this._oStoredProperties[p]);}}if(this._oStoredProperties){if(!this._oStoredProperties.editable&&this._bEditableSet){this._oParent.unbindProperty('editable');}if(!this._oStoredProperties.visible&&this._bVisibleSet){this._oParent.unbindProperty('visible');}if(!this._oStoredProperties.mandatory&&this._bMandatorySet){this._oParent.unbindProperty('mandatory');}if(!this._oStoredProperties.uomEditable&&this._bUomEditableSet){this._oParent.unbindProperty('uomEditable');}}if(this._oStoredBindings){if(this._oStoredBindings.editable){if(this._oParent.isBound('editable')){this._oParent.unbindProperty('editable');}this._oParent.bindProperty('editable',this._oStoredBindings.editable);}if(this._oStoredBindings.visible){if(this._oParent.isBound('visible')){this._oParent.unbindProperty('visible');}this._oParent.bindProperty('visible',this._oStoredBindings.visible);}if(this._oStoredBindings.mandatory){if(this._oParent.isBound('mandatory')){this._oParent.unbindProperty('mandatory');}this._oParent.bindProperty('mandatory',this._oStoredBindings.mandatory);}if(this._oStoredBindings.uomEditable){if(this._oParent.isBound('uomEditable')){this._oParent.unbindProperty('uomEditable');}this._oParent.bindProperty('uomEditable',this._oStoredBindings.uomEditable);}}}this._oStoredProperties=null;this._oStoredBindings=null;this._oParent=null;this._oHelper=null;this._bIsDestroyed=true;this._bEditableSet=false;this._bMandatorySet=false;this._bVisibleSet=false;this._bUomEditableSet=false;};return F;},true);\n",
	"sap/ui/comp/smartfield/JSONControlFactory.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/Input','sap/m/Text','sap/ui/comp/smartfield/ControlFactoryBase','sap/ui/comp/smartfield/JSONTypes'],function(q,C,a,D,I,T,b,J){'use strict';var c=b.extend('sap.ui.comp.smartfield.JSONControlFactory',{constructor:function(m,p,M){b.apply(this,[m,p]);this.sName='JSONControlFactory';this._oMetaData=M;this._oTypes=new J();}});c.prototype._getCreator=function(){var m={'Boolean':'_createBoolean','Date':'_createDate','DateTime':'_createString','Float':'_createString','Integer':'_createString','String':'_createString'};if(!this._oParent.getEditable()||!this._oParent.getEnabled()){if(this._oParent.getJsontype()==='Boolean'){return'_createBoolean';}return'_createDisplay';}return m[this._oParent.getJsontype()]||'_createString';};c.prototype._createString=function(){var n,N,m={width:true,textAlign:true,placeholder:true,name:true,maxLength:true};n=!this._oParent.getShowValueHelp();N=!this._oParent.getShowSuggestion();if(n){if(((this._oParent.data('controlType')==='dropDownList'))){return this._createComboBox({annotation:null,noDialog:n,noTypeAhead:true});}}return{control:new I(this.createAttributes('value',this._oParent.getJsontype(),m,{event:'change',parameter:'value'})),onCreate:'_onCreate',noDialog:n,noTypeAhead:N,params:{getValue:'getValue'}};};c.prototype._createComboBox=function(v){var n={width:true,textAlign:true,placeholder:true,name:true};return{control:new a(this.createAttributes('value',this._oParent.getJsontype(),n,{event:'selectionChange',parameter:'selectedItem'})),onCreate:'_onCreate',params:{valuehelp:v,getValue:'getValue'}};};c.prototype._createBoolean=function(){var A=this.createAttributes('selected',this._oParent.getJsontype(),{},{event:'select',parameter:'selected'});A.enabled=this._oParent.getEditable()&&this._oParent.getEnabled();return{control:new C(A),onCreate:'_onCreate',params:{getValue:'getSelected'}};};c.prototype._createDate=function(){var n={width:true,textAlign:true,placeholder:true,name:true};return{control:new D(this.createAttributes('value',this._oParent.getJsontype(),n,{event:'change',parameter:'value'})),onCreate:'_onCreate',params:{getValue:'getValue'}};};c.prototype._createDisplay=function(){var n={width:true,textAlign:true};return{control:new T(this.createAttributes('text',this._oParent.getJsontype(),n))};};c.prototype._onCreate=function(o,p){var g;this.addValidations(o,'setSimpleClientError');if(p.getValue){g=p.getValue;p.getValue=function(){return o[g]();};}};c.prototype.destroy=function(){this._oTypes.destroy();this._oTypes=null;this._oMetaData=null;b.prototype.destroy.apply(this,[]);};return c;},true);\n",
	"sap/ui/comp/smartfield/JSONTypes.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/type/Boolean','sap/ui/model/type/Date','sap/ui/model/type/Float','sap/ui/model/type/Integer','sap/ui/model/type/String'],function(q,B,D,F,I,S){'use strict';var J=function(){};J.prototype.getType=function(t){if(t){switch(t){case'Boolean':return new B();case'Date':return new D();case'Float':return new F();case'Integer':return new I();default:return new S();}}return null;};J.prototype.destroy=function(){};return J;},true);\n",
	"sap/ui/comp/smartfield/ODataControlFactory.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/m/TextArea','sap/m/Link','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/DateTimePicker','sap/m/FlexItemData','sap/m/FlexJustifyContent','sap/m/HBox','sap/m/Input','sap/m/InputType','sap/m/Select','sap/m/Text','sap/ui/core/Renderer','sap/ui/core/TextAlign','sap/ui/comp/navpopover/SmartLink','./ControlFactoryBase','./FieldControl','./ODataControlSelector','./ODataHelper','./ODataTypes','sap/m/ObjectNumber','sap/m/ObjectIdentifier','sap/m/ObjectStatus','sap/ui/core/ValueState','sap/m/TimePicker','sap/ui/comp/navpopover/SemanticObjectController','sap/ui/comp/util/FormatUtil','sap/ui/comp/smartfield/type/TextArrangementString','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/navpopover/NavigationPopoverHandler','sap/ui/core/InvisibleText'],function(q,l,T,L,C,a,D,b,F,c,H,I,d,S,e,R,f,g,h,i,O,j,k,m,o,p,V,r,s,t,u,M,N,v){'use strict';var w=l.smartfield.TextInEditModeSource;var x=h.extend('sap.ui.comp.smartfield.ODataControlFactory',{constructor:function(n,P,y){h.call(this,n,P);this.sName='ODataControlFactory';this._oMetaData={annotations:{}};this._oMeta=y;this._oHelper=new j(n,this._oBinding);this._oFieldControl=new i(P,this._oHelper);this._oTypes=new k(P);this._oSelector=new O(this._oMetaData,P,this._oTypes);this._bInitialized=false;this.bPending=false;}});x.prototype._init=function(n){this._oMetaData.model=n.model;this._oMetaData.path=n.path;this._oMetaData.entitySet=n.entitySetObject||this._oHelper.oMeta.getODataEntitySet(n.entitySet);this._oMetaData.entityType=n.entityType||this._oHelper.oMeta.getODataEntityType(this._oMetaData.entitySet.entityType);this._oMetaData.navigationPath=n.navigationPath||null;if(this._oModel){this._oHelper.checkNavigationProperty(this._oMetaData,this._oParent);this._oHelper.getProperty(this._oMetaData);var y=this.getEdmProperty();if(y){if(this._oParent&&this._oParent.getExpandNavigationProperties()){var z=this._oParent.getBindingContext();var A=z.getObject().__metadata.created;if(!A){var B=this._oHelper.getAutoExpandProperties(y);if(B.length>0){this._oParent.bindElement({path:'',parameters:{expand:B,select:B}});}}}this._oMetaData.annotations.text=this._oHelper.getTextProperty2(this._oMetaData);this._oMetaData.annotations.uom=this._oHelper.getUnitOfMeasure2(this._oMetaData);this._oHelper.getValueListData(this._oMetaData);this._oMetaData.annotations.lineitem=this._oHelper.getAnalyzer().getLineItemAnnotation(this._oMetaData.entitySet.entityType);this._oHelper.getUOMValueListAnnotationPath(this._oMetaData);this._oMetaData.annotations.semantic=M.getSemanticObjectsFromProperty(y);this._oMetaData.annotations.semanticKeys=this._oHelper.getAnalyzer().getSemanticKeyAnnotation(this._oMetaData.entitySet.entityType);if(this._oMetaData.annotations.uom){this._oMetaData.annotations.uom.annotations={};this._oHelper.getValueListData(this._oMetaData.annotations.uom);}this._oHelper.getUOMTextAnnotation(this._oMetaData);}else{q.sap.log.warning('SmartField: Property '+n.path+' does not exist','SmartField: Property '+n.path+' does not exist','sap.ui.comp.smartfield.ODataControlFactory');}}else{this._oMetaData.modelObject=n.modelObject;this._oMetaData.property=n.property;this._oMetaData.property.valueListAnnotation=null;this._oMetaData.property.valueListKeyProperty=null;this._oMetaData.property.valueListEntitySet=null;this._oMetaData.property.valueListEntityType=null;this._oMetaData.annotations.text=n.annotations.text;this._oMetaData.annotations.uom=n.annotations.uom;if(this._oMetaData.annotations.uom&&!this._oMetaData.annotations.uom.annotations){this._oMetaData.annotations.uom.annotations={};}this._oMetaData.annotations.valuelist=n.annotations.valuelist;this._oMetaData.annotations.valuelistType=n.annotations.valuelistType;this._oMetaData.annotations.lineitem=n.annotations.lineitem;this._oMetaData.annotations.semantic=n.annotations.semantic;this._oMetaData.annotations.valuelistuom=n.annotations.valuelistuom;}};x.prototype._initValueList=function(n){if(!n){return null;}var y=this._oMetaData.property,z=n.primaryValueListAnnotation;this._oMetaData.annotations.valueListData=z;y.valueListAnnotation=z;y.valueListKeyProperty=this._oHelper.getODataValueListKeyProperty(z);y.valueListEntitySet=this._oHelper.oMeta.getODataEntitySet(z.valueListEntitySetName);y.valueListEntityType=this._oHelper.oMeta.getODataEntityType(this._oHelper.oMeta.getODataEntitySet(z.valueListEntitySetName).entityType);};x.prototype._createEdmDisplay=function(){var n,y,z,A,B=this,E={width:true,textAlign:true},G=this.getEdmProperty();if(G){A=this._oHelper.oAnnotation.getText(G);}var J=this._oParent.data('configdata');var K=((J&&(J.isInnerControl!==true))||this._oParent.isContextTable());var P=this._oSelector.checkComboBox(K);if(P.combobox&&(this._oParent.getFetchValueListReadOnly()||(A===undefined))){return this._createComboBox({valueHelp:{annotation:P.annotation,noDialog:true,noTypeAhead:true},edit:false});}if(this._checkLink()&&!this._oSelector.useObjectIdentifier()){return this._createLink();}var Q=this.createAttributes(null,this._oMetaData.property,E);var U=this._oSelector.checkDatePicker()||((this._oMetaData.property&&this._oMetaData.property.property)?this._oMetaData.property.property.type.startsWith('Edm.Date'):false);if(U){var W=this.getFormatSettings('dateFormatSettings');Q.text={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,W,{displayFormat:'Date'})};}else{Q.text={model:this._oMetaData.model,path:this._oHelper.getEdmDisplayPath(this._oMetaData),type:this._oTypes.getType(this._oMetaData.property)};}if(G){y=this._oHelper.oAnnotation.isMasked(G);if(y){Q.text.formatter=k.maskValue;}if(A){z=this._oSelector.useObjectIdentifier(U,y);if(z){delete Q.width;delete Q.textAlign;Q.text={path:this._oMetaData.path};Q.title={path:this._oHelper.getEdmDisplayPath(this._oMetaData)};if(this._oParent.hasListeners('press')){Q.titleActive=true;Q.titlePress=function(Z){B._oParent.firePress(Z);};}else if(this._oMetaData.annotations.semantic&&this._oMetaData.annotations.semantic.defaultSemanticObject){var X;var Y;s.getDistinctSemanticObjects().then(function(Z){X=s.hasDistinctSemanticObject(B._oMetaData.annotations.semantic.defaultSemanticObject,Z);if(X){var $=B._oParent.getBindingInfo('value');var _=$.parts[0].path;var a1=B._oHelper.oAnnotation.getLabel(B._oMetaData.property.property);if(B._oMetaData.annotations.lineitem&&B._oMetaData.annotations.lineitem.labels&&B._oMetaData.annotations.lineitem.labels[_]){a1=B._oMetaData.annotations.lineitem.labels[_];}Y=new N({semanticObject:B._oMetaData.annotations.semantic.defaultSemanticObject,additionalSemanticObjects:B._oMetaData.annotations.semantic.additionalSemanticObjects,semanticObjectLabel:a1,fieldName:_,navigationTargetsObtained:function(b1){var c1=sap.ui.getCore().byId(b1.getSource().getControl());var d1=b1.getParameters().mainNavigation;if(d1){d1.setDescription(c1.getText());}b1.getParameters().show(c1.getTitle(),d1,undefined,undefined);}});}});Q.titleActive={path:'$sapuicompsmartfield_distinctSO>/distinctSemanticObjects/'+this._oMetaData.annotations.semantic.defaultSemanticObject,formatter:function(Z){return!!Z;}};Q.titlePress=function(Z){if(X&&Y){Y.setControl(Z.getSource(Z.getParameter('domRef')));Y.openPopover();}};}}else if(!(J&&(J.isInnerControl===true))){Q.text={};Q.text.parts=[];Q.text.parts.push(this._oMetaData.path);Q.text.parts.push(this._oHelper.getEdmDisplayPath(this._oMetaData));Q.text.formatter=function(Z,$){if(P.combobox){return B._formatDisplayBehaviour('defaultComboBoxReadOnlyDisplayBehaviour',Z,$);}return B._formatDisplayBehaviour('defaultInputFieldDisplayBehaviour',Z,$);};}}else if(this._oSelector.checkCheckBox()){Q.text.formatter=function(Z){return B._formatDisplayBehaviour('defaultCheckBoxDisplayBehaviour',Z);};}}if(z){n=new o(this._oParent.getId()+'-objIdentifier',Q);if(this._oMetaData.annotations.semantic){n.setModel(s.getJSONModel(),'$sapuicompsmartfield_distinctSO');}}else{if(Q.text.type&&(Q.text.type instanceof sap.ui.comp.smartfield.type.DateTime)&&Q.text.type.oConstraints&&Q.text.type.oConstraints.isDateOnly){Q.wrapping=false;}if(this._oParent.isContextTable()&&sap.ui.getCore().getConfiguration().getRTL()){Q.textDirection='LTR';}n=new e(this._oParent.getId()+'-text',Q);}if(!z&&J&&J.configdata&&J.configdata.onText){J.configdata.onText(n);}return{control:n,onCreate:'_onCreate',params:{noValidations:true}};};x.prototype._createEdmTime=function(){var n={width:true,placeholder:true,valueState:true,valueStateText:true};var A=this.createAttributes('value',this._oMetaData.property,n,{event:'change'});A.valueFormat='HH:mm:ss';if(A.width===''){A.width='100%';}var y=new r(this._oParent.getId()+'-timePicker',A);return{control:y,onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};x.prototype._createObjectStatus=function(){var A=this.createAttributes(null,this._oMetaData.property,null),n=this._oHelper.oAnnotation.getText(this.getEdmProperty());if(n){A.text={parts:[this._oHelper.getEdmDisplayPath(this._oMetaData)]};}else{A.text={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)};}this._addObjectStatusAttributes(A);var y=new p(this._oParent.getId()+'-objStatus',A);return{control:y,onCreate:'_onCreate',params:{getValue:'getText',noValidation:true}};};x.prototype._addObjectStatusAttributes=function(A){var n,P=this._oParent.getControlProposal(),y=P.getObjectStatus();if(y){n=y.getBindingInfo('criticality');}var z=function(E){var G={0:V.None,1:V.Error,2:V.Warning,3:V.Success};var J={'com.sap.vocabularies.UI.v1.CriticalityType/Neutral':V.Neutral,'com.sap.vocabularies.UI.v1.CriticalityType/Negative':V.Warning,'com.sap.vocabularies.UI.v1.CriticalityType/Critical':V.Error,'com.sap.vocabularies.UI.v1.CriticalityType/Positive':V.Success};return J[E]||G[E]||V.None;};var B=function(){var E,G={'Error':'sap-icon://status-negative','Warning':'sap-icon://status-critical','Success':'sap-icon://status-positive','None':'sap-icon://status-inactive'};if(n){if(n.formatter){E=n.formatter.apply(null,arguments);}else{E=arguments[0];}}else{E=y.getCriticality();}if((E===undefined)||(E===null)){return null;}return G[z(E)];};if(n){A.state={formatter:function(){var E;if(n.formatter){E=n.formatter.apply(null,arguments);}else{E=arguments[0];}return z(E);},parts:n.parts};if(y.getCriticalityRepresentationType()!==sap.ui.comp.smartfield.CriticalityRepresentationType.WithoutIcon){A.icon={formatter:B,parts:n.parts};}}else{if(y){A.state=z(y.getCriticality());if(y.getCriticalityRepresentationType()!==sap.ui.comp.smartfield.CriticalityRepresentationType.WithoutIcon){A.icon=B();}}else{A.icon=B();}}};x.prototype._createEdmString=function(){var A,n={width:true,textAlign:true,placeholder:true,tooltip:true,name:true,valueState:true,valueStateText:true};if(this._oSelector.checkCheckBox()){return this._createCheckBox();}var y=this._oSelector.checkSelection();if(y.selection){return this._createSelect({annotation:y.annotation,noDialog:true,noTypeAhead:true});}y=this._oSelector.checkComboBox();if(y.combobox){return this._createComboBox({valueHelp:{annotation:y.annotation,noDialog:true,noTypeAhead:true},edit:true});}var E=this.getEdmProperty();if(E){if(this._oHelper.oAnnotation.isMultiLineText(E)){delete n['width'];return this._createMultiLineText(n);}}var z=this._oParent.isTextInEditModeSourceValid();if(z){}if(z&&(/Edm.String|Edm.Guid/.test(E.type))){A=this.createAttributes('',this._oMetaData.property,n);A.value=this._getTextArrangementBindingInfo();}else{A=this.createAttributes('value',this._oMetaData.property,n);}var B=new I(this._oParent.getId()+'-input',A);if(E){if(this._oHelper.oAnnotation.isMasked(E)){B.setType(d.Password);}this._handleEventingForEdmString(B,this._oMetaData.property);}var G=this._oParent.data('configdata');if(G&&G.configdata&&G.configdata.onInput){G.configdata.onInput(B);}return{control:B,onCreate:'_onCreate',params:{valuehelp:{annotation:y.annotation,noDialog:!this._oParent.getShowValueHelp(),noTypeAhead:!this._oParent.getShowSuggestion(),aggregation:'suggestionRows'},getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};x.prototype._getTextArrangementBindingInfo=function(){var B=this._oParent.getBindingInfo('value'),n=(B&&B.type)||{};return{model:this._oMetaData.model,type:this._oTypes.getType(this._oMetaData.property,n.oFormatOptions,n.oConstraints,{composite:true}),parts:[{path:this._oMetaData.path},{path:this._getTextAnnotationPropertyPath()}]};};x.prototype._getTextAnnotationPropertyPath=function(){switch(this._oParent.getTextInEditModeSource()){case w.NavigationProperty:return this._oHelper.getEdmDisplayPath(this._oMetaData);case w.ValueList:return this._oHelper.getTextPathFromValueList(this._oMetaData);case w.None:return'';}};x.prototype._getMaxLength=function(){return this._oTypes.getMaxLength(this._oMetaData.property,this._oParent.getBindingInfo('value'));};x.prototype._addAriaLabelledBy=function(n){var y,z,A;if((this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.None)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.Form)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.SmartFormGrid)){h.prototype._addAriaLabelledBy.apply(this,arguments);A=this._oParent.data('configdata');if(A&&A.configdata.isInnerControl&&A.configdata.isUOM){if(n){z=n.control;if(z instanceof H){if(z.getItems().length>0){z=z.getItems()[0];}}}if(z&&z.getAriaLabelledBy&&z.getAriaLabelledBy().length===0){var E=this.getEdmProperty();if(this._oHelper.oAnnotation.getLabel(E)){y=new v({text:this._oHelper.oAnnotation.getLabel(E)});z.addAriaLabelledBy(y);this._oParent.addAggregation('_ariaLabelInvisibleText',y);}}}}};x.prototype._handleEventingForEdmString=function(n,P){if(!n){return;}var U=this._oHelper.oAnnotation.isUpperCase(P.property),y=this;n.attachChange(function onTextInputFieldChange(z){var A={},B=z&&z.getParameters();if(B){var E=B.value;if(U&&E){E=E.toUpperCase();n.setValue(E);}A.value=E;A.newValue=E;if(B.validated){A.validated=B.validated;}if(n._oSuggestionPopup&&n._oSuggestionPopup.isOpen()){if(!B.validated){if(n._iPopupListSelectedIndex>=0){return;}}}try{var G=y._oParent;if(G.isTextInEditModeSourceValid()){var J=G.getBinding('value');G.bWaitingForValueValidation=J&&(E!==J.getValue());}else{G.fireChange(A);}}catch(K){q.sap.log.error(K);}}});};x.prototype._createComboBox=function(n){var y=null,z=this._oParent.data('configdata'),A={width:true,textAlign:true,placeholder:true,tooltip:true,name:true},B=this.createAttributes('selectedKey',this._oMetaData.property,A);B.selectionChange=this._oHelper.getSelectionChangeHandler(this._oParent);B.change=function(E){if(E.getParameter('itemPressed')){return;}var G=E.getSource().getSelectedKey();this._oParent.fireChange({value:G,newValue:G});}.bind(this);if(B.width===''){B.width='100%';}if(n.edit){y=new a(this._oParent.getId()+'-comboBoxEdit',B);}else{y=this._createDisplayedComboBox(B);}if(z&&z.configdata&&z.configdata.onText){z.configdata.onText(y);}return{control:y,onCreate:'_onCreate',params:{valuehelp:{annotation:n.valueHelp.annotation,aggregation:'items',noDialog:n.valueHelp.noDialog,noTypeAhead:n.valueHelp.noTypeAhead},getValue:'getSelectedKey',type:{type:B.selectedKey.type,property:this._oMetaData.property}}};};x.prototype._createDisplayedComboBox=function(A){var n=a.extend('sap.ui.comp.smartfield.DisplayComboBox',{metadata:{library:'sap.ui.comp'},renderer:function(y,z){var W=z.getWidth(),B=z.getValue(),E=z.getTextDirection(),G=z.getTextAlign();B.replace(/\\r\\n/g,'\\n');y.write('<span');y.writeControlData(z);y.addClass('sapMText');y.addClass('sapUiSelectable');if(W){y.addStyle('width',W);}else{y.addClass('sapMTextMaxWidth');}if(E!==sap.ui.core.TextDirection.Inherit){y.writeAttribute('dir',E.toLowerCase());}if(G){G=R.getTextAlign(G,E);if(G){y.addStyle('text-align',G);}}y.writeClasses();y.writeStyles();y.write('>');y.writeEscaped(B);y.write('</span>');},updateDomValue:function(y){if(!this.isActive()){return this;}y=this._getInputValue(y);if(this.$().text()!==y){this.$().text(y);this._bCheckDomValue=true;}return this;},getValue:function(){return this.getProperty('value');},getFocusDomRef:function(){return this.getDomRef();},getEditable:function(){return false;}});return new n(this._oParent.getId()+'-comboBoxDisp',A);};x.prototype._createSelect=function(n){var y={width:true,name:true},A=this.createAttributes('selectedKey',this._oMetaData.property,y);A.change=this._oHelper.getSelectionChangeHandler(this._oParent);A.forceSelection=false;if(A.width===''){A.width='100%';}return{control:new S(this._oParent.getId()+'-select',A),onCreate:'_onCreate',params:{valuehelp:{annotation:n.annotation,aggregation:'items',noDialog:n.noDialog,noTypeAhead:n.noTypeAhead},getValue:'getSelectedKey',type:{type:A.selectedKey.type,property:this._oMetaData.property}}};};x.prototype._createCheckBox=function(){var A=this.createAttributes('selected',null,{},{event:'select',parameter:'selected'});A.editable=(this._oParent.getEditable()&&this._oParent.getEnabled()&&this._oParent.getContextEditable());A.selected.type=this._oTypes.getAbapBoolean();return{control:new C(this._oParent.getId()+'-cBox',A),onCreate:'_onCreate',params:{getValue:'getSelected'}};};x.prototype._createEdmDateTime=function(){var n={width:true,textAlign:true,placeholder:true,name:true},A=this.createAttributes(null,this._oMetaData.property,n,{event:'change',parameter:'value'}),y=this.getFormatSettings('dateFormatSettings');if(this._oSelector.checkDatePicker()){A.value={path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,y,{displayFormat:'Date'}),model:this._oMetaData.model};if(y&&y.style){A.displayFormat=y.style;}return{control:new D(this._oParent.getId()+'-datePicker',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};}A.value={path:this._oMetaData.path,model:this._oMetaData.model,type:this._oTypes.getType(this._oMetaData.property,y)};return{control:new b(this._oParent.getId()+'-input',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};x.prototype._createEdmDateTimeOffset=function(){var n=this.getFormatSettings('dateFormatSettings');if(n){n.UTC=false;}var y={width:true,textAlign:true,placeholder:true,name:true};var A=this.createAttributes(null,this._oMetaData.property,y,{event:'change',parameter:'value'});A.value={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,n)};return{control:new b(this._oParent.getId()+'-input',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};x.prototype._createEdmNumeric=function(){var n={width:true,textAlign:true,placeholder:true,name:true},A=this.createAttributes('value',this._oMetaData.property,n,{event:'change',parameter:'value'});if(this._oParent.isContextTable()&&sap.ui.getCore().getConfiguration().getRTL()){A.textDirection='LTR';}return{control:new I(this._oParent.getId()+'-input',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};x.prototype._createEdmUOM=function(){var A=this._createEdmUOMAttributes(),n=this._oParent.getObjectBinding(this._oMetaData.model),y=sap.ui.getCore().getConfiguration().getRTL(),z=y&&this._oParent.isContextTable(),B=this._oParent.getId(),E;this.addObjectBinding(A,n);if(z){A.textDirection='LTR';}var G=new I(B+'-input',A);if(this._oParent.data('suppressUnit')==='true'){var P={getValue:'getValue'};if(!this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){P.type={type:A.value.type,property:this._oMetaData.property};}return{control:G,onCreate:'_onCreate',params:P};}if(!this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){E={type:A.value.type,property:this._oMetaData.property};}var J=this._oHelper.getUOMPath(this._oMetaData);A={value:{model:this._oMetaData.model,path:J},change:this._oHelper.getUOMChangeHandler(this._oParent,true),textAlign:this._getEdmUOMTextAlignment()};this.addObjectBinding(A,n);this.mapBindings(A,{'uomEditable':'editable','uomEnabled':'enabled','uomVisible':'visible','mandatory':'mandatory','contextEditable':'contextEditable'});if(this._oParent.getConfiguration()){A.configuration=new sap.ui.comp.smartfield.Configuration({preventInitialDataFetchInValueHelpDialog:this._getPreventInitialDataFetchInVHDialog()});}var K=new sap.ui.comp.smartfield.SmartField(B+'-sfEdit',A);K.data('configdata',{'configdata':{isInnerControl:true,isUOM:!this._oParent.data('configdata'),model:this._oMetaData.model,navigationPath:this._oMetaData.annotations.uom.navigationPath||null,path:J,entitySetObject:this._oMetaData.annotations.uom.entitySet,entityType:this._oMetaData.annotations.uom.entityType,property:this._oMetaData.annotations.uom.property,annotations:{valuelist:this._oMetaData.annotations.valuelistuom,valuelistType:this._oMetaData.annotations.uom.annotations.valuelistType,text:this._oMetaData.annotations.textuom},modelObject:this._oMetaData.modelObject||this._oModel,onText:function(U){G.setLayoutData(new F({growFactor:1}));K.setLayoutData(new F({shrinkFactor:0,styleClass:'sapUiCompSmartFieldFlexItemUnitDisplay'}));if(U){if(z&&(typeof U.setTextDirection==='function')){U.setTextDirection('LTR');}U.addStyleClass('sapUiCompSmartFieldUnit');}},onInput:function(U){G.setLayoutData(new F({growFactor:1}));K.setLayoutData(new F({growFactor:0,styleClass:'sapUiCompSmartFieldFlexItemUnitEdit'}));if(U){if(z&&(typeof U.setTextDirection==='function')){U.setTextDirection('LTR');}U.addStyleClass('sapUiCompSmartFieldUnit');}}}});K.data('errorCheck','setComplexClientErrorSecondOperandNested');G.addAriaLabelledBy(K);G.addStyleClass('smartFieldPaddingRight');G.addStyleClass('sapUiCompSmartFieldValue');var Q=new H({justifyContent:c.End,items:[G,K],fitContainer:true,width:this._oParent.getWidth()});Q.addStyleClass('sapUiCompUOM');Q.enhanceAccessibilityState=function(U,W){this._oParent.enhanceAccessibilityState(U,W);}.bind(this);if(this._oParent.isContextTable()){if(z){Q.addStyleClass('sapUiCompDirectionLTR');}Q.addStyleClass('sapUiCompUOMInTable');if(this._oParent.getMode()!=='edit'){Q.addStyleClass('sapUiCompUOMInTableDisplay');}}return{control:Q,onCreate:'_onCreateUOM',params:{getValue:true,valuehelp:true,type:E}};};x.prototype._createEdmUOMAttributes=function(){var A={textAlign:this._getEdmUOMTextAlignment(),placeholder:this.getAttribute('placeholder'),name:this.getAttribute('name'),change:this._oHelper.getUOMChangeHandler(this._oParent)};if(this._oMetaData.annotations.uom&&this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){A.value={parts:[{path:this._oMetaData.path},{path:this._oHelper.getUOMPath(this._oMetaData)}],model:this._oMetaData.model,type:this._oTypes.getCurrencyType(this._oMetaData.property)};}else{A.value={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)};}return A;};x.prototype._getEdmUOMTextAlignment=function(){var A=this.getAttribute('textAlign');if(!A){A=f.Initial;}if(A===f.Initial){if(this._oParent.isContextTable()){return f.End;}return f.Begin;}return A;};x.prototype._createEdmUOMDisplay=function(){var n=this,P=this._oHelper.getUOMPath(this._oMetaData),A=this._getEdmUOMTextAlignment(),y=null,E=this.getEdmProperty(),z=this._oParent.isContextTable()&&sap.ui.getCore().getConfiguration().getRTL();var B={text:{parts:[{path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)},{path:P}],model:this._oMetaData.model,formatter:this._oTypes.getDisplayFormatter(E,{currency:this._oHelper.oAnnotation.isCurrency(E),mask:this._oHelper.oAnnotation.isMasked(E)}),useRawValues:true},textAlign:A};if(z){B.textDirection='LTR';}var G=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(B,G);var J=new e(this._oParent.getId()+'-text',B);P=this._oHelper.getUOMPath(this._oMetaData);B={value:{model:this._oMetaData.model,path:P},change:this._oHelper.getUOMChangeHandler(this._oParent,true),textAlign:this._getEdmUOMTextAlignment()};this.addObjectBinding(B,G);this.mapBindings(B,{'uomEditable':'editable','uomEnabled':'enabled','uomVisible':'visible','mandatory':'mandatory','contextEditable':'contextEditable'});J.addStyleClass('smartFieldPaddingRight');J.addStyleClass('sapUiCompSmartFieldValue');if(!this._checkSuppressUnit()){y=new sap.ui.comp.smartfield.SmartField(this._oParent.getId()+'-sfDisp',B);y.data('configdata',{'configdata':{isInnerControl:true,isUOM:!this._oParent.data('configdata'),model:this._oMetaData.model,navigationPath:this._oMetaData.annotations.uom.navigationPath||null,path:P,entitySetObject:this._oMetaData.annotations.uom.entitySet,entityType:this._oMetaData.annotations.uom.entityType,property:this._oMetaData.annotations.uom.property,annotations:{valuelist:this._oMetaData.annotations.valuelistuom,text:this._oMetaData.annotations.textuom},modelObject:this._oMetaData.modelObject||this._oModel,onText:function(Q){if(Q){if(Q.setWrapping){Q.setWrapping(false);}if(z&&(typeof Q.setTextDirection==='function')){Q.setTextDirection('LTR');}Q.addStyleClass('sapUiCompSmartFieldUnit');}},onInput:function(Q){J.setLayoutData(new F({growFactor:0}));y.setLayoutData(new F({growFactor:0}));if(Q){if(z&&(typeof Q.setTextDirection==='function')){Q.setTextDirection('LTR');}Q.addStyleClass('sapUiCompSmartFieldUnit');}},getContextEditable:function(){return n._oParent.getContextEditable();}}});y.data('errorCheck','setComplexClientErrorSecondOperandNested');var K=new H({items:[J,y],fitContainer:true,width:this._oParent.getWidth()});K.enhanceAccessibilityState=function(Q,U){this._oParent.enhanceAccessibilityState(Q,U);}.bind(this);if(this._oParent.isContextTable()){K.setJustifyContent('End');this._oParent.addStyleClass('sapUiCompUOMInTable');if(z){K.addStyleClass('sapUiCompDirectionLTR');}K.addStyleClass('sapUiCompUOMInTable');}return{control:K};}return{control:J};};x.prototype._checkSuppressUnit=function(){if(this._oParent.data('suppressUnit')==='true'){return true;}var n=this._oParent.getBindingInfo('uomVisible');return(!n&&!this._oParent.getUomVisible());};x.prototype._createEdmUOMObjectStatus=function(){var n,y,E=this.getEdmProperty(),z=this._oTypes.getDisplayFormatter(E,{currency:this._oHelper.oAnnotation.isCurrency(E)}),P=this._oHelper.getUOMPath(this._oMetaData),A={text:{parts:[{path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)},{path:P}],formatter:function(){var B=z.apply(this,arguments);return B+arguments[1];},useRawValues:true}};this._addObjectStatusAttributes(A);n=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,n);y=new p(this._oParent.getId()+'-objStatus',A);y.addStyleClass('sapUiCompUOM');return{control:y};};x.prototype._createEdmUOMObjectNumber=function(){var A,n,y,z=this._getEdmUOMTextAlignment();if(this._oMetaData.annotations.uom&&this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){A={number:{parts:[{path:this._oMetaData.path},{path:this._oHelper.getUOMPath(this._oMetaData)}],type:this._oTypes.getCurrencyType(this._oMetaData.property)},unit:{path:this._oHelper.getUOMPath(this._oMetaData)},model:this._oMetaData.model,textAlign:z};}else{A={model:this._oMetaData.model,number:{path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)},unit:{path:this._oHelper.getUOMPath(this._oMetaData)},textAlign:z};}n=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,n);y=new m(this._oParent.getId()+'-objNumber',A);y.addStyleClass('sapUiCompUOM');return{control:y};};x.prototype._createEdmSemantic=function(){var A,n,U,y=this,z=this._oParent.getBindingInfo('value'),P=z.parts[0].path,E=this.getEdmProperty(),B=this._oHelper.oAnnotation.getLabel(E);if(this._oMetaData.annotations.lineitem&&this._oMetaData.annotations.lineitem.labels&&this._oMetaData.annotations.lineitem.labels[P]){B=this._oMetaData.annotations.lineitem.labels[P];}A={semanticObject:this._oMetaData.annotations.semantic.defaultSemanticObject,additionalSemanticObjects:this._oMetaData.annotations.semantic.additionalSemanticObjects,semanticObjectLabel:B,fieldName:P,width:this.getAttribute('width'),createControlCallback:function(){var G=this.createControl(true);if(G){return G.control;}return null;}.bind(this)};n=this._oHelper.oAnnotation.getText(E);if(n){A.text={parts:[this._oMetaData.path,this._oHelper.getEdmDisplayPath(this._oMetaData)],model:this._oMetaData.model,formatter:function(G,J){if(G&&J){return y._formatDisplayBehaviour('defaultInputFieldDisplayBehaviour',G,J);}return G?G:'';}};A.navigationTargetsObtained=function(G){var J=this.getBinding('text');if(!q.isArray(J.getValue())){G.getParameters().show();return;}var K=J.getValue();var Q=y._getDisplayBehaviourConfiguration('defaultInputFieldDisplayBehaviour')||'idOnly';var W=t.getTextsFromDisplayBehaviour(Q,K[0],K[1]);var X=G.getParameters().mainNavigation;if(X){X.setDescription(W.secondText);}G.getParameters().show(W.firstText,X,undefined,undefined);};}else{U=this._oHelper.getUOMPath(this._oMetaData);if(U){A.text={parts:[{path:P},{path:U}],model:this._oMetaData.model,formatter:this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)?t.getAmountCurrencyFormatter():t.getMeasureUnitFormatter(),useRawValues:true};A.uom={path:U};}else{A.text={path:P,model:this._oMetaData.model};}}return{control:new g(this._oParent.getId()+'-sl',A),onCreate:'_onCreate',params:{getValue:'getInnerControlValue'}};};x.prototype._createMultiLineText=function(n){var A=this.createAttributes('value',this._oMetaData.property,n);var y=this.getFormatSettings('multiLineSettings');A=q.extend(true,A,y);if(this._oParent.isContextTable()){A.width='100%';}var z=new T(this._oParent.getId()+'-textArea',A);this._handleEventingForEdmString(z,this._oMetaData.property);return{control:z,onCreate:'_onCreate',params:{type:{type:A.value.type,property:this._oMetaData.property},getValue:'getValue'}};};x.prototype.getEdmProperty=function(){var n=this._oHelper;if(n){return n.getEdmProperty(this._oMetaData);}return null;};x.prototype.getEntityType=function(){if(this._oMetaData){return this._oMetaData.entityType;}return null;};x.prototype._checkLink=function(){var n=this._oParent.getBindingInfo('url'),P=this.getEdmProperty();if(n||this._oParent.getUrl()||x.isSpecialLink(P)){return true;}return this._oParent.hasListeners('press');};x.prototype._createLink=function(){var n=this;var A={text:'',href:''},P=this._oParent,B=P.getBindingInfo('url');if(B){A.href=this._oBinding.toBinding(B);}else{A.href=P.getUrl();}if(P.hasListeners('press')){A.press=function(J){J.preventDefault();P.firePress(J);};}B=P.getBindingInfo('value');if(B){var y=this._oMetaData,z=y.path,E=y.property.property;if(y.annotations.text&&(E.type==='Edm.String')){A.text={parts:[y.path,this._oHelper.getEdmDisplayPath(y)],formatter:this._formatText.bind(n)};}else if(x.isSpecialLink(E)){var G=x[x._getLinkFormatterFunctionName(E)];A.text={path:z};A.href={path:z,formatter:null};if(typeof G==='function'){A.href.formatter=G;}}else{A.text=this._oBinding.toBinding(B);}}else{A.text=P.getValue();}return{control:new L(P.getId()+'-link',A),onCreate:'_onCreate',params:{noValidation:true}};};x.isSpecialLink=function(P){return M.isEmailAddress(P)||M.isPhoneNumber(P)||M.isURL(P);};x._getLinkFormatterFunctionName=function(P){return'_format'+M.getLinkDisplayFormat(P);};x._formatEmailAddress=function(E){return'mailto:'+E;};x._formatPhoneNumber=function(P){return'tel:'+P;};x._formatURL=function(U){return q.sap.validateUrl(U)?U:'';};x.prototype._formatText=function(n,y){if(n&&y){return this._formatDisplayBehaviour('defaultInputFieldDisplayBehaviour',n,y);}return n||'';};x.prototype._createEdmBoolean=function(){var n=this._oSelector.checkComboBox(),E=this._oParent.getEditable()&&this._oParent.getEnabled()&&this._oParent.getContextEditable(),y=this,P=null,A,z;if(n.combobox){if(E||this._oParent.getFetchValueListReadOnly()){return this._createComboBox({valueHelp:{annotation:n.annotation,noDialog:true,noTypeAhead:true},edit:E});}}if(E){A=this.createAttributes('selected',this._oMetaData.property,{},{event:'select',parameter:'selected'});z=new C(this._oParent.getId()+'-cBoxBool',A);P={getValue:'getSelected'};}else{A=this.createAttributes('text',this._oMetaData.property,{width:true,textAlign:true});A.text={model:this._oMetaData.model,path:this._oMetaData.path,formatter:function(B){return y._formatDisplayBehaviour('defaultCheckBoxDisplayBehaviour',B);}};z=new e(this._oParent.getId()+'-text',A);}return{control:z,onCreate:'_onCreate',params:P};};x.prototype._getCreator=function(B){return this._oSelector.getCreator(B);};x.prototype._onCreate=function(n,P){var G,y,z=true,A=this;if(P){if(P.noValidation){z=false;}if(P.valuehelp&&this.shouldCreateValueHelpForControl(n)){this._getValueHelpDialogTitle(P.valuehelp);P.valuehelp['analyser']=this._oHelper.getAnalyzer(this._oModel||this._oMetaData.modelObject);this.createValueHelp(n,this.getEdmProperty(),P.valuehelp,this._oModel||this._oMetaData.modelObject,function(E){A._oParent.fireValueListChanged({'changes':E.mParameters.changes});});}if(P.getValue){G=P.getValue;P.getValue=function(){return n[G]();};}if(P.type){y=this._oFieldControl.getMandatoryCheck(P.type.property);if(y){P.type.type.oFieldControl=y;}}}if(z){this.addValidations(n,this._oParent.data('errorCheck')||'setSimpleClientError');if(this._oParent.getMode()!=='display'){n.attachValidationSuccess(function(E){if(!A._oParent.getValue()){if(A._oMetaData.property&&A._oMetaData.property.property&&A._oHelper.oAnnotation.isStaticMandatory(A._oMetaData.property.property)){if(n.setValueStateText){n.setValueStateText(A._oRb.getText('VALUEHELPVALDLG_FIELDMESSAGE'));n.setValueState(sap.ui.core.ValueState.Error);A._oParent.setSimpleClientError(true);}}}});}}if(!this._checkUOM()){n.addStyleClass('sapUiCompSmartFieldValue');}};x.prototype._createValueHelp=function(){var n=this._oParent.getContent();if(!n){return;}var y={annotation:this._oMetaData.annotations.valuelist,noDialog:!this._oParent.getShowValueHelp(),noTypeAhead:!this._oParent.getShowSuggestion(),aggregation:'suggestionRows'};this._getValueHelpDialogTitle(y);y['analyser']=this._oHelper.getAnalyzer(this._oModel||this._oMetaData.modelObject);this.createValueHelp(n,this.getEdmProperty(),y,this._oModel||this._oMetaData.modelObject,function(E){this._oParent.fireValueListChanged({'changes':E.mParameters.changes});}.bind(this));};x.prototype._checkUOM=function(){var n=this._oParent.data('configdata');if(n&&n.configdata){if(n.configdata.onInput||n.configdata.onText){return true;}}return false;};x.prototype._getValueHelpDialogTitle=function(n){n.dialogtitle=this._oParent.getTextLabel();if(!n.dialogtitle){var E=this.getEdmProperty();n.dialogtitle=this._oHelper.oAnnotation.getLabel(E)||E.name;}};x.prototype._onCreateUOM=function(n,P){var y=n.getItems(),z,A=this;this.addValidations(y[0],'setComplexClientErrorFirstOperand');if(this._oParent.getMode()!=='display'){y[0].attachValidationSuccess(function(E){if(!A._oParent.getValue()){if(A._oMetaData.property&&A._oMetaData.property.property&&A._oHelper.oAnnotation.isStaticMandatory(A._oMetaData.property.property)){if(y[0].setValueStateText){y[0].setValueStateText(A._oRb.getText('VALUEHELPVALDLG_FIELDMESSAGE'));y[0].setValueState(sap.ui.core.ValueState.Error);A._oParent.setComplexClientErrorFirstOperand(true);}}}});}if(P&&P.getValue){P.getValue=function(){return y[0].getValue();};}P.uom=function(){return y[1].getValue();};P.uomset=function(B){y[1].setValue(B);};if(P.type){z=this._oFieldControl.getMandatoryCheck(P.type.property);if(z){P.type.type.oFieldControl=z;}}};x.prototype.bind=function(){var n=this.getMetadata().getName();var y=function(E,G){try{this._init(E);this._setUOMEditState();this._bind(G);}catch(J){q.sap.log.error(J,null,n+'.bind.fnInit');}}.bind(this);if(!this._bInitialized&&!this.bPending){this._bInitialized=true;var z=this._oFieldControl.getBindableAttributes(),A=this._oParent.data('configdata');if(A&&A.configdata){y(this._oMeta,z);}else if(this._oModel){this.bPending=true;var B=this._oParent&&this._oParent.isTextInEditModeSourceValid();var P=this._oModel.getMetaModel().loaded().then(function onMetaModelLoaded(){if(B){this._init(this._oMeta);return this._oHelper.loadValueListAnnotation(this._oMetaData.annotations.valuelist);}this.bPending=false;y(this._oMeta,z);}.bind(this)).catch(function(E){q.sap.log.error(E,null,n+'.onMetaModelLoaded');});if(B){return P.then(function(E){this.bPending=false;return E;}.bind(this)).then(this._initValueList.bind(this)).then(function(){this._setUOMEditState();this._bind(z);}.bind(this)).catch(function(E){q.sap.log.error(E,null,n+'.bind');});}return P;}}};x.prototype._bind=function(B){var y,z=this._oFieldControl.getControlProperties(this._oMetaData,B);for(var n in z){y=this._oBinding.fromFormatter(this._oMetaData.model,z[n]);this._oParent.bindProperty(n,y);}this._addLabelAndQuickInfo();this._oParent.fireInitialise();};x.prototype._addLabelAndQuickInfo=function(){var P=this.getDataProperty();P=P.property;var n=this._oHelper.oAnnotation.getLabel(P);var Q=this._oHelper.oAnnotation.getQuickInfo(P);if(n&&this._oParent.isPropertyInitial('textLabel')){this._oParent.setTextLabel(n);}if(Q&&this._oParent.isPropertyInitial('tooltipLabel')){this._oParent.setTooltipLabel(Q);}};x.prototype.rebindOnCreated=function(){var B,y=this._oFieldControl.getControlProperties(this._oMetaData,['editable']);for(var n in y){B=this._oBinding.fromFormatter(this._oMetaData.model,y[n]);this._oParent.bindProperty(n,B);}};x.prototype._setUOMEditState=function(){if(this._oFieldControl.hasUomEditState(this._oMetaData)){var n=this._oFieldControl.getUOMEditState(this._oMetaData);if(n){var B=this._oBinding.fromFormatter(this._oMetaData.model,n);this._oParent.bindProperty('uomEditState',B);}}};x.prototype.getDataProperty=function(){return this._oMetaData.property;};x.prototype.getDropdownItemKeyType=function(n){var y=n.getMetadata().getName();if((y==='sap.ui.comp.smartfield.DisplayComboBox')||(y==='sap.m.ComboBox')||(y==='sap.m.Select')){var B=this._oParent&&this._oParent.getBindingInfo('value');return(B&&B.type)||null;}return null;};x.prototype.getMetaData=function(){return this._oMetaData;};x.prototype.getODataHelper=function(){return this._oHelper;};x.prototype.destroy=function(){if(this._oFieldControl){this._oFieldControl.destroy();}if(this._oSelector){this._oSelector.destroy();}if(this._oTypes){this._oTypes.destroy();}if(this._oHelper){this._oHelper.destroy();}this._oHelper=null;this._oFieldControl=null;this._oTypes=null;this._oSelector=null;this._oMetaData=null;h.prototype.destroy.apply(this,arguments);};return x;},true);\n",
	"sap/ui/comp/smartfield/ODataControlSelector.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var O=function(m,p,t){this._oMetaData=m;this._oParent=p;this._oTypes=t;};O.prototype.checkComboBox=function(c){var r={};if(this._oMetaData.annotations.valuelist){r.valuelistType=this._oMetaData.annotations.valuelistType;r.annotation=this._oMetaData.annotations.valuelist;}if(!r.annotation){return r;}if((r.valuelistType==='fixed-values')&&!c){r.combobox=true;}if(!r.combobox){r.annotation=this._oMetaData.annotations.valuelist;r.combobox=this._checkConfig('dropDownList');}return r;};O.prototype.checkSelection=function(){var r={};if(this._oMetaData.annotations.valuelist){r.annotation=this._oMetaData.annotations.valuelist;r.selection=this._checkConfig('selection');}return r;};O.prototype.checkCheckBox=function(){var b,m;if(this._oMetaData.property&&this._oMetaData.property.property&&this._oMetaData.property.property.type==='Edm.String'){b=this._oParent.getBindingInfo('value');m=this._oTypes.getMaxLength(this._oMetaData.property,b);if(m===1){if(this._checkConfig('checkBox')){return true;}}}return false;};O.prototype.checkDatePicker=function(){if(this._oMetaData.property&&this._oMetaData.property.property&&(this._oMetaData.property.property['sap:display-format']==='Date'||this._oTypes.isCalendarDate(this._oMetaData.property))){return true;}return this._checkConfig('datePicker');};O.prototype._checkConfig=function(t){var c=this._oParent.getConfiguration();if(c){return c.getControlType()===t;}return false;};O.prototype.getCreator=function(b){var c=true,C;var m={'Edm.Decimal':'_createEdmNumeric','Edm.Double':'_createEdmNumeric','Edm.Float':'_createEdmNumeric','Edm.Single':'_createEdmNumeric','Edm.Int16':'_createEdmNumeric','Edm.Int32':'_createEdmNumeric','Edm.Int64':'_createEdmNumeric','Edm.Byte':'_createEdmNumeric','Edm.DateTimeOffset':'_createEdmDateTimeOffset','Edm.DateTime':'_createEdmDateTime','Edm.Boolean':'_createEdmBoolean','Edm.String':'_createEdmString','Edm.Time':'_createEdmTime'};if(this._isUOMDisplayObjectStatus()){return'_createEdmUOMObjectStatus';}if(this._isUOMDisplay()){return'_createEdmUOMObjectNumber';}C=this._oParent.data('configdata');if(C&&C.configdata&&C.configdata.isUOM){if(C.configdata.getContextEditable){c=C.configdata.getContextEditable();}}if(!this._oParent.getEditable()||!this._oParent.getEnabled()||!this._oParent.getContextEditable()||!c){if(this._oMetaData.annotations){if(this.useObjectIdentifier(this.checkDatePicker())&&this._oMetaData.annotations.text&&this._oMetaData.annotations.semanticKeys&&this._oMetaData.annotations.semanticKeys.semanticKeyFields&&this._oMetaData.annotations.semanticKeys.semanticKeyFields.indexOf(this._oMetaData.path)>-1){return'_createEdmDisplay';}if(this._oMetaData.annotations.semantic&&!b){return'_createEdmSemantic';}if(this._oMetaData.annotations.uom){return'_createEdmUOMDisplay';}if(this._isObjectStatusProposed()){return'_createObjectStatus';}return(this._oMetaData.property&&this._oMetaData.property.property&&this._oMetaData.property.property.type==='Edm.Boolean')?'_createEdmBoolean':'_createEdmDisplay';}}if(this._oMetaData.annotations&&this._oMetaData.annotations.uom){return'_createEdmUOM';}if(this._oMetaData.property&&this._oMetaData.property.property){if(this._oTypes.isCalendarDate(this._oMetaData.property)){return'_createEdmDateTime';}return m[this._oMetaData.property.property.type]||'_createEdmString';}return null;};O.prototype._isUOMDisplay=function(){if(this._oMetaData.annotations.uom){if(this._isObjectNumberProposed()){if(!this._oParent.getContextEditable()||(!this._oParent.getEditable()&&!this._oParent.getUomEditable())||(!this._oParent.getEnabled()&&!this._oParent.getUomEnabled())){return true;}if(this._oParent.getUomEditState()===0){return true;}}}return false;};O.prototype._isUOMDisplayObjectStatus=function(){if(this._oMetaData.annotations.uom){if(this._isObjectStatusProposed()){if(!this._oParent.getContextEditable()||(!this._oParent.getEditable()&&!this._oParent.getUomEditable())||(!this._oParent.getEnabled()&&!this._oParent.getUomEnabled())){return true;}if(this._oParent.getUomEditState()===0){return true;}}}return false;};O.prototype._isObjectStatusProposed=function(){var p=this._oParent.getControlProposal(),s;if(p){s=p.getObjectStatus();if(s){return true;}}return false;};O.prototype._isObjectNumberProposed=function(){var p;if(this._oParent.data('suppressUnit')!=='true'){p=this._oParent.getControlProposal();if(p&&p.getControlType()==='ObjectNumber'){return true;}if(this._oParent.getProposedControl()==='ObjectNumber'){return true;}}return false;};O.prototype.useObjectIdentifier=function(d,m){var p;if(this._oMetaData&&this._oMetaData.property&&this._oMetaData.property.property&&this._oMetaData.property.property.type==='Edm.String'){if(!d&&!m){p=this._oParent.getControlProposal();if(p&&p.getControlType()==='ObjectIdentifier'){return true;}if(this._oParent.getProposedControl()==='ObjectIdentifier'){return true;}}}return false;};O.prototype.destroy=function(){this._oParent=null;this._oMetaData=null;this._oTypes=null;};return O;},true);\n",
	"sap/ui/comp/smartfield/ODataHelper.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/smartfield/AnnotationHelper'],function(q,M,A){'use strict';var O=function(m,u,o){if(m){this.oMeta=m.getMetaModel();}if(o){this.oMeta=o;}this._oModel=m;this._oUtil=u;this.oAnnotation=new A();};O.prototype.getAnalyzer=function(m){if(!this._oAnalyzer){this._oAnalyzer=new M(this._oModel||m);}return this._oAnalyzer;};O.prototype.checkNavigationProperty=function(m,c){var p,P,l,r;if(c&&m){p=this._oUtil.getNavigationProperties(c);l=p.paths.length;while(l--){P=p.paths.shift();P=this._oUtil.correctPath(P);if(P===''||P===m.entitySet.name){continue;}r=this.getNavigationProperty(m.entityType,P);if(r.entitySet){m.entitySet=r.entitySet;m.entityType=r.entityType;}}}};O.prototype.getNavigationProperty=function(e,p){var n,t,r={};n=this._getNamedProperty(p,'navigationProperty',e);if(n){t=this.oMeta.getODataAssociationSetEnd(e,n.name);r.entitySet=this.oMeta.getODataEntitySet(t.entitySet);r.entityType=this.oMeta.getODataEntityType(r.entitySet.entityType);}return r;};O.prototype.startWithNavigationProperty=function(p,m){var P=p.split('/'),o;if(P&&P.length>1){o=this._getNamedProperty(P.shift(),'navigationProperty',m.entityType);}if(o){return o.name;}return null;};O.prototype.getProperty=function(m){var n=[],l,p,P,s,a,r={entityType:m.entityType,entitySet:m.entitySet};if(m){p=m.path.split('/');l=p.length;if(l>1){while(r.entityType){s=p[0];r=this.getNavigationProperty(r.entityType,s);if(r.entityType){m.entityType=r.entityType;m.entitySet=r.entitySet;n.push(p.shift());l--;}}}m.navigationPath=n.join('/');if(l>1){P=this.oMeta.getODataProperty(m.entityType,p[0]);if(P){m.property=this._getComplex(P,p,l);}return;}if(m.navigationPath){a=m.path.replace(m.navigationPath+'/','');}else{a=m.path;}P=this.oMeta.getODataProperty(m.entityType,a);m.property={property:P,typePath:m.path,valueListAnnotation:null,valueListKeyProperty:null,valueListEntitySet:null,valueListEntityType:null};}};O.prototype._getComplex=function(p,P,l){var o=p,t,c=[];while(l--){if(o){if(l===0){t=o.name;o=this._getNamedProperty(P[0],'property',o);return{typePath:t+'/'+P[0],property:o,complex:true,parents:c};}o=this.oMeta.getODataComplexType(o.type);if(o){c.push(o);}}P.shift();}};O.prototype._getNamedProperty=function(n,a,p){var r;if(p[a]){for(var i=0;i<p[a].length;i++){if(p[a][i].name===n){r=p[a][i];break;}}}return r;};O.prototype.getTextProperty2=function(m){var a,o;a=this.oAnnotation.getText(m.property.property);if(a){o=this._preprocAnnotation(a,m);this.getProperty(o);this._postprocAnnotation(o,m);}return o;};O.prototype.getUnitOfMeasure2=function(m){var a,o;a=this.oAnnotation.getUnit(m.property.property);if(a){o=this._preprocAnnotation(a,m);this.getProperty(o);this._postprocAnnotation(o,m);}return o;};O.prototype._preprocAnnotation=function(a,m){var p,o;o=this.traverseNavigationProperties(a,m.entityType);if(!o.navigationPath){o.entitySet=m.entitySet;}if(m.navigationPath){o.path=m.path.replace(m.navigationPath+'/','');}else{o.path=m.path;}if(o.navigationPath){p=a.replace(o.navigationPath+'/','');}else{p=a;}o.path=o.path.replace(m.property.property.name,p);if(o.navigationPath){o.navigationPathHelp=o.navigationPath;}return o;};O.prototype._postprocAnnotation=function(m,o){var p;if(m.navigationPathHelp){m.navigationPath=m.navigationPathHelp;}if(m.navigationPath){p=m.navigationPath;}else{p='';}if(o.navigationPath){if(p){p=o.navigationPath+'/'+p;}else{p=o.navigationPath;}}m.navigationPath=p;if(m.navigationPath){m.path=m.navigationPath+'/'+m.path;}};O.prototype.traverseNavigationProperties=function(p,e){var r={},R={},P,s,l;P=p.split('/');l=P.length;r.entityType=e;R.entityType=e;while(l--){s=P.shift();if(s===''){continue;}R=this.getNavigationProperty(r.entityType,s);if(!R.entitySet){break;}r.entityType=R.entityType;r.entitySet=R.entitySet;if(r.navigationPath){r.navigationPath=r.navigationPath+'/'+s;}else{r.navigationPath=s;}}return r;};O.prototype.getValueListAnnotationPath=function(m){var p,l;if(m.property.complex){l=m.property.parents.length-1;p=m.property.parents[l].namespace;p=p+'.'+m.property.typePath;}else{p=m.entitySet.entityType+'/'+m.property.property.name;}return p;};O.prototype.getUOMValueListAnnotationPath=function(m){var p;if(m.annotations.uom){p=this.getValueListAnnotationPath(m.annotations.uom);}if(p){m.annotations.valuelistuom=p;}};O.prototype.getUOMTextAnnotation=function(m){if(m&&m.annotations&&m.annotations.uom){m.annotations.textuom=this.getTextProperty2(m.annotations.uom);}};O.prototype.geValueListEntitySet=function(m){if(m&&m.annotations&&m.annotations.valuelist){if(m.annotations.valuelist.primaryValueListAnnotation&&m.annotations.valuelist.primaryValueListAnnotation.valueListEntitySetName){m.annotations.valuelistentityset=this.oMeta.getODataEntitySet(m.annotations.valuelist.primaryValueListAnnotation.valueListEntitySetName);}}};O.prototype.getEdmProperty=function(m){var o=m.property;return(o&&o.property)||null;};O.prototype.getValueListData=function(m){var o=this.getEdmProperty(m),a=m.annotations;if(M.isValueList(o)){a.valuelist=this.getValueListAnnotationPath(m);var v=M.getValueListMode(o);if(v){a.valuelistType=v;}else{a.valuelistType=this.getAnalyzer().getValueListSemantics(o['com.sap.vocabularies.Common.v1.ValueList']);}}};O.prototype.getEdmDisplayPath=function(m){var t=m.annotations.text;if(t){return t.path;}return m.path;};O.prototype.getTextPathFromValueList=function(m){var v=m.property.valueListKeyProperty,V=v&&v['com.sap.vocabularies.Common.v1.Text'],o=m.property.valueListEntitySet;if(V&&o){return'/'+o.name+'/'+V.Path;}return'';};O.prototype.getODataValueListKeyProperty=function(v){for(var i=0;i<v.fields.length;i++){var f=v.fields[i];if(f.name===v.keyField){return f;}}};O.prototype.getUOMPath=function(m){if(m&&m.annotations&&m.annotations.uom){return m.annotations.uom.path;}return null;};O.prototype.getUOMTypePath=function(m){if(m.property.complex){return m.property.typePath.replace(m.property.property.name,m.annotations.uom.property.name);}return m.annotations.uom.property.name;};O.prototype.getUOMChangeHandler=function(c,u){return function(p){try{c.fireChange({value:p.mParameters.value,newValue:p.mParameters.value,unitChanged:u,validated:p.mParameters['validated']});}catch(e){q.sap.log.warning(e);}};};O.prototype.getSelectionChangeHandler=function(c){return function(p){var k='';try{var i=p.getParameter('selectedItem');if(i){k=i.getKey();}c.fireChange({value:k,newValue:k,selectionChange:true});}catch(e){q.sap.log.warning(e);}};};O.prototype.destroy=function(){if(this._oAnalyzer){this._oAnalyzer.destroy();}if(this.oAnnotation){this.oAnnotation.destroy();}this._oUtil=null;this.oMeta=null;this.oAnalyzer=null;this.oAnnotation=null;};O.prototype.getAutoExpandProperties=function(m){var n=[],a=[];for(var s in m){switch(s){case'com.sap.vocabularies.Common.v1.Text':case'Org.OData.Measures.V1.Unit':case'Org.OData.Measures.V1.ISOCurrency':case'com.sap.vocabularies.Common.v1.FieldControl':if(m[s].Path){a=m[s].Path.split('/');}break;}if(a.length>1&&n.indexOf(a[0])<0){n.push(a[0]);}}return n.join(',');};O.prototype.loadValueListAnnotation=function(p){var P=this.getAnalyzer().getValueListAnnotationLazy(p);P.catch(function(){q.sap.log.error('The value list annotation could not be loaded',undefined,'sap.ui.comp.smartfield.ODataHelper.loadValueListAnnotation');});return P;};return O;},true);\n",
	"sap/ui/comp/smartfield/ODataTypes.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/SimpleType','sap/ui/core/format/NumberFormat','sap/ui/model/odata/type/Boolean','sap/ui/comp/smartfield/type/Double','sap/ui/comp/smartfield/type/DateTime','sap/ui/comp/odata/type/StringDate','sap/ui/comp/smartfield/type/DateTimeOffset','sap/ui/comp/smartfield/type/Decimal','sap/ui/comp/smartfield/type/Int16','sap/ui/comp/smartfield/type/Int32','sap/ui/comp/smartfield/type/Int64','sap/ui/comp/smartfield/type/SByte','sap/ui/comp/smartfield/type/String','sap/ui/comp/smartfield/type/TextArrangementString','sap/ui/comp/smartfield/type/TextArrangementGuid','sap/ui/comp/smartfield/type/AbapBool','sap/ui/model/type/Currency','sap/ui/comp/smartfield/type/Time','sap/ui/comp/smartfield/type/Guid','sap/ui/comp/odata/MetadataAnalyser'],function(q,S,N,B,D,a,b,c,d,I,e,f,g,h,T,i,A,C,j,G,M){'use strict';var O=function(p){this._oParent=p;};O.prototype.getType=function(p,F,m,s){s=s||{};var o=this._oParent.getBindingInfo('value'),t=o&&o.type,k=s.composite&&(t instanceof S);if(t&&!k){return t;}if(p&&p.property&&p.property.type){if(!t){m=this.getConstraints(p.property,m);}switch(p.property.type){case'Edm.Boolean':return new B(F,m);case'Edm.Double':return new D(F,m);case'Edm.Decimal':case'Edm.Float':case'Edm.Single':return new d(F,this._getDecimalConstraints(p,m));case'Edm.Int16':return new I(F,m);case'Edm.Int32':return new e(F,m);case'Edm.Int64':return new f(F,m);case'Edm.Byte':case'Edm.SByte':return new g(F,m);case'Edm.DateTimeOffset':return new c(F,m);case'Edm.DateTime':return new a(F,this._getDateTimeConstraints(p,m));case'Edm.String':if(this.isCalendarDate(p)){return new b(F);}if(!t){m=this._getStringConstraints(p);}if(s.composite){F=q.extend({},F,this._getTextArrangementFormatOptions());return new T(F,m,this._getTextArrangementOptions(p.valueListAnnotation));}return new h(F,m);case'Edm.Time':return new j(F,m);case'Edm.Guid':if(s.composite){F=q.extend({},F,this._getTextArrangementFormatOptions());return new i(F,m,this._getTextArrangementOptions(p.valueListAnnotation));}return new G(F,m);default:return null;}}return null;};O.prototype.getConstraints=function(p,m){return q.extend({},m,{nullable:M.isNullable(p)});};O.prototype._getDateTimeConstraints=function(p,m){var o={},n;if((p.property['sap:display-format']==='Date')||this.isCalendarDate(p)){o={displayFormat:'Date'};}for(n in m){o[n]=m[n];}return o;};O.prototype.getMaxLength=function(p,o){var P,v=[],l,V,F,r=0;if(o&&o.constraints){if(o.constraints.maxLength&&o.constraints.maxLength>-1){v.push(o.constraints.maxLength);}}if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.maxLength&&o.type.oConstraints.maxLength>-1){v.push(o.type.oConstraints.maxLength);}}if(p&&p.property&&p.property.maxLength){P=parseInt(p.property.maxLength,10);if(P>-1){v.push(P);}}F=this._oParent.getMaxLength();if(F>0){v.push(F);}l=v.length;while(l--){V=v[l];if(V>0){if(r>0){if(V<r){r=V;}}else{r=V;}}}return r;};O.prototype._getDecimalConstraints=function(p,m){m=m||{};if(p.property.precision){m.precision=parseInt(p.property.precision,10);}if(p.property.scale){m.scale=parseInt(p.property.scale,10);}return m;};O.prototype._getTextArrangementFormatOptions=function(){return{textArrangement:this._oParent.getControlFactory()._getDisplayBehaviourConfiguration()};};O.prototype._getStringConstraints=function(p,m){m=m||{};var o=this._oParent.getBindingInfo('value'),k=this.getMaxLength(p,o),E;if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.equals){E=o.type.oConstraints.equals;}}if(k>0||E){if(k>0){m.maxLength=k;}if(E){m.equals=E;}}if(M.isDigitSequence(p.property)){m.isDigitSequence=true;}return m;};O.prototype._getTextArrangementOptions=function(v){return{valueListAnnotation:v,onBeforeValidateValue:this._oParent.onBeforeValidateValue.bind(this._oParent),onAfterValidateValue:this._oParent.onAfterValidateValue.bind(this._oParent)};};O.prototype.isCalendarDate=function(p){var o=p.property['com.sap.vocabularies.Common.v1.IsCalendarDate'];if(o&&o.Bool){return o.Bool?o.Bool!=='false':true;}return false;};O.prototype.getDisplayFormatter=function(p,s){s=s||{};if(s.currency){return this.getCurrencyDisplayFormatter(s);}return this.getUOMDisplayFormatter(p);};O.prototype.getCurrencyDisplayFormatter=function(s){var F=N.getCurrencyInstance({showMeasure:false});return function(o,k){var v,l,p;if(!o||!k||k==='*'){return'';}if(!s.currency){v=o+='\\u2008';return v;}l=F.oLocaleData.getCurrencyDigits(k);v=F.format(o,k);if(l===0){v+='\\u2008';}p=3-l;if(p){v=q.sap.padRight(v,'\\u2007',v.length+p);}if(s.mask){return O.maskValue(v);}return v;};};O.prototype.getUOMDisplayFormatter=function(p){var F={};if(p.scale){F.decimals=parseInt(p.scale,10);}if(p.precision){F.precision=parseInt(p.precision,10);}var o=N.getFloatInstance(F);return function(m,u){if((m==null)||!u||(u==='*')){return'';}if(isNaN(parseFloat(m))){return m.toString()+'\\u2008';}return o.format(m,u)+'\\u2008';};};O.maskValue=function(t){if(t){return t.replace(new RegExp('.','igm'),'*');}return t;};O.prototype.getCurrencyType=function(p){var o,F={showMeasure:false,parseAsString:true,emptyString:0};if(p){o=this._getDecimalConstraints(p);if(o){if(o.precision){F.maxIntegerDigits=o.precision;if(o.scale){F.maxIntegerDigits-=o.scale;}}if(o.precision&&o.scale){o.maximum=Math.pow(10,F.maxIntegerDigits)-(1/Math.pow(10,o.scale));o.minimum=-1*o.maximum;}}return new C(F,o);}return null;};O.prototype.getAbapBoolean=function(){return new A();};O.prototype.destroy=function(){this._oParent=null;};return O;},true);\n",
	"sap/ui/comp/smartfield/ObjectStatus.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var O=E.extend('sap.ui.comp.smartfield.ObjectStatus',{metadata:{library:'sap.ui.comp',properties:{criticality:{type:'any',group:'Misc',defaultValue:null},criticalityRepresentationType:{type:'sap.ui.comp.smartfield.CriticalityRepresentationType',group:'Misc',defaultValue:sap.ui.comp.smartfield.CriticalityRepresentationType.WithIcon}}}});return O;},true);\n",
	"sap/ui/comp/smartfield/SideEffectUtil.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/SideEffects'],function(q,S){'use strict';var a=function(p){this._oParent=p;this._oSideEffects=new S();};a.prototype.getFieldGroupIDs=function(m,v){var M,c,t,s;if(m.property&&m.property.complex){c=m.property.parents[0];t=this._toTypePath(m.path,c);}M={entitySet:m.entitySet,entityType:m.entityType,complexType:c};s=this._oSideEffects.getSideEffects(m.path,t,M);return this._calcFieldGroups(s,m,v);};a.prototype._calcFieldGroups=function(s,m,v){var c,b,i,l,g=[];b=this._getSideEffects(s,m,v);l=b.length;c=this._oParent.getBindingContext().getPath();for(i=0;i<l;i++){this._calcFieldGroups2(b[i],g,v,c);}return g.length>0?g:null;};a.prototype._calcFieldGroups2=function(s,g,v,c){var u,i,I,t=this;s.sideEffects.forEach(function(o){I={name:o.name,originType:o.originType,originName:s.origin.name,originNamespace:s.origin.namespace,context:c};i=JSON.stringify(I);i=i.substring(1,i.length-2);u=v.data(i);if(!u){u=t.createUUID();v.data(u,I);v.data(i,u);}g.push(u);});};a.prototype._getSideEffects=function(s,m){var r=[];var R={};R.sideEffects=this._getSideEffectsFromEntity('entitySet',s);if(R.sideEffects&&R.sideEffects.length){R.origin=m.entitySet;r.push(R);}R={};R.sideEffects=this._getSideEffectsFromEntity('entityType',s);if(R.sideEffects&&R.sideEffects.length){R.origin=m.entityType;r.push(R);}R={};R.sideEffects=this._getSideEffectsFromEntity('complexType',s);if(R.sideEffects&&R.sideEffects.length){R.origin=m.property.parents[0];r.push(R);}return r;};a.prototype._getSideEffectsFromEntity=function(N,s){var n,b=[];if(s[N]){for(n in s[N]){b.push({name:n,originType:N,sideEffect:s[N][n]});}}return b;};a.prototype._toTypePath=function(p,c){var P=p.split('/');return p.replace(P[0],c.name);};a.prototype.createUUID=function(){var d=new Date().getTime();var u='xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x7|0x8)).toString(16);});return u;};a.prototype.destroy=function(){if(this._oSideEffects){this._oSideEffects.destroy();}this._oSideEffects=null;};return a;},true);\n",
	"sap/ui/comp/smartfield/SmartField.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./JSONControlFactory','./ODataControlFactory','./BindingUtil','./SideEffectUtil','./ODataHelper','sap/ui/core/Control','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/ui/model/json/JSONModel','sap/ui/core/ValueState','sap/ui/model/Filter','sap/ui/model/FilterOperator'],function(q,l,J,O,B,S,a,C,P,V,b,c,F,d){'use strict';var T=l.smartfield.TextInEditModeSource;var e=C.extend('sap.ui.comp.smartfield.SmartField',{metadata:{interfaces:['sap.ui.core.IFormContent'],library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartfield/SmartField.designtime',properties:{value:{type:'any',group:'Misc',defaultValue:null},enabled:{type:'boolean',group:'Misc',defaultValue:true},entitySet:{type:'string',group:'Misc',defaultValue:''},editable:{type:'boolean',group:'Misc',defaultValue:true},contextEditable:{type:'boolean',group:'Misc',defaultValue:true},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:''},textAlign:{type:'sap.ui.core.TextAlign',group:'Misc',defaultValue:sap.ui.core.TextAlign.Initial},placeholder:{type:'string',group:'Misc',defaultValue:''},name:{type:'string',group:'Misc',defaultValue:''},valueState:{type:'sap.ui.core.ValueState',group:'Appearance',defaultValue:c.None},valueStateText:{type:'string',group:'Appearance',defaultValue:''},showValueStateMessage:{type:'boolean',group:'Appearance',defaultValue:true},jsontype:{type:'sap.ui.comp.smartfield.JSONType',group:'Misc',defaultValue:null},mandatory:{type:'boolean',group:'Misc',defaultValue:false},maxLength:{type:'int',group:'Misc',defaultValue:0},showSuggestion:{type:'boolean',group:'Misc',defaultValue:true},showValueHelp:{type:'boolean',group:'Misc',defaultValue:true},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},textLabel:{type:'string',group:'Misc',defaultValue:''},tooltipLabel:{type:'string',group:'Misc',defaultValue:''},uomVisible:{type:'boolean',group:'Misc',defaultValue:true},uomEditable:{type:'boolean',group:'Misc',defaultValue:true},uomEnabled:{type:'boolean',group:'Misc',defaultValue:true},url:{type:'string',group:'Misc',defaultValue:''},uomEditState:{type:'int',group:'Misc',defaultValue:-1},controlContext:{type:'sap.ui.comp.smartfield.ControlContextType',group:'Misc',defaultValue:sap.ui.comp.smartfield.ControlContextType.None},proposedControl:{type:'sap.ui.comp.smartfield.ControlProposalType',group:'Misc',defaultValue:sap.ui.comp.smartfield.ControlProposalType.None},wrapping:{type:'boolean',group:'Misc',defaultValue:true},clientSideMandatoryCheck:{type:'boolean',group:'Misc',defaultValue:true},fetchValueListReadOnly:{type:'boolean',group:'Misc',defaultValue:true},expandNavigationProperties:{type:'boolean',group:'Behavior',defaultValue:false},textInEditModeSource:{type:'sap.ui.comp.smartfield.TextInEditModeSource',group:'Behavior',defaultValue:T.None}},aggregations:{_content:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'},configuration:{type:'sap.ui.comp.smartfield.Configuration',multiple:false},controlProposal:{type:'sap.ui.comp.smartfield.ControlProposal',multiple:false},_ariaLabelInvisibleText:{type:'sap.ui.core.InvisibleText',multiple:true,visibility:'hidden'},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false}},associations:{ariaLabelledBy:{type:'sap.ui.core.Control',multiple:true,singularName:'ariaLabelledBy'}},events:{entitySetFound:{parameters:{entitySet:{type:'string'}}},change:{parameters:{value:{type:'string'},newValue:{type:'string'}}},initialise:{},visibleChanged:{parameters:{visible:{type:'boolean'}}},editableChanged:{parameters:{editable:{type:'boolean'}}},contextEditableChanged:{parameters:{editable:{type:'boolean'}}},innerControlsCreated:{},valueListChanged:{parameters:{changes:{type:'sap.ui.core.Control[]'}}},press:{}}},renderer:function(r,o){r.write('<div ');r.writeControlData(o);r.addClass('sapUiCompSmartField');r.writeClasses();r.write('>');r.renderControl(o.getContent());if(o.getAggregation('_ariaLabelInvisibleText')){o.getAggregation('_ariaLabelInvisibleText').forEach(function(i){r.renderControl(i);});}r.write('</div>');}});e.prototype.init=function(){this._bInDestroy=false;this._oSideEffects=new S(this);this._oFactory=null;this._oControl={display:null,'display_uom':null,edit:null,current:null};this._oValue={display:null,edit:null,uom:null,uomset:null};this._oError={bComplex:false,bFirst:false,bSecond:false};this._sBindingContextPath='';this._oValueBind=null;this._oUtil=new B();this._bSuppressToggleControl=false;this.bWaitingForValueValidation=false;this.attachEvent('innerControlsCreated',e.prototype._setOnInnerControl,this);};e.prototype.setVisible=function(v,s){var o=this.getVisible();C.prototype.setVisible.apply(this,arguments);v=this.getVisible();if(v!==o){this.fireVisibleChanged({visible:v});}return this;};e.prototype.setEditable=function(E){var o=this.getEditable();this.setProperty('editable',E,true);E=this.getEditable();this._bPendingEditableState=false;this._toggleControl();if(E!==o){this.fireEditableChanged({editable:E});}return this;};e.prototype.setContextEditable=function(f){var o=this.getContextEditable();this.setProperty('contextEditable',f,true);f=this.getContextEditable();this._bPendingEditableState=false;this._toggleControl();if(f!==o){this.fireContextEditableChanged({editable:f});}return this;};e.prototype.setMandatory=function(m){this.setProperty('mandatory',m,false);this._setOnInnerControl();return this;};e.prototype.setWidth=function(w){this.setProperty('width',w,true);this._setOnInnerControl();return this;};e.prototype.setWrapping=function(w){this.setProperty('wrapping',w,true);this._setOnInnerControl();return this;};e.prototype.setTextAlign=function(t){this.setProperty('textAlign',t,true);this._setOnInnerControl();return this;};e.prototype.setPlaceholder=function(p){this.setProperty('placeholder',p,true);this._setOnInnerControl();return this;};e.prototype.setName=function(n){this.setProperty('name',n,true);this._setOnInnerControl();return this;};e.prototype.setMaxLength=function(m){this.setProperty('maxLength',m,true);this._setOnInnerControl();return this;};e.prototype.setShowValueHelp=function(v){var p=this.getShowValueHelp();this.setProperty('showValueHelp',v,true);var o=this.getContent();if(o&&(typeof o.setShowValueHelp==='function')){v=this.getShowValueHelp();var f=v!==p,h=this._oFactory;if(f&&h){if(v){if(h.shouldCreateValueHelpForControl(o)){h._createValueHelp();}}else{h.destroyValueHelp();}}o.setShowValueHelp(v);}return this;};e.prototype.setShowSuggestion=function(s){var p=this.getShowSuggestion();this.setProperty('showSuggestion',s,true);var o=this.getContent();if(o&&(typeof o.setShowSuggestion==='function')){s=this.getShowSuggestion();var f=s!==p,h=this._oFactory;if(f&&h){if(s){if(h.shouldCreateValueHelpForControl(o)){h._createValueHelp();}}else{h.destroyValueHelp();}}o.setShowSuggestion(s);}return this;};e.prototype.setTextInEditModeSource=function(t){var o=this.getTextInEditModeSource();this.setProperty('textInEditModeSource',t,false);t=this.getTextInEditModeSource();if(t!==o){this._destroyChildControls();this._toggleControl();}return this;};e.prototype.setTooltip=function(t){this._refreshTooltipBaseDelegate(t);this.setAggregation('tooltip',t,true);var o=this.getFirstChildControl();if(o){o.setTooltip(t);}return this;};e.prototype._setOnInnerControl=function(){var o=this.getContent();if(o){if(typeof o.setWidth==='function'){var w=this.getWidth();if(w){o.setWidth(w);}}this._setPropertyOnInnerControls('wrapping',this.getWrapping());if(typeof o.setName==='function'){o.setName(this.getName());}if(typeof o.setPlaceholder==='function'){o.setPlaceholder(this.getPlaceholder());}if(typeof o.setTextAlign==='function'){o.setTextAlign(this.getTextAlign());}if(this.isInEditMode()){this._setPropertyOnInnerControls('required',this.getMandatory());}}return this;};e.prototype._setPropertyOnInnerControls=function(p,v,f){f=f||this.getInnerControls();f.forEach(function(o){var m='set'+p.charAt(0).toUpperCase()+p.slice(1);if(typeof o[m]==='function'){o[m](this._convertValueForInnerControl(p,v,o));}},this);};e.prototype._convertValueForInnerControl=function(p,v,o){var f;if(o){f=o.getMetadata().getProperty(p);}if(f){switch(p){case'wrapping':switch(f.type){case'boolean':return v;case'sap.ui.core.Wrapping':var w=sap.ui.core.Wrapping;if(v){return w.Soft;}return w.None;}}}return v;};e.prototype.setUrl=function(v){this.setProperty('url',v,true);return this;};e.prototype.setEntitySet=function(v){this.setProperty('entitySet',v,true);this.fireEntitySetFound({entitySet:v});return this;};e.prototype._setPendingEditState=function(D){this.data('pendingEditableState',!D);};e.prototype.applySettings=function(s){if(s&&s.customData){for(var i=0;i<s.customData.length;i++){var o=s.customData[i];if(o&&o.mProperties&&o.mProperties.key==='pendingEditableState'){this._bPendingEditableState=o.mProperties.value;}}}return C.prototype.applySettings.apply(this,arguments);};e.prototype.setEnabled=function(v){this.setProperty('enabled',v,true);this._toggleControl();return this;};e.prototype.setContent=function(v){return this.setAggregation('_content',v);};e.prototype.getContent=function(){return this.getAggregation('_content');};e.prototype.getControlFactory=function(){return this._oFactory;};e.prototype.getValue=function(){var p=this.getInnerValueFunction();if(p){return p();}return this.getProperty('value');};e.prototype.getInnerValueFunction=function(){if(this._oValue&&(typeof this._oValue[this.getMode()]==='function')){return this._oValue[this.getMode()];}return null;};e.prototype.getValueState=function(){var f=this.getInnerControls(),i=this._getMaxSeverity(f);if(i>-1){return f[i].getValueState();}return c.None;};e.prototype.setValueState=function(v){var f=this.getInnerControls(),o,m='setSimpleClientError';if(f&&f.length){o=f[0];if(f.length>1){m='setComplexClientErrorFirstOperand';}}if(o&&o.setValueState){o.setValueState(v);this[m](v===c.Error);}return this;};e.prototype.getValueStateText=function(){var f=this.getInnerControls(),i=this._getMaxSeverity(f);if(i>-1){return f[i].getValueStateText();}return this.getProperty('valueStateText');};e.prototype.setValueStateText=function(t){var f=this.getInnerControls(),o;if(f&&f.length){o=f[0];}if(o&&o.setValueStateText){o.setValueStateText(t);}return this;};e.prototype._getMaxSeverity=function(f){var s,o,i,h,j=0,I=-1,m={'Error':3,'Warning':2,'Success':1,'None':0};h=f.length;for(i=0;i<h;i++){o=f[i];if(o.getValueState){s=o.getValueState();if(s&&m[s]>j){j=m[s];I=i;}}}return I;};e.prototype.getFocusDomRef=function(){var f=this.getInnerControls(),o,h=f.length;if(h>0){o=f[0];}if(o&&o.getFocusDomRef){return o.getFocusDomRef();}return C.prototype.getFocusDomRef.apply(this,arguments);};e.prototype.getIdForLabel=function(){var f=this.getInnerControls(),o,L=f.length;if(L>0){o=f[0];}if(o&&(typeof o.getIdForLabel==='function')){return o.getIdForLabel();}return this.getId();};e.prototype.updateBindingContext=function(s,m,u){if(this._bInDestroy){return;}this._init(m);if(this._oFactory){if(this.getBindingContext()){this._sBindingContextPath=this.getBindingContext().getPath();}if(typeof this._oFactory.bind==='function'){this._oFactory.bind();this._checkFieldGroups();}else{this._toggleControl();}}C.prototype.updateBindingContext.apply(this,arguments);};e.prototype.getMode=function(){var E=this.getEditable(),f=this.getEnabled(),h=this.getContextEditable();if(this.getControlContext()==='responsiveTable'&&this.data('suppressUnit')!=='true'){if(!E||!h||!f||(this.getUomEditState()===0)){return'display_uom';}}if(h&&this.data('configdata')&&this.data('configdata').configdata.isUOM&&this.data('configdata').configdata.isInnerControl&&this.data('configdata').configdata.getContextEditable){h=this.data('configdata').configdata.getContextEditable();}return E&&f&&h?'edit':'display';};e.prototype.isInEditMode=function(){return this.getMode()==='edit';};e.prototype._toggleControl=function(){if(this._bPendingEditableState||this._bSuppressToggleControl||(!this._oFactory||this._oFactory.bPending)){return;}var m=this.getMode();if((m==='edit')||(m==='display_uom')){this._createControl(m);}else{var v=this.getProperty('value'),f=true;var o=this.data('configdata');if(o&&o.configdata&&!o.configdata.isUOM){if(v===null||v===''){f=false;}}if(f){this._createControl(m);}else{this.setContent(null);this._oControl.current='display';}}this._setOnInnerControl();};e.prototype.setValue=function(v){var o=this.getProperty('value');this.setProperty('value',v,true);var f=this._oFactory;if(f&&!f.bPending){this._toggleControl();}v=this.getProperty('value');var m=this.isBound('value')&&this.getBindingInfo('value').skipModelUpdate;if(this.isTextInEditModeSourceValid()&&(v!==o)&&!m){var h=this._oControl;h=h[h.current];var i=h&&h.getBinding('value');if(i){h.updateModelProperty('value',v,i.getValue());}}return this;};e.prototype.isTextInEditModeSourceValid=function(){return(this.getTextInEditModeSource()!==T.None);};e.prototype._createControl=function(m){if(this._oFactory){if((m!==this._oControl.current)||!this._oControl[m]){if(!this._oControl[m]){var o=this._oFactory.createControl();if(o){this._oControl[m]=o.control;this._placeCallBacks(o,m);}}this._oControl.current=m;this.setContent(this._oControl[m]);this.fireInnerControlsCreated(this.getInnerControls());}else if(!this.getContent()){this.setContent(this._oControl[m]);}}};e.prototype._placeCallBacks=function(o,m){if(o.params&&o.params.getValue){this._oValue[m]=o.params.getValue;}if(o.params&&o.params.uom){this._oValue.uom=o.params.uom;}if(o.params&&o.params.uomset){this._oValue.uomset=o.params.uomset;}};e.prototype._init=function(m){var M,o,f;if(this._oFactory&&this._sBindingContextPath&&this.getBindingContext()&&(this._sBindingContextPath!==this.getBindingContext().getPath())){this._destroyFactory();}if(!this._oFactory){f=this.data('configdata');if(!f){M=this.getModel(m);}o=this._getBindingInfo(m,'value');if(o){if(f||M){this._oFactory=this._createFactory(m,M,o,f);}}else if(M&&!(M instanceof b)){if(this.getBindingInfo('url')||this.getUrl()){if(f||M){this._oFactory=this._createFactory(m,M,o,f);}}}}};e.prototype._destroyFactory=function(){this._bSuppressToggleControl=true;this._bSideEffects=false;if(this._oFactory){this._oFactory.destroy();}this._oFactory=null;this._bSuppressToggleControl=false;this._destroyChildControls();};e.prototype._destroyChildControls=function(){if(this._oControl){if(this._oControl.display){this._oControl.display.destroy();}if(this._oControl['display_uom']){this._oControl['display_uom'].destroy();}if(this._oControl.edit){this._oControl.edit.destroy();}this._oControl.display=null;this._oControl['display_uom']=null;this._oControl.edit=null;this._oControl.current=null;}this._oValue={display:null,edit:null,uom:null,uomset:null};this.destroyAggregation('_content');};e.prototype._createFactory=function(m,M,o,f){var E,p;if(M&&M instanceof b){return new J(M,this,{model:m,path:o.path});}if(!f){E=this._getEntitySet(m);}if(E||f){if(f){p=f.configdata;}else{p={entitySet:E,model:m,path:(o&&o.path)?o.path:''};}return new O(M,this,p);}return null;};e.prototype._getEntitySet=function(m){var E=this.getEntitySet();if(E&&!m){return E;}var o=this.getBindingContext(m);if(o){if(!o.sPath||(o.sPath==='/undefined')){return'';}E=this._oUtil.correctPath(o.sPath);this.fireEntitySetFound({entitySet:E});return E;}return'';};e.prototype._getBindingInfo=function(m,n){if(!this._oValueBind){this._oValueBind=this.getBindingInfo(n);try{this._oValueBind=this._oValueBind.parts[0];}catch(f){}}if(this._oValueBind){if(!this._oValueBind.model&&!m){return this._oValueBind;}if(this._oValueBind.model===m){return this._oValueBind;}}return null;};e.prototype.getDataType=function(){var p;if(this._oFactory){if(this._oFactory.getDataProperty){p=this._oFactory.getDataProperty();if(p){return p.property.type;}}return this.getJsonType();}return null;};e.prototype.getDataProperty=function(){if(this._oFactory){if(this._oFactory.getDataProperty){return this._oFactory.getDataProperty();}return null;}return null;};e.prototype.getUnitOfMeasure=function(){if(this._oValue.uom){return this._oValue.uom();}return null;};e.prototype.setUnitOfMeasure=function(u){if(u&&this._oValue.uomset){this._oValue.uomset(u);}};e.prototype.setSimpleClientError=function(E){this._oError.bFirst=E;};e.prototype.setComplexClientErrorFirstOperand=function(E){this._oError.bComplex=true;this._oError.bFirst=E;};e.prototype.setComplexClientErrorSecondOperand=function(E){this._oError.bComplex=true;this._oError.bSecond=E;};e.prototype.setComplexClientErrorSecondOperandNested=function(E){var p=this.getParent().getParent();p.setComplexClientErrorSecondOperand(E);};e.prototype._hasClientError=function(){if(this._oError.bComplex){return this._oError.bFirst||this._oError.bSecond;}return this._oError.bFirst;};e.prototype.checkClientError=function(){if(this.getMode()==='display'){return false;}if(this._hasClientError()){return true;}this.getInnerControls().forEach(this._checkClientError,this);return this._hasClientError();};e.prototype._checkClientError=function(o){var f,p,m={'sap.m.Input':'value','sap.m.DatePicker':'value','sap.m.DateTimePicker':'value','sap.m.ComboBox':'selectedKey','sap.m.Select':'selectedKey','sap.m.TextArea':'value'};if(o){p=m[o.getMetadata().getName()];}if(p){f=o.getBinding(p);}if(f){var v;try{var M='get'+p.substring(0,1).toUpperCase()+p.substring(1),t=f.getType();v=o[M]();if(f.sInternalType&&t&&!t.bValueValidated){var s=t.parseValue(v,f.sInternalType);t.validateValue(s);}}catch(E){var h={element:o,property:p,type:f.getType(),newValue:v,oldValue:f.getValue(),exception:E,message:E.message};if(E instanceof P){o.fireParseError(h);}else if(E instanceof V){o.fireValidationError(h);}else{throw E;}}}};e.prototype.isContextTable=function(){return(this.getControlContext()==='responsiveTable'||this.getControlContext()==='table');};e.prototype.isFormContextType=function(){var s=this.getControlContext(),m=l.smartfield.ControlContextType;return(s===m.Form)||(s===m.SmartFormGrid);};e.prototype.getInnerControls=function(){var o,f,m={'sap.m.HBox':function(h){var i,I,j=0;I=h.getItems();if(I){j=I.length;}if(j===0){return[];}if(j===1){return[I[0]];}i=I[1].getContent();if(i){return[I[0],i];}return[I[0]];},'sap.ui.comp.navpopover.SmartLink':function(h){var i=h.getAggregation('innerControl');if(i){return[i];}return[h];}};o=this.getContent();if(o){f=m[o.getMetadata()._sClassName];}if(f){return f(o);}if(o){return[o];}return[];};e.prototype._getEmbeddedSmartField=function(){var f=this.getContent();if(f){if(f instanceof sap.m.HBox){var h=f.getItems();if(h){for(var j=0;j<h.length;j++){if(h[j]instanceof e){return h[j];}}}}}return null;};e.prototype.onAfterRendering=function(){if(C.prototype.onAfterRendering){C.prototype.onAfterRendering.apply(this);}this._checkFieldGroups();};e.prototype.onBeforeRendering=function(){var f=this.getInnerControls();var t=this;if(this.getAriaLabelledBy().length>0){f.forEach(function(o){if(o.addAriaLabelledBy&&o.getAriaLabelledBy){if(o.getAriaLabelledBy().length===0){o.addAriaLabelledBy(t.getAriaLabelledBy()[0]);}}});}};e.prototype.onBeforeValidateValue=function(v,f){if(!this.getBindingContext()){return;}var m=this.getModel(),o=this._oControl.edit,h=o&&o.getBinding('value'),i=this.getControlFactory().getDataProperty().valueListAnnotation;m.read('/'+i.valueListEntitySetName,{filters:g(v,{keyFieldPath:i.keyField,descriptionFieldPath:i.descriptionField,aFilterFields:f}),success:this.onRequestValueListDataSuccess.bind(this,{value:v,oldValue:h.getValue()}),error:this.onRequestValueListDataError.bind(this)});if(o){o.setBusyIndicatorDelay(300);o.setBusy(true);}};e.prototype.onRequestValueListDataSuccess=function(s,D,r){var o=this._oControl.edit,f=o&&o.getBinding('value'),t=f&&f.getType();if(t){t.bNewDataLoaded=true;t.oSettings.data=D.results;}if(o&&f){o.updateModelProperty('value',s.value,s.oldValue);o.setBusyIndicatorDelay(0);o.setBusy(false);}};e.prototype.onRequestValueListDataError=function(E){var o=this._oControl.edit,f=o&&o.getBinding('value'),t=f&&f.getType();if(t){t.bNewDataLoaded=true;t.oSettings.data=[];}if(o){o.setBusyIndicatorDelay(0);o.setBusy(false);}};e.prototype.onAfterValidateValue=function(v){if(this.bWaitingForValueValidation){this.fireChange({value:v});}this.bWaitingForValueValidation=false;};function g(v,s){var f=s.aFilterFields;if(f.length===1){return[e['getValueList'+f[0].charAt(0).toUpperCase()+f[0].slice(1)+'Filter'](v,s)];}return[new F({and:false,filters:[e.getValueListKeyFieldFilter(v,s),e.getValueListDescriptionFieldFilter(v,s)]})];}e.getValueListKeyFieldFilter=function(v,s){return new F({value1:v,path:s.keyFieldPath,operator:d.EQ});};e.getValueListDescriptionFieldFilter=function(v,s){return new F({value1:v,path:s.descriptionFieldPath,operator:d.Contains});};e.prototype.getFirstChildControl=function(){var f=this.getInnerControls();if(f.length){return f[0]||null;}return null;};e.prototype._checkFieldGroups=function(){var v,m,M=this.getMode();if(this.getBindingContext()&&this._oFactory&&this._oFactory.getMetaData&&(M==='edit')&&!this._bSideEffects){m=this._oFactory.getMetaData();if(m&&!m.property||(m.property&&!m.property.property)){return;}v=this._getView();if(v&&m){this._setFieldGroup(m,v);}}};e.prototype._setFieldGroup=function(m,v){var f,i=this._oSideEffects.getFieldGroupIDs(m,v);if(i){f=this.getInnerControls();if(f.length){this._bSideEffects=true;f[0].setFieldGroupIds(i);}}};e.prototype._getView=function(){var o=this.getParent();while(o){if(o instanceof sap.ui.core.mvc.View){return o;}o=o.getParent();}return null;};e.prototype.refreshDataState=function(n,D){var o,f;if(n==='value'){if(D.isLaundering()){if(this.getEditable()){o=this.getBindingContext();if(o&&o.getObject){f=o.getObject();if(f&&f.__metadata&&f.__metadata.created){this._checkCreated=true;return;}}}}if(this._checkCreated&&!D.isLaundering()&&!D.isDirty()){this._oFactory.rebindOnCreated();delete this._checkCreated;}}};e.prototype.exit=function(){this._bInDestroy=true;var i=null;if(this._oSideEffects){this._oSideEffects.destroy();}if(this._oUtil){this._oUtil.destroy();}if(this._oFactory){this._oFactory.destroy();}var o=this._oControl;if(o){if(o.current==='edit'){i=o['display']||o['display_uom'];}else{i=o['edit'];}if(o[o.current]&&!o[o.current].getParent()){o[o.current].destroy();}}if(i&&(typeof i.destroy==='function')){i.destroy();}this._oUtil=null;this._oError=null;this._oValue=null;this._oFactory=null;this._oControl=null;this._oValueBind=null;this._oSideEffects=null;this._sBindingContextPath='';};e.getSupportedAnnotationPaths=function(m,E,v,n){var o,u,r=[],M;if(m&&E&&v){M={entitySet:E,entityType:m.getODataEntityType(E.entityType),path:v};o={helper:new a(null,null,m)};if(n){o.navigationPathOnly=n;}o.helper.getProperty(M);e._getFromEntitySet(r,M,o);e._getFromProperty(r,M,o);u=o.helper.getUnitOfMeasure2(M);if(u){e._getFromProperty(r,u,o);}o.helper.destroy();}return r;};e._getFromEntitySet=function(r,m,o){var p;if(m.entitySet){p=o.helper.oAnnotation.getUpdateEntitySetPath(m.entitySet);e._push(p,r,m,o);}};e._push=function(p,r,m,o){var f,s,h,i,R={};if(p){if(o.navigationPathOnly){f=p.split('/');h=f.length;R.entityType=m.entityType;while(h--){s=f.shift();if(s===''){continue;}R=o.helper.getNavigationProperty(R.entityType,s);if(!R.entitySet){break;}if(i){i=i+'/'+s;}else{i=s;}}}else{i=p;}}if(i){if(m.navigationPath){r.push(m.navigationPath+'/'+i);}else{r.push(i);}}};e._getFromProperty=function(r,m,o){var p;if(m.property.property){p=o.helper.oAnnotation.getText(m.property.property);e._push(p,r,m,o);p=o.helper.oAnnotation.getUnit(m.property.property);e._push(p,r,m,o);p=o.helper.oAnnotation.getFieldControlPath(m.property.property);e._push(p,r,m,o);}};e.prototype.addAssociation=function(A,i,s){if(A==='ariaLabelledBy'){this.getInnerControls().forEach(function(o){if(o.addAriaLabelledBy){o.addAriaLabelledBy(i);}});}return C.prototype.addAssociation.apply(this,arguments);};e.prototype.removeAssociation=function(A,o,s){var i=C.prototype.removeAssociation.apply(this,arguments);if(A==='ariaLabelledBy'&&i){this.getInnerControls().forEach(function(f){if(f.removeAriaLabelledBy){f.removeAriaLabelledBy(i);}});}return i;};e.prototype.getAccessibilityInfo=function(){var o=this.getContent();return o&&o.getAccessibilityInfo?o.getAccessibilityInfo():null;};e.prototype.enhanceAccessibilityState=function(E,A){var p=this.getParent();if(p&&p.enhanceAccessibilityState){p.enhanceAccessibilityState(this,A);}};e.prototype.getRequired=function(){if(this.getContextEditable()&&this.getEditable()){return this.getMandatory();}else{return false;}};return e;},true);\n",
	"sap/ui/comp/smartfield/SmartLabel.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Control','sap/m/Label','sap/m/LabelRenderer','sap/ui/comp/library','./BindingUtil','./AnnotationHelper','./SmartField'],function(q,C,L,a,l,B,A,S){'use strict';var b=L.extend('sap.ui.comp.smartfield.SmartLabel',{metadata:{library:'sap.ui.comp'},renderer:a.render});b.prototype.init=function(){this._sSmartFieldId=null;this._bMetaDataApplied=false;this._fInnerControlsCreatedHandlers=null;};b.prototype._bindProperties=function(){var s=this._getField();if(s){var o=new B();var i=null;this.setVisible(s.getVisible());if(!this._bTextSetExplicitly){i=s.getBindingInfo('textLabel');if(i){this.bindProperty('text',o.toBinding(i));}else if(!this.getBindingInfo('text')){this._setText(s.getTextLabel());}}i=s.getBindingInfo('tooltipLabel');if(i){this.bindProperty('tooltip',o.toBinding(i));}else{this.setTooltip(s.getTooltipLabel());}}};b.prototype.onFieldVisibilityChange=function(c){this.setVisible(c.getSource().getVisible());};b.prototype.getLabelInfo=function(){var m,o;var s=this._getField();if(s){this._bindProperties();m=s.getDataProperty();if(m){o=this._getLabelInfo(m);if(o){if(o.text&&!this._bTextSetExplicitly){this._setProperty(this,'text',o.text);}if(o.quickinfo){this._setProperty(this,'tooltip',o.quickinfo);}}}}};b.prototype._setProperty=function(o,p,v){var P;if(o&&p){if(v.match(/{@i18n>.+}/gi)){o.bindProperty(p,v.substring(1,v.length-1));}else{P=p.substring(0,1).toUpperCase()+p.substring(1);if(!o.getBindingInfo(p)&&(!o['get'+P]())){o['set'+P](v);}}}};b.prototype.setLabelFor=function(s){var o=this._getField();var n='';if(s){if(typeof s==='string'){n=s;}else if(s.getId){n=s.getId();}}if(n.length>0&&n===this._sSmartFieldId){return this;}if(o){if(this._fChange){o.detachEvent('_change',this._fChange);this._fChange=null;}if(this._fInitialized){o.detachInitialise(this._fInitialized);this._fInitialized=null;}this.detachFieldVisibilityChange(o);this._bMetaDataApplied=false;}if(n.length>0){this._sSmartFieldId=n;this._setLabelFor();}else{this._sSmartFieldId=null;}L.prototype.setLabelFor.apply(this,arguments);var c=sap.ui.getCore().byId(this.getLabelFor());this.detachFieldVisibilityChange(c);this.attachFieldVisibilityChange(c);return this;};b.prototype._getField=function(){if(this._sSmartFieldId){return sap.ui.getCore().byId(this._sSmartFieldId);}return null;};b.prototype._setLabelFor=function(){var d,s=this._getField();if(s&&!this._bMetaDataApplied){this._bMetaDataApplied=true;if(s.getDataProperty){d=s.getDataProperty();if(d){this.getLabelInfo();}else{if(!this._fInitialized){this._fInitialized=this.getLabelInfo.bind(this);s.attachInitialise(this._fInitialized);}if(!this._fChange){this._fChange=function(e){if(e.getParameter('name')==='textLabel'){this.getLabelInfo();}else if(e.getParameter('name')==='mandatory'){this.invalidate();}}.bind(this);s.attachEvent('_change',this._fChange);}}this._lateUpdateLabelFor(s);}}};b.prototype.updateLabelFor=function(c){var i=c.slice(0);if(i&&i.length>0){this.invalidate();i.splice(0,1);this.updateAriaLabeledBy(i);}};b.prototype.updateAriaLabeledBy=function(c){if(c){for(var i=0;i<c.length;i++){var o=c[i];if(typeof o.addAriaLabelledBy==='function'){o.removeAriaLabelledBy(this);o.addAriaLabelledBy(this);}}}};b.prototype.setText=function(v){this.setProperty('text',v);this._bTextSetExplicitly=true;return this;};b.prototype._setText=function(v){this.setProperty('text',v);};b.prototype._getLabelInfo=function(p){var o=new A();if(p&&p.property){return{text:o.getLabel(p.property),quickinfo:o.getQuickInfo(p.property)};}};b.prototype._delayUpdateLabelFor=function(s){var t=this;if(s.attachInnerControlsCreated&&!this._fInnerControlsCreatedHandlers){this._fInnerControlsCreatedHandlers=function(e){t.updateLabelFor(e.getParameters());};s.attachInnerControlsCreated(this._fInnerControlsCreatedHandlers);}};b.prototype._lateUpdateLabelFor=function(s){var i;if(s&&(s instanceof S)){i=s.getInnerControls();if(i&&(i.length>0)){this.updateLabelFor(i);}else{this._delayUpdateLabelFor(s);}var o=sap.ui.getCore().byId(this.getLabelFor());this.detachFieldVisibilityChange(o);this.attachFieldVisibilityChange(o);}};b.prototype.onBeforeRendering=function(){if(this._sSmartFieldId){var s=this._getField();if(!this._bMetaDataApplied){this._setLabelFor();if(s.getId()===this.getLabelFor()){this._lateUpdateLabelFor(s);}}}};b.prototype.attachFieldVisibilityChange=function(c){if(c&&(typeof c.attachVisibleChanged==='function')){c.attachVisibleChanged(this.onFieldVisibilityChange,this);}};b.prototype.detachFieldVisibilityChange=function(c){if(c&&(typeof c.detachVisibleChanged==='function')){c.detachVisibleChanged(this.onFieldVisibilityChange,this);}};b.prototype.destroy=function(s){var o=this._getField();delete this._bTextSetExplicitly;if(o){if(this._fInnerControlsCreatedHandlers&&o.detachInnerControlsCreated){o.detachInnerControlsCreated(this._fInnerControlsCreatedHandlers);this._fInnerControlsCreatedHandlers=null;}if(this._fInitialized&&o.detachInitialise){o.detachInitialise(this._fInitialized);this._fInitialized=null;}if(this._fChange){o.detachEvent('_change',this._fChange);this._fChange=null;}}this._sSmartFieldId=null;return L.prototype.destroy.apply(this,arguments);};b.prototype.exit=function(){L.prototype.exit.apply(this,arguments);this.detachFieldVisibilityChange(sap.ui.getCore().byId(this.getLabelFor()));};return b;},true);\n",
	"sap/ui/comp/smartfield/flexibility/SmartField.flexibility.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/fl/changeHandler/ChangeHandlerMediator'],function(C){'use strict';var c=function(m,p){return m.createControl('sap.ui.comp.smartfield.SmartField',p.appComponent,p.view,p.fieldSelector,{value:'{'+p.bindingPath+'}'});};var f=function(m,p){var s=c.apply(null,arguments);var n=m.getId(s);var S=m.createControl('sap.ui.comp.smartfield.SmartLabel',p.appComponent,p.view,n+'-label',{labelFor:n});return{'label':S,'control':s};};C.addChangeHandlerSettings({'scenario':'addODataFieldWithLabel','oDataServiceVersion':'2.0'},{'createFunction':f});C.addChangeHandlerSettings({'scenario':'addODataFieldWithLabel','oDataServiceVersion':'1.0'},{'createFunction':f});C.addChangeHandlerSettings({'scenario':'addODataField','oDataServiceVersion':'2.0'},{'createFunction':c});C.addChangeHandlerSettings({'scenario':'addODataField','oDataServiceVersion':'1.0'},{'createFunction':c});return{};},true);\n",
	"sap/ui/comp/smartfield/type/AbapBool.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/SimpleType'],function(q,F,P,S){'use strict';var A=S.extend('sap.ui.comp.smartfield.type.AbapBool',{constructor:function(){S.apply(this,arguments);this.sName='sap.ui.comp.smartfield.type.AbapBool';}});A.prototype.formatValue=function(v,t){if(v===undefined||v===null){return null;}switch(t){case'boolean':case'any':return v==='X';default:throw new F(\"Don't know how to format Boolean to \"+t);}};A.prototype.parseValue=function(v,s){switch(s){case'boolean':return(v===true)?'X':'';default:throw new P(\"Don't know how to parse Boolean from \"+s);}};A.prototype.validateValue=function(v){if(v!==null&&v!==undefined){if(v!=='X'&&v!==''){throw new P('Invalid Boolean '+v);}}};return A;},true);\n",
	"sap/ui/comp/smartfield/type/DateTime.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/DateTime'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.DateTime',{constructor:function(f,c){D.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.DateTime';};return a;});\n",
	"sap/ui/comp/smartfield/type/DateTimeOffset.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/DateTimeOffset'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.DateTimeOffset',{constructor:function(f,c){D.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);if(typeof this.oFieldControl==='function'){this.oFieldControl(v,s);}return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.DateTimeOffset';};return a;});\n",
	"sap/ui/comp/smartfield/type/Decimal.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Decimal'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.Decimal',{constructor:function(f,c){D.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Decimal';};return a;});\n",
	"sap/ui/comp/smartfield/type/Double.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Double'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.Double',{constructor:function(f,c){D.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){v=D.prototype.parseValue.apply(this,arguments);if(typeof this.oFieldControl==='function'){this.oFieldControl(v,s);}return v;};a.prototype.destroy=function(){D.prototype.destroy.apply(this,arguments);this.oFieldControl=null;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Double';};return a;});\n",
	"sap/ui/comp/smartfield/type/Guid.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Guid'],function(G){'use strict';var a=G.extend('sap.ui.comp.smartfield.type.Guid',{constructor:function(f,c){G.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){v=G.prototype.parseValue.apply(this,arguments);if(typeof this.oFieldControl==='function'){this.oFieldControl(v,s);}return v;};a.prototype.destroy=function(){G.prototype.destroy.apply(this,arguments);this.oFieldControl=null;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Guid';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int16.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Int16'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int16',{constructor:function(f,c){I.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int16';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int32.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Int32'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int32',{constructor:function(f,c){I.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int32';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int64.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Int64'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int64',{constructor:function(f,c){I.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int64';};return a;});\n",
	"sap/ui/comp/smartfield/type/SByte.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/SByte'],function(S){'use strict';var a=S.extend('sap.ui.comp.smartfield.type.SByte',{constructor:function(f,c){S.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=S.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.SByte';};return a;});\n",
	"sap/ui/comp/smartfield/type/String.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/String'],function(S){'use strict';var a=S.extend('sap.ui.comp.smartfield.type.String',{constructor:function(f,c){S.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=S.prototype.parseValue.apply(this,arguments);if(typeof this.oFieldControl==='function'){this.oFieldControl(v,s);}return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.String';};return a;});\n",
	"sap/ui/comp/smartfield/type/TextArrangement.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/CompositeType','sap/ui/comp/util/FormatUtil','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/ui/model/FormatException'],function(q,C,F,P,V,a){'use strict';var T=C.extend('sap.ui.comp.smartfield.type.TextArrangement',{constructor:function(o,c,s){this.getPrimaryType().call(this,o,c);C.call(this,o,c);this.init(o,c,s);}});T.prototype.init=function(o,c,s){this.bParseWithValues=true;this.oSettings=q.extend({data:[],valueListAnnotation:null,onBeforeValidateValue:q.noop,onAfterValidateValue:q.noop},s);this.oFormatOptions=q.extend({textArrangement:'idOnly'},o);this.fnPreParser=this.getValidator({textArrangement:this.oFormatOptions.textArrangement,prefix:'preParse'});this.fnParser=this.getValidator({textArrangement:this.oFormatOptions.textArrangement,prefix:'parse'});this.fnValidator=this.getValidator({textArrangement:this.oFormatOptions.textArrangement,prefix:'validate'});this.bNewDataLoaded=false;this.bRawValue=false;this.bValueValidated=false;this.vRawValue='';this.vRawID='';this.vRawDescription='';this.sDescription=undefined;};T.prototype.parseValue=function(v,s,c){if(v===''){return[this.getPrimaryType().prototype.parseValue.call(this,v,s),undefined];}var t=this.oFormatOptions.textArrangement;if(t==='idOnly'){return this.parseIDOnly(v,s);}this.vRawValue=v;if(!this.bNewDataLoaded){if(typeof this.fnPreParser==='function'){var r=this.fnPreParser.call(this,v,s,c,this.oFormatOptions);this.vRawID=r[0];this.vRawDescription=r[1];}else{this.vRawID=v;}this.bRawValue=true;return[undefined,undefined];}this.bNewDataLoaded=false;this.bRawValue=false;return this.fnParser(v,s,c,this.oSettings);};T.prototype.parseIDOnly=function(v,s){return[this.getPrimaryType().prototype.parseValue.call(this,v,s),undefined];};T.prototype.preParseIDAndDescription=function(v,s,c,o){var r=/.*\\s\\(.*\\)/i;if(r.test(v)){var b=/\\s\\(/gi;if(v.match(b).length>1){throw new P(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTFIELD_NOT_FOUND'));}var d=T.splitIDAndDescription(v,{separator:b,textArrangement:o.textArrangement});d[0]=this.getPrimaryType().prototype.parseValue.call(this,d[0],s);return d;}v=this.getPrimaryType().prototype.parseValue.call(this,v,s);return[v,undefined];};T.prototype.parseIDAndDescription=function(v,s,c,S){var r=/.*\\s\\(.*\\)/i;if(r.test(v)){v=this.preParseIDAndDescription(v,s,this.oFormatOptions)[0];}else if(S.data.length){var d=f(v,{key:S.valueListAnnotation.keyField,value:S.valueListAnnotation.descriptionField,data:S.data});if(d.length===0){throw new V(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTFIELD_NOT_FOUND'));}if(d.length>1){throw new V(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTFIELD_DUPLICATE_VALUES'));}this.sDescription=d[0];return[v,undefined];}else if(v!==''){throw new V(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTFIELD_NOT_FOUND'));}return[v,undefined];};T.prototype.parseDescriptionOnly=function(v,s,c,S){var i,k=S.valueListAnnotation.keyField,d=S.valueListAnnotation.descriptionField,r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');var I=f(v,{key:d,value:k,data:S.data});var b=I.length;if(b===1){i=this.getPrimaryType().prototype.parseValue.call(this,I[0],s);this.sDescription=v;return[i,undefined];}if(b===0){I=f(v,{key:k,value:d,data:S.data});b=I.length;}if(b===0){throw new V(r.getText('SMARTFIELD_NOT_FOUND'));}if(b>1){throw new V(r.getText('SMARTFIELD_DUPLICATE_VALUES'));}i=this.getPrimaryType().prototype.parseValue.call(this,v,s);this.sDescription=I[0];return[i,undefined];};T.prototype.validateValue=function(v){if(this.bRawValue){this.bValueValidated=false;this.onBeforeValidateValue(this.vRawID,this.oFormatOptions,this.getFilterFields());return;}this.getPrimaryType().prototype.validateValue.call(this,v[0]);if(v[0]!==null){this.fnValidator(v,this.oSettings);}this.bValueValidated=true;this.onAfterValidateValue(v[0]);};T.prototype.validateIDOnly=function(v,s){};T.prototype.validateIDAndDescription=function(v,s){};T.prototype.validateDescriptionOnly=function(v,s){};T.prototype.onAfterValidateValue=function(v){this.oSettings.onAfterValidateValue(v);};T.prototype.formatValue=function(v,t){if(this.bRawValue){return this.vRawValue;}var k=this.getPrimaryType().prototype.formatValue.call(this,v[0],t);if(k===''){return k;}var d=v[1];if(this.bValueValidated){d=(this.sDescription===undefined)?v[1]:this.sDescription;}else{this.onBeforeValidateValue(k,this.oFormatOptions,this.getFilterFields());return'';}return F.getFormattedExpressionFromDisplayBehaviour(this.oFormatOptions.textArrangement,k,d);};T.prototype.destroy=function(){this.oFormatOptions=null;this.oSettings=null;this.fnPreParser=null;this.fnParser=null;this.fnValidator=null;this.vRawValue='';this.vRawID='';this.vRawDescription='';this.sDescription='';};T.prototype.getName=function(){return'sap.ui.comp.smartfield.type.TextArrangement';};T.prototype.getPrimaryType=function(){};T.prototype.getValidator=function(s){switch(s.textArrangement){case'idAndDescription':case'descriptionAndId':return this[s.prefix+'IDAndDescription'];case'descriptionOnly':return this[s.prefix+'DescriptionOnly'];default:return this[s.prefix+'IDOnly'];}};T.prototype.getFilterFields=function(){return['keyField','descriptionField'];};function f(k,s){var v=[];s.data.forEach(function(d,i,D){if(d[s.key]===k){v.push(d[s.value]);}});return v;}T.splitIDAndDescription=function(v,s){var b=s.separator.exec(v),i=b['index'];switch(s.textArrangement){case'idAndDescription':return[v.slice(0,i),v.slice(i+2,-1)];case'descriptionAndId':return[v.slice(i+2,-1),v.slice(0,i)];default:return['',''];}};return T;});\n",
	"sap/ui/comp/smartfield/type/TextArrangementGuid.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/smartfield/type/TextArrangement','sap/ui/comp/smartfield/type/Guid','sap/ui/model/ValidateException'],function(q,T,G,V){'use strict';var a=T.extend('sap.ui.comp.smartfield.type.TextArrangementGuid',{constructor:function(f,c,s){T.apply(this,arguments);}});a.prototype.preParseDescriptionOnly=function(v,s,c,f){var p=G.prototype.parseValue.call(this,v,s);if(i(p)){return[p,undefined];}return[v.trim(),undefined];};a.prototype.parseDescriptionOnly=function(v,s,c,S){if(i(v)){if(S.data.length===1){this.sDescription=S.data[0][S.valueListAnnotation.descriptionField];return[v,undefined];}if(S.data.length===0){throw new V(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTFIELD_NOT_FOUND'));}}else{return T.prototype.parseDescriptionOnly.apply(this,arguments);}};a.prototype.onBeforeValidateValue=function(v,f,F){if((f.textArrangement==='descriptionOnly')&&!i(v)){F=['descriptionField'];}this.oSettings.onBeforeValidateValue(v,F);};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.TextArrangementGuid';};a.prototype.getPrimaryType=function(){return G;};function i(v){var r=/^[A-F0-9]{8}-([A-F0-9]{4}-){3}[A-F0-9]{12}$/i;return r.test(v);}return a;});\n",
	"sap/ui/comp/smartfield/type/TextArrangementString.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/comp/smartfield/type/TextArrangement','sap/ui/comp/smartfield/type/String'],function(T,S){'use strict';var a=T.extend('sap.ui.comp.smartfield.type.TextArrangementString',{constructor:function(f,c,s){T.apply(this,arguments);}});a.prototype.onBeforeValidateValue=function(v,f,F){this.oSettings.onBeforeValidateValue(v,F);};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.TextArrangementString';};a.prototype.getPrimaryType=function(){return S;};return a;});\n",
	"sap/ui/comp/smartfield/type/Time.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/model/odata/type/Time'],function(T){'use strict';var a=T.extend('sap.ui.comp.smartfield.type.Time',{constructor:function(f,c){T.apply(this,arguments);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=T.prototype.parseValue.apply(this,arguments);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Time';};return a;});\n",
	"sap/ui/comp/smartfilterbar/AdditionalConfigurationHelper.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var A=function(c,g){this.controlConfiguration=[];this.groupConfiguration=[];this._initialize(c,g);};A.prototype._initialize=function(c,g){var i,l,G,C,o,d,D,j,a,b;if(!c){c=[];}if(!g){g=[];}l=c.length;for(i=0;i<l;i++){C=c[i];o={};o.key=C.getKey();o.groupId=C.getGroupId();o.index=C.getIndex();o.label=C.getLabel();o.isVisible=C.getVisible();o.mandatory=C.getMandatory();o.width=C.getWidth();o.hasValueHelpDialog=C.getHasValueHelpDialog();o.hasTypeAhead=C.getHasTypeAhead();o.controlType=C.getControlType();o.filterType=C.getFilterType();o.customControl=C.getCustomControl();o.visibleInAdvancedArea=C.getVisibleInAdvancedArea();o.preventInitialDataFetchInValueHelpDialog=C.getPreventInitialDataFetchInValueHelpDialog();o.displayBehaviour=C.getDisplayBehaviour();o.defaultFilterValues=[];o.conditionType=C.getConditionType();d=C.getDefaultFilterValues();if(d&&d.length){a=d.length;for(j=0;j<a;j++){D=d[j];b={};b.sign=D.getSign();b.operator=D.getOperator();b.low=D.getLow();b.high=D.getHigh();o.defaultFilterValues.push(b);}}this.controlConfiguration.push(o);}l=g.length;for(i=0;i<l;i++){G=g[i];o={key:G.getKey(),index:G.getIndex(),label:G.getLabel()};this.groupConfiguration.push(o);}};A.prototype.getControlConfigurationByKey=function(k){var i,l;l=this.controlConfiguration.length;for(i=0;i<l;i++){if(this.controlConfiguration[i].key===k){return this.controlConfiguration[i];}}return undefined;};A.prototype.getControlConfiguration=function(){return this.controlConfiguration;};A.prototype.getGroupConfiguration=function(){return this.groupConfiguration;};A.prototype.getGroupConfigurationByKey=function(k){var i,l;l=this.groupConfiguration.length;for(i=0;i<l;i++){if(this.groupConfiguration[i].key===k){return this.groupConfiguration[i];}}return undefined;};return A;},true);\n",
	"sap/ui/comp/smartfilterbar/ControlConfiguration.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfilterbar.ControlConfiguration',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},groupId:{type:'string',group:'Misc',defaultValue:null},label:{type:'string',group:'Misc',defaultValue:null},visible:{type:'boolean',group:'Misc',defaultValue:true},hasValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true},controlType:{type:'sap.ui.comp.smartfilterbar.ControlType',group:'Misc',defaultValue:'auto'},filterType:{type:'sap.ui.comp.smartfilterbar.FilterType',group:'Misc',defaultValue:'auto'},index:{type:'int',group:'Misc',defaultValue:-1},hasTypeAhead:{type:'boolean',group:'Misc',defaultValue:true},mandatory:{type:'sap.ui.comp.smartfilterbar.MandatoryType',group:'Misc',defaultValue:'auto'},width:{type:'string',group:'Misc',defaultValue:null},visibleInAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false},preventInitialDataFetchInValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true},displayBehaviour:{type:'sap.ui.comp.smartfilterbar.DisplayBehaviour',group:'Misc',defaultValue:'auto'},conditionType:{type:'any',group:'Misc',defaultValue:null}},aggregations:{defaultFilterValues:{type:'sap.ui.comp.smartfilterbar.SelectOption',multiple:true,singularName:'defaultFilterValue'},customControl:{type:'sap.ui.core.Control',multiple:false}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});C.prototype.setVisible=function(i){this.setProperty('visible',i);this.fireChange({propertyName:'visible'});};C.prototype.setLabel=function(L){this.setProperty('label',L);this.fireChange({propertyName:'label'});};C.prototype.setVisibleInAdvancedArea=function(v){this.setProperty('visibleInAdvancedArea',v);this.fireChange({propertyName:'visibleInAdvancedArea'});};C.FILTERTYPE=sap.ui.comp.smartfilterbar.FilterType;C.CONTROLTYPE=sap.ui.comp.smartfilterbar.ControlType;C.MANDATORY=sap.ui.comp.smartfilterbar.MandatoryType;C.DISPLAYBEHAVIOUR=sap.ui.comp.smartfilterbar.DisplayBehaviour;return C;},true);\n",
	"sap/ui/comp/smartfilterbar/FilterProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/DateTimePicker','sap/m/Select','sap/ui/core/Item','sap/m/ComboBox','sap/m/DatePicker','sap/m/DateRangeSelection','sap/m/TimePicker','sap/m/Input','sap/m/MultiComboBox','sap/m/MultiInput','sap/m/SearchField','sap/m/Token','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/providers/ValueHelpProvider','sap/ui/comp/providers/ValueListProvider','sap/ui/model/Filter','sap/ui/model/json/JSONModel','sap/ui/comp/odata/ODataType','sap/ui/comp/util/FormatUtil','sap/ui/base/EventProvider','sap/ui/comp/util/IdentifierUtil','sap/ui/comp/providers/TokenParser','sap/ui/core/format/DateFormat'],function(q,D,S,I,C,a,b,T,c,M,d,f,g,h,V,l,F,J,O,m,E,o,p,r){'use strict';var s=function(P){if(!l){l=sap.ui.require('sap/ui/comp/providers/ValueListProvider');}this._bInitialized=false;this._bPending=true;this._bConsiderAnalyticalParameters=false;if(P){this._oParentODataModel=P.model;this._sServiceURL=P.serviceUrl;this._sBasicSearchFieldName=P.basicSearchFieldName;this._isBasicSearchEnabled=P.enableBasicSearch;this._bUseContainsAsDefault=P.useContainsAsDefaultFilter==='true';this.sEntityType=P.entityType;this.sEntitySet=P.entitySet;this._isRunningInValueHelpDialog=P.isRunningInValueHelpDialog;this._oAdditionalConfiguration=P.additionalConfiguration;this.sDefaultDropDownDisplayBehaviour=P.defaultDropDownDisplayBehaviour;this.sDefaultTokenDisplayBehaviour=P.defaultTokenDisplayBehaviour;if(typeof P.dateFormatSettings==='string'){try{this._oDateFormatSettings=P.dateFormatSettings?JSON.parse(P.dateFormatSettings):undefined;}catch(e){}}else{this._oDateFormatSettings=P.dateFormatSettings;}if(!this._oDateFormatSettings){this._oDateFormatSettings={};}if(!this._oDateFormatSettings.hasOwnProperty('UTC')){this._oDateFormatSettings['UTC']=true;}this._oSmartFilter=P.smartFilter;this._bConsiderAnalyticalParameters=P.considerAnalyticalParameters;this._bUseDateRangeType=P.useDateRangeType;this._bConsiderSelectionVariants=P.considerSelectionVariants;this._aConsiderNavigations=P.considerNavigations;}this.sFilterModelName=s.FILTER_MODEL_NAME;this._sBasicFilterAreaID=s.BASIC_FILTER_AREA_ID;this._aAnalyticalParameters=[];this._aFilterBarViewMetadata=[];this._aFilterBarFieldNames=[];this._aFilterBarMultiValueFieldMetadata=[];this._aFilterBarStringDateFieldNames=[];this._aFilterBarDateFieldNames=[];this._aFilterBarTimeFieldNames=[];this._aFilterBarTimeIntervalFieldNames=[];this._aFilterBarDateTimeMultiValueFieldNames=[];this._aFilterBarStringFieldNames=[];this._aFilterBarDateTimeFieldNames=[];this._aFieldGroupAnnotation=[];this._oMetadataAnalyser=new h(this._oParentODataModel||this._sServiceURL);this.oModel=new J();this._aValueListProvider=[];this._aValueHelpDialogProvider=[];this._mTokenHandler={};this._mConditionTypeFields={};this._aSelectionVariants=[];this._oParameterization=null;this._oNonAnaParameterization=null;this._aPromises=[];};s.FILTER_MODEL_NAME='fi1t3rM0d31';s.BASIC_FILTER_AREA_ID='_BASIC';s.BASIC_SEARCH_FIELD_ID='_BASIC_SEARCH_FIELD';s.CUSTOM_FIELDS_MODEL_PROPERTY='_CUSTOM';s.FIELD_NAME_REGEX=/\\./g;s._createFilterProvider=function(P){var e=new s(P);return e._intialiseMetadata();};s.prototype._intialiseMetadata=function(){var G,e,k,n,t,i,j,u,v,w,x,y;this._aPromises=[];this._aFilterBarViewMetadata.push({groupName:this._sBasicFilterAreaID,index:0,fields:[]});if(!this.sEntitySet&&this.sEntityType){this.sEntitySet=this._oMetadataAnalyser.getEntitySetNameFromEntityTypeName(this.sEntityType);}this.sEntityType=this._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.sEntitySet);t=this._oMetadataAnalyser.getAllFilterableFieldsByEntitySetName(this.sEntitySet,this._bConsiderAnalyticalParameters,this._aConsiderNavigations);if(t){this._updateDisplayBehaviour();this._aFieldGroupAnnotation=this._oMetadataAnalyser.getFieldGroupsByFilterFacetsAnnotation(this.sEntityType);k=this._oMetadataAnalyser.getSelectionFieldsAnnotation(this.sEntityType);if(k&&k.selectionFields){this._aSelectionFields=k.selectionFields;}if(this._aFieldGroupAnnotation){G=this._aFieldGroupAnnotation.length;for(i=0;i<G;i++){n=this._aFieldGroupAnnotation[i];w=this._createGroupMetadata(n);w.index=this._aFilterBarViewMetadata.length;this._aFilterBarViewMetadata.push(w);}}G=t.length;for(i=0;i<G;i++){n=t[i];e=n.fields.length;w=this._createGroupMetadata(n);this._aFilterBarViewMetadata.push(w);for(j=0;j<e;j++){u=n.fields[j];if(u.type.indexOf('Edm.')===0){v=this._createFieldMetadata(u);w.fields.push(v);this._aFilterBarFieldNames.push(v.fieldName);}}}}y=this._getAdditionalConfigurationForCustomGroups(t);G=y.length;for(j=0;j<G;j++){w=this._createGroupMetadataForCustomGroup(y[j]);if(w){this._aFilterBarViewMetadata.push(w);}}x=this._getAdditionalConfigurationForCustomFilterFields();e=x.length;for(j=0;j<e;j++){v=this._createFieldMetadataForCustomFilterFields(x[j]);if(v){this._aFilterBarViewMetadata[0].fields.push(v);}}if(this._hasBasicSearch()){v=this._createBasicSearchFieldMetadata();this._aFilterBarViewMetadata[0].fields.push(v);}if(!this._isRunningInValueHelpDialog){this._createParameters();}return new Promise(function(R){Promise.all(this._aPromises).then(function(){if(this._bConsiderSelectionVariants){this._createSelectionVariants();}this._applyGroupId();this._applyIndexes();this._createInitialModel(true);this._initializeConditionTypeFields();this.setPending(this.isPending());this._bInitialized=true;R(this);}.bind(this));}.bind(this));};s.prototype._createSelectionVariants=function(){this._aSelectionVariants=this._oMetadataAnalyser.getSelectionVariantAnnotationList(this.sEntityType);};s.prototype._createParameters=function(){if(this._oMetadataAnalyser.isSemanticAggregation(this.sEntityType)){if(this._bConsiderAnalyticalParameters){var A=sap.ui.require('sap/ui/model/analytics/odata4analytics');if(A){this._createAnalyticalParameters(A);}else{var P=new Promise(function(R){sap.ui.require(['sap/ui/model/analytics/odata4analytics'],function(A){this._createAnalyticalParameters(A);R();}.bind(this));}.bind(this));this._aPromises.push(P);}}}else{this._createNonAnalyticalParameters();}};s.prototype._createAnalyticalParameters=function(A){this._oParameterization=this._getAnalyticParameterization(A);this._createAnalyticParameters(this._oParameterization);};s.prototype._getAnalyticParameterization=function(A){var i,Q;try{i=new A.Model(new A.Model.ReferenceByModel(this._oParentODataModel));}catch(e){throw'Failed to instantiate analytical extensions for given OData model: '+e.message;}Q=i&&i.findQueryResultByName(this.sEntitySet);return(Q&&Q.getParameterization());};s.prototype._createNonAnalyticalParameters=function(){if(this.sEntitySet){this._oNonAnaParameterization=this._oMetadataAnalyser.getParametersByEntitySetName(this.sEntitySet);if(this._oNonAnaParameterization){this._createParametersByEntitySetName(this._oNonAnaParameterization.entitySetName,this._oNonAnaParameterization.parameters);}}};s.prototype.attachPendingChange=function(e){if(!this._oEventProvider){this._oEventProvider=new E();}this._oEventProvider.attachEvent('PendingChange',e);};s.prototype.detachPendingChange=function(e){if(this._oEventProvider){this._oEventProvider.detachEvent('PendingChange',e);}};s.prototype.setPending=function(v){var e=this._bPending!==v;this._bPending=v;if(e&&this._oEventProvider){var P={};P.pending=v;this._oEventProvider.fireEvent('PendingChange',P);}};s.prototype.isPending=function(){if(!this._bInitialized){return true;}for(var n in this._mConditionTypeFields){if(this._mConditionTypeFields[n].conditionType.isPending()){return true;}}return false;};s.prototype._updateDisplayBehaviour=function(){this._sTextArrangementDisplayBehaviour=this._oMetadataAnalyser.getTextArrangementValue(this.sEntityType);if(!this.sDefaultDropDownDisplayBehaviour){if(this._sTextArrangementDisplayBehaviour){this.sDefaultDropDownDisplayBehaviour=this._sTextArrangementDisplayBehaviour;}else{this.sDefaultDropDownDisplayBehaviour=sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionOnly;}}if(!this.sDefaultTokenDisplayBehaviour){if(this._sTextArrangementDisplayBehaviour){this.sDefaultTokenDisplayBehaviour=this._sTextArrangementDisplayBehaviour;}else{this.sDefaultTokenDisplayBehaviour=sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionAndId;}}};s.prototype._hasBasicSearch=function(){return this._isBasicSearchEnabled;};s.prototype._getAdditionalConfigurationForCustomFilterFields=function(){var e,j,i,R;if(!this._oAdditionalConfiguration){return[];}e=this._oAdditionalConfiguration.getControlConfiguration();if(!this._aFilterBarFieldNames||!this._aFilterBarFieldNames.length){return e;}R=[];j=e.length;for(i=0;i<j;i++){if(this._aFilterBarFieldNames.indexOf(e[i].key)<0){R.push(e[i]);}}return R;};s.prototype._getAdditionalConfigurationForCustomGroups=function(e){var G,k,n,i,R,j,t,u;if(!this._oAdditionalConfiguration){return[];}G=this._oAdditionalConfiguration.getGroupConfiguration();if(!e||!e.length){return G;}R=[];n=e.length;k=G.length;for(i=0;i<k;i++){t=false;for(j=0;j<n;j++){u=e[j].groupName||e[j].groupEntityName;if(u===G[i].key){t=true;break;}}if(!t){R.push(G[i]);}}return R;};s.prototype._createInitialModelForField=function(j,e,u){var i=false,k,n,H=false,t=false,L=null,v=null,w,x=null,y=[],R=[];if(!e||e.isCustomFilterField){return;}if(e.filterRestriction!==sap.ui.comp.smartfilterbar.FilterType.multiple){t=true;}if((e.filterType==='date')||(e.filterType==='time')){i=true;}if(u){k=e.defaultFilterValues;H=k&&k.length;if(!H){if(e.defaultPropertyValue&&e.isParameter){n=e.defaultPropertyValue;if(e.filterType==='numeric'){n=this._getType(e).parseValue(n,'string');}k=[{low:n}];H=true;}else if(e.defaultFilterValue){k=[{low:e.defaultFilterValue,high:e.defaultFilterValue,operator:'EQ',sign:'I'}];H=true;}}}if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single){if(H){n=k[0];L=i?this._createDateTimeValue(e,n.low):n.low;}j[e.fieldName]=L;}else if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval&&e.type!=='Edm.Time'){if(H){n=k[0];L=i?this._createDateTimeValue(e,n.low):n.low;v=i?this._createDateTimeValue(e,n.high):n.high;}j[e.fieldName]={low:L,high:v};}else{if(H){w=k.length;while(w--){n=k[w];if(t){x={'exclude':n.sign==='E','operation':n.operator==='CP'?'Contains':n.operator,'keyField':e.fieldName,'value1':i?this._createDateTimeValue(e,n.low):n.low,'value2':i?'':n.high};if((e.filterType==='time')&&n.high){x.value2=new Date(n.high);}}else{x={key:i?this._createDateTimeValue(e,n.low):n.low,text:i?'':n.low};}y.push(x);}}this._aFilterBarMultiValueFieldMetadata.push(e);j[e.fieldName]={value:null};if(t){R=y.slice(0);y=[];j[e.fieldName].ranges=R;}j[e.fieldName].items=y;this._updateMultiValueControl(e.control,y,R);}};s.prototype._createDateTimeValue=function(e,v){if((e.type==='Edm.Time')&&(v.indexOf('PT')===0)){return this._getTime(v);}else{return new Date(v);}};s.prototype._createInitialModel=function(u){var e,G,k,n,j,i;e={};this._bCreatingInitialModel=true;this._aFilterBarMultiValueFieldMetadata=[];if(this._aFilterBarViewMetadata){G=this._aFilterBarViewMetadata.length;for(i=0;i<G;i++){n=this._aFilterBarViewMetadata[i];k=n.fields.length;for(j=0;j<k;j++){this._createInitialModelForField(e,n.fields[j],u);}}}if(this._aAnalyticalParameters){k=this._aAnalyticalParameters.length;for(j=0;j<k;j++){this._createInitialModelForField(e,this._aAnalyticalParameters[j],u);}}this.oModel.setData(e);if(!u){this._clearConditionTypeFields();}this._updateConditionTypeFields();this._bCreatingInitialModel=false;};s.prototype._updateMultiValueControl=function(e,j,R,k){var i=0,t=null,n=null,u=null,v=null,K=null,w,x,y,z;if(e&&j){i=j.length;if(e instanceof d){t=[];while(i--){v=j[i].text||j[i].key;t.push(new g({key:j[i].key,text:v,tooltip:v}));}if(R){i=R.length;while(i--){u=R[i];if(u.tokenText){v=u.tokenText;}else{w=u.value1;x=u.value2;if(k){var A=['date','datetime','time'];if(!k.isCalendarDate&&A.indexOf(k.filterType)>-1){if(w&&typeof w==='string'){w=new Date(w);}if(x&&typeof x==='string'){x=new Date(x);}switch(k.filterType){case'date':z=sap.ui.core.format.DateFormat.getDateInstance(q.extend({},this._oDateFormatSettings,{UTC:false}));break;case'datetime':z=sap.ui.core.format.DateFormat.getDateTimeInstance(q.extend({},this._oDateFormatSettings,{UTC:false}));break;case'time':z=sap.ui.core.format.DateFormat.getTimeInstance(q.extend({},this._oDateFormatSettings,{UTC:false}));break;}if(z){if(w){w=z.format(w);}if(x){x=z.format(x);}}}else if(k.filterType==='numeric'){y=this._getType(k);if(y){if(w!==''&&(w!==undefined)){w=y.formatValue(w,'string');}if(x!==''&&(x!==undefined)){x=y.formatValue(x,'string');}}}else{var B=k.isCalendarDate||((w instanceof Date)||(x instanceof Date));if(B){y=this._getType(k);if(w){w=y.formatValue(w,'string');}if(x){x=y.formatValue(x,'string');}}}}v=m.getFormattedRangeText(u.operation,w,x,u.exclude);}n=new g({text:v,tooltip:v});n.data('range',u);t.push(n);}}e.setTokens(t);}if(e instanceof M){K=[];while(i--){K.push(j[i].key);}e.setSelectedKeys(K);}}};s.prototype._applyIndexes=function(){var e,i;if(!this._aFilterBarViewMetadata){return;}this._aFilterBarViewMetadata=this._sortByIndex(this._aFilterBarViewMetadata);e=this._aFilterBarViewMetadata.length;for(i=0;i<e;i++){if(this._aFilterBarViewMetadata[i].fields){this._aFilterBarViewMetadata[i].fields=this._sortByIndex(this._aFilterBarViewMetadata[i].fields);}}};s.prototype._sortByIndex=function(A){var e,i,j,R,k,n;if(!A||!A.length){return A;}R=[];e=[];j=A.length;for(i=0;i<j;i++){n=A[i];k=n.index;if(k>=0){e.push(n);}else{R.push(n);}}j=e.length;if(j){e=e.sort(function(t,u){return t.index-u.index;});if(!R.length){R=e;}else{for(i=0;i<j;i++){n=e[i];if(n.index>=R.length){R.push(n);}else{R.splice(n.index,0,n);}}}}return R;};s.prototype._applyGroupId=function(){var e,i,n,j,t,N,k;e=this._aFilterBarViewMetadata.length;for(i=0;i<e;i++){if(!this._aFilterBarViewMetadata[i].fields){continue;}n=this._aFilterBarViewMetadata[i].fields.length;for(j=0;j<n;j++){t=this._aFilterBarViewMetadata[i].fields[j];if(t&&t.groupId&&t.groupId!==this._aFilterBarViewMetadata[i].groupName){N=undefined;for(k=0;k<e;k++){if(this._aFilterBarViewMetadata[k].groupName===t.groupId){N=this._aFilterBarViewMetadata[k];break;}}if(N){this._aFilterBarViewMetadata[i].fields.splice(j,1);j--;n--;N.fields=N.fields||[];N.fields.push(t);}}}}};s.prototype._createFilterControlId=function(e){var i=this._oSmartFilter.getId();var G=o.replace(e.groupId||'');var n=o.replace(e.fieldName);return i+'-filterItemControl'+G+'-'+n;};s.prototype._createGroupMetadata=function(e){var G,i,j;j=e.groupName||e.groupEntityName;i=this._oAdditionalConfiguration.getGroupConfigurationByKey(j);G={};G.groupName=j;G.groupLabel=this._getGroupLabel(e,i);G.fields=[];G.index=this._getGroupIndex(i);return G;};s.prototype._createGroupMetadataForCustomGroup=function(G){var e;e={};e.groupName=G.key;e.groupLabel=G.label;e.fields=[];e.index=this._getGroupIndex(G);return e;};s.prototype._getTime=function(v){var e=r.getTimeInstance({pattern:\"'PT'hh'H'mm'M'ss'S'\"});return e.parse(v);};s.prototype._checkMetadataDefaultValue=function(e){var i=e.defaultFilterValue||e.defaultPropertyValue;if(i){try{if((e.type==='Edm.Time')&&(i.indexOf('PT')===0)){this._getTime(i);}else{this._getType(e);}}catch(j){e.defaultPropertyValue=null;e.defaultFilterValue=null;q.sap.log.error('default value for '+e.fieldName+' could not be parsed.');}}};s.prototype._getType=function(e){var t,i={},j={};if(e.precision||e.scale){j.precision=e.precision;j.scale=e.scale;}if(e.maxLength){j.maxLength=e.maxLength;}if(e.displayFormat){j.displayFormat=e.displayFormat;}if(e.isDigitSequence){j.isDigitSequence=e.isDigitSequence;}if(e.fControlConstructor===b||e.fControlConstructor===a||e.type==='Edm.DateTimeOffset'||e.isCalendarDate){i=q.extend({},this._oDateFormatSettings,{UTC:false});}t=O.getType(e.type,i,j,e.isCalendarDate);return t;};s.prototype._createControl=function(e){var i,t,j=false,k,n;if(e.customControl){return e.customControl;}t=this._getType(e);i=new e.fControlConstructor(this._createFilterControlId(e));if(e.fControlConstructor===b){if(e.isCalendarDate){i.bindProperty('dateValue',{path:this.sFilterModelName+'>/'+e.fieldName+'/low',type:t});i.bindProperty('secondDateValue',{path:this.sFilterModelName+'>/'+e.fieldName+'/high',type:t});}else{i.bindProperty('dateValue',this.sFilterModelName+'>/'+e.fieldName+'/low');i.bindProperty('secondDateValue',this.sFilterModelName+'>/'+e.fieldName+'/high');}}else if((e.fControlConstructor===C)||(e.fControlConstructor===S)){if(i.setForceSelection){i.setForceSelection(true);}if(e.fControlConstructor===S){i.addItem(new I({key:'',text:''}));i.addItem(new I({key:false,text:t.formatValue(false,'string')}));i.addItem(new I({key:true,text:t.formatValue(true,'string')}));}else{this._associateValueList(i,'items',e);i.attachSelectionChange(function(){if(this._bUpdatingFilterData||this._bCreatingInitialModel){return;}i.fireChange({filterChangeReason:e.fieldName,value:''});}.bind(this));}i.bindProperty('selectedKey',this.sFilterModelName+'>/'+e.fieldName);}else if(e.fControlConstructor===M){this._associateValueList(i,'items',e);i.attachSelectionChange(function(v){if(this._bUpdatingFilterData||this._bCreatingInitialModel){return;}var w=v.getSource(),x=null,K=[],L;x=w.getSelectedItems();if(x){L=x.length;while(L--){K.push({key:x[L].getKey(),text:x[L].getText()});}}if(this.oModel){this.oModel.setProperty('/'+e.fieldName+'/items',K);}w.fireChange({filterChangeReason:e.fieldName,value:''});}.bind(this));i.bindProperty('value',this.sFilterModelName+'>/'+e.fieldName+'/value');}else if(e.fControlConstructor===d){if(e.controlType===sap.ui.comp.smartfilterbar.ControlType.date||e.type==='Edm.Time'||e.type==='Edm.DateTimeOffset'){i.setValueHelpOnly(true);if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){this._associateValueHelpDialog(i,e,false,false);}else{this._associateValueHelpDialog(i,e,true,true);}}else{if(e.hasValueHelpDialog){this._associateValueHelpDialog(i,e,e.filterRestriction!==sap.ui.comp.smartfilterbar.FilterType.multiple,true);}else{i.setShowValueHelp(false);}i.bindProperty('value',{path:this.sFilterModelName+'>/'+e.fieldName+'/value',type:t});}this._handleMultiInput(i,e,t);}else if(e.fControlConstructor===c){if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){j=true;i.bindProperty('value',this.sFilterModelName+'>/'+e.fieldName+'/low');if(!this.oResourceBundle){this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}if(!this.sIntervalPlaceholder){this.sIntervalPlaceholder=this.oResourceBundle.getText('INTERVAL_PLACEHOLDER_TEXT');}i.setPlaceholder(this.sIntervalPlaceholder);}else{i.bindProperty('value',{path:this.sFilterModelName+'>/'+e.fieldName,type:t});}if(e.hasValueHelpDialog){i.setShowValueHelp(true);this._associateValueHelpDialog(i,e,false,false);}}else if(e.isCalendarDate){i.bindProperty('dateValue',{path:this.sFilterModelName+'>/'+e.fieldName,type:t});}else if(e.fControlConstructor===a||e.fControlConstructor===T||e.fControlConstructor===D){i.bindProperty('dateValue',this.sFilterModelName+'>/'+e.fieldName);}if(i instanceof a){if(this._oDateFormatSettings&&this._oDateFormatSettings.style){i.setDisplayFormat(this._oDateFormatSettings.style);}i.attachChange(function(v){var w=v.getParameter('valid');i.data('__mandatoryEmpty',null);if(w){i.setValueState(sap.ui.core.ValueState.None);i.setValueStateText();}else{i.setValueState(sap.ui.core.ValueState.Error);if(t){try{t.parseValue('foo','string');}catch(x){i.setValueStateText(x.message);}}}});}if(e.hasTypeAhead){i.setShowSuggestion(true);i.setFilterSuggests(false);this._associateValueList(i,'suggestionRows',e,true);}if((e.displayFormat==='UpperCase')&&(e.controlType!==sap.ui.comp.smartfilterbar.ControlType.dropDownList)&&i.attachChange&&i.getValue&&i.setValue){i.attachChange(function(v){var w=i.getValue();if(w){i.setValue(w.toUpperCase());}});if(this._mTokenHandler[i.getId()]&&this._mTokenHandler[i.getId()].parser){var u=this._mTokenHandler[i.getId()].parser;u.getKeyFields()[0].displayFormat=e.displayFormat;}}if(i instanceof c){if(e.maxLength){k=parseInt(e.maxLength,10);if(!isNaN(k)){if(this._mTokenHandler[i.getId()]&&this._mTokenHandler[i.getId()].parser){var u=this._mTokenHandler[i.getId()].parser;u.getKeyFields()[0].maxLength=k;}else{if(!e.hasValueListAnnotation&&!j){i.setMaxLength(k);}}}}}n=function(v){var w=v.getParameter('exception');var x=v.getParameter('element');if(i&&x&&(i.getId()===x.getId())){if(w){if(i.setValueStateText){i.setValueStateText(w.message);}}if(i.setValueState){i.setValueState(sap.ui.core.ValueState.Error);}i.data('__mandatoryEmpty',null);}};i.attachParseError(n);i.attachFormatError(n);i.attachValidationError(n);i.attachValidationSuccess(function(v){var w=v.getParameter('element');if(i&&w&&(i.getId()===w.getId())){if(i.setValueState){i.setValueState(sap.ui.core.ValueState.None);}if(i.setValueStateText){i.setValueStateText();}i.data('__mandatoryEmpty',null);delete i.__sValidationText;}});return i;};s.prototype._getControlConstructor=function(e,P){var i=c,j,k,n;n=P?P+e.fieldName:e.fieldName;if(e.isCustomFilterField){i=undefined;}else{j=(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single);k=(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval);if(e.controlType===sap.ui.comp.smartfilterbar.ControlType.date){e.displayFormat='Date';if(j){i=a;}else{i=k?b:d;}if(e.isCalendarDate){this._aFilterBarStringDateFieldNames.push(n);}else{this._aFilterBarDateFieldNames.push(n);}if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){this._aFilterBarDateTimeMultiValueFieldNames.push(n);}}else if(e.controlType===sap.ui.comp.smartfilterbar.ControlType.dropDownList){if(j){i=this._isBooleanWithFixedValuedButWithoutValueListAnnotation(e)?S:C;}else{i=M;}if(!j){e.filterRestriction=sap.ui.comp.smartfilterbar.FilterType.multiple;}}else if(e.type==='Edm.Time'){if(j){i=T;}else{i=d;}this._aFilterBarTimeFieldNames.push(n);if(k){this._aFilterBarTimeIntervalFieldNames.push(n);}else if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){this._aFilterBarDateTimeMultiValueFieldNames.push(n);}}else if(!k&&e.controlType===sap.ui.comp.smartfilterbar.ControlType.dateTimePicker){if(j){i=D;}else{i=d;}this._aFilterBarDateTimeFieldNames.push(n);if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){this._aFilterBarDateTimeMultiValueFieldNames.push(n);}}else if(k&&e.type==='Edm.DateTimeOffset'){this._aFilterBarDateTimeFieldNames.push(n);}else if(!j&&!k){i=d;}}return i;};s.prototype._handleMultiInput=function(e,i,t){e.setEnableMultiLineMode(true);e.attachTokenChange(function(n){if(this._bUpdatingFilterData||this._bCreatingInitialModel||(n.getParameter('type')!=='tokensChanged')&&(n.getParameter('type')!=='removed')){return;}var u=n.getSource().getTokens(),v=[],L,w=null,R=null,x=[];if(u){L=u.length;while(L--){w=u[L];R=w.data('range');if(R){R.tokenText=w.getText();x.push(R);}else{v.push({key:w.getKey(),text:w.getText()});}}}if(this.oModel){this.oModel.setProperty('/'+i.fieldName+'/items',v);this.oModel.setProperty('/'+i.fieldName+'/ranges',x);}e.fireChange({filterChangeReason:i.fieldName,value:''});}.bind(this));var j,k=((i.type==='Edm.DateTime'&&i.displayFormat==='Date'));if(i.hasValueListAnnotation||(i.type==='Edm.String')||k){e.attachEvent('_validateOnPaste',function(n){var u=n.getParameter('texts'),P,L,v,w,R;L=u?u.length:0;if(L>1){n.preventDefault();P=this.oModel.getProperty('/'+i.fieldName);R=P.ranges||[];e.setValue('');while(L--){v=u[L];if(v){w=null;if(k){j=this._getDateValue(v,t);if(isNaN(j.getDate())){continue;}else{w=v;v=j;}}R.push({'exclude':false,'operation':'EQ','keyField':i.fieldName,'value1':v,'value2':null,'tokenText':w});}}this.oModel.setProperty('/'+i.fieldName+'/ranges',R);this._updateMultiValueControl(e,P.items,R);}}.bind(this));}};s.prototype._getDateValue=function(v,t){var e;try{e=t.parseValue(v,'string');if(e){return e;}}catch(i){}return new Date(v);};s.prototype._associateValueHelpDialog=function(e,i,j,k){var P={loadAnnotation:i.hasValueListAnnotation,fullyQualifiedFieldName:i.fullName,metadataAnalyser:this._oMetadataAnalyser,control:e,filterModel:this.oModel,filterProvider:this,model:this._oParentODataModel,preventInitialDataFetchInValueHelpDialog:i.preventInitialDataFetchInValueHelpDialog,dateFormatSettings:this._oDateFormatSettings,supportMultiSelect:k,supportRanges:j,isUnrestrictedFilter:i.filterRestriction!==sap.ui.comp.smartfilterbar.FilterType.multiple,isSingleIntervalRange:i.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval,fieldName:i.fieldName,type:i.filterType,scale:i.scale,precision:i.precision,maxLength:i.maxLength,displayFormat:i.displayFormat,displayBehaviour:i.displayBehaviour,fieldViewMetadata:i};if(i.isCalendarDate){P.oType=this._getType(i);}var v=new V(P);v.attachValueListChanged(function(n){if(this._oSmartFilter){this._oSmartFilter.fireFilterChange(n);}}.bind(this));if(i.visibleInAdvancedArea||(i.groupId===s.BASIC_FILTER_AREA_ID)){v.loadAnnotation();}this._aValueHelpDialogProvider.push(v);if(j&&e.addValidator){var t=new p();t.addKeyField({key:i.fieldName,label:i.label,type:i.filterType,oType:i.ui5Type});t.associateInput(e);this._mTokenHandler[e.getId()]={parser:t};}};s.prototype._determineFieldLabel=function(e){var i,L=e.label;if(this._oSmartFilter&&this._oSmartFilter.determineFilterItemByName){i=this._oSmartFilter.determineFilterItemByName(e.name);if(i){L=i.getLabel();}}return L;};s.prototype._associateValueList=function(e,A,i,H){var v;if(i.hasValueListAnnotation){v=new l({control:e,fieldName:i.fieldName,typeAheadEnabled:H,aggregation:A,displayFormat:i.displayFormat,displayBehaviour:i.displayBehaviour,dateFormatSettings:this._oDateFormatSettings,loadAnnotation:true,fullyQualifiedFieldName:i.fullName,metadataAnalyser:this._oMetadataAnalyser,filterModel:this.oModel,filterProvider:this,model:this._oParentODataModel,fieldViewMetadata:i});v.attachValueListChanged(function(j){if(this._oSmartFilter){this._oSmartFilter.fireFilterChange(j);}}.bind(this));if(i.visibleInAdvancedArea||(i.groupId===s.BASIC_FILTER_AREA_ID)){v.loadAnnotation();}this._aValueListProvider.push(v);}else if(this._mTokenHandler[e.getId()]&&this._mTokenHandler[e.getId()].parser){this._mTokenHandler[e.getId()].parser.setDefaultOperation('EQ');}};s.prototype._createAnalyticParameters=function(P){var e,i;if(P){i=P.getAllParameterNames();e=P.getEntitySet();if(e){this._createParametersByEntitySetName(e.getQName(),i);}}};s.prototype._createParametersByEntitySetName=function(e,P){var j,k=this._oMetadataAnalyser.getFieldsByEntitySetName(e);for(var i=0;i<k.length;i++){if(P.indexOf(k[i].name)>=0){j=this._createAnalyticParameterMetadata(k[i]);if(j&&j.visible&&!j.hidden){this._aAnalyticalParameters.push(j);}}}};s.prototype._createAnalyticParameterMetadata=function(P){var e,i=sap.ui.comp.ANALYTICAL_PARAMETER_PREFIX;P.filterRestriction='single-value';e=this._createFieldMetadata(P,i);if(e){e.fieldName=i+P.name;e.isMandatory=true;e.isParameter=true;e.visibleInAdvancedArea=true;}else{q.sap.log.error('_createAnalyticParameterMetadata issue with property: '+P.name);}return e;};s.prototype.getAnalyticParameters=function(){return this._aAnalyticalParameters;};s.prototype.getSelectionVariants=function(){return this._aSelectionVariants;};s.prototype.getAnalyticBindingPath=function(){var v,P=[],e=this.getAnalyticParameters();e.forEach(function(i){P.push(i.fieldName);});v=this.getFilledFilterData(P);if(this._oParameterization){return this._createAnalyticBindingPath(e,v);}else{return this._createNonAnalyticBindingPath(e,v);}};s.prototype._createAnalyticBindingPath=function(P,v){var e,i='',j;j=this._getParameterizationRequest(this._oParameterization);if(j){P.forEach(function(k){e=v[k.fieldName];if(!e){e='';}else if(k.type==='Edm.Time'&&e instanceof Date){if(this._oDateFormatSettings&&!this._oDateFormatSettings.UTC){e=new Date(e.valueOf()+e.getTimezoneOffset()*60*1000);}e={__edmType:'Edm.Time',ms:(((e.getHours()*60)+e.getMinutes())*60+e.getSeconds())*1000+e.getMilliseconds()};}else if((k.type!=='Edm.DateTimeOffset')&&this._oDateFormatSettings&&this._oDateFormatSettings.UTC&&e instanceof Date){e=s.getDateInUTCOffset(e);}j.setParameterValue(k.name,e);}.bind(this));i=j.getURIToParameterizationEntry()+'/'+this._oParameterization.getNavigationPropertyToQueryResult();}return i;};s.prototype._createNonAnalyticBindingPath=function(P,v){var e,i='',j='';if(this._oNonAnaParameterization){i='/'+this._oNonAnaParameterization.entitySetName+'(';P.forEach(function(k){e=v[k.fieldName];if(!e){e='';}else if(k.type==='Edm.Time'&&e instanceof Date){e={__edmType:'Edm.Time',ms:(((e.getHours()*60)+e.getMinutes())*60+e.getSeconds())*1000+e.getMilliseconds()};}else if((k.type!=='Edm.DateTimeOffset')&&this._oDateFormatSettings&&this._oDateFormatSettings.UTC&&e instanceof Date){e=s.getDateInUTCOffset(e);}i+=(j+k.name+'='+q.sap.encodeURL(this._oParentODataModel.formatValue(e,k.type)));j=',';}.bind(this));i+=(')/'+this._oNonAnaParameterization.navPropertyName);}return i;};s.prototype._getParameterizationRequest=function(){return this._oParameterization?new sap.ui.model.analytics.odata4analytics.ParameterizationRequest(this._oParameterization):null;};s.prototype._createFieldMetadata=function(e,P){var i,j,k;e.fieldName=this._getFieldName(e);e.fieldNameOData=e.fieldName.replace(s.FIELD_NAME_REGEX,'/');j=this._oAdditionalConfiguration?this._oAdditionalConfiguration.getControlConfigurationByKey(e.fieldName):null;i=q.extend({},e);i.filterRestriction=this._getFilterRestriction(e,j);this._updateValueListMetadata(i,e);i.hasValueHelpDialog=this._hasValueHelpDialog(i,j);i.preventInitialDataFetchInValueHelpDialog=j?j.preventInitialDataFetchInValueHelpDialog:true;i.controlType=this._getControlType(i,j);if(j&&j.displayBehaviour&&j.displayBehaviour!=='auto'){i.displayBehaviour=j.displayBehaviour;}i.isCustomFilterField=!!(j&&j.customControl);i.visibleInAdvancedArea=!!(j&&j.visibleInAdvancedArea);i.label=this._getLabel(e,j);i.isMandatory=this._isMandatory(e,j);i.width=this._getWidth(j);i.isVisible=this._isVisible(j);i.groupId=this._getGroupID(e,j);i.index=this._getIndex(e,j);i.fControlConstructor=this._getControlConstructor(i,P);i.filterType=this._getFilterType(i);i.hasTypeAhead=this._hasTypeAhead(i,e,j);i.customControl=j?j.customControl:undefined;i.ui5Type=this._getType(i);i.fCreateControl=function(w){var x,y;w.control=this._createControl(w);x=this.oModel.getData();y=x[w.fieldName];if(y){this._updateMultiValueControl(w.control,y.items,y.ranges);}}.bind(this);this._applyWidth(i);i.defaultFilterValues=j?j.defaultFilterValues:undefined;if(i.type==='Edm.String'){this._aFilterBarStringFieldNames.push(i.fieldName);}i.conditionType=null;var n=j?j.conditionType:null;if(!n&&this._bUseDateRangeType&&(i.fControlConstructor===b)){n='sap.ui.comp.config.condition.DateRangeType';}if(n){var t='';if(typeof n==='object'){t=n.module;delete n.module;}else{t=n;n=null;}try{t=t.replace(/\\./g,'/');var u=sap.ui.require(t);if(u){this._enhanceConditionTypeInfo(u,t,n,i);}else{k=new Promise(function(R){sap.ui.require([t],function(u){this._enhanceConditionTypeInfo(u,t,n,i);R();}.bind(this));}.bind(this));this._aPromises.push(k);}}catch(v){q.sap.log.error('Module '+t+' could not be loaded');}}else{this._checkMetadataDefaultValue(i);}return i;};s.prototype._requireConditionType=function(e,i,j){var e=e.replace(/\\./g,'/');var k=sap.ui.require(e);if(k){this._enhanceConditionTypeInfo(k,e,i,j);}else{sap.ui.require([e],function(k){this._enhanceConditionTypeInfo(k,e,i,j);}.bind(this));}};s.prototype._enhanceConditionTypeInfo=function(e,i,j,k){var n=e;k.conditionType=new n(k.fieldName,this,k);this._mConditionTypeFields[k.fieldName]=k;if(j&&!this._bUseDateRangeType){k.conditionType.applySettings(j);}this._checkMetadataDefaultValue(k);};s.prototype._getFilterType=function(e){if(e.isDigitSequence){return'numc';}else if(O.isNumeric(e.type)){return'numeric';}else if(e.type==='Edm.DateTime'&&e.displayFormat==='Date'){return'date';}else if(e.type==='Edm.String'){if(e.isCalendarDate){return'stringdate';}return'string';}else if(e.type==='Edm.Boolean'){return'boolean';}else if(e.type==='Edm.Time'){return'time';}else if(e.type==='Edm.DateTimeOffset'){return'datetime';}return undefined;};s.prototype._updateValueListMetadata=function(e,i){e.hasValueListAnnotation=i['sap:value-list']!==undefined;if(e.hasValueListAnnotation){e.hasFixedValues=i['sap:value-list']==='fixed-values';}else if(i['com.sap.vocabularies.Common.v1.ValueList']){e.hasValueListAnnotation=true;e.hasFixedValues=this._oMetadataAnalyser.getValueListSemantics(i['com.sap.vocabularies.Common.v1.ValueList'])==='fixed-values';if(!e.hasFixedValues){e.hasFixedValues=h.isValueListWithFixedValues(i);}}};s.prototype._createBasicSearchFieldMetadata=function(){var e;var R=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');e={};e.filterRestriction=sap.ui.comp.smartfilterbar.FilterType.single;e.name=s.BASIC_SEARCH_FIELD_ID;e.fieldName=s.BASIC_SEARCH_FIELD_ID;e.label=undefined;e.isMandatory=false;e.isVisible=true;e.groupId=s.BASIC_FILTER_AREA_ID;e.index=-1;e.control=new f(this._oSmartFilter.getId()+'-btnBasicSearch',{showSearchButton:true});if(!this._isRunningInValueHelpDialog){e.control.setPlaceholder(R.getText('FILTER_BAR_BSEARCH_PLACE_HOLDER'));}e.control.bindProperty('value',this.sFilterModelName+'>/'+e.fieldName);return e;};s.prototype._applyWidth=function(e){if(e&&e.width&&e.control&&e.control.setWidth&&(typeof e.control.setWidth==='function')){e.control.setWidth(e.width);}};s.prototype._createFieldMetadataForCustomFilterFields=function(e){var i;if(!e||!e.customControl){return undefined;}i={};i.name=e.key;i.fieldName=e.key;i.label=e.label;i.visibleInAdvancedArea=!!(e&&e.visibleInAdvancedArea);i.isVisible=this._isVisible(e);i.groupId=e.groupId;i.isMandatory=this._isMandatory(undefined,e);i.index=e.index;i.width=this._getWidth(e);i.control=e.customControl;i.isCustomFilterField=true;this._applyWidth(i);return i;};s.prototype._getFieldName=function(e){if(!e.parentPropertyName){return e.name;}else{return e.parentPropertyName+'.'+e.name;}};s.prototype._hasValueHelpDialog=function(e,i){var v=true;if(i){if(i.controlType===sap.ui.comp.smartfilterbar.ControlType.dropDownList){v=false;}else if(i.hasValueHelpDialog!==true){v=false;}}if(e&&!e.hasValueListAnnotation){if(e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single||e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){v=false;}}return v;};s.prototype._isVisible=function(e){if(e&&e.isVisible===false){return false;}return true;};s.prototype._getWidth=function(e){if(e&&e.width){return e.width;}return undefined;};s.prototype._isMandatory=function(e,i){if(i&&i.mandatory!==sap.ui.comp.smartfilterbar.MandatoryType.auto){return i.mandatory===sap.ui.comp.smartfilterbar.MandatoryType.mandatory;}if(e){return e.requiredFilterField;}return false;};s.prototype._getFilterRestriction=function(e,i){var j;if(i&&i.filterType&&i.filterType!==sap.ui.comp.smartfilterbar.FilterType.auto){j=i.filterType;}else if(e.filterRestriction==='single-value'){j=sap.ui.comp.smartfilterbar.FilterType.single;}else if(e.filterRestriction==='multi-value'){j=sap.ui.comp.smartfilterbar.FilterType.multiple;}else if(e.filterRestriction==='interval'){j=sap.ui.comp.smartfilterbar.FilterType.interval;}else{j=sap.ui.comp.smartfilterbar.FilterType.auto;}return j;};s.prototype._getControlType=function(e,i){var j;if(i&&i.controlType&&i.controlType!==sap.ui.comp.smartfilterbar.ControlType.auto){j=i.controlType;}else if(e.type==='Edm.DateTime'&&e.displayFormat==='Date'||e.isCalendarDate){j=sap.ui.comp.smartfilterbar.ControlType.date;}else if(e.type==='Edm.DateTimeOffset'){j=sap.ui.comp.smartfilterbar.ControlType.dateTimePicker;}else if(e.hasValueListAnnotation&&e.hasFixedValues){j=sap.ui.comp.smartfilterbar.ControlType.dropDownList;}else if(this._isBooleanWithFixedValuedButWithoutValueListAnnotation(e)){j=sap.ui.comp.smartfilterbar.ControlType.dropDownList;}else{j=sap.ui.comp.smartfilterbar.ControlType.input;}return j;};s.prototype._isBooleanWithFixedValuedButWithoutValueListAnnotation=function(e){if(e.type==='Edm.Boolean'&&!e.hasFixedValues&&!e.hasValueListAnnotation&&(e.filterRestriction==='single')){return true;}return false;};s.prototype._getGroupID=function(e,i){if(i&&i.groupId){return i.groupId;}else if(e&&(e.requiredFilterField||(this._aSelectionFields&&this._aSelectionFields.indexOf(e.fieldNameOData)>-1))){return this._sBasicFilterAreaID;}return this._getGroupIDFromFieldGroup(e);};s.prototype._getGroupIDFromFieldGroup=function(e){var L=0,i=null,G;if(e&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){L=this._aFieldGroupAnnotation.length;while(L--){i=this._aFieldGroupAnnotation[L];if(i&&i.fields&&i.fields.indexOf(e.fieldNameOData)>-1){G=i.groupName;break;}}}return G;};s.prototype._getLabel=function(e,i){if(i&&i.label){return i.label;}return this._getLabelFromFieldGroup(e)||e.fieldLabel||e.fieldName;};s.prototype._getLabelFromFieldGroup=function(e){var L=0,i=null,j;if(e&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){L=this._aFieldGroupAnnotation.length;while(L--){i=this._aFieldGroupAnnotation[L];if(i&&i.fields&&i.fields.indexOf(e.fieldNameOData)>-1){j=i.labels[e.fieldNameOData];break;}}}return j;};s.prototype._getIndex=function(e,i){if(i&&(i.index>=0)){return i.index;}else if(this._aSelectionFields&&this._aSelectionFields.indexOf(e.fieldNameOData)>-1){return this._aSelectionFields.indexOf(e.fieldNameOData);}return this._getIndexFromFieldGroup(e);};s.prototype._getIndexFromFieldGroup=function(e){var L=0,i=null,j;if(e&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){L=this._aFieldGroupAnnotation.length;while(L--){i=this._aFieldGroupAnnotation[L];if(i&&i.fields){j=i.fields.indexOf(e.fieldNameOData);if(j>-1){break;}j=undefined;}}}return j;};s.prototype._getGroupIndex=function(G){if(G&&(G.index||G.index===0)){return G.index;}};s.prototype._getGroupLabel=function(e,G){if(G&&G.label){return G.label;}return e.groupLabel||e.groupName||e.groupEntityName;};s.prototype._hasTypeAhead=function(e,i,j){var H;H=true;if(j){H=j.hasTypeAhead;}else if(i.type!=='Edm.String'){return false;}if(!(e.fControlConstructor===c||e.fControlConstructor===d)){return false;}return H;};s.prototype.getModel=function(){return this.oModel;};s.prototype.getFilterBarViewMetadata=function(){return this._aFilterBarViewMetadata;};s.prototype.getAssociatedValueHelpProviders=function(){return this._aValueHelpDialogProvider;};s.prototype.getAssociatedValueListProviders=function(){return this._aValueListProvider;};s.prototype.getParameters=function(){var P,B=null;if(this.oModel){B=this.oModel.getProperty('/'+s.BASIC_SEARCH_FIELD_ID);}if(this._sBasicSearchFieldName||B){P={custom:{}};if(this._sBasicSearchFieldName){P.custom['search-focus']=this._sBasicSearchFieldName;}P.custom['search']=B||'';}return P;};s.prototype.getFilters=function(e){var i=null;if(this.oModel){i=this.oModel.getData();}return s.generateFilters(e,i,{dateSettings:this._oDateFormatSettings,useContainsAsDefault:this._bUseContainsAsDefault,stringFields:this._aFilterBarStringFieldNames,timeFields:this._aFilterBarTimeFieldNames,dateTimeOffsetValueFields:this._aFilterBarDateTimeFieldNames,viewMetadataData:this._aFilterBarViewMetadata});};s.prototype.getFilterData=function(){return this.oModel?this.oModel.getData():null;};s.prototype.getFilterDataAsString=function(){return this.oModel?this.oModel.getJSON():null;};s.prototype.getFilledFilterData=function(e){var i,j={},k,n,v;i=this.oModel?this.oModel.getData():null;if(i&&e){k=e.length;while(k--){n=e[k];if(n&&n!==s.BASIC_SEARCH_FIELD_ID){v=i[n];if(v&&v.hasOwnProperty('low')){if(v.low){j[n]=v;}}else if(v&&v.hasOwnProperty('items')){if(v.value&&typeof v.value==='string'){v.value=v.value.trim();}if(v.items.length||(v.ranges&&v.ranges.length)||v.value){j[n]=v;}}else if(v){if(typeof v==='string'){v=v.trim();}if(v){j[n]=v;}}}if(k===0){n=s.CUSTOM_FIELDS_MODEL_PROPERTY;v=i[n];if(v){j[n]=v;}}}}return q.extend(true,{},j);};s.prototype.getFilledFilterDataAsString=function(e){return JSON.stringify(this.getFilledFilterData(e));};s.prototype.setFilterData=function(j,R){var e=null,i=null,k=null;if(this.oModel&&j){this._bUpdatingFilterData=true;try{if(R){this._createInitialModel(false);}e=this._parseFilterData(j,R);if(e){this.oModel.setData(e,true);i=[];var n=arguments[2];if(n){i.push(n);}for(k in e){i.push(k);}this._handleFilterDataUpdate(i);}}finally{this._bUpdatingFilterData=false;}}};s.prototype.setFilterDataAsString=function(j,R){if(j){this.setFilterData(JSON.parse(j),R);}};s.prototype._parseFilterData=function(j,R){return s.parseFilterData(this.oModel.getData(),j,{stringDateFields:this._aFilterBarStringDateFieldNames,dateFields:this._aFilterBarDateFieldNames,timeFields:this._aFilterBarTimeFieldNames,timeIntervalFields:this._aFilterBarTimeIntervalFieldNames,dateTimeMultiValueFields:this._aFilterBarDateTimeMultiValueFieldNames,conditionTypeFields:this._mConditionTypeFields,dateTimeOffsetValueFields:this._aFilterBarDateTimeFieldNames,viewMetadataData:this._aFilterBarViewMetadata,filterProvider:this},R);};s.prototype._handleFilterDataUpdate=function(e){var i=0,j,k,n;if(this._aFilterBarMultiValueFieldMetadata){i=this._aFilterBarMultiValueFieldMetadata.length;while(i--){if(!k){k=this.oModel.getData();}if(k){j=this._aFilterBarMultiValueFieldMetadata[i];if(e.indexOf(j.fieldName)>-1){n=k[j.fieldName];if(n){this._updateMultiValueControl(j.control,n.items,n.ranges,j);}}}}this._updateConditionTypeFields();}};s.prototype.clear=function(){this._createInitialModel(false);};s.prototype.reset=function(){this._createInitialModel(true);};s.prototype._initializeConditionTypeFields=function(){var e=function(i){this.setPending(this.isPending());}.bind(this);for(var n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.initialize(this.oModel.getData()[n]);if(this._mConditionTypeFields[n].conditionType.getAsync()){this._mConditionTypeFields[n].conditionType.attachPendingChange(e);}}};s.prototype._updateConditionTypeFields=function(){var e=this._oldData;var i=this.oModel.getData();this._oldData=q.extend(true,{},i);if(e!==undefined){var u=[],n;for(n in i){var N=JSON.stringify(i[n]);var j=JSON.stringify(e[n]);if(N!==j){u.push(n);}}if(u.length>0){for(n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.providerDataUpdated(u,i);}}}};s.prototype._clearConditionTypeFields=function(){var e=this.oModel.getData();for(var n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.initialize(e[n]);}};s.prototype._validateConditionTypeFields=function(){var i=false;for(var n in this._mConditionTypeFields){var v=this._mConditionTypeFields[n].conditionType.validate();if(!v&&!i){i=true;}}return i;};s._getFieldMetadata=function(v,e){var i=null;v.some(function(G){if(G&&G.fields){G.fields.some(function(j){if(j&&j.fieldName===e){i=j;}return i!==null;});}return i!==null;});return i;};s.generateFilters=function(e,i,j){var k=[],A=null,n=null,t=null,u=null,v=s.FIELD_NAME_REGEX,w=null,x,y,z=null,L=0,B=0;var G,H,K,N,U,P,Q,R,W,X=[];if(j){G=j.dateSettings;H=j.useContainsAsDefault;K=j.stringFields;N=j.timeFields;Q=j.dateTimeOffsetValueFields;X=j.viewMetadataData||[];}if(e&&i){B=e.length;while(B--){P=false;R=false;u=e[B];W=s._getFieldMetadata(X,u);if(u&&u!==s.BASIC_SEARCH_FIELD_ID){U=false;if(H&&K){if(K.indexOf(u)>-1){U=true;}}else if(N&&N.indexOf(u)>-1){P=true;}else if(Q&&Q.indexOf(u)>-1){R=true;}w=i[u];u=u.replace(v,'/');if(w&&w.hasOwnProperty('low')){if(w.low&&w.high){x=w.low;y=w.high;if(!R&&G&&G.UTC&&x instanceof Date&&y instanceof Date){x=s.getDateInUTCOffset(x);y=s.getDateInUTCOffset(y);}k.push(new F(u,sap.ui.model.FilterOperator.BT,x,y));}else if(w.low){if(w.low instanceof Date){x=w.low;if(!R&&G&&G.UTC){x=s.getDateInUTCOffset(x);}k.push(new F(u,sap.ui.model.FilterOperator.EQ,x));}else if(typeof w.low==='string'){if(R){z=m.parseDateTimeOffsetInterval(w.low);if(z){var Y=sap.ui.core.format.DateFormat.getDateTimeInstance({UTC:false});z[0]=Y.parse(z[0]);if(z.length===2){z[1]=Y.parse(z[1]);}}}else{z=m.parseFilterNumericIntervalData(w.low);}if(z&&z.length===2){k.push(new F(u,sap.ui.model.FilterOperator.BT,z[0],z[1]));}else{k.push(new F(u,U?sap.ui.model.FilterOperator.Contains:sap.ui.model.FilterOperator.EQ,w.low));}}}}else if(w&&w.hasOwnProperty('items')){A=[];t=[];n=null;if(w&&w.hasOwnProperty('ranges')){z=w.ranges;L=z.length;while(L--){x=z[L].value1;y=z[L].value2;if(P){if(x instanceof Date){x=m.getEdmTimeFromDate(x);}if(y instanceof Date){y=m.getEdmTimeFromDate(y);}}else if(W&&W.isCalendarDate){x=W.ui5Type.parseValue(x);y=W.ui5Type.parseValue(y);}else if(!R&&G&&G.UTC){if(x instanceof Date){x=s.getDateInUTCOffset(x);}if(y instanceof Date){y=s.getDateInUTCOffset(y);}}if(z[L].exclude){if(z[L].operation===sap.ui.model.FilterOperator.EQ){t.push(new F(u,sap.ui.model.FilterOperator.NE,x));}}else{if(z[L].operation===sap.ui.model.FilterOperator.BT){A.push(new F(u,z[L].operation,x,y));}else{A.push(new F(u,z[L].operation,x));}}}if(t.length){n=new F(t,true);}}z=w.items;L=z.length;while(L--){A.push(new F(u,sap.ui.model.FilterOperator.EQ,z[L].key));}if(W&&(W.fControlConstructor!==M)){if(w.value||w.value===0||w.value===false){if(typeof w.value==='string'){w.value=w.value.trim();}if(w.value||w.value===0||w.value===false){A.push(new F(u,U?sap.ui.model.FilterOperator.Contains:sap.ui.model.FilterOperator.EQ,w.value));}}}if(A.length){if(n){k.push(new F([new F(A,false),n],true));}else{k.push(new F(A,false));}}else if(n){k.push(n);}}else if(w||w===0||w===false){if(typeof w==='string'){w=w.trim();}if(w&&w instanceof Date){if(P){w=m.getEdmTimeFromDate(w);}else if(!R&&G&&G.UTC){w=s.getDateInUTCOffset(w);}}if(w||w===0||w===false){k.push(new F(u,U?sap.ui.model.FilterOperator.Contains:sap.ui.model.FilterOperator.EQ,w));}}}}}return(k.length>1)?[new F(k,true)]:k;};s.parseFilterData=function(e,j,k,R){var n={},t=null,u=null,v=null,N,w,i,L,x,y,z,A,B,G,H,K,P,Q;if(k){y=k.stringDateFields;z=k.dateFields;A=k.timeFields;B=k.timeIntervalFields;G=k.dateTimeMultiValueFields;t=k.conditionTypeFields||{};H=k.dateTimeOffsetValueFields;K=k.viewMetadataData||[];Q=k.filterProvider||null;}if(!y){y=[];}if(!z){z=[];}if(!A){A=[];}if(!B){B=[];}if(!G){G=[];}if(!H){H=[];}if(e&&j){w=q.extend({},j,true);for(u in w){P=s._getFieldMetadata(K,u);if(e.hasOwnProperty(u)&&u!==s.CUSTOM_FIELDS_MODEL_PROPERTY){v=e[u];N=w[u];if(u in t){if('conditionTypeInfo'in N||(!('conditionTypeInfo'in N)&&N.ranges)){t[u].conditionType.initialize(N);}}else if(v&&v.hasOwnProperty('low')){n[u]=N;if(N){if(N.low&&N.high){if((z.indexOf(u)>-1)||(A.indexOf(u)>-1)){if(!(N.low instanceof Date)){n[u].low=new Date(N.low);}if(!(N.high instanceof Date)){n[u].high=new Date(N.high);}}else if(Q&&P&&(H.indexOf(u)>-1)){n[u].low=P.ui5Type.formatValue(N.low,'string')+'-'+P.ui5Type.formatValue(N.high,'string');n[u].high=null;}else if(y.indexOf(u)===-1){n[u].low=N.low+'-'+N.high;n[u].high=null;}}else if((N.low||N.value)&&!N.high){if(!N.low&&N.value){N.low=N.value;}if((z.indexOf(u)>-1||A.indexOf(u)>-1)&&!(N.low instanceof Date)){n[u].low=new Date(N.low);}else{n[u].low=N.low;}n[u].high=null;}}}else if(v&&v.hasOwnProperty('items')){if(N&&(N.items||N.ranges)){if(N.ranges&&N.ranges.length){if(B.indexOf(u)>-1){L=N.ranges.length;for(i=0;i<L;i++){x=N.ranges[i];if(!x.exclude&&(x.operation==='EQ'||x.operation==='BT')){break;}x=null;}if(x){if(x.value1&&typeof x.value1==='string'){x.value1=new Date(x.value1);}if(x.value2&&typeof x.value2==='string'){x.value2=new Date(x.value2);}n[u]={ranges:[x],items:[],value:''};}continue;}else if(z.indexOf(u)>-1||A.indexOf(u)>-1||H.indexOf(u)>-1){L=N.ranges.length;for(i=0;i<L;i++){x=N.ranges[i];if(x.value1&&typeof x.value1==='string'){x.value1=new Date(x.value1);}if(x.value2&&typeof x.value2==='string'){x.value2=new Date(x.value2);}}}else if((N.ranges.length===1)&&(N.ranges[0].operation==='EQ')&&!N.ranges[0].value1&&(typeof N.ranges[0].value1==='string')){continue;}}n[u]=N;if(!R&&n[u].ranges){for(i=0;i<n[u].ranges.length;i++){n[u].ranges[i].tokenText=null;}}}else if(typeof N==='string'||typeof N==='number'||N instanceof Date){if(N&&(z.indexOf(u)>-1||A.indexOf(u)>-1)){if(typeof N==='string'){N=new Date(N);}n[u]={ranges:[{'exclude':false,'operation':'EQ','keyField':u,'value1':N,'value2':null}],items:[],value:''};}else{n[u]={value:N,items:[]};}}}else{n[u]=null;if(typeof N==='string'||typeof N==='boolean'||typeof N==='number'||N instanceof Date){if(typeof N==='string'&&(z.indexOf(u)>-1||A.indexOf(u)>-1||H.indexOf(u)>-1)){n[u]=new Date(N);}else{n[u]=N;}}else if(N&&(N.value||N.value===0||N.value===false)){n[u]=N.value;}else if(N&&N.items&&N.items.length){n[u]=N.items[0].key;}else if(N&&N.ranges&&N.ranges.length){L=N.ranges.length;for(i=0;i<L;i++){x=N.ranges[i];if(!x.exclude&&x.operation==='EQ'){break;}x=null;}if(x&&x.value1){if(typeof x.value1==='string'&&(z.indexOf(u)>-1||A.indexOf(u)>-1||H.indexOf(u)>-1)){n[u]=new Date(x.value1);}else{n[u]=x.value1;}}}}}else if(R||u===s.CUSTOM_FIELDS_MODEL_PROPERTY){n[u]=w[u];}}}return n;};s.getDateInUTCOffset=function(e){return new Date(e.valueOf()-e.getTimezoneOffset()*60*1000);};s.prototype.destroy=function(){var e=function(A){var i;if(A){i=A.length;while(i--){A[i].destroy();}}};this._oParentODataModel=null;this._aAnalyticalParameters=null;this._aFilterBarViewMetadata=null;this._oParameterization=null;this._oNonAnaParameterization=null;this._aFilterBarFieldNames=null;this._aFilterBarStringDateFieldNames=null;this._aFilterBarDateFieldNames=null;this._aFilterBarTimeFieldNames=null;this._aFilterBarTimeIntervalFieldNames=null;this._aFilterBarDateTimeMultiValueFieldNames=null;this._aFilterBarStringFieldNames=null;this._aFilterBarMultiValueFieldMetadata=null;this._aFilterBarDateTimeFieldNames=null;this._aFieldGroupAnnotation=null;this._aSelectionFields=null;this._aSelectionVariants=null;if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;e(this._aValueHelpDialogProvider);this._aValueHelpDialogProvider=null;e(this._aValueListProvider);this._aValueListProvider=null;if(this._mTokenHandler){for(var H in this._mTokenHandler){var j=this._mTokenHandler[H];if(j.parser){j.parser.destroy();j.parser=null;}}delete this._mTokenHandler;}this.oResourceBundle=null;this.sIntervalPlaceholder=null;this.sDefaultDropDownDisplayBehaviour=null;this.sDefaultTokenDisplayBehaviour=null;this._oSmartFilter=null;if(this._oEventProvider){if(this._oEventProvider.destroy){this._oEventProvider.destroy();}this._oEventProvider=null;}for(var n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.destroy();}this._mConditionTypeFields=null;if(this.oModel){this.oModel.destroy();this.oModel=null;}this._aPromises=[];this.bIsDestroyed=true;};return s;},true);\n",
	"sap/ui/comp/smartfilterbar/GroupConfiguration.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var G=E.extend('sap.ui.comp.smartfilterbar.GroupConfiguration',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},index:{type:'any',group:'Misc',defaultValue:undefined},label:{type:'any',group:'Misc',defaultValue:undefined}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});G.prototype.setLabel=function(L){this.setProperty('label',L);this.fireChange({propertyName:'label'});};return G;},true);\n",
	"sap/ui/comp/smartfilterbar/SelectOption.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element','sap/ui/model/FilterOperator'],function(q,l,E,F){'use strict';var S=E.extend('sap.ui.comp.smartfilterbar.SelectOption',{metadata:{library:'sap.ui.comp',properties:{sign:{type:'sap.ui.comp.smartfilterbar.SelectOptionSign',group:'Misc',defaultValue:'I'},operator:{type:'sap.ui.model.FilterOperator',group:'Misc',defaultValue:'EQ'},low:{type:'string',group:'Misc',defaultValue:null},high:{type:'string',group:'Misc',defaultValue:null}}}});S.SIGN=sap.ui.comp.smartfilterbar.SelectOptionSign;S.OPERATOR=F;return S;},true);\n",
	"sap/ui/comp/smartfilterbar/SmartFilterBar.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/MessageBox','sap/ui/comp/filterbar/FilterBar','sap/ui/comp/filterbar/FilterGroupItem','sap/ui/comp/filterbar/FilterItem','sap/ui/comp/library','./AdditionalConfigurationHelper','./ControlConfiguration','./FilterProvider','./GroupConfiguration','sap/ui/comp/util/FormatUtil','sap/ui/comp/smartvariants/PersonalizableInfo','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/comp/odata/ODataModelUtil'],function(q,M,F,a,b,l,A,C,c,G,d,P,S,O){'use strict';var f=l.smartfilterbar.FilterType;var g=F.extend('sap.ui.comp.smartfilterbar.SmartFilterBar',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartfilterbar/SmartFilterBar.designtime',properties:{entityType:{type:'string',group:'Misc',defaultValue:null},entitySet:{type:'string',group:'Misc',defaultValue:null},resourceUri:{type:'string',group:'Misc',defaultValue:null},basicSearchFieldName:{type:'string',group:'Misc',defaultValue:null},enableBasicSearch:{type:'boolean',group:'Misc',defaultValue:false},liveMode:{type:'boolean',group:'Misc',defaultValue:false},showMessages:{type:'boolean',group:'Misc',defaultValue:true},considerAnalyticalParameters:{type:'boolean',group:'Misc',defaultValue:false},useDateRangeType:{type:'boolean',group:'Misc',defaultValue:null},suppressSelection:{type:'boolean',group:'Misc',defaultValue:false},considerSelectionVariants:{type:'boolean',group:'Misc',defaultValue:false},defaultSelectionVariantName:{type:'string',group:'Misc',defaultValue:null},useProvidedNavigationProperties:{type:'boolean',group:'Misc',defaultValue:false},navigationProperties:{type:'string',group:'Misc',defaultValue:''}},associations:{smartVariant:{type:'sap.ui.comp.smartvariants.SmartVariantManagement',multiple:false}},aggregations:{controlConfiguration:{type:'sap.ui.comp.smartfilterbar.ControlConfiguration',multiple:true,singularName:'controlConfiguration'},groupConfiguration:{type:'sap.ui.comp.smartfilterbar.GroupConfiguration',multiple:true,singularName:'groupConfiguration'}},events:{pendingChange:{pendingValue:{type:'boolean'}}}},renderer:function(r,o){F.getMetadata().getRenderer().render(r,o);}});g.LIVE_MODE_INTERVAL=300;g.SELECTION_VARIANT_KEY_PREFIX='#';g.prototype.init=function(){this._bCreateFilterProviderCalled=false;this._aFilterBarViewMetadata=null;this.isRunningInValueHelpDialog=false;F.prototype.init.apply(this);sap.ui.getCore().getMessageManager().registerObject(this,true);};g.prototype._initializeMetadata=function(){if(!this.bIsInitialised){O.handleModelInit(this,this._onMetadataInitialised);}};g.prototype._onMetadataInitialised=function(){var r,m,e,E;this._bMetaModelLoadAttached=false;if(!this.bIsInitialised&&!this._bCreateFilterProviderCalled){m=this.getModel();r=this.getResourceUri();e=this.getEntityType();E=this.getEntitySet();if((m||r)&&(e||E)){this._bCreateFilterProviderCalled=true;this._createFilterProvider(m,r,e,E).then(function(o){if(o){this._oFilterProvider=o;this._aFilterBarViewMetadata=this._oFilterProvider.getFilterBarViewMetadata();if(this._aFilterBarViewMetadata){this._attachAdditionalConfigurationChanged();this.bIsInitialised=true;this.setModel(this._oFilterProvider.oModel,this._oFilterProvider.sFilterModelName);this.registerGetFiltersWithValues(this.getFiltersWithValues.bind(this));this.registerFetchData(this.getFilterDataAsStringForVariant.bind(this,true));this.registerApplyData(function(j){this.setFilterDataAsStringFromVariant(j,true);}.bind(this));this._initializeVariantManagement();}this._oFilterProvider.attachPendingChange(function(h){this.firePendingChange({pendingValue:h.getParameter('pending')});}.bind(this));}}.bind(this));}}};g.prototype.getModelData=function(){var D=null;if(this._oFilterProvider){D=this._oFilterProvider.getModel().getData();}return D;};g.prototype.getFilterBarViewMetadata=function(){return this._aFilterBarViewMetadata;};g.prototype.getAnalyticalParameters=function(){return this._oFilterProvider?this._oFilterProvider.getAnalyticParameters():[];};g.prototype.getSelectionVariants=function(){var s=null;if(this._oFilterProvider){s=this._oFilterProvider.getSelectionVariants();if(Object.keys(s).length<1){s=null;}}return s;};g.prototype._createFilterProvider=function(m,r,e,E){return c._createFilterProvider({basicSearchFieldName:this.getBasicSearchFieldName(),enableBasicSearch:this.getEnableBasicSearch(),entityType:e,entitySet:E,serviceUrl:r,isRunningInValueHelpDialog:this.isRunningInValueHelpDialog,model:m,additionalConfiguration:this.getAdditionalConfiguration(),defaultDropDownDisplayBehaviour:this.data('defaultDropDownDisplayBehaviour'),defaultTokenDisplayBehaviour:this.data('defaultTokenDisplayBehaviour'),dateFormatSettings:this.data('dateFormatSettings'),useContainsAsDefaultFilter:this.data('useContainsAsDefaultFilter'),smartFilter:this,considerAnalyticalParameters:this.getConsiderAnalyticalParameters(),useDateRangeType:this.getUseDateRangeType(),considerSelectionVariants:this.getConsiderSelectionVariants(),considerNavigations:this.getUseProvidedNavigationProperties()?this._createArrayFromString(this.getNavigationProperties()):null});};g.prototype._createArrayFromString=function(L){if(!L){return[];}var e=[];var r=L.split(',');r.forEach(function(s){if(s!==''){e.push(s.trim());}});return e;};g.prototype._attachAdditionalConfigurationChanged=function(){var e,h,i,j;h=this.getGroupConfiguration();j=h.length;for(i=0;i<j;i++){h[i].attachChange(this._handleGroupConfigurationChanged.bind(this));}e=this.getControlConfiguration();j=e.length;for(i=0;i<j;i++){e[i].attachChange(this._handleControlConfigurationChanged.bind(this));}};g.prototype._handleControlConfigurationChanged=function(e){var p,o,h,k,v;p=e.getParameter('propertyName');o=e.oSource;if(!o){return;}k=o.getKey();h=this._getFilterItemByName(k);if(!h){this._handleControlConfigurationChangedForDelayedFilterItems(k,o,p);return;}if(p==='visible'){v=o.getVisible();h.setVisible(v);}else if(p==='label'){v=o.getLabel();h.setLabel(v);}else if(p==='visibleInAdvancedArea'){v=o.getVisibleInAdvancedArea();if(h.setVisibleInAdvancedArea){h.setVisibleInAdvancedArea(v);}}};g.prototype._handleControlConfigurationChangedForDelayedFilterItems=function(k,o,p){var v,e=null;if(this._aFilterBarViewMetadata){this._aFilterBarViewMetadata.some(function(h){h.fields.some(function(i){if(i.fieldName===k){e=i;}return e?true:false;});return e?true:false;});}if(e){if(p==='visible'){v=o.getVisible();e.isVisible=v;}else if(p==='label'){v=o.getLabel();e.label=v;}else if(p==='visibleInAdvancedArea'){v=o.getVisibleInAdvancedArea();e.visibleInAdvancedArea=v;}}};g.prototype._handleGroupConfigurationChanged=function(e){var p,o;p=e.getParameter('propertyName');o=e.oSource;if(p==='label'){this._handleGroupConfigurationLabelChanged(o);}};g.prototype._handleGroupConfigurationLabelChanged=function(o){var e,k,L;if(!o){return;}L=o.getLabel();k=o.getKey();e=this._getFilterGroupItemByGroupName(k);if(e){e.setGroupTitle(L);}else{this._handleGroupConfigurationLabelChangedForDelayedFilterItems(k,L);}};g.prototype._handleGroupConfigurationLabelChangedForDelayedFilterItems=function(k,L){var o=null;if(this._aFilterBarViewMetadata){this._aFilterBarViewMetadata.some(function(i){if(i.groupName===k){o=i;}return o?true:false;});}if(o){o.groupLabel=L;}};g.prototype._getFilterItemByName=function(n){return this.determineFilterItemByName(n);};g.prototype._getFilterGroupItemByGroupName=function(n){return this.determineFilterItemByName(n);};g.prototype.getAdditionalConfiguration=function(){return new A(this.getControlConfiguration(),this.getGroupConfiguration());};g.prototype.setEntityType=function(e){this.setProperty('entityType',e);this._initializeMetadata();return this;};g.prototype.setResourceUri=function(r){this.setProperty('resourceUri',r);this._initializeMetadata();return this;};g.prototype.propagateProperties=function(){F.prototype.propagateProperties.apply(this,arguments);this._initializeMetadata();};g.prototype._getFilterInformation=function(){var o,i,j,L=0,e=0,h,k=[],m;if(this._aFilterBarViewMetadata){L=this._aFilterBarViewMetadata.length;for(i=0;i<L;i++){o=this._aFilterBarViewMetadata[i];h=o.fields;e=h.length;for(j=0;j<e;j++){m=h[j];if(m.name===c.BASIC_SEARCH_FIELD_ID){this.setBasicSearch(m.control);this._attachToBasicSearch(m.control);continue;}else if(o.groupName===c.BASIC_FILTER_AREA_ID){this._createFieldInAdvancedArea({groupName:F.INTERNAL_GROUP,groupLabel:''},m);}else{this._createFieldInAdvancedArea(o,m);}k.push(m);}}var p=this.getAnalyticalParameters();L=p.length;for(i=0;i<L;i++){m=p[i];this._createAnalyticParameter(m);k.push(m);}}return k;};g.prototype._validateState=function(){var e=null,L,o,i=false;e=this.getAllFilterItems(true);if(e){L=e.length;while(L--){o=this.determineControlByFilterItem(e[L],true);if(o){if(o.__bValidatingToken){this.bIsSearchPending=true;i=true;break;}else if(o.getValueState&&o.getValueState()===sap.ui.core.ValueState.Error&&!o.data('__mandatoryEmpty')){i=true;break;}}}}if(this._oFilterProvider){return!i&&!this._oFilterProvider._validateConditionTypeFields();}else{return!i;}};g.prototype._isDateRangeTypeFilter=function(s){if(this._oFilterProvider&&this._oFilterProvider._mConditionTypeFields[s]){return true;}return false;};g.prototype._specialControls=function(o,s){if(o.setValue){if(this._isDateRangeTypeFilter(s)){return true;}else{if(o.isA('sap.m.DatePicker')){return true;}}}return false;};g.prototype._clearErroneusControlValues=function(){var e=null,L,o,v;e=this.getAllFilterItems(true);if(e){L=e.length;while(L--){o=this.determineControlByFilterItem(e[L],true);if(o){if(o.getValueState&&o.getValueState()===sap.ui.core.ValueState.Error){v=o.getBinding('value');if(v&&!this._specialControls(o,e[L].getName())){v.checkUpdate(true);}else if(o.setValue){o.setValue('');o.setValueState(sap.ui.core.ValueState.None);}}}}}};g.prototype._attachToBasicSearch=function(B){if(B){B.attachSearch(function(e){if(e&&e.getParameter('clearButtonPressed')){return;}if(!this.isDialogOpen()){this.search();}}.bind(this));B.attachLiveChange(this._onChange.bind(this));}};g.prototype._onLiveChange=function(e){var o=e.getSource();if(o.data('__validationError')&&!o.getValue()){o.data('__validationError',null);o.setValueState(sap.ui.core.ValueState.None);}};g.prototype._onChange=function(e){var o=e.getSource();if(o.data('__mandatoryEmpty')){o.data('__mandatoryEmpty',null);o.setValueState(sap.ui.core.ValueState.None);}if(o.data('__validationError')&&!o.getValue()){o.data('__validationError',null);o.setValueState(sap.ui.core.ValueState.None);}if(this._oFilterProvider._bUpdatingFilterData||this._oFilterProvider._bCreatingInitialModel){return;}if(!o||(o&&!o.__bValidatingToken)){this.fireFilterChange(e);this._oFilterProvider._updateConditionTypeFields(e.getParameter('filterChangeReason'));}else{this._filterSetInErrorState(o);}if(this.isLiveMode()){this.search();}};g.prototype._handleChange=function(o){if(o){if(o.attachChange){o.attachChange(this._onChange.bind(this));}if(o.attachLiveChange){o.attachLiveChange(this._onLiveChange.bind(this));}}};g.prototype._handleEnter=function(o){if(this.isLiveMode()){return;}o.attachBrowserEvent('keydown',function(e){if(e.which===13){o.__bSuggestInProgress=(o._oSuggestionPopup&&o._oSuggestionPopup.isOpen());}});o.attachBrowserEvent('keyup',function(e){if(e.which===13&&!o.__bSuggestInProgress){this.search();}}.bind(this));};g.prototype._createFilterFieldControl=function(o){if(o.conditionType){o.control=o.conditionType.initializeFilterItem();}else if(!o.control&&o.fCreateControl){o.fCreateControl(o);delete o.fCreateControl;}this._handleEnter(o.control);this._handleChange(o.control);};g.prototype._createAnalyticParameter=function(p){p.factory=function(){this._createFilterFieldControl(p);if(!p.control){return;}var o=new a({labelTooltip:p.quickInfo,name:p.fieldName,mandatory:p.isMandatory,visible:p.isVisible,control:p.control,hiddenFilter:false});this._setLabel(o,p.label);this._addParameter(o);}.bind(this);p.groupName=F.INTERNAL_GROUP;return p;};g.prototype._createFieldInAdvancedArea=function(o,e){e.factory=function(){this._createFilterFieldControl(e);var h=new a({labelTooltip:e.quickInfo,name:e.fieldName,groupName:o.groupName,groupTitle:o.groupLabel,mandatory:e.isMandatory,visible:e.isVisible,visibleInAdvancedArea:e.visibleInAdvancedArea||(o.groupName===F.INTERNAL_GROUP),control:e.control,hiddenFilter:e.hiddenFilter});if(e.isCustomFilterField){h.data('isCustomField',true);}this._setLabel(h,e.label);this.addFilterGroupItem(h);}.bind(this);e.groupName=o.groupName;e.groupTitle=o.groupLabel;return e;};g.prototype._setLabel=function(o,L){if(L.match(/{@i18n>.+}/gi)){o.bindProperty('label',L.substring(1,L.length-1));}else{o.setLabel(L);}};g.prototype._logAccessWhenNotInitialized=function(m){if(!this.bIsInitialised){q.sap.log.error('SmartFilterBar.'+m+': called before the SmartFilterBar is initialized');}};g.prototype.ensureLoadedValueHelp=function(s){this._logAccessWhenNotInitialized('ensureLoadedValueHelp');if(this._oFilterProvider){this._oFilterProvider.getAssociatedValueHelpProviders().some(function(v){if(v.sFieldName===s){if(!v._bValueListRequested){v.loadAnnotation();}return true;}});}};g.prototype.ensureLoadedValueList=function(s){if(this._oFilterProvider){this._oFilterProvider.getAssociatedValueListProviders().some(function(v){if(v.sFieldName===s){if(!v._bValueListRequested){v.loadAnnotation();}return true;}});}};g.prototype.ensureLoadedValueHelpList=function(s){this.ensureLoadedValueHelp(s);this.ensureLoadedValueList(s);};g.prototype.getFilters=function(e){this._logAccessWhenNotInitialized('getFilters');if(!e||!e.length){e=this._getVisibleFieldNames(true);}return this._oFilterProvider?this._oFilterProvider.getFilters(e):[];};g.prototype.getParameters=function(){this._logAccessWhenNotInitialized('getParameters');return this._oFilterProvider?this._oFilterProvider.getParameters():{};};g.prototype.getAnalyticBindingPath=function(){var B='';this._logAccessWhenNotInitialized('getAnalyticBindingPath');if(this._oFilterProvider){B=this._oFilterProvider.getAnalyticBindingPath();}return B;};g.prototype.getParameterBindingPath=function(){return this.getAnalyticBindingPath();};g.prototype.getControlByKey=function(k){this._logAccessWhenNotInitialized('getControlByKey');return this.determineControlByName(k);};g.prototype._getVisibleFieldNames=function(i){var e=[],v=this.getAllFilterItems(true),L=v.length,I;L=v.length;while(L--){I=v[L];if(I){if(i&&I._isParameter()){continue;}e.push(I.getName());}}return e;};g.prototype.getFilterData=function(e){var D=null;this._logAccessWhenNotInitialized('getFilterData');if(this._oFilterProvider){if(e){D=this._oFilterProvider.getFilterData();}else{D=this._oFilterProvider.getFilledFilterData(this._getVisibleFieldNames());}}return D;};g.prototype._checkHasValueData=function(o){if(o){if(typeof o==='boolean'){return o;}else if(typeof o==='string'){if(o.toLowerCase()==='true'){return true;}}}return false;};g.prototype._checkForValues=function(D,o,e){var v=null;if(D&&o&&e){if(!o.data('isCustomField')){v=D[o.getName()];}else{var h=e.data('hasValue');if((h!==undefined)&&(h!=null)){return this._checkHasValueData(h);}else{if(e.getValue){if(e.getValue()){return true;}}if(e.getSelectedKey){if(e.getSelectedKey()){return true;}}if(e.getSelectedKeys){if(e.getSelectedKeys().length>0){return true;}}}}}return v?true:false;};g.prototype.getFiltersWithValues=function(){var e=[];this._logAccessWhenNotInitialized('getFiltersWithValues');var h=this.getAllFilterItems(true),o,D=this.getFilterData(),L=0,i;if(h&&D){L=h.length;while(L--){o=h[L];i=this.determineControlByFilterItem(o,true);if(this._checkForValues(D,o,i)){e.push(o);}}}return e.reverse();};g.prototype.getFilterDataAsStringForVariant=function(e){var j={},D=this._oFilterProvider._aFilterBarDateTimeFieldNames;if(D.length>0){j=q.extend(true,j,this.getFilterData(e));D.forEach(function(s){var v,o,h=c._getFieldMetadata(this._aFilterBarViewMetadata,s);if(h&&(h.type==='Edm.DateTimeOffset')){o=j[s];if(o&&o.low){if(h.filterRestriction===f.interval){v=d.parseDateTimeOffsetInterval(o.low);if(v&&(v.length==2)){o.low=h.ui5Type.parseValue(v[0],'string');o.high=h.ui5Type.parseValue(v[1],'string');}}}}}.bind(this));return JSON.stringify(j);}else{return this.getFilterDataAsString(e);}};g.prototype.getFilterDataAsString=function(e){var D=null;this._logAccessWhenNotInitialized('getFilterDataAsString');if(this._oFilterProvider){if(e){D=this._oFilterProvider.getFilterDataAsString();}else{D=this._oFilterProvider.getFilledFilterDataAsString(this._getVisibleFieldNames());}}return D;};g.prototype.setFilterDataAsStringFromVariant=function(j,r){var J,D=this._oFilterProvider._aFilterBarDateTimeFieldNames;if(j){if(D.length>0){J=JSON.parse(j);D.forEach(function(s){var o,e=c._getFieldMetadata(this._aFilterBarViewMetadata,s);if(e&&(e.type==='Edm.DateTimeOffset')){o=J[s];if(o&&(e.filterRestriction===f.multiple)||(e.filterRestriction===f.auto)){if(o.ranges){for(var i=0;i<o.ranges.length;i++){delete o.ranges[i].tokenText;}}}}}.bind(this));this.setFilterData(J,r);}else{this.setFilterDataAsString(j,r);}}};g.prototype.setFilterData=function(j,r){this._logAccessWhenNotInitialized('setFilterData');if(this._oFilterProvider){this._oFilterProvider.setFilterData(j,r);}if(j&&(Object.keys(j).length===1)&&j._CUSTOM){return;}this.fireFilterChange({afterFilterDataUpdate:true});};g.prototype.setFilterDataAsString=function(j,r){if(j){this.setFilterData(JSON.parse(j),r);}};g.prototype.fireClear=function(){this._clearFilterFields();this.fireEvent('clear',arguments);};g.prototype._clearFilterFields=function(){if(this._oFilterProvider){this._oFilterProvider.clear();this._clearErroneusControlValues();}this.fireFilterChange({afterFilterDataUpdate:true});};g.prototype.fireReset=function(){this._resetFilterFields();this.fireEvent('reset',arguments);};g.prototype._resetFilterFields=function(){if(this._oFilterProvider){this._oFilterProvider.reset();this._clearErroneusControlValues();}this.fireFilterChange({afterFilterDataUpdate:true});};g.prototype.triggerSearch=function(D){if(this.getSuppressSelection()){return;}this._clearDelayedSearch();this._iDelayedSearchId=q.sap.delayedCall(D||0,this,'_search');};g.prototype.search=function(s){if(this.getSuppressSelection()){return undefined;}this._logAccessWhenNotInitialized('search');var L=this.isLiveMode();if(s&&!L){return this._search();}else{this.triggerSearch(L?g.LIVE_MODE_INTERVAL:0);}return true;};g.prototype._search=function(){var p=[],o={},e=true,i=false,E;var I=this.verifySearchAllowed();if(I.hasOwnProperty('pending')){if(this._iDelayedSearchId&&!this.getSuppressSelection()){this.triggerSearch();}return undefined;}else if(I.hasOwnProperty('error')){e=false;i=true;}else if(I.hasOwnProperty('mandatory')){e=false;}if(this.isPending()&&!this._bIsPendingChangeAttached){var h=function(j){if(j.getParameter('pendingValue')===false){this.detachPendingChange(h);this._bIsPendingChangeAttached=false;this.triggerSearch();}}.bind(this);this._bIsPendingChangeAttached=true;this.attachPendingChange(h);return undefined;}this._clearDelayedSearch();if(e){if(this._isTablet()&&this.getUseToolbar()&&!this.getAdvancedMode()){this.setFilterBarExpanded(false);}o.selectionSet=this._retrieveCurrentSelectionSet(false,true);p.push(o);this.fireSearch(p);}else{if(!this._oResourceBundle){this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}if(!i){if(!this._sMandatoryErrorMessage){this._sMandatoryErrorMessage=this._oResourceBundle.getText('EMPTY_MANDATORY_MESSAGE');}E=this._sMandatoryErrorMessage;}else{if(!this._sValidationErrorMessage){this._sValidationErrorMessage=this._oResourceBundle.getText('VALIDATION_ERROR_MESSAGE');}E=this._sValidationErrorMessage;}if(this.getShowMessages()&&!this.getLiveMode()){try{this._activateMainContent();M.error(E,{styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':'',onClose:this._setFocusOnFirstErroneousField.bind(this)});}catch(x){return undefined;}}else{this._setFocusOnFirstErroneousField();q.sap.log.warning('search was not triggered. '+E);}if(this._bExpandAdvancedFilterArea&&this.rerenderFilters){this.rerenderFilters(true);}}return e;};g.prototype.validateMandatoryFields=function(){this._logAccessWhenNotInitialized('validateMandatoryFields');return this._validateMandatoryFields();};g.prototype.verifySearchAllowed=function(){this._logAccessWhenNotInitialized('verifySearchAllowed');delete this.bIsSearchPending;if(this._validateState()){if(this.validateMandatoryFields()){return{};}return{mandatory:true};}if(this.bIsSearchPending){return{pending:true};}return{error:true};};g.prototype._setFocusOnFirstErroneousField=function(){var e=null,L,o,i;e=this.getAllFilterItems(true);if(e){L=e.length;for(i=0;i<L;i++){o=this.determineControlByFilterItem(e[i],true);if(o&&o.getValueState&&o.getValueState()===sap.ui.core.ValueState.Error){q.sap.delayedCall(0,o,'focus');break;}}}};g.prototype.setLiveMode=function(e){if(!this._isPhone()){if(e){this.hideGoButton();}else{this.restoreGoButton();}}if(this._oSmartVariantManagement){if(e){if(this._bShowShareState===undefined){this._bShowShareState=this._oSmartVariantManagement.getShowExecuteOnSelection();}this._oSmartVariantManagement.setShowExecuteOnSelection(false);}else if(this._bShowShareState!==undefined){this._oSmartVariantManagement.setShowExecuteOnSelection(this._bShowShareState);}}this.setProperty('liveMode',e);return this;};g.prototype.isLiveMode=function(){if(this._isPhone()){return false;}return this.getLiveMode();};g.prototype._clearDelayedSearch=function(){if(this._iDelayedSearchId){q.sap.clearDelayedCall(this._iDelayedSearchId);this._iDelayedSearchId=null;}};g.prototype.isPending=function(){if(!this._oFilterProvider){return false;}return this._oFilterProvider.isPending();};g.prototype._validateMandatoryFields=function(){var e=true,h=this.determineMandatoryFilterItems(),o,D=this.getFilterData(),L=0,i;this._bExpandAdvancedFilterArea=false;if(h&&D){L=h.length;while(L--){o=h[L];i=this.determineControlByFilterItem(o,true);if(i&&i.setValueState){if(this._checkForValues(D,o,i)){if(i.data('__mandatoryEmpty')){i.data('__mandatoryEmpty',null);i.setValueState(sap.ui.core.ValueState.None);}}else{e=false;i.setValueState(sap.ui.core.ValueState.Error);i.data('__mandatoryEmpty',true);if(o.getGroupName){this._bExpandAdvancedFilterArea=true;}}}}}return e;};g.prototype._setSmartVariant=function(s){if(s){var o=sap.ui.getCore().byId(s);if(o){if(o instanceof S){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._replaceVariantManagement(o);this._oSmartVariantManagement=o;}}else{q.sap.log.error('Control with the id='+s+' not of expected type');}}else{q.sap.log.error('Control with the id='+s+' not found');}}};g.prototype.setSmartVariant=function(s){if(this.getAdvancedMode()){q.sap.log.error('not supported for the advanced mode');return this;}this.setAssociation('smartVariant',s);this._setSmartVariant(s);return this;};g.prototype.getSmartVariant=function(){if(this.getAdvancedMode()){q.sap.log.error('not supported for the advanced mode');return null;}var s=this.getAssociation('smartVariant');if(s){return sap.ui.getCore().byId(s);}return this._oSmartVariantManagement;};g.prototype._createVariantManagement=function(){this._oSmartVariantManagement=null;if(this.getAdvancedMode()){return F.prototype._createVariantManagement.apply(this);}var s=this.getSmartVariant();this._setSmartVariant(s);if(!this._oSmartVariantManagement){this._oSmartVariantManagement=new S(this.getId()+'-variant',{showExecuteOnSelection:true,showShare:true});}return this._oSmartVariantManagement;};g.prototype._initializeVariantManagement=function(){if(!this.isRunningInValueHelpDialog&&this._oSmartVariantManagement&&this.getPersistencyKey()){var p=new P({type:'filterBar',keyName:'persistencyKey',dataSource:this.getEntitySet()||this.getEntityType()});p.setControl(this);this._oSmartVariantManagement.addPersonalizableControl(p);var v=this._checkHasValueData(this.data('executeStandardVariantOnSelect'));if(v){this._oSmartVariantManagement._executeOnSelectForStandardVariantByXML(v);}F.prototype._initializeVariantManagement.apply(this,arguments);}else{this.fireInitialise();this.fireInitialized();}};g.prototype.setConsiderSelectionvariants=function(v){this.setProperty('considerSelectionVariants',v);};g.prototype.fireInitialized=function(){if(!this.isRunningInValueHelpDialog&&this.getPersistencyKey()&&this.getConsiderSelectionVariants()&&this._oSmartVariantManagement&&this._oSmartVariantManagement.getEnabled()){try{if(!this._oSmartVariantManagement.isPageVariant()){this._prepareSelectionVariants();}}finally{}}F.prototype.fireInitialized.apply(this,arguments);};g.prototype._prepareSelectionVariants=function(){var s,v,D,k=g.SELECTION_VARIANT_KEY_PREFIX,n=false,V=[];s=this.getSelectionVariants();if(s){this._oSmartVariantManagement.registerSelectionVariantHandler({callback:this.getSelectionVariant,handler:this},k);sap.ui.require('sap.ui.comp.variants.VariantItem');s.forEach(function(o){var e=k+o.qualifier;if(o.qualifier){v=new sap.ui.comp.variants.VariantItem({key:e,text:o.annotation.Text.String,global:true,executeOnSelection:false,lifecycleTransportId:'',lifecyclePackage:'',namespace:'',readOnly:true,labelReadOnly:true,author:''});this._oSmartVariantManagement.insertVariantItem(v,0);V.push(e);}else{n=this._defaultSelectionVariantHandling(o);}}.bind(this));if(!this._oSmartVariantManagement._getDefaultVariantKey()){if(this.getDefaultSelectionVariantName()){D=k+this.getDefaultSelectionVariantName();this._oSmartVariantManagement.setInitialSelectionKey(D);this._oSmartVariantManagement.fireSelect({key:D});}else if(n){this._oSmartVariantManagement.fireSelect({key:this._oSmartVariantManagement.STANDARDVARIANTKEY});}}this._oSmartVariantManagement.applyDefaultFavorites(V,true);}};g.prototype._defaultSelectionVariantHandling=function(s){var v=null;if(!this._oSmartVariantManagement){return false;}if(this._oSmartVariantManagement._sAppStandardVariantKey){return false;}if(s&&s.annotation){v=this.convertSelectionVariantToInternalVariant(s.annotation);if(v){if(!this._oSmartVariantManagement.isPageVariant()){v.version='V1';var o=JSON.parse(v.filterBarVariant);if(this._oSmartVariantManagement._oStandardVariant){var e=JSON.parse(this._oSmartVariantManagement._oStandardVariant.filterBarVariant);if(e._CUSTOM){o._CUSTOM=e._CUSTOM;v.filterBarVariant=JSON.stringify(o);}}this._oSmartVariantManagement._oStandardVariant=v;return true;}}}return false;};g.prototype._adaptFilterVisibilityProperties=function(o){var e,E=null,h=[];if(this._oSmartVariantManagement&&this._oSmartVariantManagement._oStandardVariant&&this._oSmartVariantManagement._oStandardVariant.filterbar){q.extend(true,h,this._oSmartVariantManagement._oStandardVariant.filterbar);}for(E in o){e=false;h.some(function(i){if(i.name===E){e=true;i.partOfCurrentVariant=true;}return e;});if(!e){h.push({group:this._determineGroupNameByName(E),name:E,partOfCurrentVariant:true,visibleInFilterBar:false,visible:true});}}return h;};g.prototype.getSelectionVariant=function(k,s){var v=null,o=null,K=k.substring(g.SELECTION_VARIANT_KEY_PREFIX.length);this.getSelectionVariants().some(function(i){if(i.qualifier===K){o=i;return true;}return false;});if(o){if(o.variantContent){v=o.variantContent;}else{v=this.convertSelectionVariantToInternalVariant(o.annotation);o.variantContent=v;}}return v;};g.prototype.convertSelectionVariantToInternalVariant=function(s){sap.ui.require('sap.ui.model.odata.AnnotationHelper');sap.ui.require('sap.ui.model.Context');sap.ui.require('sap.ui.comp.filterbar.VariantConverterFrom');var e=JSON.stringify(s),o=JSON.parse(e),v={},p={};var D=new sap.ui.model.Context(null,'/'),h=o.SelectOptions,i=o.Parameters,j;if(h){h.forEach(function(k){k.PropertyName=k.PropertyName.PropertyPath;k.Ranges.forEach(function(r){r.Sign=r.Sign.EnumMember.split('/')[1];r.Option=r.Option.EnumMember.split('/')[1];r.Low=r.Low&&sap.ui.model.odata.AnnotationHelper.format(D,r.Low)||null;r.High=r.High&&sap.ui.model.odata.AnnotationHelper.format(D,r.High)||null;});});}if(i){i.forEach(function(k){k.PropertyName=k.PropertyName.PropertyPath.split('/')[1]||k.PropertyName.PropertyPath;k.PropertyValue=sap.ui.model.odata.AnnotationHelper.format(D,k.PropertyValue)||null;});}j=new sap.ui.comp.filterbar.VariantConverterFrom();v=j.convert(JSON.stringify(o),this,true);p=JSON.parse(v.payload);if(this._oSmartVariantManagement.isPageVariant()){v[this.getPersistencyKey()]={'version':'V2','filterbar':this._adaptFilterVisibilityProperties(p),'filterBarVariant':JSON.stringify(p)};}else{v={'version':'V2','filterbar':this._adaptFilterVisibilityProperties(p),'filterBarVariant':JSON.stringify(p)};}return v;};g.prototype.getBasicSearchControl=function(){return sap.ui.getCore().byId(this.getBasicSearch());};g.prototype.addFieldToAdvancedArea=function(k){var o;this._logAccessWhenNotInitialized('addFieldToAdvancedArea');o=this._getFilterItemByName(k);if(o&&o.setVisibleInAdvancedArea){o.setVisibleInAdvancedArea(true);}};g.prototype.getConditionTypeByKey=function(k){if(this._oFilterProvider._mConditionTypeFields[k]){return this._oFilterProvider._mConditionTypeFields[k].conditionType;}};g.prototype.isInUTCMode=function(){if(this._oFilterProvider&&this._oFilterProvider._oDateFormatSettings){return this._oFilterProvider._oDateFormatSettings.UTC;}return false;};g.prototype.getDateInUTCOffset=function(D){return c.getDateInUTCOffset(D);};g.prototype.isInitialised=function(){return!!this.bIsInitialised;};g.prototype.destroy=function(){this._clearDelayedSearch();if(this._oSmartVariantManagement&&this.getConsiderSelectionVariants()){this._oSmartVariantManagement.unregisterSelectionVariantHandler(this);}F.prototype.destroy.apply(this,arguments);sap.ui.getCore().getMessageManager().unregisterObject(this);if(this._oFilterProvider&&this._oFilterProvider.destroy){this._oFilterProvider.destroy();}this._oFilterProvider=null;this._aFilterBarViewMetadata=null;this._bExpandAdvancedFilterArea=null;this._oResourceBundle=null;this._sMandatoryErrorMessage=null;this._sValidationErrorMessage=null;this._oSmartVariantManagement=null;};return g;},true);\n",
	"sap/ui/comp/smartform/ColumnLayout.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartform.ColumnLayout',{metadata:{interfaces:['sap.ui.comp.smartform.SmartFormLayout'],library:'sap.ui.comp',properties:{columnsXL:{type:'sap.ui.layout.form.ColumnsXL',group:'Appearance',defaultValue:2},columnsL:{type:'sap.ui.layout.form.ColumnsL',group:'Appearance',defaultValue:2},columnsM:{type:'sap.ui.layout.form.ColumnsM',group:'Appearance',defaultValue:1},labelCellsLarge:{type:'sap.ui.layout.form.ColumnCells',group:'Appearance',defaultValue:4},emptyCellsLarge:{type:'sap.ui.layout.form.EmptyCells',group:'Appearance',defaultValue:0}}}});return C;},true);\n",
	"sap/ui/comp/smartform/Group.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element','sap/ui/layout/form/FormContainer'],function(q,l,E,F){'use strict';var R;var G=F.extend('sap.ui.comp.smartform.Group',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartform/Group.designtime',properties:{useHorizontalLayout:{type:'boolean',group:'Misc',defaultValue:null},horizontalLayoutGroupElementMinWidth:{type:'int',group:'Misc',defaultValue:null},label:{type:'string',group:'Misc',defaultValue:null}},defaultAggregation:'groupElements',aggregations:{groupElements:{type:'sap.ui.comp.smartform.GroupElement',multiple:true,singularName:'groupElement'},layout:{type:'sap.ui.layout.GridData',multiple:false}},_bVisibleElements:false}});G.prototype.setUseHorizontalLayout=function(v){var o=this.getUseHorizontalLayout();this.setProperty('useHorizontalLayout',v);if(o==v){return this;}var g=this.getGroupElements();for(var i=0;i<g.length;i++){if(g[i].getUseHorizontalLayout()!=v){g[i].setUseHorizontalLayout(v);}}this._updateLayoutData();return this;};G.prototype._updateLayoutData=function(){if(this.getUseHorizontalLayout()){var s=this.getParent();while(s&&!s.addGroup&&s.getParent){s=s.getParent();}if(s){var L=s.getLayout();if(!L||!L.getGridDataSpan()){if(!this.getLayoutData()){if(!R&&!this._bResponsiveFlowLayoutDataRequested){R=sap.ui.require('sap/ui/layout/ResponsiveFlowLayoutData');if(!R){sap.ui.require(['sap/ui/layout/ResponsiveFlowLayoutData'],_.bind(this));this._bResponsiveFlowLayoutDataRequested=true;}}if(R&&!this._bResponsiveFlowLayoutDataRequested){var r=new R({'linebreak':true,'linebreakable':true});r._bCreatedByGroup=true;this.setLayoutData(r);}}}else{this._updateLineBreaks();}}}else{var o=this.getLayoutData();if(o&&o._bCreatedByGroup){this.destroyLayoutData();}}};function _(r){R=r;this._bResponsiveFlowLayoutDataRequested=false;if(!this._bIsBeingDestroyed){this._updateLayoutData();}}G.prototype.setHorizontalLayoutGroupElementMinWidth=function(n){var f=this.getHorizontalLayoutGroupElementMinWidth();if(f==n){return this;}q.sap.log.error('HorizontalLayoutGroupElementMinWidth is deprecated',this);this.setProperty('horizontalLayoutGroupElementMinWidth',n);var g=this.getGroupElements();for(var i=0;i<g.length;i++){g[i].setHorizontalLayoutGroupElementMinWidth(n);}return this;};G.prototype.setEditMode=function(f){var g=this.getGroupElements();for(var i=0;i<g.length;i++){g[i].setEditMode(f);}return this;};G.prototype._delegateEditModeFromParent=function(g){var p=null;var f=false;if(g){p=this.getParent();if(p&&p.getEditable){f=p.getEditable();g.setEditMode(f);}}};G.prototype._updateLineBreaks=function(){if(!this.getUseHorizontalLayout()){return;}var s=this.getParent();if(!s){return;}while(s&&!s._getGridDataSpanNumbers&&s.getParent){s=s.getParent();}if(!s._getGridDataSpanNumbers){return;}var S=s._getGridDataSpanNumbers();if(!S){return;}var f=this.getGroupElements();f=f.filter(function(o){return o.isVisible();});var C=0;var g=0;var h=0;var j=0;var L=false;var k=false;var m=false;var n=false;for(var i=0;i<f.length;i++){var o=f[i];C++;g++;h++;j++;if(S.XL*C>12){L=true;C=1;}else{L=false;}if(S.L*g>12){k=true;g=1;}else{k=false;}if(S.M*h>12){m=true;h=1;}else{m=false;}if(S.S*j>12){n=true;j=1;}else{n=false;}o._setLinebreak(L,k,m,n);}};G.prototype._updateGridDataSpan=function(){if(!this.getUseHorizontalLayout()){return;}var g=this.getGroupElements();for(var i=0;i<g.length;i++){g[i]._updateGridDataSpan();}};G.prototype._updateFormContainerVisibility=function(){var g=this.getGroupElements();var v=false;v=g.some(function(o){return o.isVisible();});if(this._bVisibleElements!==v){this._bVisibleElements=v;if(this.isPropertyInitial('visible')){this.fireEvent('_visibleChanged');}}};G.prototype.setLabel=function(L){this.setProperty('label',L);var t=this.getTitle();if(t&&(typeof t!=='string')){q.sap.log.error('Title already set, Label can not be set',this);}else{this.setTitle(L);}return this;};G.prototype.setVisible=function(v){var o=this.getVisible();F.prototype.setVisible.apply(this,arguments);if(v!=o||v!=this._bVisibleElements){this.fireEvent('_visibleChanged');}return this;};G.prototype.isVisible=function(){if(this.isPropertyInitial('visible')){return this._bVisibleElements;}else{return this.getVisible();}};G.prototype.addGroupElement=function(g){return this.addFormElement(g);};G.prototype.insertGroupElement=function(g,i){return this.insertFormElement(g,i);};G.prototype.getGroupElements=function(){return this.getFormElements();};G.prototype.indexOfGroupElement=function(g){return this.indexOfFormElement(g);};G.prototype.removeGroupElement=function(g){return this.removeFormElement(g);};G.prototype.removeAllGroupElements=function(){return this.removeAllFormElements();};G.prototype.destroyGroupElements=function(){return this.destroyFormElements();};G.prototype.addFormElement=function(g){if(!g){return this;}g=this.validateAggregation('groupElements',g,true);a.call(this,g);F.prototype.addFormElement.apply(this,arguments);b.call(this,g);return this;};G.prototype.insertFormElement=function(g,i){if(!g){return this;}g=this.validateAggregation('groupElements',g,true);a.call(this,g);F.prototype.insertFormElement.apply(this,arguments);b.call(this,g);return this;};G.prototype.removeFormElement=function(g){var o=F.prototype.removeFormElement.apply(this,arguments);if(o){o.detachVisibleChanged(this._updateFormContainerVisibility,this);e.call(this,o);this._updateFormContainerVisibility();this._updateLineBreaks();}return o;};G.prototype.removeAllFormElements=function(){var g=F.prototype.removeAllFormElements.apply(this,arguments);for(var i=0;i<g.length;i++){var o=g[i];o.detachVisibleChanged(this._updateFormContainerVisibility,this);e.call(this,o);}this._updateFormContainerVisibility();this._updateLineBreaks();return g;};G.prototype.destroyFormElements=function(){F.prototype.destroyFormElements.apply(this,arguments);this._updateFormContainerVisibility();this._updateLineBreaks();return this;};function a(g){var u=this.getUseHorizontalLayout();var h=this.getHorizontalLayoutGroupElementMinWidth();if(h!=g.getHorizontalLayoutGroupElementMinWidth){g.setHorizontalLayoutGroupElementMinWidth(h);}if(u!=g.getUseHorizontalLayout()){g.setUseHorizontalLayout(u);}g.attachVisibleChanged(this._updateFormContainerVisibility,this);c.call(this,g);}function b(g){this._delegateEditModeFromParent(g);this._updateFormContainerVisibility();if(this.getUseHorizontalLayout()){g._updateGridDataSpan();this._updateLineBreaks();}}G.prototype.setLayout=function(L){L=this.validateAggregation('layout',L,false);return this.setLayoutData(L);};G.prototype.getLayout=function(){return this.getLayoutData();};G.prototype.destroyLayout=function(L){return this.destroyLayoutData();};G.prototype.addCustomData=function(C){if(!C){return this;}F.prototype.addCustomData.apply(this,arguments);var g=this.getGroupElements();for(var i=0;i<g.length;i++){d.call(this,g[i],C);}return this;};G.prototype.insertCustomData=function(C,I){if(!C){return this;}F.prototype.insertCustomData.apply(this,arguments);var g=this.getGroupElements();for(var i=0;i<g.length;i++){d.call(this,g[i],C);}return this;};G.prototype.removeCustomData=function(C){var o=F.prototype.removeCustomData.apply(this,arguments);if(o){var g=this.getGroupElements();for(var i=0;i<g.length;i++){e.call(this,g[i],o.getId());}}return o;};G.prototype.removeAllCustomData=function(){var C=F.prototype.removeAllCustomData.apply(this,arguments);if(C.length>0){var g=this.getGroupElements();for(var i=0;i<g.length;i++){e.call(this,g[i]);}}return C;};G.prototype.destroyCustomData=function(){F.prototype.destroyCustomData.apply(this,arguments);var g=this.getGroupElements();for(var i=0;i<g.length;i++){e.call(this,g[i]);}return this;};function c(g){var C=this.getCustomData();for(var i=0;i<C.length;i++){d.call(this,g,C[i]);}}function d(g,C){if(sap.ui.comp.smartform.inheritCostomDataToFields(C)){var n=C.clone();n._bFromGroup=true;n._sOriginalId=C.getId();g.addCustomData(n);}}function e(g,o){var C=g.getCustomData();for(var i=0;i<C.length;i++){var f=C[i];if(f._bFromGroup&&(!o||o==f._sOriginalId)){g.removeCustomData(f);}}}G.prototype.clone=function(I,L){var g=this.removeAllGroupElements();var C=F.prototype.clone.apply(this,arguments);for(var i=0;i<g.length;i++){var o=g[i];var f=o.clone(I,L);this.addGroupElement(o);C.addGroupElement(f);}return C;};return G;},true);\n",
	"sap/ui/comp/smartform/GroupElement.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/ui/comp/library','sap/ui/core/Element','sap/ui/layout/form/FormElement','sap/ui/comp/smartfield/SmartLabel','sap/ui/comp/smartfield/SmartField'],function(q,L,l,E,F,S,a){'use strict';var V;var H;var b;var c;var G;var C=l.smartfield.ControlContextType;var d=F.extend('sap.ui.comp.smartform.GroupElement',{metadata:{library:'sap.ui.comp',properties:{useHorizontalLayout:{type:'boolean',group:'Misc',defaultValue:null},horizontalLayoutGroupElementMinWidth:{type:'int',group:'Misc',defaultValue:null},elementForLabel:{type:'int',group:'Misc',defaultValue:0}},defaultAggregation:'elements',aggregations:{elements:{type:'sap.ui.core.Control',multiple:true,singularName:'element'}},events:{visibleChanged:{}},designtime:'sap/ui/comp/designtime/smartform/GroupElement.designtime'},_bVisibleElements:false,_bHorizontalLayoutUsed:false});d._myVBox=undefined;d.prototype.init=function(){F.prototype.init.apply(this,arguments);this._oObserver.observe(this,{properties:['useHorizontalLayout','horizontalLayoutGroupElementMinWidth','elementForLabel']});};d.prototype._getFieldRelevantForLabel=function(){var i=this.getElements();var M=this.getElementForLabel();if(i.length>M&&(i[M]instanceof a)){return i[M];}return null;};d.prototype._extractFields=function(i,M){var N=[];i.forEach(function(O){if(O instanceof V||O instanceof H){N=N.concat(O.getItems());}else{N.push(O);}});if(N.some(function(O){return O instanceof V||O instanceof H;})){N=this._extractFields(N);}if(M){N=N.filter(function(O){return!(O instanceof L);});}return N;};d.prototype.setTooltip=function(T){F.prototype.setTooltip.apply(this,[T]);var R=this._getFieldRelevantForLabel();var i=this._getLabel();_.call(this,i,R);return this;};function _(i,R){if(i==this._oSetLabel){return;}var T;if(this._oSetLabel&&this._oSetLabel instanceof sap.ui.core.Control){T=K.call(this._oSetLabel);}if(!T){T=K.call(this);}if(T){if(i instanceof S){if(R&&R.setTooltipLabel){R.setTooltipLabel(T);}}else{i.setTooltip(T);}}}d.prototype.setLabel=function(i){if(!i&&this._bMoveLabelToVBox){return this.setAggregation('label',i);}if(this._oSetLabel&&(typeof this._oSetLabel!=='string')){this._oSetLabel.detachEvent('_change',e,this);}var O;var M;var N;if(typeof i==='string'){O=this._getLabel();if(O){M=O.getText();}}else if(!i&&this._oSetLabel){M=this.getLabelText();}F.prototype.setLabel.apply(this,[i]);this._oSetLabel=i;f.call(this);if(typeof i==='string'){if(this._oLabel instanceof S&&i!=M&&(i.length>0||M.length>0)){N=this._getFieldRelevantForLabel();if(N&&i!=null){if(N.getTextLabel){if(!N._oTextLabelSetByGroupElement){N._oTextLabelSetByGroupElement={oldText:N.getTextLabel()};}N.setTextLabel(i);}}}if(!this._bHorizontalLayoutUsed){this.setAggregation('_label',this._oLabel,true);}this._oLabel.isRequired=g;this._oLabel.isDisplayOnly=h;}else{if(i){if(i.isRequired){i.isRequired=g;}if(i.isDisplayOnly){i.isDisplayOnly=h;}i.attachEvent('_change',e,this);}else{N=this._getFieldRelevantForLabel();if(N){I.call(this,N,M);}}this.updateLabelOfFormElement();}return this;};d.prototype.destroyLabel=function(){var O=this.getLabelText();F.prototype.destroyLabel.apply(this);delete this._oSetLabel;f.call(this);var i=this._getFieldRelevantForLabel();if(i){I.call(this,i,O);}this.updateLabelOfFormElement();return this;};function e(i){if(i.getParameter('name')=='text'){var M=i.oSource;var T=M.getText();if(this._oLabel){this._oLabel.setText(T);}var N=this._getFieldRelevantForLabel();if(N&&N.getTextLabel){if(!N._oTextLabelSetByGroupElement){N._oTextLabelSetByGroupElement={oldText:N.getTextLabel()};}N.setTextLabel(T);}}}function f(){if(!this._bHorizontalLayoutUsed){return;}var i=this.getFields();var O;if(i.length>0){var M=this.getFields()[0];if(M instanceof V){var N=M.getItems();var P=this._getLabel();if(N.length>0&&N[0]instanceof L){O=N[0];}this._bMoveLabelToVBox=true;if(O&&O!=P){M.removeItem(0);if(O._bCreatedByGroupElement){this.setAggregation('_label',O,true);}else{this.setAggregation('label',O);}}if(P&&O!=P){M.insertItem(P,0);}this._bMoveLabelToVBox=false;k.call(this);}}}function g(){if(this.getRequired&&this.getRequired()){return true;}var M=this.getParent();if(M instanceof sap.m.VBox){M=M.getParent();}var N=M.getElements();for(var i=0;i<N.length;i++){var O=N[i];if(O.getRequired&&O.getRequired()===true&&(!O.getEditable||O.getEditable())&&(!O.getContextEditable||O.getContextEditable())){return true;}}return false;}function h(){if(this.getDisplayOnly){if(!this.isPropertyInitial('displayOnly')){return this.getDisplayOnly();}var i=this.getParent();if(i instanceof sap.m.VBox){i=i.getParent();}var M=i.getParent();if(M){var N=M.getParent();if(N){return!N.getEditable();}}}return false;}function j(){var i=this.getParent();if(i instanceof sap.m.VBox){i=i.getParent();}if(i._oSetLabel&&!(typeof i._oSetLabel==='string')&&i._oSetLabel.getWrapping&&!i._oSetLabel.isPropertyInitial('wrapping')){return i._oSetLabel.getWrapping();}return true;}function k(){var i=this._getFieldRelevantForLabel();if(i){if(this._oLabel){this._oLabel.setLabelFor(i);}return;}var M=this.getFields();i=M.length>0?M[0]:null;if(i instanceof V){var N=i.getItems();if(N[1]instanceof H){i=N[1].getItems()[0];}else{i=N[1];}}var O=this._oLabel;if(O){O.setLabelFor(i);}else{O=this.getLabel();if(O instanceof sap.ui.core.Control){O.setAlternativeLabelFor(i);}}}d.prototype.getLabel=function(){return this._oSetLabel;};d.prototype._getLabel=function(){if(this._oLabel){return this._oLabel;}else{return this._oSetLabel;}};d.prototype.getLabelControl=function(){if(this._bHorizontalLayoutUsed){return null;}else{return this._getLabel();}};d.prototype.getLabelText=function(){var i='';var M=this._getLabel();if(M){i=M.getText();}return i;};d.prototype._createLabel=function(i){var M=null;var N=this._getFieldRelevantForLabel();if(N){if(N.getShowLabel&&N.getShowLabel()){M=new S(N.getId()+'-label');if(i){if(!N._oTextLabelSetByGroupElement){N._oTextLabelSetByGroupElement={oldText:N.getTextLabel()};}N.setTextLabel(i);M.setText(i);}M.setLabelFor(N);}}else{M=new L();M.setText(i);}if(M){M._bCreatedByGroupElement=true;M.isRequired=g;M.isDisplayOnly=h;M.isWrapping=j;this._oLabel=M;if(!this._bHorizontalLayoutUsed){this.setAggregation('_label',M,true);}if(this._oSetLabel&&typeof this._oSetLabel!=='string'){this._oSetLabel.setAlternativeLabelFor(null);}}return M;};d.prototype.updateLabelOfFormElement=function(){var i=false,O=null;var M=this.getElements();var R=this._getFieldRelevantForLabel();var N=this._getLabel();var P=false;if(N&&N._bCreatedByGroupElement){if(N instanceof S){if(!R||(N._sSmartFieldId&&N._sSmartFieldId!=R.getId())){P=true;}}else if(R){P=true;}if(P){N.destroy();delete this._oLabel;N=null;if(this._oSetLabel&&!R){if(typeof this._oSetLabel==='string'){F.prototype.setLabel.apply(this,[this._oSetLabel]);N=this._oLabel;this._oLabel.isRequired=g;this._oLabel.isDisplayOnly=h;}else{N=this._oSetLabel;}f.call(this);}}}else if(N&&R){if(N==this._oLabel){N.destroy();delete this._oLabel;}N=null;}if(!N){if(this._oSetLabel){if(typeof this._oSetLabel==='string'){O=this._oSetLabel;}else{O=this._oSetLabel.getText();}}else{O='';}}if(!N&&M.length>0){N=this._createLabel(O);i=true;}if(N){if(N instanceof S){if(R&&R.setTextLabel&&R.getTextLabel()){N.setText(R.getTextLabel());}}_.call(this,N,R);}if(i){f.call(this);if(N&&N.setLabelFor&&!(N instanceof S)&&!R&&(M.length>0)){N.setLabelFor(M[0]);}}};d.prototype.setEditMode=function(i){var M=this.getElements();M.forEach(function(N){if(N instanceof a){if(!(N.data('editable')===false)){N.setContextEditable(i);}}});return this;};d.prototype.invalidateLabel=function(){var i=this._getLabel();if(i){i.invalidate();}};d.prototype._updateFormElementVisibility=function(){var i=this.getVisibleBasedOnElements();if(this._bVisibleElements!==i){this._bVisibleElements=i;if(this.isPropertyInitial('visible')){v.call(this);this.invalidate();}}};d.prototype._updateLayout=function(){var i=null;var M=null;var N=null;var U=this.getUseHorizontalLayout();var O;var P=0;var Q;if(U==this._bHorizontalLayoutUsed){return;}if(U&&!m.call(this)){return;}var R=this.getElements();var T=this._getLabel();this._bNoObserverChange=true;if(U){if(R.length>0){if(R[0].getLayoutData()){N=R[0].getLayoutData();}this.removeAllFields();if(R.length>1){for(P=0;P<R.length;P++){Q=R[P];if(P>0){o.call(this,Q);}}M=s.call(this,R.slice(0));}if(M){O=[M];}else{O=R.slice(0);}i=r.call(this,O,T,N);this.addField(i);if(T){k.call(this);}}}else{var W=this.getFields();if(W[0]instanceof V){i=W[0];O=i.getItems();if(R.length>1&&O.length>0){if(T){if(O.length>1&&O[1]instanceof H){M=O[1];}}else if(O[0]instanceof H){M=O[0];}if(M){M.removeAllItems();M.destroy();}}i.removeAllItems();i.destroy();}this.removeAllFields();for(P=0;P<R.length;P++){Q=R[P];p.call(this,Q);this.addField(Q);}if(T){if(T==this._oLabel){this.setAggregation('_label',T,true);}else{this.setAggregation('label',T);}}}this._bHorizontalLayoutUsed=U;this._bNoObserverChange=false;};function m(){if((!V||!H||!b||!c||!G)&&!this._bVBoxRequested){V=sap.ui.require('sap/m/VBox');H=sap.ui.require('sap/m/HBox');b=sap.ui.require('sap/m/FlexItemData');c=sap.ui.require('sap/ui/core/VariantLayoutData');G=sap.ui.require('sap/ui/layout/GridData');if(!V||!H||!b||!c||!G){sap.ui.require(['sap/m/VBox','sap/m/HBox','sap/m/FlexItemData','sap/ui/core/VariantLayoutData','sap/ui/layout/GridData'],n.bind(this));this._bVBoxRequested=true;}}if(V&&H&&b&&c&&G&&!this._bVBoxRequested){return true;}else{return false;}}function n(i,M,N,O,P){V=i;H=M;b=N;c=O;G=P;this._bVBoxRequested=false;if(!this._bIsBeingDestroyed){this._updateLayout();}}function o(i){var M=i.getLayoutData();if(M){if(M.getStyleClass&&!M.getStyleClass()){M.setStyleClass('sapUiCompGroupElementHBoxPadding');}}else{M=new sap.m.FlexItemData({styleClass:'sapUiCompGroupElementHBoxPadding'});M._bCreatedByGroupElement=true;i.setLayoutData(M);}}function p(i){var M=i.getLayoutData();if(M){if(M._bCreatedByGroupElement){M.destroy();}else if(M.getStyleClass&&M.getStyleClass()=='sapUiCompGroupElementHBoxPadding'){M.setStyleClass();}}}function r(i,M,N){if(!d._myVBox){d._myVBox=V.extend('SmartFormVBox',{metadata:{interfaces:['sap.ui.core.IFormContent']},enhanceAccessibilityState:t,renderer:'sap.m.VBoxRenderer'});}this._bMoveLabelToVBox=true;var O=i.slice(0);if(M){O.splice(0,0,M);}var P=new d._myVBox(this.getId()+'--VBox',{'items':O});this._bMoveLabelToVBox=false;P.addStyleClass('sapUiCompGroupElementVBox');P._oGroupElement=this;if(N&&(N instanceof G||N instanceof c||N.isA('sap.ui.layout.ResponsiveFlowLayoutData'))){P.setLayoutData(N.clone());}u.call(this,P);return P;}function s(i){var M=new H(this.getId()+'--HBox',{'items':i});M._oGroupElement=this;M.enhanceAccessibilityState=t;return M;}function t(i,M){var N=this._oGroupElement._getLabel();if(N&&N!=i&&!(i instanceof H)){var O=M['labelledby'];if(!O){O=N.getId();}else{var P=O.split(' ');if(q.inArray(N.getId(),P)<0){P.splice(0,0,N.getId());O=P.join(' ');}}M['labelledby']=O;}return M;}d.prototype._updateGridDataSpan=function(){if(!this._bHorizontalLayoutUsed){return;}var i=this.getFields();if(i.length>0){var M=i[0];if(M instanceof V){u.call(this,M);}}};function u(M){var N=this.getParent();if(!N||!N.addGroupElement){return;}var O=N.getParent();while(O&&!O.addGroup&&O.getParent){O=O.getParent();}if(!O){return;}var P='';var Q=O.getLayout();if(Q){P=Q.getGridDataSpan();}var R=M.getLayoutData();var T;if(R){if(!(R instanceof G)&&!(R instanceof c)&&P){T=new G({span:P});T._bFromGroupElement=true;var U=new c({multipleLayoutData:[R,T]});U._bFromGroupElement=true;M.setLayoutData(U);}else if(R instanceof G){if(R._bFromGroupElement){if(!P){R.destroy();}else{R.setSpan(P);}}}else if(R instanceof c){var W=false;R.getMultipleLayoutData().forEach(function(R){if(R instanceof G){W=true;if(R._bFromGroupElement){if(!P){R.destroy();}else{R.setSpan(P);}}}});if(!W&&P){T=new G({span:P});T._bFromGroupElement=true;R.addMultipleLayoutData(T);}if(R._bFromGroupElement&&R.getMultipleLayoutData().length==1){T=R.getMultipleLayoutData()[0];M.setLayoutData(T);R.destroy();}}}else if(P){T=new G({span:P});T._bFromGroupElement=true;M.setLayoutData(T);}var X=this.getElements();for(var i=0;i<X.length;i++){var Y=X[i];if(Y&&Y.setControlContext){if(P){Y.setControlContext(C.SmartFormGrid);}else{Y.setControlContext(C.Form);}}}}d.prototype._setLinebreak=function(M,N,O,P){if(!this._bHorizontalLayoutUsed){return;}var Q=this.getFields();if(Q.length>0){var R=Q[0];if(!(R instanceof V)){return;}var T=R.getLayoutData();if(T){if(T instanceof c){var U=T.getMultipleLayoutData();for(var i=0;i<U.length;i++){T=U[i];if(T instanceof G){T.setLinebreakXL(M);T.setLinebreakL(N);T.setLinebreakM(O);T.setLinebreakS(P);}}}else if(T instanceof G){T.setLinebreakXL(M);T.setLinebreakL(N);T.setLinebreakM(O);T.setLinebreakS(P);}}}};d.prototype.setVisible=function(i){var M=this.isVisible();F.prototype.setVisible.apply(this,arguments);if(M!=i){v.call(this);}return this;};d.prototype.isVisible=function(){if(this.isPropertyInitial('visible')){return this._bVisibleElements;}else{return this.getVisible();}};function v(){this.fireVisibleChanged({visible:this.isVisible()});if(this.getParent()){this.getParent()._updateLineBreaks();}}d.prototype.getFormElement=function(){return this;};d.prototype.addElement=function(i){if(!i){return this;}i=this.validateAggregation('elements',i,true);x.call(this,i);var M;if(this._oLabel&&this._oLabel._bCreatedByGroupElement&&this._oLabel._sSmartFieldId){M=this._oLabel._sSmartFieldId;}if(this._bHorizontalLayoutUsed){w.call(this,i,undefined,true);}else{this.addField(i);}if(M&&M!=this._oLabel._sSmartFieldId){this._oLabel.setLabelFor(M);}this.updateLabelOfFormElement();this._updateFormElementVisibility();return this;};d.prototype.insertElement=function(i,M){if(!i){return this;}i=this.validateAggregation('elements',i,true);x.call(this,i);var N;if(this._oLabel&&this._oLabel._bCreatedByGroupElement&&this._oLabel._sSmartFieldId){N=this._oLabel._sSmartFieldId;}if(this._bHorizontalLayoutUsed){w.call(this,i,M,false);}else{this.insertField(i,M);}if(N&&N!=this._oLabel._sSmartFieldId){this._oLabel.setLabelFor(N);}this.updateLabelOfFormElement();this._updateFormElementVisibility();return this;};d.prototype.getElements=function(){var i;var M;if(this._bHorizontalLayoutUsed){i=this.getFields();M=this._extractFields(i,true);}else{M=this.getFields();}return M;};d.prototype.indexOfElement=function(M){var N=-1;if(this._bHorizontalLayoutUsed){var O=this.getElements();for(var i=0;i<O.length;i++){if(M==O[i]){N=i;break;}}}else{N=this.indexOfField(M);}return N;};d.prototype.removeElement=function(i){var R;var M;if(this._oLabel&&this._oLabel._bCreatedByGroupElement&&this._oLabel._sSmartFieldId){M=this._oLabel._sSmartFieldId;}if(this._bHorizontalLayoutUsed){R=B.call(this,i,false);}else{R=this.removeField(i);}if(R){D.call(this,R);}if(M&&M!=this._oLabel._sSmartFieldId){this._oLabel.setLabelFor(M);}this.updateLabelOfFormElement();this._updateFormElementVisibility();return R;};d.prototype.removeAllElements=function(){var R;if(this._bHorizontalLayoutUsed){R=B.call(this,undefined,true);}else{R=this.removeAllFields();}if(R&&Array.isArray(R)){for(var i=0;i<R.length;i++){D.call(this,R[i]);}}this.updateLabelOfFormElement();this._updateFormElementVisibility();return R;};d.prototype.destroyElements=function(){if(this._bHorizontalLayoutUsed){var i=this.getFields();if(i.length>0){var M=this._getLabel();if(M){i[0].removeItem(M);if(M==this._oLabel){this.setAggregation('_label',M,true);}else{this.setAggregation('label',M);}}this.destroyFields();}}else{this.destroyFields();}this.updateLabelOfFormElement();this._updateFormElementVisibility();return this;};d.prototype._observeChanges=function(i){F.prototype._observeChanges.apply(this,arguments);if(i.object==this){switch(i.name){case'useHorizontalLayout':this._updateLayout();break;case'horizontalLayoutGroupElementMinWidth':q.sap.log.error('HorizontalLayoutGroupElementMinWidth is deprecated',this);this._updateLayout();break;case'elementForLabel':this.updateLabelOfFormElement();break;default:break;}}else{A.call(this,i);}};function w(i,M,N){var O=this._getLabel();var P=this.getFields();var Q;var R;var T;if(P.length>0){Q=P[0];}else{T=[i];var U=i.getLayoutData();Q=r.call(this,T,O,U);this.addField(Q);if(O){k.call(this);}return;}if(!(Q instanceof V)){return;}T=Q.getItems();if(O){if(T.length>1){R=T[1];}}else if(T.length>0){R=T[0];}if(R instanceof H){T=R.getItems();if((N||M>0)&&T.length>0){o.call(this,i);}if(N){R.addItem(i);}else{if(M==0&&T.length>0){o.call(this,T[0]);}R.insertItem(i,M);}}else{var W=R;T=[];if(W){Q.removeItem(W);if(N||M>0){T.push(W);T.push(i);o.call(this,i);}else{T.push(i);T.push(W);o.call(this,W);}R=s.call(this,T);Q.addItem(R);}else{Q.addItem(i);}if(O){k.call(this);}}}function x(i){if(i.getEditable){if(!i.getEditable()){i.data('editable',false);}}this._oObserver.observe(i,{properties:['visible']});if(i.attachInnerControlsCreated){i.attachInnerControlsCreated(this._updateFormElementLabel,this);}if(i.setControlContext){i.setControlContext(C.Form);}if(i.getMetadata().getProperty('mandatory')){this._oObserver.observe(i,{properties:['mandatory']});}y.call(this,i);}function y(M){if(M instanceof a){var N=this.getCustomData();for(var i=0;i<N.length;i++){z.call(this,M,N[i]);}}}function z(i,M){if(i instanceof a&&sap.ui.comp.smartform.inheritCostomDataToFields(M)){var N=M.clone();N._bFromGroupElement=true;N._sOriginalId=M.getId();i.addCustomData(N);}}function A(i){if(i.name=='mandatory'){this.invalidateLabel();}else if(i.name=='visible'){this._updateFormElementVisibility();}}function B(M,N){var O=this._getLabel();var P=this.getFields();var Q;var R;var T;var U;var W=false;var X;if(P.length>0){Q=P[0];}if(!(Q instanceof V)){return null;}T=Q.getItems();if(O){if(T.length>1){R=T[1];}}else if(T.length>0){R=T[0];}if(R instanceof H){if(N){U=R.removeAllItems();W=true;}else{U=R.removeItem(M);T=R.getItems();if(T.length>0){p.call(this,T[0]);if(T.length==1){X=T[0];R.removeAllItems();Q.removeItem(R);R.destroy();Q.addItem(X);}}}}else{if(N){U=Q.removeAllItems();}else{U=Q.removeItem(M);}if(U){W=true;}}if(W){if(O){Q.removeItem(O);if(O==this._oLabel){this.setAggregation('_label',O,true);}else{this.setAggregation('label',O);}}this.removeField(Q);Q.destroy();}if(U){if(Array.isArray(U)){for(var i=0;i<U.length;i++){X=U[i];p.call(this,X);}}else{p.call(this,U);}}return U;}function D(i){if(i.detachInnerControlsCreated){i.detachInnerControlsCreated(this._updateFormElementLabel,this);}if(i.setControlContext){i.setControlContext(C.None);}J.call(this,i);I.call(this,i,this.getLabelText());}function I(i,M){if(i._oTextLabelSetByGroupElement){if(i.getTextLabel()==M){i.setTextLabel(i._oTextLabelSetByGroupElement.oldText);}delete i._oTextLabelSetByGroupElement;}}function J(M,O){if(M instanceof a){var N=M.getCustomData();for(var i=0;i<N.length;i++){var P=N[i];if(P._bFromGroupElement&&(!O||O==P._sOriginalId)){M.removeCustomData(P);P.destroy();}}}}d.prototype._updateFormElementLabel=function(i){var R=this._getFieldRelevantForLabel();var M=this._getLabel();var N=i.oSource;var O=i.getParameters();if(M instanceof S&&N&&O&&N===R){M.updateLabelFor(O);}};d.prototype.addCustomData=function(M){if(!M){return this;}F.prototype.addCustomData.apply(this,arguments);var N=this.getElements();for(var i=0;i<N.length;i++){z.call(this,N[i],M);}return this;};d.prototype.insertCustomData=function(M,N){if(!M){return this;}F.prototype.insertCustomData.apply(this,arguments);var O=this.getElements();for(var i=0;i<O.length;i++){z.call(this,O[i],M);}return this;};d.prototype.removeCustomData=function(M){var N=F.prototype.removeCustomData.apply(this,arguments);if(N){var O=this.getElements();for(var i=0;i<O.length;i++){J.call(this,O[i],N.getId());}}return N;};d.prototype.removeAllCustomData=function(){var M=F.prototype.removeAllCustomData.apply(this,arguments);if(M.length>0){var N=this.getElements();for(var i=0;i<N.length;i++){J.call(this,N[i]);}}return M;};d.prototype.destroyCustomData=function(){F.prototype.destroyCustomData.apply(this,arguments);var M=this.getElements();for(var i=0;i<M.length;i++){J.call(this,M[i]);}return this;};d.prototype.getVisibleBasedOnElements=function(){var i=false;var M=this.getElements();if(M&&M.length>0){i=M.some(function(N){return N.getVisible();});}return i;};function K(){var T=this.getTooltip();if(!T||typeof T==='string'||T instanceof String){return T;}else{return T.getText();}}d.prototype.clone=function(M,N){var O=this.removeAllElements();var P=F.prototype.clone.apply(this,arguments);for(var i=0;i<O.length;i++){var Q=O[i];var R=Q.clone(M,N);this.addElement(Q);P.addElement(R);}return P;};return d;},true);\n",
	"sap/ui/comp/smartform/Layout.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var L=E.extend('sap.ui.comp.smartform.Layout',{metadata:{interfaces:['sap.ui.comp.smartform.SmartFormLayout'],library:'sap.ui.comp',properties:{labelSpanXL:{type:'int',group:'Misc',defaultValue:null},labelSpanL:{type:'int',group:'Misc',defaultValue:null},labelSpanM:{type:'int',group:'Misc',defaultValue:null},labelSpanS:{type:'int',group:'Misc',defaultValue:null},emptySpanXL:{type:'int',group:'Misc',defaultValue:null},emptySpanL:{type:'int',group:'Misc',defaultValue:null},emptySpanM:{type:'int',group:'Misc',defaultValue:null},emptySpanS:{type:'int',group:'Misc',defaultValue:null},columnsXL:{type:'int',group:'Misc',defaultValue:null},columnsL:{type:'int',group:'Misc',defaultValue:null},columnsM:{type:'int',group:'Misc',defaultValue:null},singleGroupFullSize:{type:'boolean',group:'Misc',defaultValue:true},breakpointXL:{type:'int',group:'Misc',defaultValue:null},breakpointL:{type:'int',group:'Misc',defaultValue:null},breakpointM:{type:'int',group:'Misc',defaultValue:null},gridDataSpan:{type:'sap.ui.layout.GridSpan',group:'Misc',defaultValue:''}}},_oSpan:{XL:0,L:0,M:0,S:0}});L.prototype.setGridDataSpan=function(g){var r=[];var P=/XL([1-9]|1[0-2])(?:\\s|$)/i;r=P.exec(g);if(r&&r[1]){this._oSpan.XL=parseInt(r[1],10);}else{this._oSpan.XL=0;}P=/\\bL([1-9]|1[0-2])(?:\\s|$)/i;r=P.exec(g);if(r&&r[1]){this._oSpan.L=parseInt(r[1],10);if(!this._oSpan.XL){this._oSpan.XL=this._oSpan.L;}}P=/M([1-9]|1[0-2])(?:\\s|$)/i;r=P.exec(g);if(r&&r[1]){this._oSpan.M=parseInt(r[1],10);}P=/S([1-9]|1[0-2])(?:\\s|$)/i;r=P.exec(g);if(r&&r[1]){this._oSpan.S=parseInt(r[1],10);}this.setProperty('gridDataSpan',g);return this;};L.prototype._getGridDataSpanNumbers=function(){return this._oSpan;};return L;},true);\n",
	"sap/ui/comp/smartform/SmartForm.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/ui/layout/form/Form','sap/ui/base/ManagedObjectObserver'],function(q,l,C,F,M){'use strict';var P;var T;var O;var a;var b;var B;var c;var f={ResponsiveGridLayout:{layout:undefined,path:'sap/ui/layout/form/ResponsiveGridLayout',name:'sap.ui.layout.form.ResponsiveGridLayout',requested:false,loaded:b1},ResponsiveLayout:{layout:undefined,path:'sap/ui/layout/form/ResponsiveLayout',name:'sap.ui.layout.form.ResponsiveLayout',requested:false,loaded:c1},ColumnLayout:{layout:undefined,path:'sap/ui/layout/form/ColumnLayout',name:'sap.ui.layout.form.ColumnLayout',requested:false,loaded:d1}};var S=C.extend('sap.ui.comp.smartform.SmartForm',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartform/SmartForm.designtime',properties:{title:{type:'string',group:'Misc',defaultValue:null},useHorizontalLayout:{type:'boolean',group:'Misc',defaultValue:null},horizontalLayoutGroupElementMinWidth:{type:'int',group:'Misc',defaultValue:null},checkButton:{type:'boolean',group:'Misc',defaultValue:false},entityType:{type:'string',group:'Misc',defaultValue:null},expandable:{type:'boolean',group:'Misc',defaultValue:false},expanded:{type:'boolean',group:'Misc',defaultValue:null},editTogglable:{type:'boolean',group:'Misc',defaultValue:false},editable:{type:'boolean',group:'Misc',defaultValue:false},ignoredFields:{type:'string',group:'Misc',defaultValue:null},flexEnabled:{type:'boolean',group:'Misc',defaultValue:true}},defaultAggregation:'groups',aggregations:{groups:{type:'sap.ui.comp.smartform.Group',multiple:true,singularName:'group'},content:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'},layout:{type:'sap.ui.comp.smartform.SmartFormLayout',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false},customToolbar:{type:'sap.m.Toolbar',multiple:false},toolbar:{type:'sap.m.Toolbar',multiple:false,visibility:'hidden'}},associations:{ariaLabelledBy:{type:'sap.ui.core.Control',multiple:true,singularName:'ariaLabelledBy'}},events:{editToggled:{parameters:{editable:{type:'boolean'}}},checked:{parameters:{erroneousFields:{type:'sap.ui.comp.smartfield.SmartField[]'}}}}},renderer:function(i,j){i.write('<div');i.writeControlData(j);i.addClass('sapUiCompSmartForm');i.writeClasses();i.write('>');var k=j.getAggregation('content');i.renderControl(k);i.write('</div>');}});S.prototype.init=function(){this._oForm=new F(this.getId()+'--Form');this._oForm.getToolbar=function(){var i=this.getParent();if(i&&!i.getExpandable()){return i._getToolbar();}};this.setAggregation('content',this._oForm);this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._oObserver=new M(g.bind(this));this._oObserver.observe(this,{properties:['editTogglable','title','checkButton','useHorizontalLayout','horizontalLayoutGroupElementMinWidth','expandable','expanded'],aggregations:['layout','customData'],associations:['ariaLabelledBy']});};S.prototype.onBeforeRendering=function(){$.call(this);};S.prototype.addGroup=function(i){if(!i){return this;}i=this.validateAggregation('groups',i,true);y.call(this,i);this._delegateEditMode(i);this._oForm.addFormContainer(i);_.call(this,i);return this;};S.prototype.getGroups=function(){return this._oForm.getFormContainers();};S.prototype.indexOfGroup=function(i){return this._oForm.indexOfFormContainer(i);};S.prototype.insertGroup=function(i,j){if(!i){return this;}i=this.validateAggregation('groups',i,true);y.call(this,i);this._delegateEditMode(i);this._oForm.insertFormContainer(i,j);_.call(this,i);return this;};S.prototype.removeGroup=function(i){var j=this._oForm.removeFormContainer(i);if(j){j.detachEvent('_visibleChanged',g1,this);A.call(this,j);g1.call(this);}return j;};S.prototype.removeAllGroups=function(){var j=this._oForm.removeAllFormContainers();for(var i=0;i<j.length;i++){j[i].detachEvent('_visibleChanged',g1,this);A.call(this,j[i]);}g1.call(this);return j;};S.prototype.destroyGroups=function(){var j=this.getGroups();for(var i=0;i<j.length;i++){j[i].detachEvent('_visibleChanged',g1,this);}this._oForm.destroyFormContainers();g1.call(this);return this;};function _(i){var j=this.getUseHorizontalLayout();var k=this.getHorizontalLayoutGroupElementMinWidth();i.attachEvent('_visibleChanged',g1,this);if(k!=i.getHorizontalLayoutGroupElementMinWidth){i.setHorizontalLayoutGroupElementMinWidth(k);}if(j!=i.getUseHorizontalLayout()){i.setUseHorizontalLayout(j);}if(j){i._updateGridDataSpan();i._updateLineBreaks();}else{g1.call(this);}}S.prototype._getToolbar=function(){var i=this.getCustomToolbar();return i||this.getAggregation('toolbar');};S.prototype.propagateGridDataSpan=function(){var j=this.getGroups();for(var i=0;i<j.length;i++){var k=j[i];k._updateGridDataSpan();k._updateLineBreaks();}return this;};S.prototype._getGridDataSpanNumbers=function(){var i=this.getLayout();var j;if(i&&i._getGridDataSpanNumbers){j=i._getGridDataSpanNumbers();}return j;};S.prototype._toggleEditMode=function(){var i=this.getEditable();this.setEditable(!i);};S.prototype.check=function(i){var j=this._checkClientError(i);return j;};S.prototype._checkClientError=function(i){if(i===undefined){i=true;}var j=this.getSmartFields(i,i);var k=[];var k1=null;j.forEach(function(l1){if(l1.checkClientError()){if(i&&l1.getVisible){if(!l1.getVisible()){return;}}k1=l1.getParent();while(k1.getParent){k1=k1.getParent();if(k1.isA('sap.ui.comp.smartform.Group')){if(!k1.getExpanded()){k1.setExpanded(true);}break;}}k.push(l1.getId());}});return k;};S.prototype._displayError=function(i){var j=this._oRb.getText('FORM_CLIENT_CHECK_ERROR_TITLE');var k=this._oRb.getText('FORM_CLIENT_CHECK_ERROR');if(!c&&!this._bMessageBoxRequested){c=sap.ui.require('sap/m/MessageBox');if(!c){sap.ui.require(['sap/m/MessageBox'],d.bind(this));this._bMessageBoxRequested=true;}}if(c){c.show(k,{icon:c.Icon.ERROR,title:j,styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});}};function d(i){c=i;this._bMessageBoxRequested=false;if(!this._bIsBeingDestroyed){e.call(this);}}function e(){var i=this.check(true);if(i&&i.length>0){this._displayError(i);return true;}return false;}S.prototype.setEditable=function(i){var j=this.getEditable();i=this.validateProperty('editable',i);if(j===i){return this;}if(!i&&this.hasListeners('editToggled')){if(e.call(this)){return this;}}this.setProperty('editable',i);if(this._oForm){this._oForm.setEditable(i);}this.fireEditToggled({editable:i});if(this._oEditToggleButton){this._oEditToggleButton.setIcon(i?'sap-icon://display':'sap-icon://edit');var k=this._oRb.getText(i?'FORM_TOOLTIP_DISPLAY':'FORM_TOOLTIP_EDIT');this._oEditToggleButton.setTooltip(k);}var k1=this.getGroups();k1.forEach(function(l1){l1.setEditMode(i);});if(this.getCheckButton()&&i){U.call(this);}else{V.call(this);}return this;};function g(i){if(i.object==this){if(i.name=='editTogglable'){h.call(this,i.current);}else if(i.name=='title'){m.call(this,i.current);}else if(i.name=='checkButton'){n.call(this,i.current);}else if(i.name=='useHorizontalLayout'){o.call(this,i.current);}else if(i.name=='horizontalLayoutGroupElementMinWidth'){r.call(this,i.current);}else if(i.name=='expanded'){w.call(this,i.current);}else if(i.name=='expandable'){s.call(this,i.current);}else if(i.name=='layout'){p.call(this,i.child,i.mutation);}else if(i.name=='customData'){x.call(this,i.child,i.mutation);}else if(i.name=='ariaLabelledBy'){D.call(this,i.ids,i.mutation);}}else if(i.object.isA('sap.ui.comp.smartform.SmartFormLayout')){j1.call(this,i.object,i.name,i.current,i.old);}}function h(i){if(i){Q.call(this);}else{R.call(this);}H.call(this);}function m(i){if(this._oPanel){this._oPanel.setHeaderText(i);}H.call(this);}function n(i){if(i){U.call(this);}else{V.call(this);}H.call(this);}function o(i){if(i){this.addStyleClass('sapUiCompSmartFormHorizontalLayout');}else{this.removeStyleClass('sapUiCompSmartFormHorizontalLayout');}var j=this.getGroups();if(j){j.forEach(function(k1){if(k1.getUseHorizontalLayout()!=i){k1.setUseHorizontalLayout(i);}});}var k=this.getLayout();if(i){e1.call(this,k);}else{$.call(this);e1.call(this,k);}}function p(i,j){if(j==='remove'){this._oObserver.unobserve(i);}else{this._oObserver.observe(i,{properties:true});}if(i.isA('sap.ui.comp.smartform.Layout')){this.propagateGridDataSpan();}$.call(this);e1.call(this,j==='insert'?i:null);}function r(i){q.sap.log.error('HorizontalLayoutGroupElementMinWidth is deprecated',this);var j=this.getGroups();if(j){j.forEach(function(k){k.setHorizontalLayoutGroupElementMinWidth(i);});}}S.prototype.getVisibleProperties=function(){var i=[];var j=this.getGroups();if(j){j.forEach(function(k){var k1=k.getGroupElements();if(k1.length>0){k1.forEach(function(l1){var m1=l1.getElements();if(m1.length>0){m1.forEach(function(n1){if(n1.getVisible()){var o1=n1.getBindingPath('value');if(o1){i.push(o1);}}});}});}});}return i;};S.prototype.setCustomToolbar=function(i){var j=this.getCustomToolbar();if(j==i){return this;}K.call(this);R.call(this);V.call(this);this.setAggregation('customToolbar',i);if(this.getTitle()){H.call(this);}if(this.getEditTogglable()){Q.call(this);}if(this.getCheckButton()){U.call(this);}return this;};S.prototype.destroyCustomToolbar=function(){var i=this.getCustomToolbar();if(i){K.call(this);R.call(this);V.call(this);}this.destroyAggregation('customToolbar');if(this.getTitle()){H.call(this);}if(this.getEditTogglable()){Q.call(this);}if(this.getCheckButton()){U.call(this);}return this;};function s(i){if(i){if(!P&&!this._bPanelRequested){P=sap.ui.require('sap/m/Panel');if(!P){sap.ui.require(['sap/m/Panel'],u.bind(this));this._bPanelRequested=true;}}if(P){t.call(this);}}else if(this._oPanel){this.setAggregation('content',this._oForm);this._oPanel.destroy();this._oPanel=null;}H.call(this);}function t(){this._oPanel=new P(this.getId()+'--Panel',{expanded:this.getExpanded(),expandable:true,headerText:this.getTitle(),expandAnimation:false});this._oPanel.getHeaderToolbar=function(){var i=this.getParent();if(i){return i._getToolbar();}};this._oPanel.attachExpand(v,this);this.setAggregation('content',this._oPanel);this._oPanel.addContent(this._oForm);}function u(i){P=i;this._bPanelRequested=false;if(this.getExpandable()&&!this._bIsBeingDestroyed){t.call(this);}}function v(i){this.setProperty('expanded',i.getParameter('expand'),true);}function w(i){if(this._oPanel){this._oPanel.setExpanded(i);}}function x(j,k){var k1=this.getGroups();for(var i=0;i<k1.length;i++){if(k==='insert'){z.call(this,k1[i],j);}else{A.call(this,k1[i],j.getId());}}}function y(j){var k=this.getCustomData();for(var i=0;i<k.length;i++){z.call(this,j,k[i]);}}function z(i,j){if(sap.ui.comp.smartform.inheritCostomDataToFields(j)){var k=j.clone();k._bFromSmartForm=true;k._sOriginalId=j.getId();i.addCustomData(k);}}function A(j,k){var k1=j.getCustomData();for(var i=0;i<k1.length;i++){var l1=k1[i];if(l1._bFromSmartForm&&(!k||k==l1._sOriginalId)){j.removeCustomData(l1);}}}function D(j,k){var k1;if(Array.isArray(j)){k1=j;}else{k1=[j];}for(var i=0;i<k1.length;i++){var l1=k1[i];if(k==='insert'){this._oForm.addAriaLabelledBy(l1);}else{this._oForm.removeAriaLabelledBy(l1);}}}S.prototype._delegateEditMode=function(i){if(i){i.setEditMode(this.getEditable());}};S.prototype.getSmartFields=function(k1,l1){var m1=[];var n1=[];var o1=[];var p1=[];if(k1===undefined){k1=true;}m1=this.getGroups();for(var i=0;i<m1.length;i++){var q1=m1[i];if(!k1||(k1&&q1.isVisible())){n1=q1.getGroupElements();for(var j=0;j<n1.length;j++){var r1=n1[j];if(!l1||(l1&&r1.isVisible())){o1=r1.getElements();for(var k=0;k<o1.length;k++){var s1=o1[k];if(s1.isA('sap.ui.comp.smartfield.SmartField')){p1.push(s1);}}}}}}return p1;};S.prototype.setFocusOnEditableControl=function(){var i=[];this.getGroups().forEach(function(j){if(j.isVisible()){j.getGroupElements().forEach(function(k){if(k.isVisible()){i=i.concat(k.getElements());}});}});i.some(function(j){if(j.getEditable&&j.getEditable()&&j.focus&&j.getVisible()){if(j.isA('sap.ui.comp.smartfield.SmartField')){j.attachEventOnce('innerControlsCreated',function(k){q.sap.delayedCall(0,k.oSource._oControl[k.oSource._oControl.current],'focus');});}else{j.focus();}return true;}});};S.prototype.clone=function(j,k){this.setAggregation('content',null);var k1=this.getAggregation('toolbar');var l1=this.getCustomToolbar();var m1=this.getCustomData();var n1=this.getGroups();var i=0;if(l1){K.call(this);R.call(this);V.call(this);}else if(k1){this.setAggregation('toolbar',null);}if(m1.length>0){for(i=0;i<n1.length;i++){A.call(this,n1[i]);}}var o1=C.prototype.clone.apply(this,arguments);for(i=0;i<n1.length;i++){var p1=n1[i].clone(j,k);o1.addGroup(p1);}if(this.getExpandable()&&this._oPanel){this.setAggregation('content',this._oPanel);}else{this.setAggregation('content',this._oForm);}if(l1){if(this.getTitle()){H.call(this);}if(this.getEditTogglable()){Q.call(this);}if(this.getCheckButton()){U.call(this);}}else if(k1){this.setAggregation('toolbar',k1);}if(m1.length>0){for(i=0;i<n1.length;i++){y.call(this,n1[i]);}}return o1;};S.prototype.exit=function(){if(this._oForm){this._oForm.destroy();}if(this._oPanel){this._oPanel.destroy();}if(this._oTitle){this._oTitle.destroy();}if(this._oEditToggleButton){this._oEditToggleButton.destroy();}this._oForm=null;this._oPanel=null;this._oTitle=null;this._oRb=null;this._oEditToggleButton=null;this._oObserver.disconnect();this._oObserver=undefined;};function E(){var i=this.getAggregation('toolbar');if(!i){i=new O(this.getId()+'-toolbar-sfmain',{'height':'3rem','design':sap.m.ToolbarDesign.Transparent});i._bCreatedBySmartForm=true;this.setAggregation('toolbar',i);}return i;}function G(i){var j=this.getAggregation('toolbar');if(j){if(i){var k=j.getContent();if(k.length>0){return;}}this.destroyAggregation('toolbar');}}function H(){var i=this.getTitle();if(i){if(!this.getCustomToolbar()&&!this.getCheckButton()&&!this.getEditTogglable()){if(this._oTitle){if(this._getToolbar()){K.call(this);}this._oForm.removeAriaLabelledBy(this._oTitle);this._oTitle.destroy();this._oTitle=null;}this._oForm.setTitle(i);}else{this._oForm.setTitle();if(!this._oTitle){if((!T||!O||!a||!b)&&!this._bTitleRequested){T=sap.ui.require('sap/m/Title');O=sap.ui.require('sap/m/OverflowToolbar');a=sap.ui.require('sap/m/ToolbarSpacer');b=sap.ui.require('sap/m/ToolbarSeparator');if(!T||!O||!a||!b){sap.ui.require(['sap/m/Title','sap/m/OverflowToolbar','sap/m/ToolbarSpacer','sap/m/ToolbarSeparator'],I.bind(this));this._bTitleRequested=true;}}if(T&&!this._bTitleRequested){this._oTitle=new T(this.getId()+'-title-sfmain');}}if(this._oTitle){this._oTitle.setText(i);this._oForm.addAriaLabelledBy(this._oTitle);J.call(this);}}}else{if(this._oTitle){K.call(this);this._oForm.removeAriaLabelledBy(this._oTitle);this._oTitle.destroy();this._oTitle=null;}else{this._oForm.setTitle();}}}function I(i,j,k,k1){T=i;O=j;a=k;b=k1;this._bTitleRequested=false;if(!this._bIsBeingDestroyed){H.call(this);}}function J(){if(!this._oTitle){return;}var i=this._getToolbar();if(!i){i=E.call(this);}i.insertContent(this._oTitle,0);}function K(){if(!this._oTitle){return;}var i=this._getToolbar();i.removeContent(this._oTitle);G.call(this,true);}function L(){if((!B||!O||!a||!b)&&!this._bButtonRequested){B=sap.ui.require('sap/m/Button');O=sap.ui.require('sap/m/OverflowToolbar');a=sap.ui.require('sap/m/ToolbarSpacer');b=sap.ui.require('sap/m/ToolbarSeparator');if(!B||!O||!a||!b){sap.ui.require(['sap/m/Button','sap/m/OverflowToolbar','sap/m/ToolbarSpacer','sap/m/ToolbarSeparator'],N.bind(this));this._bButtonRequested=true;}}if(B&&!this._bButtonRequested){return true;}return false;}function N(i,j,k,k1){B=i;O=j;a=k;b=k1;this._bButtonRequested=false;if(!this._bIsBeingDestroyed){if(this._bEditRequested){this._bEditRequested=false;Q.call(this);}if(this._bCheckRequested){this._bCheckRequested=false;U.call(this);}}}function Q(){if(!this.getEditTogglable()){return;}if(!L.call(this)){this._bEditRequested=true;return;}var i=this._getToolbar();if(!i){i=E.call(this);}if(!this._oCheckButton){X.call(this,i);}if(!this._oEditToggleButton){var j=this.getEditable()?'sap-icon://display':'sap-icon://edit';var k=this._oRb.getText(this.getEditable()?'FORM_TOOLTIP_DISPLAY':'FORM_TOOLTIP_EDIT');this._oEditToggleButton=new B(i.getId()+'-button-sfmain-editToggle',{icon:j,tooltip:k});this._oEditToggleButton.attachPress(this._toggleEditMode,this);}var k1=i.getContent().length;if(this._oCheckButton){k1--;}i.insertContent(this._oEditToggleButton,k1);}function R(){if(!this._oEditToggleButton){return;}var i=this._getToolbar();i.removeContent(this._oEditToggleButton);this._oEditToggleButton.destroy();this._oEditToggleButton=null;Y.call(this,i);G.call(this,true);}function U(){if(!this.getCheckButton()||!this.getEditable()){return;}if(!L.call(this)){this._bCheckRequested=true;return;}var i=this._getToolbar();if(!i){i=E.call(this);}if(!this._oEditToggleButton){X.call(this,i);}if(!this._oCheckButton){this._oCheckButton=new B(this.getId()+'-'+i.getId()+'-button-sfmain-check',{text:this._oRb.getText('SMART_FORM_CHECK')});this._oCheckButton.attachPress(W,this);}var j=i.getContent().length;i.insertContent(this._oCheckButton,j);}function V(){if(!this._oCheckButton){return;}var i=this._getToolbar();i.removeContent(this._oCheckButton);this._oCheckButton.destroy();this._oCheckButton=null;Y.call(this,i);G.call(this,true);}function W(i){var j=[];j=this.check(true);this.fireChecked({erroneousFields:j});}function X(j){var k;if(!j._bCreatedBySmartForm){var k1=j.getContent();var l1=false;for(var i=0;i<k1.length;i++){if(k1[i]instanceof a){l1=true;break;}}if(!l1){k=new a();k._bCreatedBySmartForm=true;j.addContent(k);}if(!(k1[k1.length-1]instanceof b)){var m1=new b();m1._bCreatedBySmartForm=true;j.addContent(m1);}}else{k=new a();k._bCreatedBySmartForm=true;j.addContent(k);}}function Y(i){var j=i.getContent();var k;if(!i._bCreatedBySmartForm){k=j[j.length-1];if(k instanceof b&&k._bCreatedBySmartForm){k.destroy();}j=i.getContent();}k=j[j.length-1];if(k instanceof a&&k._bCreatedBySmartForm){k.destroy();}}function Z(i,j){if(!i.layout&&!i.requested){i.layout=sap.ui.require(i.path);if(!i.layout){sap.ui.require([i.path],i.loaded.bind(this));i.requested=true;}}if(i.layout&&!i.requested&&!(j instanceof i.layout)){if(j){j.destroy();}j=new i.layout();this._oForm.setLayout(j);return true;}return false;}function $(){var j=this.getLayout();var k=this._oForm.getLayout();var k1=this.getUseHorizontalLayout();var l1=false;if(j&&j.isA('sap.ui.comp.smartform.ColumnLayout')){if(k1){throw new Error('ColumnLayout and useHorizontalLayout must not ne used at the same time on '+this);}l1=Z.call(this,f.ColumnLayout,k);if(l1){i1.call(this,j);}}else if(k1&&(!j||!j.getGridDataSpan())){l1=Z.call(this,f.ResponsiveLayout,k);}else if(!k||!f.ResponsiveGridLayout.layout||!(k instanceof f.ResponsiveGridLayout.layout)){l1=Z.call(this,f.ResponsiveGridLayout,k);if(l1){this._oFormLayoutNotInitial=true;f1.call(this,j);}}if(l1){var m1=this.getGroups();for(var i=0;i<m1.length;i++){var n1=m1[i];n1._updateLayoutData();}}}function a1(i,j){i.layout=j;i.requested=false;if(!this._bIsBeingDestroyed){$.call(this);}}function b1(i){a1.call(this,f.ResponsiveGridLayout,i);}function c1(i){a1.call(this,f.ResponsiveLayout,i);}function d1(i){a1.call(this,f.ColumnLayout,i);}function e1(i){if(!i||i.isA('sap.ui.comp.smartform.Layout')){f1.call(this,i);}else if(i.isA('sap.ui.comp.smartform.ColumnLayout')){i1.call(this,i);}}function f1(i){var j=this._oForm.getLayout();if(!j||!j.isA(f.ResponsiveGridLayout.name)){return;}if(this.getUseHorizontalLayout()){if(i&&i.getGridDataSpan()){h1.call(this,j);j.setColumnsL(1);j.setColumnsM(1);if(i.getBreakpointM()>0){j.setBreakpointM(i.getBreakpointM());}if(i.getBreakpointL()>0){j.setBreakpointL(i.getBreakpointL());}if(i.getBreakpointXL()>0){j.setBreakpointXL(i.getBreakpointXL());}this._oFormLayoutNotInitial=true;}}else{if(i){j.setLabelSpanXL(i.getLabelSpanXL()?i.getLabelSpanXL():-1);j.setLabelSpanL(i.getLabelSpanL()?i.getLabelSpanL():4);j.setLabelSpanM(i.getLabelSpanM()?i.getLabelSpanM():4);j.setLabelSpanS(i.getLabelSpanS()?i.getLabelSpanS():12);j.setEmptySpanXL(i.getEmptySpanXL()?i.getEmptySpanXL():-1);j.setEmptySpanL(i.getEmptySpanL()?i.getEmptySpanL():0);j.setEmptySpanM(i.getEmptySpanM()?i.getEmptySpanM():0);j.setColumnsXL(i.getColumnsXL()?i.getColumnsXL():-1);j.setColumnsL(i.getColumnsL()?i.getColumnsL():3);j.setColumnsM(i.getColumnsM()?i.getColumnsM():2);j.setSingleContainerFullSize(i.getSingleGroupFullSize());j.setBreakpointXL(i.getBreakpointXL()?i.getBreakpointXL():1440);j.setBreakpointL(i.getBreakpointL()?i.getBreakpointL():1024);j.setBreakpointM(i.getBreakpointM()?i.getBreakpointM():600);this._oFormLayoutNotInitial=true;}else{h1.call(this,j);}g1.call(this,i,j);}}function g1(j,k){if(this.getUseHorizontalLayout()){return;}if(!k){k=this._oForm.getLayout();j=this.getLayout();}if(!k||!k.isA(f.ResponsiveGridLayout.name)){return;}var k1=this.getGroups();var l1=-1;var m1=3;var n1=true;var o1=0;for(var i=0;i<k1.length;i++){if(k1[i].isVisible()){o1++;}}if(j){m1=j.getColumnsL()?j.getColumnsL():3;l1=(j.getColumnsXL()>0)?j.getColumnsXL():-1;n1=j.getSingleGroupFullSize();}if(k1&&o1>0&&o1<l1&&n1){k.setColumnsXL(o1);}else if(k.getColumnsXL()!=l1){k.setColumnsXL(l1);}if(k1&&o1>0&&o1<m1&&n1){k.setColumnsL(o1);}else if(k.getColumnsL()!=m1){k.setColumnsL(m1);}}function h1(i){if(this._oFormLayoutNotInitial){i.setLabelSpanXL(-1);i.setLabelSpanL(4);i.setLabelSpanM(4);i.setLabelSpanS(12);i.setEmptySpanXL(-1);i.setEmptySpanL(0);i.setEmptySpanM(0);i.setColumnsXL(-1);i.setColumnsL(3);i.setColumnsM(2);i.setSingleContainerFullSize(true);i.setBreakpointXL(1440);i.setBreakpointL(1024);i.setBreakpointM(600);this._oFormLayoutNotInitial=false;}}function i1(i){var j=this._oForm.getLayout();if(!j||!j.isA(f.ColumnLayout.name)){return;}if(this.getUseHorizontalLayout()){throw new Error('ColumnLayout and useHorizontalLayout must not ne used at the same time on '+this);}else{j.setColumnsXL(i.getColumnsXL());j.setColumnsL(i.getColumnsL());j.setColumnsM(i.getColumnsM());j.setLabelCellsLarge(i.getLabelCellsLarge());j.setEmptyCellsLarge(i.getEmptyCellsLarge());}}function j1(i,j,k,k1){e1.call(this,i);if(j==='gridDataSpan'){this.propagateGridDataSpan();if(k===''||k1===''){$.call(this);}}}return S;},true);\n",
	"sap/ui/comp/smartform/flexibility/SmartForm.flexibility.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/comp/smartform/flexibility/changes/RemoveGroup','sap/ui/comp/smartform/flexibility/changes/AddGroup','sap/ui/comp/smartform/flexibility/changes/MoveGroups','sap/ui/comp/smartform/flexibility/changes/RenameTitle','sap/ui/comp/smartform/flexibility/changes/CombineFields','sap/ui/comp/smartform/flexibility/changes/SplitField','sap/ui/comp/smartform/flexibility/changes/MoveFields'],function(R,A,M,a,C,S,b){'use strict';return{'removeGroup':R,'addGroup':A,'moveGroups':M,'renameField':a,'combineFields':C,'splitField':S,'moveControls':b};},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/AddField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils','sap/ui/fl/changeHandler/Base','sap/ui/core/util/reflection/JsControlTreeModifier'],function(q,U,B,J){'use strict';var A={};A.applyChange=function(c,g,p){var C=c.getDefinition();var f=function(C){var M=C.texts&&C.texts.fieldLabel&&C.texts.fieldLabel.value;var b=C.content;var d=false;if(b){d=C.content.field&&(C.content.field.selector||C.content.field.id)&&C.content.field.jsType&&C.content.field.value&&C.content.field.valueProperty;}return M&&b&&d;};var m=p.modifier;var v=p.view;if(f(C)){var o=C.content;var F=o.field.selector;var s=o.field.id;var l=C.texts.fieldLabel.value;var j=o.field.jsType;var P=o.field.valueProperty;var a=o.field.value;var e=o.field.entitySet;var i=o.field.index;var G=m.createControl('sap.ui.comp.smartform.GroupElement',p.appComponent,v,F||s);m.setProperty(G,'label',undefined);m.setProperty(G,'label',l);m.insertAggregation(g,'groupElements',G,i,v);this.addElementIntoGroupElement(m,v,G,l,j,P,a,e,i,p.appComponent);return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+C.layer+']'+C.namespace+'/'+C.fileName+'.'+C.fileType);}};A.addElementIntoGroupElement=function(m,v,g,l,j,p,P,e,i,a){var V=m.createControl(j,a,v);m.bindProperty(V,p,P);m.insertAggregation(g,'elements',V,i,v,true);if(e){m.setProperty(V,'entitySet',e);}};A.completeChangeContent=function(c,s,p){var a=p.appComponent;var C=c.getDefinition();if(s.fieldLabel){B.setTextInChange(C,'fieldLabel',s.fieldLabel,'XFLD');}else{throw new Error('oSpecificChangeInfo.fieldLabel attribute required');}if(!C.content){C.content={};}if(!C.content.field){C.content.field={};}if(s.fieldValue){C.content.field.value=s.fieldValue;}else{throw new Error('oSpecificChangeInfo.fieldValue attribute required');}if(s.valueProperty){C.content.field.valueProperty=s.valueProperty;}else{throw new Error('oSpecificChangeInfo.valueProperty attribute required');}if(s.newControlId){C.content.field.selector=J.getSelector(s.newControlId,a,{index:s.index});}else{throw new Error('oSpecificChangeInfo.newControlId attribute required');}if(s.jsType){C.content.field.jsType=s.jsType;}else{throw new Error('oSpecificChangeInfo.jsType attribute required');}if(s.index===undefined){throw new Error('oSpecificChangeInfo.index attribute required');}else{C.content.field.index=s.index;}if(s.entitySet){C.content.field.entitySet=s.entitySet;}};return A;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/AddFields.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils','sap/ui/fl/changeHandler/Base','sap/ui/core/util/reflection/JsControlTreeModifier'],function(q,U,B,J){'use strict';var A={};A.applyChange=function(c,g,p){var C=c.getDefinition();var f=function(C){var b=C.content;var M=false;if(b){M=C.content.field&&(C.content.field.selector||C.content.field.id)&&C.content.field.jsTypes&&C.content.field.value&&C.content.field.valueProperty;}return b&&M;};var m=p.modifier;var v=p.view;if(f(C)){var F=C.content.field.selector;var s=C.content.field.id;var a=C.content.field.index;var G=m.createControl('sap.ui.comp.smartform.GroupElement',p.appComponent,v,F||s);for(var i=0;i<C.content.field.jsTypes.length;i++){var j=C.content.field.jsTypes[i];var P=C.content.field.valueProperty[i];var o=C.content.field.value[i];var e=C.content.field.entitySet;this.addElementIntoGroupElement(m,v,G,j,P,o,e,i,p.appComponent);}m.insertAggregation(g,'groupElements',G,a);return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+C.layer+']'+C.namespace+'/'+C.fileName+'.'+C.fileType);}};A.addElementIntoGroupElement=function(m,v,g,j,p,P,e,i,a){var V=m.createControl(j,a,v);m.bindProperty(V,p,P);m.setProperty(V,'expandNavigationProperties',true);m.insertAggregation(g,'elements',V,i,v,true);if(e){m.setProperty(V,'entitySet',e);}};A.completeChangeContent=function(c,s,p){var a=p.appComponent;var C=c.getDefinition();if(!C.content){C.content={};}if(!C.content.field){C.content.field={};}if(s.fieldValues){C.content.field.value=s.fieldValues;}else if(s.bindingPath){C.content.field.value=[s.bindingPath];}else{throw new Error('oSpecificChangeInfo.fieldValue or bindingPath attribute required');}if(s.valueProperty){C.content.field.valueProperty=s.valueProperty;}else if(s.bindingPath){C.content.field.valueProperty=['value'];}else{throw new Error('oSpecificChangeInfo.valueProperty or bindingPath attribute required');}if(s.newControlId){C.content.field.selector=J.getSelector(s.newControlId,a);}else{throw new Error('oSpecificChangeInfo.newControlId attribute required');}if(s.jsTypes){C.content.field.jsTypes=s.jsTypes;}else if(s.bindingPath){C.content.field.jsTypes=['sap.ui.comp.smartfield.SmartField'];}else{throw new Error('oSpecificChangeInfo.jsTypes or bindingPath attribute required');}if(s.index===undefined){throw new Error('oSpecificChangeInfo.index attribute required');}else{C.content.field.index=s.index;}if(s.entitySet){C.content.field.entitySet=s.entitySet;}};return A;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/AddGroup.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/fl/Utils','jquery.sap.global','sap/ui/fl/changeHandler/Base','sap/ui/core/util/reflection/JsControlTreeModifier'],function(U,q,B,J){'use strict';var A={};A.applyChange=function(c,f,p){var m=p.modifier;var a=p.appComponent;var v=p.view;var C=c.getDefinition();if(C.texts&&C.texts.groupLabel&&C.texts.groupLabel.value&&C.content&&C.content.group&&(C.content.group.selector||C.content.group.id)){var l=C.texts.groupLabel.value;var i=C.content.group.index;var g=m.createControl('sap.ui.comp.smartform.Group',a,v,C.content.group.selector||C.content.group.id);m.setProperty(g,'visible',true);m.setProperty(g,'label',l);m.insertAggregation(f,'groups',g,i,v);}else{U.log.error('Change does not contain sufficient information to be applied: ['+C.layer+']'+C.namespace+'/'+C.fileName+'.'+C.fileType);}};A.completeChangeContent=function(c,s,p){var C=c.getDefinition();var a=p.appComponent;if(s.newLabel){B.setTextInChange(C,'groupLabel',s.newLabel,'XFLD');}else{throw new Error('oSpecificChangeInfo.groupLabel attribute required');}if(!C.content){C.content={};}if(!C.content.group){C.content.group={};}if(s.index===undefined){throw new Error('oSpecificChangeInfo.index attribute required');}else{C.content.group.index=s.index;}if(s.newControlId){C.content.group.selector=J.getSelector(s.newControlId,a);}else{throw new Error('oSpecificChangeInfo.newControlId attribute required');}};return A;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/CombineFields.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils','sap/ui/fl/changeHandler/Base'],function(q,F,B){'use strict';var C={};C._evaluateElementForIndex=function(m,g){var M=-1;var s=[];var b=g.some(function(G){s=m.getAggregation(G,'fields');return s.some(function(S){M++;return m.getProperty(S,'mandatory');});});if(b){return M;}return-1;};C._collectRevertData=function(m,g){var r={elementStates:[]};g.forEach(function(e){var s=m.getAggregation(e,'elements');var p=m.getParent(e);var f=[];var a=[];s.forEach(function(o){var l=m.getProperty(o,'textLabel')||'';f.push(l);a.push(m.getId(o));});r.elementStates.push({groupElementId:m.getId(e),parentId:m.getId(p),groupElementIndex:m.getAggregation(p,'groupElements').indexOf(e),fieldsIds:a,label:m.getProperty(e,'label'),fieldsLabels:f});});return r;};C.applyChange=function(c,o,p){var a=c.getDefinition();var M=p.modifier;var A=p.appComponent;var v=p.view;var s=M.bySelector(a.content.sourceSelector,A,v);var l=[];var L;var P;var t;var b;var S=[];var g=a.content.combineFieldSelectors.map(function(e){return M.bySelector(e,A,v);});c.setRevertData(this._collectRevertData(M,g));var d=this._evaluateElementForIndex(M,g);if(d>0){M.setProperty(s,'elementForLabel',d);}var I=sap.ui.getCore().getConfiguration().getRTL();for(var i=0;i<g.length;i++){L='fieldLabel'+i.toString();t=a.texts[L];if(t&&t.value!==P&&t.value.length>0){I?l.unshift(t.value):l.push(t.value);P=t.value;}S=M.getAggregation(g[i],'elements');if(g[i]!==s){for(var k=0,m=S.length;k<m;k++){M.removeAggregation(g[i],'elements',S[k]);M.insertAggregation(s,'elements',S[k],i+k,v);}b=M.getParent(g[i]);M.removeAggregation(b,'groupElements',g[i]);M.insertAggregation(b,'dependents',g[i],0,v);}}if(l.length>0){M.setProperty(s,'label',l.join('/'));}return true;};C.revertChange=function(c,s,p){var r=c.getRevertData();var m=p.modifier;r.elementStates.forEach(function(e){var P=p.modifier.byId(e.parentId);var g=p.modifier.byId(e.groupElementId);if(m.getAggregation(P,'groupElements').indexOf(g)===-1){m.removeAggregation(P,'dependents',g);m.insertAggregation(P,'groupElements',g,e.groupElementIndex);}else{m.removeAllAggregation(g,'elements');}});r.elementStates.forEach(function(e){var g=p.modifier.byId(e.groupElementId);e.fieldsIds.forEach(function(f,i){var o=p.modifier.byId(f);m.insertAggregation(g,'elements',o,i);m.setProperty(o,'textLabel',e.fieldsLabels[i]);});m.setProperty(g,'label',e.label);});c.resetRevertData();return true;};C.completeChangeContent=function(c,s,p){var m=p.modifier;var a=p.appComponent;var o=c.getDefinition();var b=s.combineFieldIds;if(b&&b.length>=2){o.content.combineFieldSelectors=b.map(function(d){return m.getSelector(d,a);});c.addDependentControl(b,'combinedFields',p);}else{throw new Error('oSpecificChangeInfo.combineFieldIds attribute required');}if(s.sourceControlId){o.content.sourceSelector=m.getSelector(s.sourceControlId,a);c.addDependentControl(s.sourceControlId,'sourceControl',p);}else{throw new Error('oSpecificChangeInfo.sourceControlId attribute required');}var t;var f;var g;for(var i=0;i<b.length;i++){g=m.byId(b[i]);t=g.getLabelText();if(t){f='fieldLabel'+i;B.setTextInChange(o,f,t,'XFLD');}}};return C;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/MoveFields.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/fl/changeHandler/MoveControls'],function(M){'use strict';var a=jQuery.extend({},M);a.applyChange=function(c,C,p){p.targetAggregation='groupElements';p.sourceAggregation='groupElements';return M.applyChange.call(this,c,C,p);};return a;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/MoveGroups.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/Base','sap/ui/fl/Utils','sap/ui/core/util/reflection/JsControlTreeModifier'],function(q,B,F,J){'use strict';var M={};M._checkCompleteChangeContentConditions=function(s){if(!s.movedElements){throw new Error('oSpecificChangeInfo.movedElements attribute required');}if(s.movedElements.length===0){throw new Error('MovedElements array is empty');}s.movedElements.forEach(function(m){if(!m.id){throw new Error('MovedElements element has no id attribute');}if(typeof(m.targetIndex)!=='number'){throw new Error('Index attribute at MovedElements element is no number');}});};M._buildStableChangeInfo=function(m){var s=m.source.id;var t=m.target.id;var c={changeType:m.changeType,selector:{id:s},targetId:t!==s?t:null};c[m.changeType]=[];m.movedElements.forEach(function(a){c[m.changeType].push({id:a.id,index:a.targetIndex});});return c;};M.applyChange=function(c,s,p){function a(c,m){if(!c){throw new Error('No change instance');}var C=c.getContent();if(!m.getAggregation(s,'groups')){F.log.error('Object has no smartform elements aggregation',m.getId(s));}if(!C||!C.moveGroups||C.moveGroups.length===0){throw new Error('Change format invalid');}}function g(o,m,A,v){if(!o.selector&&!o.id){throw new Error('Change format invalid - moveGroups element has no id attribute');}if(typeof(o.index)!=='number'){throw new Error('Change format invalid - moveGroups element index attribute is no number');}return m.bySelector(o.selector||o.id,A,v);}var m=p.modifier;var v=p.view;var A=p.appComponent;a(c,m);var C=c.getContent();C.moveGroups.forEach(function(o){var G=g(o,m,A,v);if(!G){F.log.warning('Group to move not found');return;}m.removeAggregation(s,'groups',G,v);m.insertAggregation(s,'groups',G,o.index);});return true;};M.completeChangeContent=function(c,s,p){this._checkCompleteChangeContentConditions(s);s=this._buildStableChangeInfo(s);var C=c.getDefinition();if(!C.content){C.content={};}if(!C.content.moveGroups){C.content.moveGroups=[];}var m=s.moveGroups.map(function(g){var G=sap.ui.getCore().byId(g.id);var S=J.getSelector(G,p.appComponent);C.content.moveGroups.push({selector:S,index:g.index});return G;});c.addDependentControl(m,'movedGroups',p);};return M;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RemoveField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/Base'],function(q,B){'use strict';var R={};R.applyChange=function(c,f,p){var m=p.modifier;var v=p.view;var g=m.getParent(f);if(g){m.removeAggregation(g,'groupElements',f,v);}return true;};R.completeChangeContent=function(c,s){var C=c.getDefinition();if(!C.content){C.content={};}};return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RemoveGroup.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/Base'],function(q,B){'use strict';var R={};R.applyChange=function(c,g,p){var m=p.modifier;var v=p.view;var f=m.getParent(g);if(m.getControlType(f)==='sap.ui.layout.form.Form'){m.removeAggregation(f,'formContainers',g,v);}else{m.removeAggregation(f,'groups',g,v);}return true;};R.completeChangeContent=function(c,s){var C=c.getDefinition();if(!C.content){C.content={};}};return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RenameField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/BaseRename','sap/ui/fl/Utils'],function(q,B,U){'use strict';var P='label';var C='fieldLabel';var T='XFLD';var R=B.createRenameChangeHandler({changePropertyName:C,translationTextType:T});R.applyChange=function(c,o,p){var m=p.modifier;var a=c.getDefinition();var t=a.texts[C];var v=t.value;if(a.texts&&t&&typeof(v)==='string'){var s=this._setPropertyOnControl(o,v,m)||'$$Handled_Internally$$';c.setRevertData(s);return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+a.layer+']'+a.namespace+'/'+a.fileName+'.'+a.fileType);}};R.revertChange=function(c,o,p){var O=c.getRevertData();if(O||O===''){var m=p.modifier;if(O==='$$Handled_Internally$$'){O=undefined;}this._setPropertyOnControl(o,O,m);c.resetRevertData();return true;}else{U.log.error(\"Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.\");}};R._setPropertyOnControl=function(c,v,m){var g='getProperty';var l=m[g](c,P);var s;var p;if(U.isBinding(v)){s='setPropertyBinding';g='getPropertyBinding';}else{s='setProperty';}if(l&&(typeof l!=='string')){p=m[g](l,'text');m[s](l,'text',v);}else{p=m[g](c,P);m[s](c,P,v);}return p;};return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RenameGroup.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/BaseRename'],function(q,B){'use strict';var R=B.createRenameChangeHandler({propertyName:'label',changePropertyName:'groupLabel',translationTextType:'XFLD'});return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RenameTitle.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/BaseRename'],function(q,B){'use strict';var R=B.createRenameChangeHandler({propertyName:'title',changePropertyName:'fieldLabel',translationTextType:'XFLD'});return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/SplitField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils','sap/ui/fl/changeHandler/Base'],function(q,F,B){'use strict';var S={};S.applyChange=function(c,C,p){var o=c.getDefinition();var m=p.modifier;var a=p.appComponent;var v=p.view;var s=m.bySelector(o.content.sourceSelector,a,v);var l;var N;var b;var L;var P=m.bySelector(o.content.parentSelector,a,v);var d=o.content.newElementIds.slice();var f=m.getAggregation(s,'elements');var e=m.getProperty(s,'elementForLabel');var g=m.getAggregation(P,'groupElements');var h=g.indexOf(s);L=m.getProperty(s,'label');if(L&&(typeof L!=='string')){l=m.getProperty(L,'text');}else{l=L;}for(var i=0,n=f.length;i<n;i++){var I=(m.getControlType(f[i])==='sap.ui.comp.smartfield.SmartField');if(i!==e){N=d.pop();b=m.createControl('sap.ui.comp.smartform.GroupElement',p.appComponent,v,N);m.removeAggregation(s,'elements',f[i]);m.insertAggregation(b,'elements',f[i],0,v);m.insertAggregation(P,'groupElements',b,h+i,v);if(!I||(I&&m.getProperty(f[i],'textLabel')==='')){L=m.getProperty(b,'label');if(L&&(typeof L!=='string')){m.setProperty(L,'text',l);}else{m.setProperty(b,'label',l);}}}else{if(e!==0){m.setProperty(s,'elementForLabel',0);}m.removeAggregation(s,'elements',f[i]);m.insertAggregation(s,'elements',f[i],0,v);if(!I||(I&&m.getProperty(f[i],'textLabel')==='')){L=m.getProperty(s,'label');if(L&&(typeof L!=='string')){m.setProperty(L,'text',l);}else{m.setProperty(s,'label',l);}}}}return true;};S.completeChangeContent=function(c,s,p){var m=p.modifier;var a=p.appComponent;var C=c.getDefinition();if(s.newElementIds){C.content.newElementIds=s.newElementIds;}else{throw new Error('oSpecificChangeInfo.newElementIds attribute required');}if(s.sourceControlId){C.content.sourceSelector=m.getSelector(s.sourceControlId,a);c.addDependentControl(s.sourceControlId,'sourceControl',p);}else{throw new Error('oSpecificChangeInfo.sourceControlId attribute required');}if(s.parentId){C.content.parentSelector=m.getSelector(s.parentId,a);c.addDependentControl(s.parentId,'parent',p);}else{throw new Error('oSpecificChangeInfo.parentId attribute required');}};return S;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/UnhideControl.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define([],function(){'use strict';var U={};U.applyChange=function(c,g,p){var m=p.modifier;var f=m.getAggregation(g,'elements');var P=f.some(function(F){return m.getVisible(F);});if(!P){f.forEach(function(F){m.setVisible(F,true);});}var l=m.getAggregation(g,'label');if(l&&(typeof l!=='string')){m.setVisible(l,true);}m.setVisible(g,true);return true;};U.completeChangeContent=function(c,s){var C=c.getDefinition();if(!C.content){C.content={};}};return U;},true);\n",
	"sap/ui/comp/smartlist/SmartList.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/m/VBox','sap/m/VBoxRenderer','sap/m/FlexItemData','sap/m/List','sap/m/Tree','sap/m/Title','sap/m/Toolbar','sap/m/OverflowToolbar','sap/m/ToolbarDesign','sap/m/ToolbarSpacer','sap/m/OverflowToolbarButton','sap/ui/comp/odata/ODataModelUtil','sap/ui/comp/util/FullScreenUtil','sap/ui/core/format/NumberFormat'],function(q,l,V,a,F,L,T,b,c,O,d,e,f,g,h,N){'use strict';var S=V.extend('sap.ui.comp.smartlist.SmartList',{metadata:{library:'sap.ui.comp',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},selectFields:{type:'string',group:'Misc',defaultValue:null},expandFields:{type:'string',group:'Misc',defaultValue:null},showRowCount:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:null},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},listBindingPath:{type:'string',group:'Misc',defaultValue:null},listType:{type:'sap.ui.comp.smartlist.ListType',group:'Misc',defaultValue:null},showFullScreenButton:{type:'boolean',group:'Misc',defaultValue:false}},associations:{smartFilter:{type:'sap.ui.core.Control'}},aggregations:{listItemTemplate:{type:'sap.m.ListItemBase',multiple:false}},events:{initialise:{},beforeRebindList:{},dataReceived:{}}},renderer:a.render,constructor:function(){V.apply(this,arguments);this.addStyleClass('sapUiCompSmartList');this._createToolbar();this._createList();this.attachModelContextChange(this._initialiseMetadata,this);}});S.prototype._sAggregation='items';S.prototype.setHeader=function(t){this.setProperty('header',t,true);this._refreshHeaderText();return this;};S.prototype.setShowRowCount=function(s){this.setProperty('showRowCount',s,true);this._refreshHeaderText();return this;};S.prototype.setShowFullScreenButton=function(s){this.setProperty('showFullScreenButton',s,true);if(this._oFullScreenButton){this._oFullScreenButton.setVisible(this.getShowFullScreenButton());}return this;};S.prototype.setEntitySet=function(E){this.setProperty('entitySet',E);this._initialiseMetadata();return this;};S.prototype._refreshHeaderText=function(){if(!this._headerText){return;}var t=this.getHeader();var i=!!t;this._headerText.setVisible(i);if(i&&this.getShowRowCount()){var r=parseInt(this._getRowCount(),10);if(!this._oNumberFormatter){this._oNumberFormatter=N.getFloatInstance();}var v=this._oNumberFormatter.format(r);t+=' ('+v+')';}this._headerText.setText(t);};S.prototype._addFullScreenButton=function(){if(this._oFullScreenButton){this._oToolbar.removeContent(this._oFullScreenButton);}if(this.getShowFullScreenButton()){if(!this._oFullScreenButton){this._oFullScreenButton=new f(this.getId()+'-btnFullScreen',{press:function(){this._toggleFullScreen(!this.bFullScreen);}.bind(this)});}this._toggleFullScreen(this.bFullScreen,true);this._oToolbar.addContent(this._oFullScreenButton);}};S.prototype._createToolbar=function(){var C,i,t;if(!this._oToolbar){C=this.getItems();i=C?C.length:0;while(i--){t=C[i];if(t instanceof c){break;}t=null;}if(t){this._oToolbar=t;}else{this._oToolbar=new O(this.getId()+'-toolbar',{design:d.Transparent});this.insertItem(this._oToolbar,0);}if(!this._oToolbar.getLayoutData()){this._oToolbar.setLayoutData(new F({shrinkFactor:0}));}}};S.prototype._toggleFullScreen=function(v,i){var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp'),t;if(!this._oFullScreenButton||(v===this.bFullScreen&&!i)){return;}this.bFullScreen=v;h.toggleFullScreen(this,this.bFullScreen,this._oFullScreenButton);t=this.bFullScreen?r.getText('CHART_MINIMIZEBTN_TOOLTIP'):r.getText('CHART_MAXIMIZEBTN_TOOLTIP');this._oFullScreenButton.setTooltip(t);this._oFullScreenButton.setText(t);this._oFullScreenButton.setIcon(this.bFullScreen?'sap-icon://exit-full-screen':'sap-icon://full-screen');};S.prototype._createToolbarContent=function(){if(!this._oToolbar){this._createToolbar();}this._addHeaderToToolbar();this._addSpacerToToolbar();this._addFullScreenButton();this._oToolbar.addStyleClass('sapMTBHeader-CTX');};S.prototype._addHeaderToToolbar=function(){if(this._headerText){this._oToolbar.removeContent(this._headerText);}if(!this._headerText){this._headerText=new b(this.getId()+'-header');this._headerText.addStyleClass('sapMH4Style');this._headerText.addStyleClass('sapUiCompSmartTableHeader');}this._refreshHeaderText();this._oToolbar.insertContent(this._headerText,0);};S.prototype._addSpacerToToolbar=function(){var j=false,I=this._oToolbar.getContent(),i,k;if(I){k=I.length;i=0;for(i;i<k;i++){if(I[i]instanceof e){j=true;break;}}}if(!j){this._oToolbar.addContent(new e(this.getId()+'-toolbarSpacer'));}};S.prototype._getRowCount=function(){var r=this._getRowBinding();if(!r){return 0;}var R=0;if(r.getTotalSize){R=r.getTotalSize();}else{R=r.getLength();}if(R<0||R==='0'){R=0;}return R;};S.prototype._getRowBinding=function(){if(this._oList){return this._oList.getBinding(this._sAggregation);}};S.prototype._initialiseMetadata=function(){if(!this.bIsInitialised){g.handleModelInit(this,this._onMetadataInitialised);}};S.prototype._onMetadataInitialised=function(){this._bMetaModelLoadAttached=false;if(!this.bIsInitialised){this.detachModelContextChange(this._initialiseMetadata,this);this.bIsInitialised=true;this._listenToSmartFilter();this._createToolbarContent();this._createContent();this.fireInitialise();this._checkAndTriggerBinding();}};S.prototype._checkAndTriggerBinding=function(){if(!this._bAutoBindingTriggered){this._bAutoBindingTriggered=true;if(this.getEnableAutoBinding()){if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindList();}}}};S.prototype._listenToSmartFilter=function(){var s=null;s=this.getSmartFilter();if(typeof s==='string'){this._oSmartFilter=sap.ui.getCore().byId(s);}else{this._oSmartFilter=s;}if(this._oSmartFilter){this._oSmartFilter.attachSearch(this._reBindList,this);this._oSmartFilter.attachFilterChange(this._filterChangeEvent,this);this._oSmartFilter.attachCancel(this._cancelEvent,this);this._setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_DATA'));}};S.prototype._filterChangeEvent=function(){if(this._isListBound()&&this._oSmartFilter&&!this._oSmartFilter.getLiveMode()){this._showOverlay(true);}};S.prototype._cancelEvent=function(){if(this._oSmartFilter&&!this._oSmartFilter.getLiveMode()){this._showOverlay(false);}};S.prototype._showOverlay=function(s){};S.prototype.rebindList=function(i){this._reBindList(null,i);};S.prototype._reBindList=function(E,i){var o,s,j,k,m,p={},B={preventListBind:false};if(this._oSmartFilter){j=this._oSmartFilter.getFilters();p=this._oSmartFilter.getParameters()||{};}k=j;if(!m){m=[];}p['select']=this.getSelectFields();p['expand']=this.getExpandFields();p['useBatchRequests']=true;B.filters=k;B.sorter=m;B.parameters=p;B.length=undefined;B.startIndex=undefined;this.fireBeforeRebindList({bindingParams:B});if(!B.preventListBind){m=B.sorter;k=B.filters;p=B.parameters;s=this.getListBindingPath()||('/'+this.getEntitySet());this._bDataLoadPending=true;this._bIgnoreChange=false;if(!i){o=this._oList.getBinding(this._sAggregation);if(o&&o.mParameters){i=!(q.sap.equal(p,o.mParameters,true)&&q.sap.equal(p.custom,o.mParameters.custom)&&!B.length&&!B.startIndex&&s===o.getPath());}}if(!o||!this._bIsListBound||i){this._oList.bindItems({path:s,filters:k,sorter:m,parameters:p,length:B.length,startIndex:B.startIndex,template:this._oTemplate,events:{dataRequested:function(){this._bIgnoreChange=true;}.bind(this),dataReceived:function(E){this._bIgnoreChange=false;this._onDataLoadComplete(E,true);this.fireDataReceived(E);}.bind(this),change:function(E){if(this._bIgnoreChange){return;}var r,n=false;r=(E&&E.getParameter)?E.getParameter('reason'):undefined;if(!r||r==='filter'||r==='context'){n=true;}if(r==='change'||n){this._onDataLoadComplete(E,n);}}.bind(this)}});this._bIsListBound=true;}else{o.sort(m);o.filter(k,'Application');}this._showOverlay(false);}};S.prototype._onDataLoadComplete=function(E,i){if(this._bDataLoadPending||i){this._bDataLoadPending=false;if(!this._bNoDataUpdated&&!this._getRowCount()){this._bNoDataUpdated=true;this._setNoDataText();}this._refreshHeaderText();}};S.prototype._isListBound=function(){if(this._bIsListBound){return true;}if(this._oList){return this._oList.isBound(this._sAggregation);}return false;};S.prototype._setNoDataText=function(o){if(this._oList){if(!o){o=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_RESULTS');}this._oList.setNoDataText(o);}};S.prototype._createContent=function(){if(!this._oTemplate){this._oTemplate=this.getListItemTemplate();}};S.prototype._createList=function(){var C=this.getItems(),i=C?C.length:0,o,I;while(i--){o=C[i];if(o instanceof L||o instanceof T){break;}o=null;}if(o){this._oList=o;if(o instanceof T){this._isTree=true;}else{this._isList=true;}this._oTemplate=(o.getItems()&&o.getItems().length>0)?o.getItems()[0]:this.getListItemTemplate();o.removeAllItems();}else{I=this.getId()+'-ui5list';if(this.getListType()==='Tree'){this._oList=new T(I);this._isTree=true;}else{this._oList=new L(I,{growing:true,growingScrollToLoad:true});this._isList=true;}this.insertItem(this._oList,2);}if(!this._oList.getLayoutData()){this._oList.setLayoutData(new F({growFactor:1,baseSize:'auto'}));}this._oList.addAriaLabelledBy(this.getId()+'-header');};S.prototype.getList=function(){return this._oList;};S.prototype.isInitialised=function(){return!!this.bIsInitialised;};S.prototype.exit=function(){if(this._oSmartFilter){this._oSmartFilter.detachSearch(this._reBindList,this);this._oSmartFilter.detachFilterChange(this._filterChangeEvent,this);this._oSmartFilter.detachCancel(this._cancelEvent,this);this._oSmartFilter=null;}h.cleanUpFullScreen(this);if(!this._bIsListBound&&this._oTemplate){this._oTemplate.destroy();}this._oTemplate=null;this._oToolbar=null;this._headerText=null;this._oFullScreenButton=null;this._oNumberFormatter=null;this._oList=null;};return S;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartAreaMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/suite/ui/microchart/library','sap/ui/core/Control','sap/m/ValueColor','sap/ui/model/odata/CountMode','sap/ui/comp/smartmicrochart/SmartMicroChartCommons','sap/ui/core/format/DateFormat'],function(q,C,M,a,V,b,S,D){'use strict';var c=a.extend('sap.ui.comp.smartmicrochart.SmartAreaMicroChart',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartmicrochart/SmartAreaMicroChart.designtime',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},chartType:{type:'string',group:'Misc',defaultValue:null},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:true},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'164px'},height:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'74px'},isResponsive:{type:'boolean',group:'Appearance',defaultValue:false}},defaultAggregation:'_chart',aggregations:{_chart:{type:'sap.suite.ui.microchart.AreaMicroChart',multiple:false,visibility:'hidden'},_chartTexts:{type:'sap.m.ListBase',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});c._CHART_TYPE=['Area','Line'];c.prototype.init=function(){this._bIsInitialized=false;this._bMetaModelLoadAttached=false;this.setProperty('chartType','Area',true);this.setAggregation('_chart',new M.AreaMicroChart(),true);};c.prototype.onBeforeRendering=function(){var o=this.getAggregation('_chart');o.setProperty('width',this.getWidth(),true);o.setProperty('height',this.getHeight(),true);o.setProperty('isResponsive',this.getIsResponsive(),true);M._passParentContextToChild(this,o);};c.prototype.destroy=function(){S._cleanup.call(this);a.prototype.destroy.apply(this,arguments);};c.prototype.setEntitySet=function(e){if(this.getProperty('entitySet')!==e){this.setProperty('entitySet',e,true);S._initializeMetadata.call(this);}return this;};c.prototype.setShowLabel=function(s){if(this.getShowLabel()!==s){this.setProperty('showLabel',s,true);this.getAggregation('_chart').setProperty('showLabel',s,true);this.invalidate();}return this;};c.prototype.setEnableAutoBinding=function(){return this.setProperty('enableAutoBinding',true,true);};c.prototype.setChartType=function(){return this;};c.prototype.propagateProperties=function(){if(a.prototype.propagateProperties){a.prototype.propagateProperties.apply(this,arguments);}S._initializeMetadata.call(this);};c.prototype._getBindingPath=function(){if(this.getChartBindingPath()){return this.getChartBindingPath();}else if(this.getEntitySet()){return'/'+this.getEntitySet();}else{return'';}};c.prototype.bindElement=function(){return this;};c.prototype._createAndBindInnerChart=function(){this._createChartLabels();this._createChartItem('chart',this._oDataPointAnnotations.Value.Path);this._createChartItem('target',this._oDataPointAnnotations.TargetValue.Path);this._buildThreshold();};c.prototype._buildThreshold=function(){var o=this._oDataPointAnnotations.CriticalityCalculation;if(S._hasMember(o,'ImprovementDirection.EnumMember')){switch(o.ImprovementDirection.EnumMember){case S._MINIMIZE:this._createChartItem('minThreshold',o.ToleranceRangeHighValue.Path,V.Good);this._createChartItem('maxThreshold',o.DeviationRangeHighValue.Path,V.Error);break;case S._MAXIMIZE:this._createChartItem('minThreshold',o.DeviationRangeLowValue.Path,V.Error);this._createChartItem('maxThreshold',o.ToleranceRangeLowValue.Path,V.Good);break;case S._TARGET:this._createChartItem('minThreshold',o.DeviationRangeLowValue.Path,V.Error);this._createChartItem('maxThreshold',o.DeviationRangeHighValue.Path,V.Error);this._createChartItem('innerMinThreshold',o.ToleranceRangeLowValue.Path,V.Good);this._createChartItem('innerMaxThreshold',o.ToleranceRangeHighValue.Path,V.Good);break;default:break;}}};c.prototype._createChartLabels=function(){var l,m=this._getLabelsMap();for(var k in m){l=new M.AreaMicroChartLabel();this.getAggregation('_chart').setAggregation(m[k],l,true);}};c.prototype._formatDimension=function(v){if(typeof v==='string'){var A=S._getPropertyAnnotation.call(this,this._oChartViewMetadata.dimensionFields[0]),p=S._getSemanticsPattern.call(this,A);if(p){v=D.getInstance({pattern:p}).parse(v);}}if(v instanceof Date){return parseFloat(v.getTime());}else if(!isNaN(v)){return parseFloat(v);}else{this.getAggregation('_chart').enableXIndexing(true);return 0;}};c.prototype._createChartItem=function(d,p,e){var P,i;P=new M.AreaMicroChartPoint({x:{path:this._oChartViewMetadata.dimensionFields[0],formatter:this._formatDimension.bind(this)},y:{path:p,type:'sap.ui.model.odata.type.Decimal'}});i=new M.AreaMicroChartItem({points:{path:this._getBindingPath(),template:P,parameters:{countMode:b.None},events:{change:this._onBindingDataChange.bind(this)}},color:e});this.getAggregation('_chart').setAggregation(d,i,true);};c.prototype._onBindingDataChange=function(){var p=this.getAggregation('_chart').getAggregation('chart').getBinding('points');this._updateAssociations(p);this._updateChartLabels(p);};c.prototype._updateAssociations=function(p){var o=p.getContexts(0,1)[0],d=o&&o.getObject();S._updateAssociations.call(this,d);};c.prototype._updateChartLabels=function(p){var o,l,f,L,F,d;o=p.getContexts();l=o.length;if(l>0){f=o[0];L=o[l-1];F=f&&f.getObject();d=L&&L.getObject();S._updateChartLabels.call(this,F,'first');S._updateChartLabels.call(this,d,'last');}};c.prototype._getSupportedChartTypes=function(){return c._CHART_TYPE;};c.prototype._getLabelsMap=function(){return{'leftTop':'firstYLabel','rightTop':'lastYLabel','leftBottom':'firstXLabel','rightBottom':'lastXLabel'};};c.prototype.getAccessibilityInfo=function(){return S._getAccessibilityInfo.apply(this);};return c;});\n",
	"sap/ui/comp/smartmicrochart/SmartAreaMicroChartRenderer.js":"/*!\n* SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n*/\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsInitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartBulletMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/suite/ui/microchart/library','sap/m/ValueColor','sap/ui/comp/smartmicrochart/SmartMicroChartCommons'],function(q,l,C,M,V,S){'use strict';var a=C.extend('sap.ui.comp.smartmicrochart.SmartBulletMicroChart',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartmicrochart/SmartBulletMicroChart.designtime',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},chartType:{type:'string',group:'Misc',defaultValue:'Bullet'},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'164px'},isResponsive:{type:'boolean',group:'Appearance',defaultValue:false}},defaultAggregation:'_chart',aggregations:{_criticalityThresholds:{type:'sap.ui.core.CustomData',multiple:true,visibility:'hidden'},_chart:{type:'sap.suite.ui.microchart.BulletMicroChart',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});a._CRITICAL_COLOR=V.Critical;a._ERROR_COLOR=V.Error;a._CHART_TYPE=['Bullet'];a.prototype.init=function(){this._bIsInitialized=false;this._bMetaModelLoadAttached=false;this._bBarColorSet=false;this.setProperty('chartType','Bullet',true);this.setAggregation('_chart',new M.BulletMicroChart({'showValueMarker':true}),true);};a.prototype.setChartType=function(){return this;};a.prototype.setEntitySet=function(e){if(this.getProperty('entitySet')!==e){this.setProperty('entitySet',e,true);S._initializeMetadata.call(this);}return this;};a.prototype.setShowLabel=function(s){if(this.getShowLabel()!==s){this.setProperty('showLabel',s,true);var c=this.getAggregation('_chart');c.setProperty('showActualValue',s,true);c.setProperty('showTargetValue',s,true);c.setProperty('showDeltaValue',s,true);c.setProperty('showValueMarker',s,true);this.invalidate();}return this;};a.prototype.propagateProperties=function(){if(C.prototype.propagateProperties){C.prototype.propagateProperties.apply(this,arguments);}S._initializeMetadata.call(this);};a.prototype.onBeforeRendering=function(){var c=this.getAggregation('_chart');c.setProperty('width',this.getWidth(),true);c.setProperty('isResponsive',this.getIsResponsive(),true);M._passParentContextToChild(this,c);};a.prototype.destroy=function(){S._cleanup.call(this);C.prototype.destroy.apply(this,arguments);};a.prototype._createAndBindInnerChart=function(){this._bindValueProperties();this._bindActualValue();this._bindChartThresholds();S._updateAssociations.call(this);this._setMode();};a.prototype._setMode=function(){if(S._hasMember(this,'_oDataPointAnnotations.Visualization.EnumMember')){if(this._oDataPointAnnotations.Visualization.EnumMember===S._DELTABULLET){this.getAggregation('_chart').setMode(M.BulletMicroChartModeType.Delta);}}};a.prototype._bindValueProperties=function(){var m,f,i=this.getAggregation('_chart');if(S._hasMember(this,'_oDataPointAnnotations.TargetValue.Path')){i.bindProperty('targetValue',{path:this._oDataPointAnnotations.TargetValue.Path,type:'sap.ui.model.odata.type.Decimal'});var F=S._getLabelNumberFormatter.call(this,this._oDataPointAnnotations.TargetValue.Path);i.bindProperty('targetValueLabel',{path:this._oDataPointAnnotations.TargetValue.Path,formatter:F.format.bind(F)});}if(S._hasMember(this,'_oDataPointAnnotations.ForecastValue.Path')){i.bindProperty('forecastValue',{path:this._oDataPointAnnotations.ForecastValue.Path,type:'sap.ui.model.odata.type.Decimal'});}if(this._oDataPointAnnotations.MaximumValue){if(this._oDataPointAnnotations.MaximumValue.hasOwnProperty('Path')){i.bindProperty('maxValue',{path:this._oDataPointAnnotations.MaximumValue.Path,type:'sap.ui.model.odata.type.Decimal'});}else if(this._oDataPointAnnotations.MaximumValue.hasOwnProperty('Decimal')){m=parseFloat(this._oDataPointAnnotations.MaximumValue.Decimal);i.setMaxValue(m,true);}}if(this._oDataPointAnnotations.MinimumValue){if(this._oDataPointAnnotations.MinimumValue.hasOwnProperty('Path')){i.bindProperty('minValue',{path:this._oDataPointAnnotations.MinimumValue.Path,type:'sap.ui.model.odata.type.Decimal'});}else if(this._oDataPointAnnotations.MinimumValue.hasOwnProperty('Decimal')){f=parseFloat(this._oDataPointAnnotations.MinimumValue.Decimal);i.setMinValue(f,true);}}};a.prototype._bindActualValue=function(){var i=this.getAggregation('_chart'),f=S._getLabelNumberFormatter.call(this,this._oDataPointAnnotations.Value.Path);var c=new M.BulletMicroChartData({value:{path:this._oDataPointAnnotations.Value.Path,type:'sap.ui.model.odata.type.Decimal'},color:{parts:[this._oDataPointAnnotations.Value&&this._oDataPointAnnotations.Value.Path||'',this._oDataPointAnnotations.Criticality&&this._oDataPointAnnotations.Criticality.Path||''],formatter:S._getValueColor.bind(this)}});i.setAggregation('actual',c,true);i.bindProperty('actualValueLabel',{path:this._oDataPointAnnotations.Value.Path,formatter:f.format.bind(f)});};a.prototype._bindChartThresholds=function(){var d,c;if(S._hasMember(this._oDataPointAnnotations,'CriticalityCalculation.ImprovementDirection.EnumMember')){c=this._oDataPointAnnotations.CriticalityCalculation;d=c.ImprovementDirection.EnumMember;if(d!==S._MINIMIZE&&c.DeviationRangeLowValue&&c.DeviationRangeLowValue.Path){this._bindThresholdAggregation(c.DeviationRangeLowValue.Path,a._ERROR_COLOR);}if(d!==S._MINIMIZE&&c.ToleranceRangeLowValue&&c.ToleranceRangeLowValue.Path){this._bindThresholdAggregation(c.ToleranceRangeLowValue.Path,a._CRITICAL_COLOR);}if(d!==S._MAXIMIZE&&c.ToleranceRangeHighValue&&c.ToleranceRangeHighValue.Path){this._bindThresholdAggregation(c.ToleranceRangeHighValue.Path,a._CRITICAL_COLOR);}if(d!==S._MAXIMIZE&&c.DeviationRangeHighValue&&c.DeviationRangeHighValue.Path){this._bindThresholdAggregation(c.DeviationRangeHighValue.Path,a._ERROR_COLOR);}}};a.prototype._bindThresholdAggregation=function(p,c){var t=new M.BulletMicroChartData({value:{path:p,type:'sap.ui.model.odata.type.Decimal'},color:c});this.getAggregation('_chart').addAggregation('thresholds',t,true);};a.prototype.setAssociation=function(A,i,s){if(C.prototype.setAssociation){C.prototype.setAssociation.apply(this,arguments);}S._updateAssociation.call(this,A);return this;};a.prototype._getSupportedChartTypes=function(){return a._CHART_TYPE;};a.prototype.getAccessibilityInfo=function(){return S._getAccessibilityInfo.apply(this);};return a;});\n",
	"sap/ui/comp/smartmicrochart/SmartBulletMicroChartRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsInitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/ui/comp/providers/ChartProvider','sap/suite/ui/microchart/library','sap/ui/core/CustomData','sap/ui/comp/smartmicrochart/SmartMicroChartCommons'],function(q,C,a,b,M,c,S){'use strict';var d=a.extend('sap.ui.comp.smartmicrochart.SmartMicroChart',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartmicrochart/SmartMicroChart.designtime',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},chartType:{type:'string',group:'Misc',defaultValue:null},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'164px'},height:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'74px'},isResponsive:{type:'boolean',group:'Appearance',defaultValue:false}},defaultAggregation:'_chart',aggregations:{_chart:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false},freeText:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});d.prototype.init=function(){this._bIsinitialized=false;this._bMetaModelLoadAttached=false;};d.prototype.setChartType=function(){return this;};d.prototype.getChartType=function(){return this.getAggregation('_chart').getChartType();};d.prototype.propagateProperties=function(){if(a.prototype.propagateProperties){a.prototype.propagateProperties.apply(this,arguments);}this._initializeMetadata();};d.prototype.onBeforeRendering=function(){var o=this.getAggregation('_chart');if(o){if(o.getMetadata().hasProperty('height')){o.setProperty('height',this.getHeight(),true);}if(o.getMetadata().hasProperty('width')){o.setProperty('width',this.getWidth(),true);}if(o.getMetadata().hasProperty('isResponsive')){o.setProperty('isResponsive',this.getIsResponsive(),true);M._passParentContextToChild(this,o);}if(o.getMetadata().hasProperty('showLabel')){o.setProperty('showLabel',this.getShowLabel(),true);}if(o.getMetadata().hasAssociation('chartTitle')){o.setAssociation('chartTitle',this.getChartTitle(),true);}if(o.getMetadata().hasAssociation('chartDescription')){o.setAssociation('chartDescription',this.getChartDescription(),true);}if(o.getMetadata().hasAssociation('unitOfMeasure')){o.setAssociation('unitOfMeasure',this.getUnitOfMeasure(),true);}if(o.getMetadata().hasAssociation('freeText')){o.setAssociation('freeText',this.getFreeText(),true);}}};d.prototype._initializeMetadata=function(){if(!this._bIsinitialized){var m=this.getModel();if(m&&(m.getMetadata().getName()==='sap.ui.model.odata.v2.ODataModel'||m.getMetadata().getName()==='sap.ui.model.odata.ODataModel')){if(!this._bMetaModelLoadAttached){m.getMetaModel().loaded().then(this._onMetadataInitialized.bind(this));this._bMetaModelLoadAttached=true;}}else if(m){this._onMetadataInitialized();}}};d.prototype._createChartProvider=function(){var e=this.getEntitySet(),m=this.getModel();if(m&&e){this._oChartProvider=new b({entitySet:e,model:m,chartQualifier:this.data('chartQualifier')});}};d.prototype._onMetadataInitialized=function(){var Q,D;this._bMetaModelLoadAttached=false;if(!this._bIsinitialized){this._createChartProvider();if(this._oChartProvider){this._oChartViewMetadata=this._oChartProvider.getChartViewMetadata();if(this._oChartViewMetadata){this._bIsinitialized=true;this._createInnerChart();}else{Q=this.data('chartQualifier');D=this._oChartProvider.getChartDataPointMetadata();if(D){D=Q?D.additionalAnnotations[Q]:D.primaryAnnotation;if(D){this._bIsinitialized=true;this._createInnerChartFromDataPoint(D);}else{q.sap.log.error('There is no UI.Chart annotation nore DataPoint annotation. We cannot initialize SmartMicroChart.');}}else{q.sap.log.error('There is no UI.Chart annotation nore DataPoint annotation. We cannot initialize SmartMicroChart.');}}}}};d.prototype._createInnerChartFromDataPoint=function(D){var t=D.Visualization.EnumMember;if(S._isBulletVizualizationType(t)){this._buildSmartBulletMicroChart();}else{q.sap.log.error('Only Bullet chart can be initialize with just DataPoint annotation. Type: '+t+' is not a Bullet chart type.');return;}this.invalidate();};d.prototype._createInnerChart=function(){if(!this._checkChartMetadata()){q.sap.log.error('Created annotations not valid. Please review the annotations and metadata.');return;}var s=this._oChartViewMetadata.chartType;switch(s){case'line':case'area':var t=this._oChartViewMetadata.annotation.ChartType.EnumMember.split('/').pop().toLowerCase();if(t==='area'||t==='line'){this._buildSmartAreaMicroChart();}else{q.sap.log.error('Not supported chart type used.');return;}break;case'bullet':this._buildSmartBulletMicroChart();break;case'donut':this._buildSmartRadialMicroChart();break;default:q.sap.log.error('Not supported chart type used.');return;}this.invalidate();};d.prototype._buildSmartAreaMicroChart=function(){this.setAggregation('_chart',new C.smartmicrochart.SmartAreaMicroChart({entitySet:this.getEntitySet(),chartBindingPath:this.getChartBindingPath(),enableAutoBinding:this.getEnableAutoBinding(),showLabel:this.getShowLabel(),initialize:[this._onChartInitialized,this],customData:[new c({key:'chartQualifier',value:this.data('chartQualifier')})]}),true);};d.prototype._buildSmartBulletMicroChart=function(){this.setAggregation('_chart',new C.smartmicrochart.SmartBulletMicroChart({entitySet:this.getEntitySet(),chartBindingPath:this.getChartBindingPath(),enableAutoBinding:this.getEnableAutoBinding(),showLabel:this.getShowLabel(),initialize:[this._onChartInitialized,this],customData:[new c({key:'chartQualifier',value:this.data('chartQualifier')})]}),true);};d.prototype._buildSmartRadialMicroChart=function(){this.setAggregation('_chart',new C.smartmicrochart.SmartRadialMicroChart({entitySet:this.getEntitySet(),chartBindingPath:this.getChartBindingPath(),enableAutoBinding:this.getEnableAutoBinding(),initialize:[this._onChartInitialized,this],customData:[new c({key:'chartQualifier',value:this.data('chartQualifier')})]}),true);};d.prototype._onChartInitialized=function(){this.fireInitialize();};d.prototype._checkChartMetadata=function(){if(this._oChartViewMetadata.chartType&&this._oChartViewMetadata.annotation&&this._oChartViewMetadata.annotation.ChartType&&this._oChartViewMetadata.annotation.ChartType.EnumMember&&this._oChartViewMetadata.annotation.ChartType.EnumMember.length>0){return true;}else{return false;}};d.prototype.getAccessibilityInfo=function(){return S._getAccessibilityInfo.apply(this);};return d;});\n",
	"sap/ui/comp/smartmicrochart/SmartMicroChartCommons.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define('sap/ui/comp/smartmicrochart/SmartMicroChartCommons',['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/providers/ChartProvider','sap/m/ValueColor','sap/ui/core/format/NumberFormat','sap/ui/core/format/DateFormat','sap/ui/model/type/Date'],function(q,l,C,V,N,D,a){'use strict';var b={};b._MINIMIZE='com.sap.vocabularies.UI.v1.ImprovementDirectionType/Minimize';b._MAXIMIZE='com.sap.vocabularies.UI.v1.ImprovementDirectionType/Maximize';b._TARGET='com.sap.vocabularies.UI.v1.ImprovementDirectionType/Target';b._DELTABULLET='com.sap.vocabularies.UI.v1.VisualizationType/DeltaBulletChart';b._BULLET='com.sap.vocabularies.UI.v1.VisualizationType/BulletChart';b._initializeMetadata=function(){if(!this._bIsInitialized){var m=this.getModel();if(m&&(m.getMetadata().getName()==='sap.ui.model.odata.v2.ODataModel'||m.getMetadata().getName()==='sap.ui.model.odata.ODataModel')){if(!this._bMetaModelLoadAttached){m.getMetaModel().loaded().then(b._onMetadataInitialized.bind(this));this._bMetaModelLoadAttached=true;}}else if(m){b._onMetadataInitialized.call(this);}}};b._onMetadataInitialized=function(){this._bMetaModelLoadAttached=false;if(this._bIsInitialized){return;}b._createChartProvider.call(this);this._oChartViewMetadata=this._oChartProvider.getChartViewMetadata();this._oDataPointMetadata=this._oChartProvider.getChartDataPointMetadata();this._bIsInitialized=true;this.fireInitialize();if(this.getEnableAutoBinding()){if(this.getChartBindingPath()){this.bindElement(this.getChartBindingPath());}else{q.sap.log.error('The property chartBindingPath needs to be set in order for property enableAutoBinding to be applied.');}}if(b._checkChartMetadata.call(this)){var Q=b._getDataPointQualifier.call(this);if(Q){this._oDataPointAnnotations=this._oDataPointMetadata.additionalAnnotations[Q];}else{this._oDataPointAnnotations=this._oDataPointMetadata.primaryAnnotation;}if(b._checkDataPointAnnotation(this._oDataPointAnnotations,this._oChartViewMetadata)){this._createAndBindInnerChart();}}else{q.sap.log.error('Created annotations not valid. Please review the annotations and metadata.');}};b._cleanup=function(){if(this._oDateType){this._oDateType.destroy();this._oDateType=null;}};b._createChartProvider=function(){var m,e;e=this.getEntitySet();m=this.getModel();if(m&&e){this._oChartProvider=new C({entitySet:e,model:m,chartQualifier:this.data('chartQualifier')});}else{q.sap.log.error('Property entitySet is not set or no model has been attached to the control.');}};b._checkChartMetadata=function(){if(q.isEmptyObject(this._oChartViewMetadata)){if(q.isEmptyObject(this._oDataPointMetadata)){q.sap.log.error('DataPoint annotation must be provided if no chart annotation is missing.');return false;}return true;}else{if(!this._oChartViewMetadata.fields||this._oChartViewMetadata.fields.length===0){q.sap.log.error('No fields exist in the metadata.');return false;}if(b._hasMember(this,'_oChartViewMetadata.annotation.ChartType')){return b._checkChartType.call(this);}else{q.sap.log.error('The Chart annotation is invalid.');return false;}}};b._checkChartType=function(){var t=this._getSupportedChartTypes();for(var i=0;i<t.length;i++){if(this._oChartViewMetadata.annotation.ChartType.EnumMember==='com.sap.vocabularies.UI.v1.ChartType/'+t[i]){return true;}}q.sap.log.error(\"The ChartType property in the Chart annotation is not part of the list of valid types: \\\"\"+t.toString()+\"\\\".\");return false;};b._getDataPointQualifier=function(){var m;if(!this._oChartViewMetadata&&this._oDataPointMetadata){return this.data('chartQualifier');}if(!b._hasMember(this,'_oChartViewMetadata.annotation.MeasureAttributes.length')||!this._oChartViewMetadata.annotation.MeasureAttributes.length){return'';}m=this._oChartViewMetadata.annotation.MeasureAttributes[0];if(b._hasMember(m,'DataPoint.AnnotationPath')){return(m.DataPoint.AnnotationPath.match(/\\#([^\\#]*)$/)||[])[1]||'';}};b._isBulletVizualizationType=function(t){return(t===b._BULLET)||(t===b._DELTABULLET);};b._checkDataPointAnnotation=function(d,c){var v=null;if(q.isEmptyObject(d)){q.sap.log.error('The DataPoint annotation is empty. Please check it!');return false;}if(b._hasMember(d,'Visualization.EnumMember')){v=d.Visualization.EnumMember;if(!b._isBulletVizualizationType(v)){q.sap.log.error('The only support visualization types for micro charts are BulletChart and DeltaBulletChart.');return false;}}if(q.isEmptyObject(c)&&(v===null)){q.sap.log.error('If only DataPoint annotation is provided the VisualizationType is expected to be set.');return false;}if(b._hasMember(d,'Value.Path')){if(q.isEmptyObject(d.Criticality)){b._checkCriticalityMetadata(d.CriticalityCalculation);}return true;}else{q.sap.log.error('The Value property does not exist in the DataPoint annotation. This property is essential for creating the smart chart.');return false;}};b._checkCriticalityMetadata=function(c){if(q.isEmptyObject(c)){q.sap.log.warning('The CriticalityCalculation property in DataPoint annotation is not provided.');return false;}if(b._hasMember(c,'ImprovementDirection.EnumMember')){var i=c.ImprovementDirection.EnumMember;switch(i){case b._MINIMIZE:return b._checkCriticalityMetadataForMinimize(c);case b._MAXIMIZE:return b._checkCriticalityMetadataForMaximize(c);case b._TARGET:return b._checkCriticalityMetadataForTarget(c);default:q.sap.log.warning('The improvement direction in DataPoint annotation must be either Minimize, Maximize or Target.');}}else{q.sap.log.warning('The ImprovementDirection property in DataPoint annotation is not provided.');}return false;};b._checkCriticalityMetadataForMinimize=function(c){if(!b._hasMember(c,'ToleranceRangeHighValue.Path')){q.sap.log.warning('The ToleranceRangeHighValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeHighValue.Path')){q.sap.log.warning('The DeviationRangeHighValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}return true;};b._checkCriticalityMetadataForMaximize=function(c){if(!b._hasMember(c,'ToleranceRangeLowValue.Path')){q.sap.log.warning('The ToleranceRangeLowValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeLowValue.Path')){q.sap.log.warning('The DeviationRangeLowValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}return true;};b._checkCriticalityMetadataForTarget=function(c){if(!b._hasMember(c,'ToleranceRangeLowValue.Path')){q.sap.log.warning('The DeviationRangeLowValue property in DataPoint annotation is missing for Target improvement direction.');return false;}if(!b._hasMember(c,'ToleranceRangeHighValue.Path')){q.sap.log.warning('The ToleranceRangeHighValue property in DataPoint annotation is missing for Target improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeLowValue.Path')){q.sap.log.warning('The ToleranceRangeLowValue property in DataPoint annotation is missing for Target improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeHighValue.Path')){q.sap.log.warning('The DeviationRangeHighValue property in DataPoint annotation is missing for Target improvement direction.');return false;}return true;};b._mapCriticalityTypeWithColor=function(t){var T;if(!t){return V.Neutral;}else{T=t.toString();}T=(T.match(/(?:CriticalityType\\/)?([^\\/]*)$/)||[])[1]||'';switch(T){case'Negative':case'1':return V.Error;case'Critical':case'2':return V.Critical;case'Positive':case'3':return V.Good;default:return V.Neutral;}};b._getThresholdValues=function(c){var t={},o=this.getBindingContext();for(var k in c){if(c.hasOwnProperty(k)&&k!=='ImprovementDirection'){t[k]=c[k].Path&&o&&o.getProperty(c[k].Path)||c[k].Decimal||0;}}return t;};b._getValueColorForMinimize=function(v,t,d){if(v<=t){return b._mapCriticalityTypeWithColor('Positive');}else if(v>t&&v<=d){return b._mapCriticalityTypeWithColor('Critical');}else if(v>d){return b._mapCriticalityTypeWithColor('Negative');}};b._getValueColorForMaximize=function(v,t,d){if(v>=t){return b._mapCriticalityTypeWithColor('Positive');}else if(v<t&&v>=d){return b._mapCriticalityTypeWithColor('Critical');}else if(v<d){return b._mapCriticalityTypeWithColor('Negative');}};b._getValueColorForTarget=function(v,t,d,T,i){if(v>=t&&v<=T){return b._mapCriticalityTypeWithColor('Positive');}else if((v>=d&&v<t)||(v>T&&v<=i)){return b._mapCriticalityTypeWithColor('Critical');}else if(v<d||v>i){return b._mapCriticalityTypeWithColor('Negative');}};b._getValueColor=function(v,c){var o=this._oDataPointAnnotations.CriticalityCalculation,t,s;v=parseFloat(v)||0;if(typeof c==='string'){s=b._mapCriticalityTypeWithColor(c);}else if(o&&typeof v!=='undefined'&&v!==null){t=b._getThresholdValues.call(this,o);s=b._criticalityCalculation(v,o.ImprovementDirection.EnumMember,t);}return s||b._mapCriticalityTypeWithColor();};b._getTopLabelColor=function(v,d){var c=this._oDataPointAnnotations.CriticalityCalculation,i=parseFloat(v)||0,t={},s;for(var k in c){if(c.hasOwnProperty(k)&&k!=='ImprovementDirection'){t[k]=d[c[k].Path];}}if(c&&typeof i!=='undefined'&&i!==null){s=b._criticalityCalculation(i,c.ImprovementDirection.EnumMember,t);}return s;};b._criticalityCalculation=function(v,i,t){var c;switch(i){case b._MINIMIZE:c=b._getValueColorForMinimize(v,t.ToleranceRangeHighValue,t.DeviationRangeHighValue);break;case b._MAXIMIZE:c=b._getValueColorForMaximize(v,t.ToleranceRangeLowValue,t.DeviationRangeLowValue);break;case b._TARGET:c=b._getValueColorForTarget(v,t.ToleranceRangeLowValue,t.DeviationRangeLowValue,t.ToleranceRangeHighValue,t.DeviationRangeHighValue);break;default:q.sap.log.warning('The improvement direction in DataPoint annotation must be either Minimize, Maximize or Target.');}return c;};b._ASSOCIATIONS=['chartTitle','chartDescription','unitOfMeasure','freeText'];b._ASSOCIATIONS_ANNOTATIONS_MAP={'chartDescription':'Description','chartTitle':'Title','unitOfMeasure':{propertyAnnotationPath:'Value',propertyAnnotationProperties:['ISOCurrency','Unit']},'freeText':{propertyAnnotationPath:'Value',propertyAnnotationProperties:['Label']}};b._getAnnotation=function(c){var A=b._ASSOCIATIONS_ANNOTATIONS_MAP[c];if(!A){q.sap.log.warning(\"No annotation connected to association \\\"\"+c+\"\\\".\");return{};}if(!q.isEmptyObject(this._oChartViewMetadata)&&typeof A==='string'){return this._oChartViewMetadata.annotation[A];}if(!q.isEmptyObject(this._oDataPointAnnotations)&&b._hasMember(A,'propertyAnnotationPath')&&b._hasMember(A,'propertyAnnotationProperties')){var p;if(b._hasMember(this._oDataPointAnnotations,A.propertyAnnotationPath+'.Path')){p=b._getPropertyAnnotation.call(this,this._oDataPointAnnotations[A.propertyAnnotationPath].Path);}if(p){return b._getValueFromPropertyAnnotation(p,A.propertyAnnotationProperties);}}return{};};b._getValueFromPropertyAnnotation=function(p,P){for(var s in p){for(var i=0;i<P.length;i++){if(s.indexOf(P[i])>-1){return p[s];}}}return{};};b._updateAssociation=function(c,d){var A,o;if(this.getMetadata().hasAssociation(c)){A=sap.ui.getCore().byId(this.getAssociation(c));if(A&&A.getMetadata().hasProperty('text')){o=b._getAnnotation.call(this,c);b._setAssociationText(A,o,d);}}};b._updateAssociations=function(d){var n=b._ASSOCIATIONS.length;for(var i=0;i<n;i++){b._updateAssociation.call(this,b._ASSOCIATIONS[i],d);}};b._updateChartLabels=function(d,p){switch(p){case'first':b._updateTopLabel.call(this,this._getLabelsMap()['leftTop'],d);b._updateBottomLabel.call(this,this._getLabelsMap()['leftBottom'],d);break;case'last':b._updateTopLabel.call(this,this._getLabelsMap()['rightTop'],d);b._updateBottomLabel.call(this,this._getLabelsMap()['rightBottom'],d);break;}};b._updateTopLabel=function(c,d){var L=this.getAggregation('_chart').getAggregation(c),v=d[this._oDataPointAnnotations.Value.Path],s=b._getTopLabelColor.call(this,v,d),f=b._getLabelNumberFormatter.call(this,this._oDataPointAnnotations.Value.Path),F;F=f.format(v);L.setProperty('label',F,true);L.setProperty('color',s,true);};b._updateBottomLabel=function(c,d){var A,o,L,v,f;A=this._oChartViewMetadata.dimensionFields[0];if(A){v=d[A];L=this.getAggregation('_chart').getAggregation(c);o=b._getPropertyAnnotation.call(this,this._oChartViewMetadata.dimensionFields[0]);if(o.hasOwnProperty('sap:text')||o.hasOwnProperty('com.sap.vocabularies.Common.v1.Text')){var p=o['sap:text']||o['com.sap.vocabularies.Common.v1.Text'].Path;f=d[p];}else{f=b._formatBottomLabel.call(this,v,o);}if(f){L.setProperty('label',f,true);}}};b._formatBottomLabel=function(v,c){var p=b._getSemanticsPattern.call(this,c);if(p){return b._formatSemanticsValue.call(this,v,p);}p=b._getCalendarPattern.call(this,c);if(p){return b._formatSemanticsValue.call(this,v,p);}return b._formatDateAndNumberValue.call(this,v);};b._formatSemanticsValue=function(v,p){if(p){if(this._oDateType){this._oDateType.setFormatOptions({style:'short',source:{pattern:p}});}else{this._oDateType=new a({style:'short',source:{pattern:p}});}return this._oDateType.formatValue(v,'string');}return null;};b._formatDateAndNumberValue=function(v){if(v instanceof Date){return b._getLabelDateFormatter.call(this).format(v);}else if(!isNaN(v)){return b._getLabelNumberFormatter.call(this,this._oChartViewMetadata.dimensionFields[0]).format(v);}else{return null;}};b._getSemanticsPattern=function(c){if(c.hasOwnProperty('sap:semantics')){switch(c['sap:semantics']){case'yearmonthday':return'yyyyMMdd';case'yearmonth':return'yyyyMM';case'year':return'yyyy';default:return null;}}return null;};b._CALENDAR_TERMS_PATTERNS={'com.sap.vocabularies.Common.v1.IsCalendarYear':'yyyy','com.sap.vocabularies.Common.v1.IsCalendarQuarter':'Q','com.sap.vocabularies.Common.v1.IsCalendarMonth':'MM','com.sap.vocabularies.Common.v1.IsCalendarWeek':'ww','com.sap.vocabularies.Common.v1.IsCalendarDate':'yyyyMMdd','com.sap.vocabularies.Common.v1.IsCalendarYearMonth':'yyyyMM'};b._getCalendarPattern=function(c){for(var s in b._CALENDAR_TERMS_PATTERNS){if(c.hasOwnProperty(s)){return b._CALENDAR_TERMS_PATTERNS[s];}}return null;};b._getLabelNumberFormatter=function(p){var P=b._getPropertyAnnotation.call(this,p).precision||null;return N.getInstance({style:'short',showScale:true,precision:P});};b._getLabelDateFormatter=function(){return D.getInstance({style:'short'});};b._setAssociationText=function(c,d,e){if(!d){return;}if(d.Path&&e){c.setProperty('text',e[d.Path],false);}else if(d.Path){c.bindProperty('text',{path:d.Path,mode:sap.ui.model.BindingMode.OneWay});c.invalidate();}else if(d.String){if(d.String.indexOf('{')===0){var p=d.String.split('>');c.bindProperty('text',{path:p[1].substr(0,p[1].length-1),model:p[0].substr(1),mode:sap.ui.model.BindingMode.OneWay});c.invalidate();}else{c.setProperty('text',d.String,false);}}};b._getPropertyAnnotation=function(p){var m,e,E,P;m=this.getModel().getMetaModel();e=this._oChartProvider._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.getEntitySet());E=m.getODataEntityType(e);P=m.getODataProperty(E,p);return P;};b._hasMember=function(o,p){var d='.',P=p.split(d),m=P.shift();return!!o&&((P.length>0)?b._hasMember(o[m],P.join(d)):o.hasOwnProperty(m));};b._getAccessibilityInfo=function(){var A={};var i=this.getAggregation('_chart');if(i&&i.getAccessibilityInfo){A=i.getAccessibilityInfo();}return A;};return b;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartMicroChartRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsinitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartRadialMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/suite/ui/microchart/library','sap/ui/comp/smartmicrochart/SmartMicroChartCommons','sap/m/library'],function(q,l,C,M,S,a){'use strict';var b=C.extend('sap.ui.comp.smartmicrochart.SmartRadialMicroChart',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartmicrochart/SmartRadialMicroChart.designtime',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},chartType:{type:'string',group:'Misc',defaultValue:'Donut'},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},isResponsive:{type:'boolean',group:'Appearance',defaultValue:false}},defaultAggregation:'_chart',aggregations:{_chart:{type:'sap.suite.ui.microchart.RadialMicroChart',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false},freeText:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});b._CHART_TYPE=['Donut'];b.prototype.init=function(){this._bIsInitialized=false;this._bMetaModelLoadAttached=false;this.setAggregation('_chart',new M.RadialMicroChart(),true);};b.prototype.onBeforeRendering=function(){var c=this.getAggregation('_chart');if(this.getIsResponsive()){c.setProperty('size',a.Size.Responsive,true);}else{c.setProperty('size',a.Size.Auto,true);}M._passParentContextToChild(this,c);};b.prototype.destroy=function(){S._cleanup.call(this);C.prototype.destroy.apply(this,arguments);};b.prototype.setChartType=function(){return this;};b.prototype.setEntitySet=function(e){if(this.getProperty('entitySet')!==e){this.setProperty('entitySet',e,true);S._initializeMetadata.call(this);}return this;};b.prototype.propagateProperties=function(){if(C.prototype.propagateProperties){C.prototype.propagateProperties.apply(this,arguments);}S._initializeMetadata.call(this);};b.prototype._createAndBindInnerChart=function(){this._bindProperties();S._updateAssociations.call(this);};b.prototype._bindProperties=function(){var i=this.getAggregation('_chart');if(this._oDataPointAnnotations.Value&&!this._oDataPointAnnotations.TargetValue){if(S._hasMember(this._oDataPointAnnotations.Value,'Path')){i.bindProperty('percentage',{path:this._oDataPointAnnotations.Value.Path,type:'sap.ui.model.odata.type.Decimal'});}}else if(S._hasMember(this,'_oDataPointAnnotations.TargetValue.Path')&&S._hasMember(this,'_oDataPointAnnotations.Value.Path')){i.bindProperty('total',{path:this._oDataPointAnnotations.TargetValue.Path,type:'sap.ui.model.odata.type.Decimal'});i.bindProperty('fraction',{path:this._oDataPointAnnotations.Value.Path,type:'sap.ui.model.odata.type.Decimal'});}i.bindProperty('valueColor',{parts:[this._oDataPointAnnotations.Value&&this._oDataPointAnnotations.Value.Path||'',this._oDataPointAnnotations.Criticality&&this._oDataPointAnnotations.Criticality.Path||''],formatter:S._getValueColor.bind(this)});};b.prototype.setAssociation=function(A,i,s){if(C.prototype.setAssociation){C.prototype.setAssociation.apply(this,arguments);}S._updateAssociation.call(this,A);return this;};b.prototype._getSupportedChartTypes=function(){return b._CHART_TYPE;};b.prototype.getAccessibilityInfo=function(){return S._getAccessibilityInfo.apply(this);};return b;});\n",
	"sap/ui/comp/smartmicrochart/SmartRadialMicroChartRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsInitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartmultiedit/Container.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','.././library','sap/ui/core/Control','sap/ui/comp/smartmultiedit/Field'],function(q,l,C,F){'use strict';var a=C.extend('sap.ui.comp.smartmultiedit.Container',{metadata:{library:'sap.ui.comp',properties:{entitySet:{type:'string',defaultValue:null},contexts:{type:'sap.ui.model.Context[]',defaultValue:[]}},defaultAggregation:'layout',aggregations:{layout:{type:'sap.ui.comp.smartform.SmartForm',multiple:false}},designTime:'sap/ui/comp/designtime/smartmultiedit/Container.designtime'},renderer:function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiCompSmartMultiEditContainer');r.writeClasses();r.write('>');if(c._bReadyToRender){r.renderControl(c.getLayout());}r.write('</div>');}});a.prototype.init=function(){this._bIsInitialized=false;this._bReadyToRender=false;this._aFields=null;this.attachEvent('modelContextChange',this._initializeMetadata,this);};a.prototype.setEntitySet=function(e){if(e!==this.getProperty('entitySet')){this.setProperty('entitySet',e,true);if(e){this._initializeMetadata();}}return this;};a.prototype.setContexts=function(c){if(q.isArray(c)){var b=sap.ui.require('sap/ui/model/Context');for(var i=0;i<c.length;i++){if(!(c[i]instanceof b)){return this;}}this.setProperty('contexts',c,true);}else{q.sap.log.error('Parameter contexts is expected to be an array.');}return this;};a.prototype.setLayout=function(s){this.setAggregation('layout',s,true);this._aFields=null;this._getFields();return this;};a.prototype.addCustomData=function(c){var o;if(!c){return this;}C.prototype.addCustomData.apply(this,arguments);this._getFields().forEach(function(f){o=c.clone();f._oSmartField.addCustomData(o);});};a.prototype.insertCustomData=function(c,i){var o;if(!c){return this;}C.prototype.insertCustomData.apply(this,arguments);this._getFields().forEach(function(f){o=c.clone();f._oSmartField.addCustomData(o);});};a.prototype.removeCustomData=function(c){var o=C.prototype.removeCustomData.apply(this,arguments);if(o){this._getFields().forEach(function(f){f._oSmartField.removeCustomData(o);});}return o;};a.prototype.removeAllCustomData=function(){var c=C.prototype.removeAllCustomData.apply(this,arguments);if(c.length>0){this._getFields().forEach(function(f){c.forEach(function(o){f._oSmartField.removeCustomData(o);});});}return c;};a.prototype.destroyCustomData=function(){C.prototype.destroyCustomData.apply(this,arguments);this._getFields().forEach(function(f){f._oSmartField.destroyCustomData();});return this;};a.prototype.getAllUpdatedContexts=function(m){var c=this.getContexts(),u=[],t=this,i=0,s=10;if(c.length===0){return Promise.resolve(u);}return new Promise(function(r){function g(b,d,e){for(i=d;i<Math.min(e,b.length);i++){u.push({context:b[i],data:t._getUpdatedDataObject(b[i].getObject(),m)});}if(i<b.length){q.sap.delayedCall(0,null,g,[c,i,i+s]);}else{r(u);}}g(c,i,i+s);});};a.prototype.getErroneousFields=function(){return this._getFields().filter(function(f){f._performValidation();return f.hasClientError();});};a.prototype.indexField=function(f){var c;if(!(f instanceof F)){q.sap.log.error('Container.indexField',\"Element '\"+JSON.stringify(f)+\"' must be of type sap.ui.comp.smartmultiedit.Field\",'sap.ui.comp.smartmultiedit.Container');return;}this._aFields.push(f);f._setContainer(this);this.getCustomData().forEach(function(o){if(f.getSmartField()){c=o.clone();f.getSmartField().addCustomData(c);}});};a.prototype._getUpdatedDataObject=function(o,m){var d=m?q.extend({},o):{},p,u,t,n;this._getFields().forEach(function(f){p=f.getPropertyName();u=f.getUnitOfMeasurePropertyName();n=f.getRawValue();if(n.hasOwnProperty(p)){if(f.isTime()){if(!n[p]){d[p]=null;}else if(!o[p].ms){q.sap.log.error('Container._getUpdatedDataObject','Field '+p+' has incompatible data and metadata, expected: Time, but found '+typeof d[p],'sap.ui.comp.smartmultiedit.Container');return;}else if(n[p].ms!==o[p].ms){d[p]={ms:n[p].ms,__edmType:'Edm.Time'};}}else if(f.isDate()||f.isDateTime()){if(!o[p]){if(n[p]){d[p]=n[p];}}else if(!n[p]){d[p]=null;}else if(!o[p].getTime){q.sap.log.error('Container._getUpdatedDataObject','Field '+p+' has incompatible data and metadata, expected: Date/DateTime, but found '+typeof d[p],'sap.ui.comp.smartmultiedit.Container');return;}else if(n[p].getTime()!==o[p].getTime()){d[p]=n[p];}}else{if(n[p]!==o[p]){d[p]=n[p];}}}if(f.isComposite()&&n.hasOwnProperty(u)&&n[u]!==o[u]){d[u]=n[u];}else if(f.isComboBox()){t=f.getRecordTextPath();if(n.hasOwnProperty(t)&&n[t]!==o[t]){d[t]=n[t];}}});return d;};a.prototype._getFields=function(){if(!this._aFields&&this.getLayout()){this._aFields=[];this.getLayout().getGroups().forEach(function(g){g.getGroupElements().forEach(function(G){G.getElements().forEach(function(e){if(e instanceof F){this.indexField(e);}}.bind(this));}.bind(this));}.bind(this));}return this._aFields||[];};a.prototype._initializeMetadata=function(){var m=this.getModel();if(!this._bIsInitialized&&this.getEntitySet()&&m&&(m.getMetadata().getName()==='sap.ui.model.odata.v2.ODataModel')){if(!this.getBindingContext()){var c=m.createEntry('/'+this.getEntitySet());this.setBindingContext(c);this.getModel().deleteCreatedEntry(c);}m.getMetaModel().loaded().then(this._onMetadataInitialized.bind(this));}};a.prototype._onMetadataInitialized=function(){if(this._bIsInitialized){return;}this._bIsInitialized=true;this._bReadyToRender=true;this.invalidate();};return a;});\n",
	"sap/ui/comp/smartmultiedit/Field.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','../library','sap/ui/core/Control','sap/ui/core/Item','sap/m/Select','sap/ui/comp/smartfield/SmartField','sap/ui/comp/smartfield/SmartLabel','sap/ui/comp/smartfield/ODataControlFactory','sap/ui/model/BindingMode','sap/m/HBox','sap/ui/core/format/NumberFormat','sap/ui/core/format/DateFormat','sap/ui/core/ValueState','sap/m/CheckBox','sap/m/Label','sap/m/Input'],function(q,l,C,I,S,a,c,O,B,H,N,D,V,d,L,f){'use strict';var g=O.extend('sap.ui.comp.smartmultiedit.HackedControlFactory');g.prototype.createAttributes=function(A,t,n,e){var m=O.prototype.createAttributes.apply(this,arguments);if(A&&m[A]){m[A].mode=B.OneWay;}return m;};g.prototype._createEdmUOMAttributes=function(){var A=O.prototype._createEdmUOMAttributes.apply(this,arguments);if(A.value){A.value.mode=B.OneWay;}return A;};g.prototype._createEdmDateTime=function(){var r=O.prototype._createEdmDateTime.apply(this);r.params.getValue='getDateValue';return r;};g.prototype._createEdmDateTimeOffset=function(){var r=O.prototype._createEdmDateTimeOffset.apply(this);r.params.getValue='getDateValue';return r;};g.prototype._createEdmTime=function(){var r=O.prototype._createEdmTime.apply(this);r.params.getValue='getDateValue';return r;};g.createFromFactory=function(o){if(!o){return null;}return new g(o._oModel,o._oParent,o._oMeta);};var h=10;var F=C.extend('sap.ui.comp.smartmultiedit.Field',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartmultiedit/Field.designtime',properties:{propertyName:{type:'string',defaultValue:null},useApplyToEmptyOnly:{type:'boolean',defaultValue:false},applyToEmptyOnly:{type:'boolean',defaultValue:false},description:{type:'string',defaultValue:null}},aggregations:{configuration:{type:'sap.ui.comp.smartfield.Configuration',multiple:false}},associations:{},events:{change:{parameters:{selectedItem:{type:'sap.ui.core.Item'}}}}},renderer:function(r,o){r.write('<div');r.writeControlData(o);r.addClass('sapUiCompSmartMultiEditField');r.writeClasses();r.write('>');r.renderControl(o._oSelect);r.write('<div');r.addClass('sapUiCompSmartMultiEditFieldSFWrapper');r.writeClasses();r.write('>');r.renderControl(o._oSmartField);r.write('</div>');if(o.getDescription()){r.write('<div');r.addClass('sapUiCompSmartMultiEditSmartFieldDescription');r.writeClasses();r.write('>');o._oDescription.setText(o.getDescription());r.renderControl(o._oDescription);r.write('</div>');}if(o.getUseApplyToEmptyOnly()){r.renderControl(o._oApplyToEmptyOnlyCheckBox);}r.write('</div>');}});F.ACTION_ITEM_KEY={KEEP:'keep',BLANK:'blank',NEW:'new',TRUE:'true',FALSE:'false'};F.prototype.init=function(){this._createSelect();this._createSpecialSelectItems();this._createDescription();this._createApplyToEmptyOnlyCheckBox();this._oContainer=null;this._bNullable=true;this._bShowValueHelp=true;this._bClientError=null;this._oAnnotations=null;this._bComboBox=null;this._aDistinctValues=[];this._mRecordKeyTextMap={};};F.prototype.onBeforeRendering=function(){this._updateSpecialSelectItems();};F.prototype.getNullable=function(){return this._bNullable;};F.prototype.getShowValueHelp=function(){return this._bShowValueHelp;};F.prototype.getLabel=function(){if(this.getParent()&&this.getParent().getLabel){return this.getParent().getLabel();}else{return null;}};F.prototype.getSmartField=function(){return this._oSmartField;};F.prototype.getValue=function(){return this._oSmartField?this._oSmartField.getValue():null;};F.prototype.getDataType=function(){if(!this._oSmartField){return null;}try{return this._oSmartField.getDataType();}catch(e){return null;}};F.prototype.isComposite=function(){return!!this._oAnnotations.uom;};F.prototype.isInteger=function(){return this.getDataType()==='Edm.Byte'||this.getDataType()==='Edm.Int16'||this.getDataType()==='Edm.Int32'||this.getDataType()==='Edm.Int64'||this.getDataType()==='Edm.SByte';};F.prototype.isFloat=function(){return this.getDataType()==='Edm.Decimal'||this.getDataType()==='Edm.Double'||this.getDataType()==='Edm.Float'||this.getDataType()==='Edm.Single';};F.prototype.isDate=function(){return this.getDataType()==='Edm.DateTime';};F.prototype.isDateTime=function(){return this.getDataType()==='Edm.DateTimeOffset';};F.prototype.isTime=function(){return this.getDataType()==='Edm.Time';};F.prototype.isBoolean=function(){return this.getDataType()==='Edm.Boolean';};F.prototype.isComboBox=function(){return this._bComboBox;};F.prototype.getRecordTextPath=function(){return this._oAnnotations?this._oAnnotations.text.path:null;};F.prototype.getUnitOfMeasure=function(){return this._oSmartField?this._oSmartField.getUnitOfMeasure():null;};F.prototype.getUnitOfMeasurePropertyName=function(){return this._oAnnotations&&this._oAnnotations.uom?this._oAnnotations.uom.path:null;};F.prototype.setParent=function(p,A,s){C.prototype.setParent.call(this,p,A,s);if(p&&p.getLabel&&!p.getLabel()){this._oLabel=new c(this.getId()+'-SmartLabel');this._oLabel.onFieldVisibilityChange=function(){};this._oLabel.setLabelFor(this._oSmartField.getId());p.setLabel(this._oLabel);this._oSelect.addAriaLabelledBy(this._oLabel);if(this.getDescription()){this._oSelect.addAriaLabelledBy(this._oDescription);}}return this;};F.prototype.addCustomData=function(o){var b;if(!o){return this;}C.prototype.addCustomData.apply(this,arguments);b=o.clone();this._oSmartField.addCustomData(b);};F.prototype.insertCustomData=function(o,i){var b;if(!o){return this;}C.prototype.insertCustomData.apply(this,arguments);b=o.clone();this._oSmartField.addCustomData(b);};F.prototype.removeCustomData=function(v){var o=C.prototype.removeCustomData.apply(this,arguments);if(o){this._oSmartField.removeCustomData(o);}return o;};F.prototype.removeAllCustomData=function(){var b=C.prototype.removeAllCustomData.apply(this,arguments);if(b.length>0){b.forEach(function(o){this._oSmartField.removeCustomData(o);});}return b;};F.prototype.destroyCustomData=function(){C.prototype.destroyCustomData.apply(this,arguments);this._oSmartField.destroyCustomData();return this;};F.prototype.setPropertyName=function(n){this.setProperty('propertyName',n,true);this._createSmartField();return this;};F.prototype.setConfiguration=function(o){var b;this.setAggregation('configuration',o,true);if(this._oSmartField){b=o?o.clone():null;this._oSmartField.setConfiguration(b);}return this;};F.prototype.getSelectedItem=function(){return this._oSelect.getSelectedItem();};F.prototype.setSelectedItem=function(i,s){this._handleSelectionChange(i,s);return this;};F.prototype.setSelectedIndex=function(i){this.setSelectedItem(this._oSelect.getItems()[i]);return this;};F.prototype.exit=function(){this._getKeep().destroy();this._getBlank().destroy();this._getValueHelp().destroy();this._getBoolTrueItem().destroy();this._getBoolFalseItem().destroy();};F.prototype.isBlankSelected=function(){return this._oSelect.getSelectedItem()===this._getBlank();};F.prototype.isKeepExistingSelected=function(){return this._oSelect.getSelectedItem()===this._getKeep();};F.prototype.isValueHelpSelected=function(){return this._oSelect.getSelectedItem()===this._getValueHelp();};F.prototype.getRawValue=function(){var r={},v,s=this.getSelectedItem(),p=this.getPropertyName();if(s===this._getBoolTrueItem()){v=true;}else if(s===this._getBoolFalseItem()){v=false;}else if(this.isBlankSelected()){v=null;}else if(s===this._getValueHelp()){if(this.isComposite()){v={value:N.getFloatInstance().parse(this.getValue()),unit:this.getUnitOfMeasure()};}else if(this.isInteger()){v=N.getIntegerInstance().parse(this.getValue());}else if(this.isFloat()){v=N.getFloatInstance().parse(this.getValue());}else if(this.isTime()){v={ms:this.getValue().getTime()};}else{v=this.getValue();}}else if(s){v=this._mContextItemsData[s.getKey()];}if(!this.isKeepExistingSelected()&&typeof v!=='undefined'){if(this.isComposite()){if(v!=null){r[p]=v.value;r[this.getUnitOfMeasurePropertyName()]=v.unit;}else{r[p]=null;r[this.getUnitOfMeasurePropertyName()]=null;}}else{r[p]=v;if(this.isComboBox()){if(v!=null){r[this.getRecordTextPath()]=this._mRecordKeyTextMap[v];}else{r[this.getRecordTextPath()]=null;}}}}return r;};F.prototype.hasClientError=function(){return this._bClientError;};F.prototype._setNullable=function(b){if(b!==this._bNullable){this._bNullable=b;this._updateSpecialSelectItems();}return this;};F.prototype._setShowValueHelp=function(b){if(b!==this._bShowValueHelp){this._bShowValueHelp=b;this._updateSpecialSelectItems();}return this;};F.prototype._isSpecialValueItem=function(i){return i===this._getKeep()||i===this._getBlank()||i===this._getValueHelp();};F.prototype._handleSelectionChangeEvent=function(e){var i=e.getParameter('selectedItem');this._handleSelectionChange(i);};F.prototype._handleSelectionChange=function(i,s){this._oSelect.setSelectedItem(i);if(this.isKeepExistingSelected()||this.isBlankSelected()){this.getSmartField().removeStyleClass('sapUiCompSmartMultiEditSmartField');this.getSmartField().addStyleClass('sapUiCompSmartMultiEditSmartFieldHidden');}else{this.getSmartField().addStyleClass('sapUiCompSmartMultiEditSmartField');this.getSmartField().removeStyleClass('sapUiCompSmartMultiEditSmartFieldHidden');}if(s){return;}this.fireChange({selectedItem:i});var u=this.isValueHelpSelected();this._oSmartField.setContextEditable(u);this._oApplyToEmptyOnlyCheckBox.setVisible(u);this._bClientError=null;if(this._isSpecialValueItem(i)){this._setSmartFieldDisplayText(null,null);}else{this._oApplyToEmptyOnlyCheckBox.setVisible(true);if(!this.isBoolean()){this._oSmartField.setContextEditable(true);}var v=this._mContextItemsData[i.getKey()];if(this.isComposite()){this._setSmartFieldDisplayText(this._formatCurrencyValue(N.getFloatInstance().format(v.value),v.unit,true),v.unit);}else if(this.isBoolean()){this._setSmartFieldDisplayText(i.getText());}else if(this.isDate()){this._setSmartFieldDisplayText(D.getDateInstance().format(v));}else if(this.isDateTime()){this._setSmartFieldDisplayText(D.getDateTimeInstance().format(v));}else if(this.isTime()){this._setSmartFieldDisplayText(D.getTimeInstance().format(new Date(v.ms)));}else if(this.isInteger()){this._setSmartFieldDisplayText(N.getIntegerInstance().format(v));}else if(this.isFloat()){this._setSmartFieldDisplayText(N.getFloatInstance().format(v));}else{this._setSmartFieldDisplayText(v.toString());}if(!this.isBoolean()){this.setSelectedItem(this._getValueHelp(),true);}this._performValidation();}this.invalidate();};F.prototype._extractValueDisplayText=function(v){var t;if(v==null||v==undefined){return null;}if(this.isComposite()){t=this._formatCurrencyValue(N.getFloatInstance().format(v.value),v.unit);}else if(this.isBoolean()){t=v?this._getBoolTrueItem().getText():this._getBoolFalseItem().getText();}else if(this.isDate()){t=D.getDateInstance().format(v);}else if(this.isDateTime()){t=D.getDateTimeInstance().format(v);}else if(this.isTime()){t=new Date(v.ms).toTimeString().slice(0,8);}else if(this.isInteger()){t=N.getIntegerInstance().format(v);}else if(this.isFloat()){t=N.getFloatInstance().format(v);}else{t=String(v);}return t;};F.prototype._createSelect=function(){this._oSelect=new S(this.getId()+'-select');this._oSelect.setWidth('100%');this._oSelect.attachChange(this._handleSelectionChangeEvent,this);this.addDependent(this._oSelect);};F.prototype._getResourceBundle=function(){if(this._oRb==null){this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}return this._oRb;};F.prototype._createSpecialSelectItems=function(){this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._getKeep=q.sap.getter(new I({key:F.ACTION_ITEM_KEY.KEEP,text:'< '+this._getResourceBundle().getText('MULTI_EDIT_KEEP_TEXT')+' >'}));this._getBlank=q.sap.getter(new I({key:F.ACTION_ITEM_KEY.BLANK,text:'< '+this._getResourceBundle().getText('MULTI_EDIT_BLANK_TEXT')+' >'}));this._getValueHelp=q.sap.getter(new I({key:F.ACTION_ITEM_KEY.NEW,text:'< '+this._getResourceBundle().getText('MULTI_EDIT_NEW_TEXT')+' >'}));this._getBoolTrueItem=q.sap.getter(new I({key:F.ACTION_ITEM_KEY.TRUE,text:this._oRb.getText('SMARTFIELD_CB_YES')}));this._getBoolFalseItem=q.sap.getter(new I({key:F.ACTION_ITEM_KEY.FALSE,text:this._oRb.getText('SMARTFIELD_CB_NO')}));};F.prototype._createDescription=function(){if(!this._oDescription){this._oDescription=new L();this.addDependent(this._oDescription);}};F.prototype._createApplyToEmptyOnlyCheckBox=function(){this._oApplyToEmptyOnlyCheckBox=new d(this.getId()+'-ApplyToEmptyOnly');this._oApplyToEmptyOnlyCheckBox.setText(this._getResourceBundle().getText('MULTI_EDIT_APPLY_TO_EMPTY_ONLY'));this._oApplyToEmptyOnlyCheckBox.attachSelect(function(e){this.setApplyToEmptyOnly(e.getSource().getSelected());}.bind(this));this.addDependent(this._oApplyToEmptyOnlyCheckBox);};F.prototype._createSmartField=function(){if(this._oSmartField){return;}this._oSmartField=new a({id:this.getId()+'-SmartField',value:{path:this.getPropertyName(),mode:'OneWay'}});this._oSmartField.addStyleClass('sapUiCompSmartMultiEditSmartFieldHidden');this._oSmartField._createFactory=function(){var o=a.prototype._createFactory.apply(this,arguments);return g.createFromFactory(o);};this.addDependent(this._oSmartField);this._oSmartField.setValue=this._handleSmartFieldSetValue;this._oSmartField.attachInitialise(this._handleSmartFieldInitialized.bind(this),this);this._oSmartField.attachInnerControlsCreated(this._handleInnerControlsCreation.bind(this),this);if(this.getConfiguration()){this._oSmartField.setConfiguration(this.getConfiguration().clone());}this._oSmartFieldValue=null;};F.prototype._getCurrentValueControl=function(){return this._oSmartField?this._oSmartField._oControl[this._oSmartField._oControl.current]:null;};F.prototype._setSmartFieldDisplayText=function(v,u){var o,U;this._oSmartFieldValue=v;this._oSmartField.setValue(v);var b=this._getCurrentValueControl();if(b){if(this.isComboBox()){b.setSelectedKey(v);}else if(this.isComposite()&&b.getItems){o=b.getItems()[0];if(o.setValue){o.setValue(v);}else if(o.setText){o.setText(v);}else if(o.setSelectedKey){o.setSelectedKey(v);}o=b.getItems()[1];if(o._oControl.display){U=o._oControl.display;if(U.setText){U.setText(u);}}else if(o._oControl.edit){U=o._oControl.edit;if(U.setValue){U.setValue(u);}else if(U.setSelectedKey){U.setSelectedKey(u);}}}else if(b.setText){b.setText(v);}else if(b.setValue){b.setValue(v);}}};F.prototype._getSmartFieldDisplayText=function(){var o=this._oSmartField._oControl.display,t='';if(o){if(this.isComposite()&&o.getItems){if(o.getItems()[0].getText){t+=o.getItems()[0].getText();}if(o.getItems()[1]._oControl.display.getText){t+=o.getItems()[1]._oControl.display.getText();}return t;}else if(this.isComboBox()){return this._mRecordKeyTextMap[o.getSelectedKey()]||'';}else if(o.getText){return o.getText();}else{return null;}}else{return null;}};F.prototype._handleSmartFieldSetValue=function(v){if(v===this.getParent()._oSmartFieldValue){a.prototype.setValue.call(this.getParent()._oSmartField,v);}};F.prototype._handleSmartFieldInitialized=function(){var o=this._oSmartField._oFactory._oSelector.checkComboBox();this._bComboBox=o.combobox;this._oAnnotations=this._oSmartField._oFactory._oMetaData.annotations;this._oSmartField.setContextEditable(false);this._updateContextItems();this._oApplyToEmptyOnlyCheckBox.setVisible(false);};F.prototype._handleInnerControlsCreation=function(e){var m;e.mParameters.forEach(function(o){if(o.getParent()&&o.getParent()._oControl){if(o.getParent()._oControl.display===o){if(o.mBindingInfos.text){o.mBindingInfos.text.skipModelUpdate=true;}}else if(o.getParent()._oControl.edit===o){if(o.mBindingInfos.value){o.mBindingInfos.value.skipModelUpdate=true;o.setValue(null);}else if(o.mBindingInfos.selected){o.mBindingInfos.selected.skipModelUpdate=true;o.setSelected(false);}}}if(o===this._oSmartField._oControl.display){return;}if(o.attachChange){o.attachChange(this._performValidation,this);o.onfocusout=function(e){f.prototype.onfocusout.apply(o,arguments);this._performValidation();}.bind(this);}if(o.getParent()&&o.getParent().getParent()instanceof a&&o.getParent().getParent()._oControl.edit instanceof H&&this._oAnnotations&&this._oAnnotations.uom&&this._oAnnotations.uom.property.property['sap:semantics']=='currency-code'){var b=o.getParent().getParent()._oControl.edit;var i=b.getItems();i[0].attachChange(this._handleCompositeInputChange,this);if(i[1]&&i[1]._oControl&&i[1]._oControl.edit){i[1]._oControl.edit.attachChange(this._handleCompositeInputChange,this);}}}.bind(this));m=this._oSmartField.getMandatory();this._setNullable(!m);this.getParent().getLabel().setRequired(m);};F.prototype._getInnerEdit=function(){return this._oSmartField._oControl.edit;};F.prototype._getFirstInnerEdit=function(){return this._oSmartField._oControl.edit.getItems()[0];};F.prototype._getSecondInnerEdit=function(){return this._oSmartField._oControl.edit.getItems()[1]._oControl.edit;};F.prototype._performValidation=function(){var e=this._oSmartField._oError;e.bComplex=false;e.bFirst=false;e.bSecond=false;this._bClientError=this._oSmartField.checkClientError();if(this.isComposite()){if(this._bClientError){if(e.bFirst){this._getFirstInnerEdit().setValueState(V.Error);}if(e.bSecond){this._getSecondInnerEdit().setValueState(V.Error);}}else{this._getFirstInnerEdit().setValueState(V.None);this._getSecondInnerEdit().setValueState(V.None);}}else{if(this._bClientError){this._getInnerEdit().setValueState(V.Error);}else{this._getInnerEdit().setValueState(V.None);}}};F.prototype._handleCompositeInputChange=function(e){var s=this._formatCurrencyValue(this._getFirstInnerEdit().getValue(),this._getSecondInnerEdit().getValue(),true);if(!this._oSmartField._oError.bFirst&&!this._oSmartField._oError.bSecond){this._setSmartFieldDisplayText(s,this._getSecondInnerEdit().getValue());}};F.prototype._formatCurrencyValue=function(v,s,b){var e=N.getFloatInstance().parse(v),i=N.getCurrencyInstance().format(e,s);if(b){i=i.replace(s,'').trim();}return i;};F.prototype._updateSpecialSelectItems=function(){this._oSelect.removeAggregation('items',this._getKeep(),true);this._oSelect.removeAggregation('items',this._getBlank(),true);this._oSelect.removeAggregation('items',this._getValueHelp(),true);this._oSelect.insertAggregation('items',this._getKeep(),0,true);if(this.getShowValueHelp()){this._oSelect.insertAggregation('items',this._getValueHelp(),1,true);}if(this.getNullable()){this._oSelect.insertAggregation('items',this._getBlank(),this.getShowValueHelp()?2:1,true);}this.invalidate();};F.prototype._updateContextItems=function(){var v,u,U,T;if(!this._oContainer||!this.getDataType()){return;}if(this.isBoolean()){this._oSelect.addAggregation('items',this._getBoolTrueItem(),true);this._oSelect.addAggregation('items',this._getBoolFalseItem(),true);this._setShowValueHelp(false);}this._aDistinctValues=[];this._mContextItemsData={};this._mValueOccurences={};this._oContainer.getContexts().forEach(function(o){v=this.getModel().getObject(o.getPath())[this.getPropertyName()];if(!v||(typeof v==='string'&&!v.trim())){return;}if(this.isComposite()){u=this.getModel().getObject(o.getPath())[this.getUnitOfMeasurePropertyName()];U={value:v,unit:u};if(this._aDistinctValues.map(JSON.stringify).indexOf(JSON.stringify(U))===-1){this._aDistinctValues.push(U);this._mValueOccurences[U.unit+U.value]={count:1,value:U,context:o};}else{this._mValueOccurences[U.unit+U.value].count++;}}else if(this.isDate()||this.isDateTime()){if(this._aDistinctValues.map(Number).indexOf(+v)===-1){this._aDistinctValues.push(v);this._mValueOccurences[v]={count:1,value:v,context:o};}else{this._mValueOccurences[v].count++;}}else if(this.isTime()){if(this._aDistinctValues.map(function(t){return t.ms;}).indexOf(v.ms)===-1){this._aDistinctValues.push(v);this._mValueOccurences[v]={count:1,value:v,context:o};}else{this._mValueOccurences[v].count++;}}else{if(this._aDistinctValues.indexOf(v)===-1){this._aDistinctValues.push(v);this._mValueOccurences[v]={count:1,value:v,context:o};}else{this._mValueOccurences[v].count++;}}}.bind(this));T=Object.keys(this._mValueOccurences).map(function(k){return[k,this._mValueOccurences[k]];}.bind(this));T.sort(function(b,s){if(s[1].count!==b[1].count){return s[1].count-b[1].count;}else{if(this.isComposite()){return s[1].value.value-b[1].value.value;}else if(this.isInteger()||this.isFloat()){return s[1].value-b[1].value;}else if(this.isDate()||this.isDateTime()){return s[1].value.getTime()-b[1].value.getTime();}else if(b[1].value.localeCompare&&s[1].value.localeCompare){return b[1].value.localeCompare(s[1].value);}else{return 0;}}}.bind(this));T=T.slice(0,h);this._aDistinctValues=[];T.forEach(function(o){this._addInnerSelectItem(o[1].value,o[1].context);this._aDistinctValues.push(o[1].value);}.bind(this));this._setSmartFieldDisplayText(null,null);};F.prototype._addInnerSelectItem=function(v,o){var k,t;if(!v||this.isBoolean()){return;}if(this.isComposite()){k=JSON.stringify([v.value,v.unit]);}else if(this.isDate()){k=D.getDateInstance().format(v);}else if(this.isDateTime()){k=D.getDateTimeInstance().format(v);}else if(this.isTime()){k=v.ms;}else{k=String(v);}if(this.isComboBox()){t=o.getObject(this.getRecordTextPath());this._mRecordKeyTextMap[k]=t;}else{t=this._extractValueDisplayText(v);}this._oSelect.addItem(new I({key:k,text:t}),true);this._mContextItemsData[k]=v;};F.prototype._setContainer=function(o){this._oContainer=o;this._updateContextItems();};return F;});\n",
	"sap/ui/comp/smartmultiedit/flexibility/changes/AddMultiEditFields.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils','sap/ui/fl/changeHandler/Base','sap/ui/core/util/reflection/JsControlTreeModifier','sap/ui/comp/smartmultiedit/Container'],function(q,U,B,J,C){'use strict';var A={};A.applyChange=function(c,g,p){var o=c.getDefinition(),m=p.modifier,v=p.view,f,a,b=function(o){var d=o.content,M=false;if(d){M=o.content.field&&(o.content.field.selector||o.content.field.id)&&o.content.field.jsType&&o.content.field.propertyName;}return d&&M;};if(b(o)){var F=o.content.field.selector;var s=o.content.field.id;var i=o.content.field.index;var G=m.createControl('sap.ui.comp.smartform.GroupElement',p.appComponent,v,F||s);var j=o.content.field.jsType;var P=o.content.field.propertyName;var e=o.content.field.entitySet;f=this.addElementIntoGroupElement(m,v,G,j,P,e,p.appComponent);m.insertAggregation(g,'groupElements',G,i);if(g&&g.getParent()&&g.getParent().getParent()&&g.getParent().getParent().getParent()){a=g.getParent().getParent().getParent();if(a instanceof C){a.indexField(f);}}return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+o.layer+']'+o.namespace+'/'+o.fileName+'.'+o.fileType);}};A.addElementIntoGroupElement=function(m,v,g,j,p,e,a){var V=m.createControl(j,a,v);m.setProperty(V,'propertyName',p);m.insertAggregation(g,'elements',V,0,v,true);if(e){m.setProperty(V,'entitySet',e);}return V;};A.completeChangeContent=function(c,s,p){var a=p.appComponent;var o=c.getDefinition();if(!o.content){o.content={};}if(!o.content.field){o.content.field={};}if(s.bindingPath){o.content.field.propertyName=s.bindingPath;}else{throw new Error('oSpecificChangeInfo.bindingPath or bindingPath attribute required');}if(s.newControlId){o.content.field.selector=J.getSelector(s.newControlId,a);}else{throw new Error('oSpecificChangeInfo.newControlId attribute required');}if(s.jsTypes){o.content.field.jsType=s.jsType;}else if(s.bindingPath){o.content.field.jsType='sap.ui.comp.smartmultiedit.Field';}else{throw new Error('oSpecificChangeInfo.jsTypes or bindingPath attribute required');}if(s.index===undefined){throw new Error('oSpecificChangeInfo.index attribute required');}else{o.content.field.index=s.index;}if(s.entitySet){o.content.field.entitySet=s.entitySet;}};return A;},true);\n",
	"sap/ui/comp/smartmultiinput/SmartMultiInput.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/MultiInput','sap/m/MultiComboBox','sap/m/Token','sap/m/Tokenizer','sap/ui/comp/smartfield/SmartField','sap/ui/comp/odata/MetadataAnalyser','sap/ui/core/ValueState','sap/ui/model/ParseException','sap/ui/model/ValidateException','sap/ui/model/BindingMode','sap/ui/comp/odata/ODataType','sap/ui/comp/providers/ValueHelpProvider','sap/ui/comp/smartfilterbar/DisplayBehaviour','sap/ui/comp/util/FormatUtil','sap/ui/core/format/DateFormat','sap/ui/comp/valuehelpdialog/ValueHelpRangeOperation','sap/ui/comp/smartfilterbar/FilterProvider'],function(q,M,a,T,b,S,c,V,P,d,B,O,e,D,F,f,g,h){'use strict';var I='-mInput';var s='-mInputTokenizer';var j=S.extend('sap.ui.comp.smartmultiinput.SmartMultiInput',{metadata:{library:'sap.ui.comp',properties:{supportRanges:{type:'boolean',defaultValue:false}},events:{beforeCreate:{allowPreventDefault:true,parameters:{oData:{type:'object'},mParameters:{type:'object'}}},beforeRemove:{allowPreventDefault:true,parameters:{mParameters:{type:'object'}}},tokenUpdate:{parameters:{type:{type:'string'},addedTokens:{type:'sap.m.Token[]'},removedTokens:{type:'sap.m.Token[]'}}},selectionChange:{parameters:{changedItem:{type:'sap.ui.core.Item'},selected:{type:'boolean'}}}}},renderer:function(r,C){S.getMetadata().getRenderer().render(r,C);}});j.prototype.getTokens=function(){if(this._oMultiComboBox){return this._oMultiComboBox._oTokenizer.getTokens();}else{return this._oMultiInput.getTokens();}};j.prototype.getValue=function(){return this.getTokens();};j.prototype._createMultiInput=function(){var A=this._createAttributes();this._oMultiInput=new M(this.getId()+I,A);this._sInternalType=this._oMultiInput.getMetadata().getPropertyLikeSetting('value').type;this._oMultiInput.attachChange(function(E){this._validateValueOnChange(E.getParameter('value'));},this);this._oMultiInput.attachSuggestionItemSelected(function(E){this._validateValueOnChange(E.getSource().getValue());},this);if(this.getBindingContext()){this._bindMultiInput();}else{this._oMultiInput.attachTokenUpdate(function(E){var m=E.getParameters();delete m.id;this.fireTokenUpdate(m);},this);}var p={control:this._oMultiInput,onCreate:'_onMultiInputCreate',params:{type:{type:this._getType(),property:this._oFactory._oMetaData.property}}};this._initMultiInputValueHelp(p);return p;};j.prototype._createMultiComboBox=function(){var A=this._createAttributes();this._oMultiComboBox=new a(this.getId()+'mComboBox',A);this._sInternalType=this._oMultiComboBox.getMetadata().getPropertyLikeSetting('value').type;if(this.getBindingContext()){this._bindMultiComboBox();}else{this._oMultiInput=this._oMultiComboBox._oTokenizer;this._oMultiComboBox.attachSelectionChange(function(E){var m=E.getParameters();delete m.id;this.fireSelectionChange(m);},this);}var p={control:this._oMultiComboBox,onCreate:'_onCreate',params:{type:{type:this._getType(),property:this._oFactory._oMetaData.property},valuehelp:{annotation:this._getValueListAnnotation(),aggregation:'items',noDialog:true,noTypeAhead:true}}};return p;};j.prototype._createAttributes=function(){var n={width:true,textAlign:true,placeholder:true,tooltip:true,name:true,valueState:true,valueStateText:true};var A=this._oFactory.createAttributes(null,this._oFactory._oMetaData.property,n,{event:'change',parameter:'value'});return A;};function o(C){var t=C.getParameter('tokens'),r,k,i=0,R=[],l=null,m;this._onCancel();if(this.oControl instanceof sap.m.MultiInput){this.oControl.setValue('');var n=this.oControl.getTokens();var A=[];var p=[];n.forEach(function(u){var v=t.some(function(w){return u.getKey()===w.getKey();});if(!v){p.push(u);}});t.forEach(function(u){var v=n.some(function(w){return w.getKey()===u.getKey();});if(!v){A.push(u);}});this.oControl.setTokens(t);this.oControl.fireTokenUpdate({type:'tokensChanged',removedTokens:p,addedTokens:A});i=t.length;while(i--){l=t[i].data('row');if(l){R.push(l);}}}else{if(t[0]){if(this.bIsSingleIntervalRange){r=t[0].data('range');if(r){if(this._sType==='datetime'){m=f.getDateTimeInstance(q.extend({},this._oDateFormatSettings,{UTC:false}));if(typeof r.value1==='string'){r.value1=new Date(r.value1);}if(r.operation==='BT'){if(typeof r.value2==='string'){r.value2=new Date(r.value2);}k=m.format(r.value1)+'-'+m.format(r.value2);}else{k=m.format(r.value1);}}else{if(r.operation==='BT'){k=r.value1+'-'+r.value2;}else{k=r.value1;}}}}else{k=t[0].getKey();}l=t[0].data('row');if(l){R.push(l);}}this.oControl.setValue(k);this.oControl.fireChange({value:k,validated:true});}this._calculateAndSetFilterOutputData(R);}j.prototype._initMultiInputValueHelp=function(p){var i=this._getFilterType(this._oFactory._oMetaData.property.property),k={},l=this._getDateFormatSettings(),v;this._oFactory._getValueHelpDialogTitle(k);if(this._getValueListAnnotation()){p.params.valuehelp={annotation:this._getValueListAnnotation(),aggregation:'suggestionRows',noDialog:false,noTypeAhead:false,supportMultiSelect:true,supportRanges:this.getBindingContext()?false:this.getSupportRanges(),type:i};}else if(this.getSupportRanges()&&!this.getBindingContext()){v=new e({fieldName:this._getPropertyName(),preventInitialDataFetchInValueHelpDialog:true,model:this.getModel(),control:this._oMultiInput,title:k.dialogtitle,supportMultiSelect:true,supportRanges:true,type:i,dateFormatSettings:l,isUnrestrictedFilter:this._isTimeType(i),displayBehaviour:this._getDisplayBehaviour()});v._onOK=o;this._oMultiInput.addValidator(this._validateToken.bind(this));}else{this._oMultiInput.setShowValueHelp(false);this._oMultiInput.addValidator(this._validateToken.bind(this));}};j.prototype._bindMultiInput=function(){var i=this.getBinding('value').getBindingMode();switch(i){case B.OneTime:this._bindMultiInputOneTime();break;case B.OneWay:this._bindMultiInputOneWay();break;case B.TwoWay:default:this._bindMultiInputTwoWay();}};j.prototype._bindMultiInputOneTime=function(){var t=this;this._readNavigationPropertySet().then(function(r){r.results.forEach(function(R){var k=R[t._getPropertyName()];var i=t._getDescriptionFieldName();var l=i?R[i]:'';t._oMultiInput.addToken(t._createToken(k,l));});});};j.prototype._bindMultiInputOneWay=function(){this._bindMultiInputTokens();};j.prototype._bindMultiInputTwoWay=function(){this._bindMultiInputTokens();this._oMultiInput.attachTokenUpdate(function(E){E.getParameter('addedTokens').forEach(this._addToken.bind(this));E.getParameter('removedTokens').forEach(this._removeToken.bind(this));},this);};j.prototype._bindMultiInputTokens=function(){var n=this._getNavigationPath();this._oMultiInput.bindAggregation('tokens',{path:n,factory:this._tokensFactory.bind(this)});};j.prototype._bindMultiComboBox=function(){var i=this.getBinding('value').getBindingMode();switch(i){case B.OneTime:this._bindMultiComboBoxOneTime();break;case B.OneWay:this._bindMultiComboBoxOneWay();break;case B.TwoWay:default:this._bindMultiComboBoxTwoWay();}};j.prototype._bindMultiComboBoxOneTime=function(){var t=this;this._readNavigationPropertySet().then(function(r){var k=r.results.map(function(R){return R[t._getPropertyName()];});t._oMultiComboBox.setSelectedKeys(k);});};j.prototype._bindMultiComboBoxOneWay=function(){this._createAndAttachHelperMultiInput();};j.prototype._bindMultiComboBoxTwoWay=function(){this._createAndAttachHelperMultiInput();this._oMultiComboBox.attachSelectionChange(function(E){var i=E.getParameter('selected'),k=E.getParameter('changedItem'),l=k.getBindingContext().getProperty(),C=this.getBindingContext(),K=this._getEntityKeyProperties(C);Object.keys(K).forEach(function(p){l[p]=K[p];});if(i){this._createEntity(l);}else{this._removeEntity(l);}},this);};j.prototype._readNavigationPropertySet=function(){var t=this;return new Promise(function(r,i){var C=t.getBindingContext(),m=t._getModel(),n=t._getNavigationPath();m.read(n,{context:C,success:function(R){r(R);},error:function(E){t.setValueState(V.Error);t.setValueStateText(E.responseText);i(E);}});});};j.prototype._createAndAttachHelperMultiInput=function(){var n=this._getNavigationPath();this._oMultiInput=new M();this._oMultiInput.setBindingContext(this.getBindingContext());this._oMultiInput.setModel(this._getModel());this._oMultiInput.bindAggregation('tokens',{path:n,factory:this._tokensFactory.bind(this)});var i=this._oMultiInput.getBinding('tokens');i.attachChange(function(){var k=this._oMultiInput.getTokens().map(function(t){return t.getKey();});this._oMultiComboBox.setSelectedKeys(k);},this);};j.prototype._createTokenizer=function(){var n=this._getNavigationPath();this._oTokenizer=new b(this.getId()+s,{editable:false,width:'100%'});if(this.getBindingContext()){this._oTokenizer.bindAggregation('tokens',{path:n,factory:this._tokensFactory.bind(this)});}else{this.attachInnerControlsCreated(function(){if(this.getMode()==='display'&&typeof this._oMultiInput!=='undefined'){this._oTokenizer.removeAllTokens();this._oMultiInput.getTokens().forEach(function(t){var N=new T({text:t.getText(),key:t.getKey()});this._oTokenizer.addToken(N);},this);}},this);}return{control:this._oTokenizer,onCreate:'_onCreate'};};j.prototype._tokensFactory=function(C,i){var v=i.getProperty(this._getPropertyName());var k=this._getType().formatValue(v,this._sInternalType);var l=this._getDescriptionFieldName();var m=l?i.getProperty(l):'';var t=this._createToken(k,m);return t;};j.prototype._createToken=function(k,i){var l=this._getFormattedText(k,i);var t=new T();t.setKey(k);t.setText(l);return t;};j.prototype._addToken=function(t){var i={},r=t.data('row'),R=t.data('range'),C=this.getBindingContext(),k=this._getEntityKeyProperties(C);Object.keys(k).forEach(function(p){i[p]=k[p];});if(r){Object.keys(r).forEach(function(p){if(p!=='__metadata'){i[p]=r[p];}});}if(R){i['range']=R;}this.setValueState(V.None);C=this._createEntity(i);t.setBindingContext(C);};j.prototype._createEntity=function(i){var m=this._getModel(),A=this._getEntitySetName(),p=m._resolveGroup(A),k=this.getBindingContext().getPath()+'/'+this._getNavigationPath(),l=this.fireBeforeCreate({oData:i,mParameters:p});if(l){p.properties=i;var C=m.createEntry(k,p);return C;}};j.prototype._removeToken=function(t){var k=this._getEntityKeyProperties(t.getBindingContext());this._removeEntity(k);};j.prototype._removeEntity=function(k){var m=this._getModel(),A=this._getEntitySetName(),p=m._resolveGroup(A),i=this.fireBeforeRemove({mParameters:p});if(i){var l='/'+m.createKey(A,k);m.remove(l,p);}};j.prototype._getEntityKeyProperties=function(C){var m=this._getModel(),E=m.oMetadata._getEntityTypeByPath(C.getPath()),k={};E.key.propertyRef.forEach(function(K){var p=K.name;k[p]=C.getProperty(p);});return k;};j.prototype.checkClientError=function(){if(this.getMode()==='display'){return false;}return!this._validateMultiInput();};j.prototype.getRangeData=function(){var t=this.getTokens(),r=[];t.forEach(function(i){var R;if(i.data('range')){R=i.data('range');}else{R=this._getDefaultTokenRangeData(i);}r.push(R);},this);return r;};j.prototype.getFilter=function(){var i=[this._getPropertyName()],k={},r=this.getRangeData(),l;k[this._getPropertyName()]={ranges:r,items:[]};l=h.generateFilters(i,k);return l&&l.length===1&&l[0];};j.prototype._getDefaultTokenRangeData=function(t){var r={exclude:false,operation:g.EQ,value1:this._parseValue(t.getKey()),value2:'',keyField:this._getPropertyName()};return r;};j.prototype._validateToken=function(A){var t=A.text;var v=this._validateValue(t);if(v){var i=new T({key:t,text:t});if(this.getBindingContext()){var r={};r[this._getPropertyName()]=this._getType().parseValue(t,this._sInternalType);i.data('row',r);}else if(this.getSupportRanges()){var R=this._getDefaultTokenRangeData(i);i.data('range',R);i.setText('='+t);}return i;}};j.prototype._validateMultiInput=function(){if(this._oMultiInput.getValueState()!==V.None){return false;}if(this.getRequired()&&this.getTokens().length===0){this.setValueStateText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('VALUEHELPVALDLG_FIELDMESSAGE'));this.setValueState(V.Error);return false;}else{this.setValueState(V.None);return true;}};j.prototype._validateValueOnChange=function(v){if(v===''){this.setValueState(V.None);this._validateMultiInput();}else{this._validateValue(v);}};j.prototype._parseValue=function(v){return this._getType().parseValue(v,this._sInternalType);};j.prototype._validateValue=function(v){try{var p=this._parseValue(v);this._getType().validateValue(p);this.setValueState(V.None);return true;}catch(E){this.setValueState(V.Error);this.setValueStateText(E.message);var m={element:this._oMultiInput,property:'value',type:this._getType(),newValue:v,oldValue:null,exception:E,message:E.message};if(E instanceof P){this.fireParseError(m);}else if(E instanceof d){this.fireValidationError(m);}return false;}};j.prototype._getModel=function(){if(this._oFactory){return this._oFactory._oModel;}};j.prototype._getDateFormatSettings=function(){var i=this.data('dateFormatSettings');if(typeof i==='string'){try{i=JSON.parse(i);}catch(k){}}return i;};j.prototype._getNavigationPath=function(){return this._oFactory._oMetaData.navigationPath;};j.prototype._getDescriptionFieldName=function(){var i=this._oFactory._oMetaData.annotations.text;if(i){return i.property.property.name;}};j.prototype._getType=function(){if(!this._oType){var i;if(this._isEdmTimeType()){i=this._getDateFormatSettings();}this._oType=this._oFactory._oTypes.getType(this._oFactory._oMetaData.property,i);}return this._oType;};j.prototype._isEdmTimeType=function(){var t=['Edm.DateTime','Edm.DateTimeOffset','Edm.Time'];return t.indexOf(this._oFactory._oMetaData.property.property.type)>-1;};j.prototype._isTimeType=function(t){var i=['date','datetime','time'];return i.indexOf(t)>-1;};j.prototype._getPropertyName=function(){return this._oFactory._oMetaData.property.property.name;};j.prototype._getEntitySetName=function(){return this._oFactory._oMetaData.entitySet.name;};j.prototype._getValueListAnnotation=function(){return this._oFactory._oMetaData.annotations.valuelist;};j.prototype._getDisplayBehaviour=function(){var i=this._oFactory._getDisplayBehaviourConfiguration('defaultDropDownDisplayBehaviour');if(!i||i===D.auto){i=D.descriptionAndId;}return i;};j.prototype._getFormattedText=function(k,i){var l=this._getDisplayBehaviour();return F.getFormattedExpressionFromDisplayBehaviour(l,k,i);};j.prototype._getFilterType=function(p){if(O.isNumeric(p.type)){return'numeric';}else if(p.type==='Edm.DateTime'&&p['sap:display-format']==='Date'){return'date';}else if(p.type==='Edm.String'){return'string';}else if(p.type==='Edm.Boolean'){return'boolean';}else if(p.type==='Edm.Time'){return'time';}else if(p.type==='Edm.DateTimeOffset'){return'datetime';}return undefined;};j.prototype.setEntitySet=function(){S.prototype.setEntitySet.apply(this,arguments);this.updateBindingContext(false,this._getModel());return this;};j.prototype.bindProperty=function(p,A){S.prototype.bindProperty.apply(this,arguments);if(p==='value'){this.updateBindingContext(false,this._getModel());}return this;};j.prototype._checkComboBox=function(){var C=this._oFactory._oSelector.checkComboBox();return C&&C.combobox;};function _(){this._onCreate.apply(this,arguments);if(this._aProviders.length>0){this._aProviders[0]._onOK=o;}}j.prototype._init=function(){var t=this;S.prototype._init.apply(this,arguments);if(this._oFactory){this._oFactory._createMultiInput=this._createMultiInput.bind(this);this._oFactory._createMultiComboBox=this._createMultiComboBox.bind(this);this._oFactory._createTokenizer=this._createTokenizer.bind(this);this._oFactory._onMultiInputCreate=_;this._oFactory._oSelector.getCreator=function(){if(!t.getEditable()||!t.getEnabled()||!t.getContextEditable()){return'_createTokenizer';}else if(t._checkComboBox()){return'_createMultiComboBox';}else{return'_createMultiInput';}};}};return j;},true);\n",
	"sap/ui/comp/smarttable/SmartTable.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/VBoxRenderer','sap/m/Column','sap/m/ColumnListItem','sap/m/Label','sap/m/MessageBox','sap/m/Table','sap/m/Text','sap/m/Title','sap/m/OverflowToolbar','sap/m/ToolbarSpacer','sap/m/ToolbarDesign','sap/m/OverflowToolbarButton','sap/m/ToolbarSeparator','sap/m/VBox','sap/m/FlexItemData','sap/ui/comp/library','sap/ui/comp/providers/TableProvider','sap/ui/comp/smartfilterbar/FilterProvider','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/model/Sorter','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/model/json/JSONModel','sap/ui/table/AnalyticalColumn','sap/ui/table/AnalyticalTable','sap/ui/table/Column','sap/ui/table/Table','sap/ui/table/TreeTable','sap/ui/comp/personalization/Controller','sap/ui/comp/personalization/Util','sap/ui/comp/util/FormatUtil','sap/ui/comp/util/FullScreenUtil','sap/ui/comp/odata/ODataModelUtil','sap/ui/comp/odata/ODataType','sap/ui/comp/state/UIState','sap/ui/comp/smartvariants/PersonalizableInfo','sap/ui/core/format/NumberFormat','sap/ui/Device'],function(q,V,C,a,L,M,R,T,b,O,c,d,f,g,h,F,l,j,k,S,m,n,o,J,A,p,r,s,t,u,P,v,w,x,y,U,z,N,D){'use strict';var B=h.extend('sap.ui.comp.smarttable.SmartTable',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smarttable/SmartTable.designtime',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},smartFilterId:{type:'string',group:'Misc',defaultValue:null},ignoredFields:{type:'string',group:'Misc',defaultValue:null},initiallyVisibleFields:{type:'string',group:'Misc',defaultValue:null},requestAtLeastFields:{type:'string',group:'Misc',defaultValue:null},ignoreFromPersonalisation:{type:'string',group:'Misc',defaultValue:null},tableType:{type:'sap.ui.comp.smarttable.TableType',group:'Misc',defaultValue:null},useVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},showVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},useExportToExcel:{type:'boolean',group:'Misc',defaultValue:true},exportType:{type:'sap.ui.comp.smarttable.ExportType',group:'Misc',defaultValue:'UI5Client'},useTablePersonalisation:{type:'boolean',group:'Misc',defaultValue:true},showTablePersonalisation:{type:'boolean',group:'Misc',defaultValue:true},showRowCount:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:null},toolbarStyleClass:{type:'string',group:'Misc',defaultValue:null},enableCustomFilter:{type:'boolean',group:'Misc',defaultValue:true},persistencyKey:{type:'string',group:'Misc',defaultValue:null},useOnlyOneSolidToolbar:{type:'boolean',group:'Misc',defaultValue:false},placeToolbarInTable:{type:'boolean',group:'Misc',defaultValue:false},currentVariantId:{type:'string',group:'Misc',defaultValue:null},editable:{type:'boolean',group:'Misc',defaultValue:false},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},tableBindingPath:{type:'string',group:'Misc',defaultValue:null},editTogglable:{type:'boolean',group:'Misc',defaultValue:false},demandPopin:{type:'boolean',group:'Misc',defaultValue:false},showFullScreenButton:{type:'boolean',group:'Misc',defaultValue:false}},associations:{smartVariant:{type:'sap.ui.core.Control',multiple:false}},aggregations:{customToolbar:{type:'sap.m.Toolbar',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false},noData:{type:'sap.ui.core.Control',altTypes:['string'],multiple:false},semanticKeyAdditionalControl:{type:'sap.ui.core.Control',multiple:false}},events:{initialise:{},beforeRebindTable:{},editToggled:{},dataRequested:{},dataReceived:{},afterVariantInitialise:{},afterVariantSave:{parameters:{currentVariantId:{type:'string'}}},afterVariantApply:{parameters:{currentVariantId:{type:'string'}}},showOverlay:{},fieldChange:{},fullScreenToggled:{parameters:{fullScreen:{type:'boolean'}}},beforeExport:{parameters:{exportSettings:{type:'object'}}}}},renderer:V.render,constructor:function(){h.apply(this,arguments);this._aExistingColumns=[];this._aAlwaysSelect=[];this._oTemplate=null;this._createToolbar();this._oP13nDialogSettings=this.data('p13nDialogSettings');if(typeof this._oP13nDialogSettings==='string'){try{this._oP13nDialogSettings=JSON.parse(this._oP13nDialogSettings);}catch(e){this._oP13nDialogSettings=null;}}this._bIsFilterPanelEnabled=(this._oP13nDialogSettings&&this._oP13nDialogSettings.filter)?this._oP13nDialogSettings.filter.visible!==false:true;this._createTable();}});B.prototype.init=function(){h.prototype.init.call(this);this.addStyleClass('sapUiCompSmartTable');this.setFitContainer(true);this._aColumnKeys=[];this._aDeactivatedColumns=[];this._mLazyColumnMap={};};B.prototype._getVariantManagementControl=function(e){var i=null;if(e){if(typeof e==='string'){i=sap.ui.getCore().byId(e);}else{i=e;}if(i){if(!(i instanceof S)){q.sap.log.error('Control with the id='+e.getId?e.getId():e+' not of expected type');return null;}}}return i;};B.prototype._createVariantManagementControl=function(){if(this._oVariantManagement||(!this.getUseVariantManagement()&&!this.getUseTablePersonalisation())||!this.getPersistencyKey()){return;}var e=new z({type:'table',keyName:'persistencyKey',dataSource:'TODO'});e.setControl(this);var i=this.getSmartVariant();if(i){this._oVariantManagement=this._getVariantManagementControl(i);}else if(this._oSmartFilter&&this._oSmartFilter.data('pageVariantPersistencyKey')){i=this._oSmartFilter.getSmartVariant();if(i){this._oVariantManagement=this._getVariantManagementControl(i);}}else{this._oVariantManagement=new S(this.getId()+'-variant',{showShare:true});}if(this._oVariantManagement){this._oVariantManagement.addPersonalizableControl(e);this._oVariantManagement.attachSave(this._variantSaved,this);this._oVariantManagement.attachAfterSave(this._variantAfterSave,this);this._oVariantManagement.initialise(this._variantInitialised,this);}};B.prototype._variantInitialised=function(){if(!this._oCurrentVariant){this._oCurrentVariant='STANDARD';}this.fireAfterVariantInitialise();if(this._oVariantManagement&&!this._oVariantManagement.getEnabled()){this._checkAndTriggerBinding();}};B.prototype._variantSaved=function(){if(this._oPersController){this._oPersController.setPersonalizationData(this._oCurrentVariant);}};B.prototype._variantAfterSave=function(){this.fireAfterVariantSave({currentVariantId:this.getCurrentVariantId()});};B.prototype.setShowTablePersonalisation=function(e){this.setProperty('showTablePersonalisation',e,true);if(this._oTablePersonalisationButton){this._oTablePersonalisationButton.setVisible(e);}};B.prototype.setUseVariantManagement=function(e){this.setProperty('useVariantManagement',e,true);if(this._oPersController){this._oPersController.setResetToInitialTableState(!e);}};B.prototype.setShowVariantManagement=function(e){this.setProperty('showVariantManagement',e,true);if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(e);if(this._oSeparator){this._oSeparator.setVisible(e);}}};B.prototype.setToolbarStyleClass=function(e){this.setProperty('toolbarStyleClass',e,true);};B.prototype.setCustomToolbar=function(e){this._oCustomToolbar=e;};B.prototype.getCustomToolbar=function(){return this._oCustomToolbar;};B.prototype.setHeader=function(e){var i=this.getProperty('header'),E;this.setProperty('header',e,true);if(this.bIsInitialised&&this._oToolbar){E=(!i===!e);if(!E){this._createToolbarContent();}else{this._refreshHeaderText();}}};B.prototype.setShowRowCount=function(e){this.setProperty('showRowCount',e,true);this._refreshHeaderText();};B.prototype.setEditable=function(e){this.setProperty('editable',e,true);if(this._oEditModel){this._oEditModel.setProperty('/editable',e);}if(this._oEditButton){this._oEditButton.setIcon(e?'sap-icon://display':'sap-icon://edit');}if(this._isMobileTable&&this._oTable.setKeyboardMode){this._oTable.setKeyboardMode(e?'Edit':'Navigation');}};B.prototype.setDemandPopin=function(e){var i=this.getDemandPopin();if(i===e){return;}this.setProperty('demandPopin',e,true);if(this.bIsInitialised){if(e){this._updateColumnsPopinFeature();}else{this._deactivateColumnsPopinFeature();}}};B.prototype._refreshHeaderText=function(){if(!this._headerText){return;}if(!this._oNumberFormatInstance){this._oNumberFormatInstance=N.getFloatInstance();}var e=this.getHeader();this._headerText.setVisible(!!e);if(this.getShowRowCount()){var i=parseInt(this._getRowCount(true),10);var E=this._oNumberFormatInstance.format(i);e+=' ('+E+')';}this._headerText.setText(e);};B.prototype._addFullScreenButton=function(){if(this._oFullScreenButton){this._oToolbar.removeContent(this._oFullScreenButton);}if(this.getShowFullScreenButton()){if(!this._oFullScreenButton){this._oFullScreenButton=new f(this.getId()+'-btnFullScreen',{press:function(){this._toggleFullScreen(!this.bFullScreen);}.bind(this)});}this._renderFullScreenButton();this._oToolbar.addContent(this._oFullScreenButton);}};B.prototype._createToolbar=function(){var e=null;if(!this._oToolbar){e=this.getCustomToolbar();if(e){this._oToolbar=e;}else{this._oToolbar=new O({design:d.Transparent});this._oToolbar.addStyleClass('sapUiCompSmartTableToolbar');if(this.getToolbarStyleClass()){this._oToolbar.addStyleClass(this.getToolbarStyleClass());}}this._oToolbar.setLayoutData(new F({shrinkFactor:0}));}};B.prototype._toggleFullScreen=function(e,i){if(!this._oFullScreenButton||(e===this.bFullScreen&&!i)){return;}this.bFullScreen=e;w.toggleFullScreen(this,this.bFullScreen,this._oFullScreenButton,this._toggleFullScreen.bind(this,false));this._renderFullScreenButton();this.fireFullScreenToggled({fullScreen:e});};B.prototype._renderFullScreenButton=function(){var e=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp'),i;i=this.bFullScreen?e.getText('CHART_MINIMIZEBTN_TOOLTIP'):e.getText('CHART_MAXIMIZEBTN_TOOLTIP');this._oFullScreenButton.setTooltip(i);this._oFullScreenButton.setText(i);this._oFullScreenButton.setIcon(this.bFullScreen?'sap-icon://exit-full-screen':'sap-icon://full-screen');};B.prototype._createToolbarContent=function(){if(!this._oToolbar){this._createToolbar();}this._addVariantManagementToToolbar();this._addSeparatorToToolbar();this._addHeaderToToolbar();this._addSpacerToToolbar();this._addEditTogglableToToolbar();this._addTablePersonalisationToToolbar();this._addExportToExcelToToolbar();this._addFullScreenButton();this._bToolbarInsertedIntoItems=true;this._placeToolbar();};B.prototype._placeToolbar=function(){if(!this.getPlaceToolbarInTable()){this.insertItem(this._oToolbar,0);}else if(this._isMobileTable){this._oTable.setHeaderToolbar(this._oToolbar);}else{this._oTable.addExtension(this._oToolbar);}};B.prototype.getToolbar=function(){return this._oToolbar;};B.prototype._addEditTogglableToToolbar=function(){var e;if(this._oEditButton){this._oToolbar.removeContent(this._oEditButton);}if(this.getEditTogglable()){if(!this._oEditButton){e=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('TABLE_EDITTOGGLE_TOOLTIP');this._oEditButton=new f(this.getId()+'-btnEditToggle',{icon:this.getEditable()?'sap-icon://display':'sap-icon://edit',text:e,tooltip:e,press:function(){var E=this.getEditable();E=!E;this.setEditable(E,true);this.fireEditToggled({editable:E});}.bind(this)});}this._oToolbar.addContent(this._oEditButton);}};B.prototype._addHeaderToToolbar=function(){if(this._headerText){this._oToolbar.removeContent(this._headerText);}if(!this._headerText){this._headerText=new b(this.getId()+'-header');this._headerText.addStyleClass('sapMH4Style');this._headerText.addStyleClass('sapUiCompSmartTableHeader');}this._refreshHeaderText();this._oToolbar.insertContent(this._headerText,0);};B.prototype._addSeparatorToToolbar=function(){if(this._oSeparator){this._oToolbar.removeContent(this._oSeparator);}if(this.getHeader()&&this.getUseVariantManagement()&&this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){if(!this._oSeparator){this._oSeparator=new g(this.getId()+'-toolbarSeperator');if(!this.getShowVariantManagement()){this._oSeparator.setVisible(false);}}this._oToolbar.insertContent(this._oSeparator,0);}if(this._oToolbar){this._oToolbar.addStyleClass('sapMTBHeader-CTX');}};B.prototype._addVariantManagementToToolbar=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oToolbar.removeContent(this._oVariantManagement);if(this.getUseVariantManagement()){this._oToolbar.insertContent(this._oVariantManagement,0);if(!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(this.getShowVariantManagement());}}}};B.prototype._addSpacerToToolbar=function(){var e=false,I=this._oToolbar.getContent(),i,E;if(I){E=I.length;i=0;for(i;i<E;i++){if(I[i]instanceof c){e=true;break;}}}if(!e){this._oToolbar.addContent(new c(this.getId()+'-toolbarSpacer'));}};B.prototype._addTablePersonalisationToToolbar=function(){var e;if(this._oTablePersonalisationButton){this._oToolbar.removeContent(this._oTablePersonalisationButton);}if(this.getUseTablePersonalisation()){if(!this._oTablePersonalisationButton){e=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('TABLE_PERSOBTN_TOOLTIP');this._oTablePersonalisationButton=new f(this.getId()+'-btnPersonalisation',{icon:'sap-icon://action-settings',text:e,tooltip:e,press:function(E){this._oPersController.openDialog();}.bind(this)});this._oTablePersonalisationButton.setVisible(this.getShowTablePersonalisation());}this._oToolbar.addContent(this._oTablePersonalisationButton);}};B.prototype._addExportToExcelToToolbar=function(){if(this._oUseExportToExcel){this._oToolbar.removeContent(this._oUseExportToExcel);}if(this.getUseExportToExcel()&&(this._bTableSupportsExcelExport||this.getExportType()==='UI5Client')){var e;if(!this._oUseExportToExcel){e=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('TABLE_EXPORT_TEXT');this._oUseExportToExcel=new f(this.getId()+'-btnExcelExport',{icon:'sap-icon://excel-attachment',text:e,tooltip:e,press:function(E){if(this.getExportType()==='UI5Client'){this._triggerUI5ClientExport();return;}var i=function(){var H=this._getRowBinding();var I=H.getDownloadUrl('xlsx');I=this._removeExpandParameter(I);if(I&&I.length>2048&&D.browser.msie){M.error(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('DOWNLOAD_TOO_COMPLEX_TEXT'));return;}var K={url:I};this.fireBeforeExport({exportSettings:K});window.open(K.url);}.bind(this);var G=this._getRowCount(true);if(G>10000){M.confirm(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('DOWNLOAD_CONFIRMATION_TEXT',G),{actions:[M.Action.YES,M.Action.NO],onClose:function(H){if(H===M.Action.YES){i();}}});}else{i();}}.bind(this)});this._setExcelExportEnableState();}this._oToolbar.addContent(this._oUseExportToExcel);}};B.prototype._triggerUI5ClientExport=function(){var e=sap.ui.getCore().loadLibrary('sap.ui.export',true);e.then(function(){var E=this._oTable.getColumns(),i,G=E.length,H,I,K,Q,W,X,Y,Z,$,_=[];if(this._isMobileTable&&E.length){E=E.sort(function(i1,j1){return i1.getOrder()-j1.getOrder();});}for(i=0;i<G;i++){Q=null;W=null;H=E[i];if(H.getVisible()){if(H.getLeadingProperty){Q=H.getLeadingProperty();}I=H.data('p13nData');if(I){if(!Q){Q=I['leadingProperty'];}}if(Array.isArray(Q)){Q=Q[0];}if(Q){if(H.getLabel){K=H.getLabel();}else if(H.getHeader){K=H.getHeader();}X=H.getWidth().toLowerCase()||I.width||'';if(X.indexOf('em')>0){X=Math.round(parseFloat(X));}else if(X.indexOf('px')>0){X=Math.round(parseInt(X,10)/16);}Y=I.type==='numeric'?'number':I.type;$=null;Z=null;if(I.isCurrency){Y='currency';}else if(I.description){W=v.getFormattedExpressionFromDisplayBehaviour(I.displayBehaviour,'{0}','{1}');}else if(I.isDigitSequence){Y='number';}else if(Y!='date'&&y.isDateOrTime(I.edmType)){Y=y.getDefaultValueTypeName(I.edmType);if(Y==='DateTimeOffset'){Y='DateTime';}}else if(Y==='stringdate'){Y='date';Z='YYYYMMDD';}else if(Y==='boolean'){$=y.getType(I.edmType);}_.push({columnId:H.getId(),property:W?[Q,I.description]:Q,type:Y,inputFormat:Z,label:(K&&K.getText)?K.getText():Q,width:X,textAlign:H.getHAlign(),template:W,trueValue:(Y==='boolean'&&$)?$.formatValue(true,'string'):undefined,falseValue:(Y==='boolean'&&$)?$.formatValue(false,'string'):undefined,unitProperty:(Y==='currency'||Y==='number')?I.unit:undefined,displayUnit:Y==='currency',precision:I.precision,scale:I.scale});}}}if(!_||!_.length){M.error(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_COLS_EXPORT'),{styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});return;}var a1=this._getRowBinding();var b1=this.getModel();var c1=this.getHeader();var d1=!this._isTreeTable?this._getRowCount(true):undefined;var e1=a1.getDownloadUrl&&a1.getDownloadUrl('json');var f1=b1.sServiceUrl;if(!this._InterceptService){var g1=sap.ui.require('sap/ushell/cloudServices/interceptor/InterceptService');if(g1){this._InterceptService=g1.getInstance();}}if(this._InterceptService){e1=this._InterceptService.interceptUrl?this._InterceptService.interceptUrl(e1):e1;f1=this._InterceptService.interceptUrl?this._InterceptService.interceptUrl(f1):f1;}var h1={workbook:{columns:_,hierarchyLevel:(this._isTreeTable&&a1.getTreeAnnotation)?a1.getTreeAnnotation('hierarchy-level-for'):undefined},dataSource:{type:'odata',dataUrl:e1,serviceUrl:f1,headers:b1.getHeaders(),count:d1,useBatch:b1.bUseBatch},fileName:c1};this.fireBeforeExport({exportSettings:h1});sap.ui.require(['sap/ui/export/Spreadsheet'],function(i1){new i1(h1).build();});}.bind(this));};B.prototype._removeExpandParameter=function(e){var i=e.replace(new RegExp('([\\\\?&]\\\\$expand=[^&]+)(&?)'),function(E,G,H){return H?G.substring(0,1):'';});return i;};B.prototype._getRowCount=function(e){var i=this._getRowBinding();if(!i){return 0;}var E=0;if(e&&i.getTotalSize){E=i.getTotalSize();}else{E=i.getLength();}if(E<0||E==='0'){E=0;}return E;};B.prototype._setExcelExportEnableState=function(){if(this._oUseExportToExcel){var i=this._getRowCount();this._oUseExportToExcel.setEnabled(i>0);}};B.prototype._createPersonalizationController=function(){if(this._oPersController||!this.getUseTablePersonalisation()){return;}var e=this._oP13nDialogSettings;e=this._setIgnoreFromPersonalisationToSettings(e);this._oPersController=new u(this.getId()+'-persoController',{table:this._oTable,columnKeys:this._aColumnKeys,setting:e,resetToInitialTableState:!this.getUseVariantManagement(),beforePotentialTableChange:this._beforePersonalisationModelDataChange.bind(this),afterPotentialTableChange:this._afterPersonalisationModelDataChange.bind(this),afterP13nModelDataChange:this._personalisationModelDataChange.bind(this),requestColumns:this._personalisationRequestColumns.bind(this)});};B.prototype._setIgnoreFromPersonalisationToSettings=function(e){var i=P.createArrayFromString(this.getIgnoreFromPersonalisation());if(i.length){if(!e){e={};}var E=function(G){if(!e[G]){e[G]={};}e[G].ignoreColumnKeys=i;};E('filter');E('sort');E('group');E('columns');}return e;};B.prototype._getRowBinding=function(){if(this._oTable){return this._oTable.getBinding(this._sAggregation);}};B.prototype.setEntitySet=function(e){this.setProperty('entitySet',e);this._initialiseMetadata();};B.prototype.propagateProperties=function(){h.prototype.propagateProperties.apply(this,arguments);this._initialiseMetadata();};B.prototype._initialiseMetadata=function(){if(!this.bIsInitialised){x.handleModelInit(this,this._onMetadataInitialised);}};B.prototype._onMetadataInitialised=function(){this._bMetaModelLoadAttached=false;if(!this.bIsInitialised){this._createTableProvider();if(this._oTableProvider){this._aTableViewMetadata=this._oTableProvider.getTableViewMetadata();if(this._aTableViewMetadata){if(!this._isMobileTable&&this.getDemandPopin()){this.setDemandPopin(false);q.sap.log.error(\"use SmartTable property 'demandPopin' only  with responsive table, property has been set to false\");}this.bIsInitialised=true;this._bTableSupportsExcelExport=this._oTableProvider.getSupportsExcelExport();this._listenToSmartFilter();this._createVariantManagementControl();this._createToolbarContent();this._aAlwaysSelect=this._oTableProvider.getRequestAtLeastFields();this._createContent();this._createPersonalizationController();this._oEditModel=new J({editable:this.getEditable()});this.setModel(this._oEditModel,'sm4rtM0d3l');this.attachEvent('_change',this._onPropertyChange,this);this.fireInitialise();if(!this._oVariantManagement||(this._oVariantManagement&&this._bVariantInitialised)){this._checkAndTriggerBinding();}}}}};B.prototype._checkAndTriggerBinding=function(){if(!this._bAutoBindingTriggered){this._bAutoBindingTriggered=true;if(this.getEnableAutoBinding()){if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindTable();}}}};B.prototype._aStaticProperties=['entitySet','ignoredFields','initiallyVisibleFields','ignoreFromPersonalisation','tableType','useTablePersonalisation','enableAutoBinding','persistencyKey','smartFilterId'];B.prototype._aToolbarRelatedProperties=['useExportToExcel','exportType','showFullScreenButton','editTogglable','placeToolbarInTable'];B.prototype._onPropertyChange=function(e){var i=e.getParameter('name');if(this._aStaticProperties.indexOf(i)>-1){q.sap.log.error('Property '+i+' cannot be changed after the SmartTable with id '+this.getId()+' is initialised');}if(this._oToolbar&&this._aToolbarRelatedProperties.indexOf(i)>-1){this._createToolbarContent();}};B.prototype._createTableProvider=function(){var e,E,i;E=this.getEntitySet();i=this.getIgnoredFields();e=this.getModel();if(e&&E){if(this._aExistingColumns.length){if(i){i+=','+this._aExistingColumns.toString();}else{i=this._aExistingColumns.toString();}}this._oTableProvider=new j({entitySet:E,ignoredFields:i,initiallyVisibleFields:this.getInitiallyVisibleFields(),isEditableTable:this.getEditable(),smartTableId:this.getId(),isAnalyticalTable:!!this._isAnalyticalTable,isMobileTable:!!this._isMobileTable,dateFormatSettings:this.data('dateFormatSettings'),currencyFormatSettings:this.data('currencyFormatSettings'),defaultDropDownDisplayBehaviour:this.data('defaultDropDownDisplayBehaviour'),useSmartField:this.data('useSmartField'),useSmartToggle:this.data('useSmartToggle'),skipAnnotationParse:this.data('skipAnnotationParse'),lineItemQualifier:this.data('lineItemQualifier'),presentationVariantQualifier:this.data('presentationVariantQualifier'),enableInResultForLineItem:this.data('enableInResultForLineItem'),_semanticKeyAdditionalControl:this.getAggregation('semanticKeyAdditionalControl'),model:e,semanticObjectController:this.getSemanticObjectController()});}};B.prototype._listenToSmartFilter=function(){var e=null;e=this.getSmartFilterId();this._oSmartFilter=this._findControl(e);if(this._oSmartFilter){this._oSmartFilter.attachSearch(this._reBindTable,this);this._oSmartFilter.attachFilterChange(this._filterChangeEvent,this);this._setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_DATA'));}else{this._setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_DATA_WITHOUT_FILTERBAR'));}};B.prototype._filterChangeEvent=function(){if(this._isTableBound()&&this._oSmartFilter&&!this._oSmartFilter.getLiveMode()&&!this._oSmartFilter.isDialogOpen()){this._showOverlay(true);}};B.prototype._showOverlay=function(e){if(e){var i={show:true};this.fireShowOverlay({overlay:i});e=i.show;}this._oTable.setShowOverlay(e);};B.prototype._findControl=function(i){var e,E;if(i){e=sap.ui.getCore().byId(i);if(!e){E=this._getView();if(E){e=E.byId(i);}}}return e;};B.prototype._getView=function(){if(!this._oView){var e=this.getParent();while(e){if(e.isA('sap.ui.core.mvc.View')){this._oView=e;break;}e=e.getParent();}}return this._oView;};B.prototype.rebindTable=function(e){this._reBindTable(null,e);};B.prototype._reBindTable=function(e,E){var G,H,I,i,K,Q,W=[],X,Y,Z,$,_,a1,b1,c1={},d1={preventTableBind:false};I=this._getTablePersonalisationData()||{};X=I.filters;Y=I.excludeFilters;b1=I.sorters;if(this._oSmartFilter){Q=this._oSmartFilter.getFilters();c1=this._oSmartFilter.getParameters()||{};}if(Q&&Q.length){if(Y){W=[new n([Q[0],Y],true)];}else{W=Q;}}else if(Y){W=[Y];}if(X){X=W.concat(X);}else{X=W;}Z=this._getRequestAtLeastFields();_=this._getRelevantColumnPaths();$=_['select'];if(!$||!$.length){$=Z;}else{K=Z.length;for(i=0;i<K;i++){if($.indexOf(Z[i])<0){$.push(Z[i]);}}}if(this._sSelectForGroup&&$.indexOf(this._sSelectForGroup)<0){$.push(this._sSelectForGroup);}if($.length){c1['select']=$.toString();a1=_['expand'];if(a1.length){c1['expand']=a1.join(',');}}c1['useBatchRequests']=true;if(!b1){b1=[];}d1.filters=X;d1.sorter=b1;d1.parameters=c1;d1.length=undefined;d1.startIndex=undefined;d1.events={};this.fireBeforeRebindTable({bindingParams:d1});if(!d1.preventTableBind){b1=d1.sorter;X=d1.filters;c1=d1.parameters;$=d1.parameters['select'];if(!$||!$.length){M.error(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_COLS'),{styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});return;}H=this.getTableBindingPath()||('/'+this.getEntitySet());if(this._oTable.resumeUpdateAnalyticalInfo){this._oTable.resumeUpdateAnalyticalInfo(true,false);}this._bDataLoadPending=true;this._bIgnoreChange=false;if(this._bForceTableUpdate){E=true;this._bForceTableUpdate=false;}if(!E){G=this._oTable.getBinding(this._sAggregation);if(G&&G.mParameters){E=!(q.sap.equal(c1,G.mParameters,true)&&q.sap.equal(c1.custom,G.mParameters.custom)&&!d1.length&&!d1.startIndex&&H===G.getPath());}}if(!this._bNoDataUpdated){this._bNoDataUpdated=true;this._setNoDataText();}if(!G||!this._bIsTableBound||E){B._addBindingListener(d1,'change',this._onBindingChange.bind(this));B._addBindingListener(d1,'dataRequested',this._onDataRequested.bind(this));B._addBindingListener(d1,'dataReceived',this._onDataReceived.bind(this));this._oTable.bindRows({path:H,filters:X,sorter:b1,parameters:c1,length:d1.length,startIndex:d1.startIndex,template:this._oTemplate,events:d1.events});this._bIsTableBound=true;}else{G.sort(b1);G.filter(X,'Application');}this._showOverlay(false);}};B.prototype._onDataRequested=function(e){if(e&&e.getParameter&&e.getParameter('__simulateAsyncAnalyticalBinding')){return;}this._bIgnoreChange=true;this.fireDataRequested(e.getParameters());};B.prototype._onDataReceived=function(e){if(e&&e.getParameter&&e.getParameter('__simulateAsyncAnalyticalBinding')){return;}this._bIgnoreChange=false;this._onDataLoadComplete(e,true);this.fireDataReceived(e);};B.prototype._onBindingChange=function(e){if(this._bIgnoreChange){return;}var i,E=false;i=(e&&e.getParameter)?e.getParameter('reason'):undefined;if(!i||i==='filter'||i==='context'){E=true;}if(i==='change'||E){this._onDataLoadComplete(e,E);}};B._addBindingListener=function(e,E,H){if(!e.events){e.events={};}if(!e.events[E]){e.events[E]=H;}else{var i=e.events[E];e.events[E]=function(){H.apply(this,arguments);i.apply(this,arguments);};}};B.prototype._onDataLoadComplete=function(e,i){if(this._bDataLoadPending||i){this._bDataLoadPending=false;this.updateTableHeaderState();}};B.prototype._isTableBound=function(){if(this._bIsTableBound){return true;}if(this._oTable){return this._oTable.isBound(this._sAggregation);}return false;};B.prototype.setNoData=function(e){this._oNoData=e;};B.prototype.getNoData=function(){return this._oNoData;};B.prototype._setNoDataText=function(e){var i=this._oTable.setNoData;if(!i){i=this._oTable.setNoDataText;}if(!i){return;}var E=e;if(!E){E=this.getNoData();}if(!E){E=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_RESULTS');}i.call(this._oTable,E,true);};B.prototype.updateTableHeaderState=function(){this._refreshHeaderText();this._setExcelExportEnableState();};B.prototype._createContent=function(){var i,e=0,E,I,G,H=[];if(this._aExistingColumns&&this._aExistingColumns.length){this._aColumnKeys=[].concat(this._aExistingColumns.reverse());}I=this._parseIndexedColumns();e=this._aTableViewMetadata.length;for(i=0;i<e;i++){E=this._aTableViewMetadata[i];if(E.isInitiallyVisible){this._aColumnKeys.push(E.name);}else{H.push(E.name);}if(!(E.isInitiallyVisible||E.inResult)){this._mLazyColumnMap[E.name]=E;}else{G=this._createColumnForField(E);this._oTable.addColumn(G);}}this._insertIndexedColumns(I);this._aColumnKeys=this._aColumnKeys.concat(H);this._updateColumnsPopinFeature();this._storeInitialColumnSettings();};B.prototype._createColumnForField=function(e){var i,I;I=this.getId()+'-'+e.name.replace(/[^A-Za-z0-9_.:-]+/g,'_');i=this._createColumn(e,I);e.isColumnCreated=true;i.data('p13nData',{columnKey:e.name,leadingProperty:e.name,additionalProperty:e.additionalProperty,navigationProperty:e.navigationProperty,sortProperty:e.sortable?e.name:undefined,filterProperty:e.filterable?e.name:undefined,isGroupable:e.sortable&&e.filterable&&e.aggregationRole==='dimension',fullName:e.hasValueListAnnotation?e.fullName:null,type:e.filterType,maxLength:e.maxLength,precision:e.precision,scale:e.scale,align:e.align,edmType:e.type,displayBehaviour:e.displayBehaviour,description:e.description,isDigitSequence:e.isDigitSequence,isCurrency:e.isCurrencyField,unit:e.unit,width:e.width,aggregationRole:e.aggregationRole});if(e.filterable&&i.setFilterProperty){i.setFilterProperty(e.name);}if(e.sortable&&i.setSortProperty){i.setSortProperty(e.name);}this._registerContentTemplateEvents(e.template);return i;};B.prototype._parseIndexedColumns=function(){var i,e,E,I,G,H,K,Q,W;var X=this._oTable.getColumns();var Y=null;if(this._oTemplate&&this._oTemplate.getCells){Y=this._oTemplate.getCells();}if(!X){return null;}I=[];e=X.length;for(i=0;i<e;i++){E=X[i];G=E.data('p13nData');H=null;K=null;if(G){H=G.columnIndex;K=G.columnKey;}Q=-1;if(H!==null&&H!==undefined){Q=parseInt(H,10);}if(!isNaN(Q)&&Q>-1){if(Y){W=Y[i];this._oTemplate.removeCell(W);}else{W=null;}this._aColumnKeys.splice(i-I.length,1);I.push({index:Q,columnKey:K,column:E,template:W});this._oTable.removeColumn(E);}}I.sort(function(Z,$){return Z.index-$.index;});return I;};B.prototype._insertIndexedColumns=function(I){var i,e,E;if(!I){return;}e=I.length;for(i=0;i<e;i++){E=I[i];this._aColumnKeys.splice(E.index,0,E.columnKey);this._oTable.insertColumn(E.column,E.index);if(E.template){this._oTemplate.insertCell(E.template,E.index);}}};B.prototype._updateColumnsPopinFeature=function(){if(!this._isMobileTable||!this.getDemandPopin()){return;}var e=this._oTable.getColumns();if(!e){return;}e=e.filter(function(H){return H.getVisible();});e.sort(function(H,I){return H.getOrder()-I.getOrder();});var E,G=e.length;for(var i=0;i<G;i++){E=e[i];if(i<2){E.setDemandPopin(false);E.setMinScreenWidth('1px');}else{E.setDemandPopin(true);if(E.getPopinDisplay()!='WithoutHeader'){E.setPopinDisplay('Inline');}E.setMinScreenWidth((i+1)*10+'rem');}}};B.prototype._storeInitialColumnSettings=function(){this._aInitialSorters=[];P.createSort2Json(this._oTable,this._aInitialSorters,P.createArrayFromString(this.getIgnoreFromPersonalisation()));};B.prototype._deactivateColumnsPopinFeature=function(){if(!this._isMobileTable){return;}var e=this._oTable.getColumns();if(!e){return;}var E,G=e.length;for(var i=0;i<G;i++){E=e[i];E.setDemandPopin(false);E.setMinScreenWidth('1px');}};B.prototype._registerContentTemplateEvents=function(e){if(e&&e.attachChange){e.attachChange(function(E){this.fireFieldChange({changeEvent:E});}.bind(this));}};B.prototype._updateInitialColumns=function(){var i=this._oTable.getColumns(),E=i?i.length:0,G,H,I;while(E--){I=null;G=i[E];if(G){H=G.data('p13nData');if(typeof H==='string'){try{H=JSON.parse(H);}catch(e){}if(H){G.data('p13nData',H);}}if(H){I=H['columnKey'];}if(I){this._aExistingColumns.push(I);}}}};B.prototype._getRelevantColumnPaths=function(){var e={},E=[],G=[],H=this._oTable.getColumns(),i,I=H?H.length:0,K,Q,W,X,Y;var Z=function(W,$){var _,a1;if(W){a1=W.split(',');_=a1.length;while(_--){W=a1[_];if(W&&$.indexOf(W)<0){$.push(W);}}}};for(i=0;i<I;i++){K=H[i];W=null;if(K.getVisible()||(K.getInResult&&K.getInResult())){if(K.getLeadingProperty){W=K.getLeadingProperty();}Q=K.data('p13nData');if(Q){if(!W){W=Q['leadingProperty'];}X=Q['additionalProperty'];Y=Q['navigationProperty'];}if(W&&E.indexOf(W)<0){E.push(W);}Z(X,E);Z(Y,G);}}e['select']=E;e['expand']=G;return e;};B.prototype._createTable=function(){var e=this.getItems(),i=e?e.length:0,E,I;this._sAggregation='rows';while(i--){E=e[i];if(E instanceof s||E instanceof R){break;}E=null;}if(E){this._oTable=E;if(E instanceof p){this._isAnalyticalTable=true;}else if(E instanceof R){this._isMobileTable=true;this._oTemplate=(E.getItems()&&E.getItems().length>0)?E.getItems()[0]:new a();E.removeAllItems();}else if(E instanceof t){this._isTreeTable=true;}this._updateInitialColumns();}else{I=this.getId()+'-ui5table';if(this.getTableType()==='AnalyticalTable'){this._isAnalyticalTable=true;this._oTable=new p(I,{enableCustomFilter:true});}else if(this.getTableType()==='ResponsiveTable'){this._isMobileTable=true;this._oTable=new R(I,{growing:true});this._oTemplate=new a();}else if(this.getTableType()==='TreeTable'){this._isTreeTable=true;this._oTable=new t(I,{selectionMode:'MultiToggle'});}else{this._oTable=new s(I,{selectionMode:'MultiToggle'});}if(this._oTable.setVisibleRowCountMode){this._oTable.setVisibleRowCountMode('Auto');}this.insertItem(this._oTable,2);}if(!this._oTable.getLayoutData()){if(this._oTable instanceof R||(this._oTable.getVisibleRowCountMode&&this._oTable.getVisibleRowCountMode()!=='Auto')){this._oTable.setLayoutData(new F({growFactor:1,baseSize:'auto'}));}else{this._oTable.setLayoutData(new F({growFactor:1,baseSize:'0%'}));}}if(this._oTable.addAriaLabelledBy){this._oTable.addAriaLabelledBy(this.getId()+'-header');}this._oTable.addStyleClass('sapUiCompSmartTableInnerTable');this._oTable.setEnableBusyIndicator(true);this._oTable.setBusyIndicatorDelay(100);if(this._oTable.setEnableCustomFilter){this._oTable.setEnableCustomFilter(this.getEnableCustomFilter());}if(this._oTable.setShowColumnVisibilityMenu){this._oTable.setShowColumnVisibilityMenu(false);}if(this._oTable.getEnableCustomFilter&&this._oTable.getEnableCustomFilter()&&this._bIsFilterPanelEnabled){if(this._oTable.setEnableCellFilter){this._oTable.setEnableCellFilter(false);}if(this._oTable.attachCustomFilter){this._oTable.attachCustomFilter(this._showTableFilterDialog.bind(this));}}if(this._isAnalyticalTable){this._createColumn=this._createAnalyticalColumn;}else if(this._isMobileTable){this._sAggregation='items';this._createColumn=this._createMobileColumn;this._oTable.bindRows=this._oTable.bindItems;}if(!this._isMobileTable){this._oTable.attachEvent('_rowsUpdated',function(){this._setExcelExportEnableState();},this);}if(this._oTable._setLargeDataScrolling){this._oTable._setLargeDataScrolling(true);}};B.prototype.getTable=function(){return this._oTable;};B.prototype._showTableFilterDialog=function(e){if(this._oPersController){this._oPersController.openDialog({filter:{visible:true,payload:{column:e.getParameter('column')}}});}};B.prototype._createColumn=function(e,i){var E;E=new r(i,{autoResizable:true,hAlign:e.align,width:e.width,visible:e.isInitiallyVisible,label:new L(i+'-header',{textAlign:e.align,text:e.label}),sorted:e.sorted,sortOrder:e.sortOrder,tooltip:e.quickInfo,showSortMenuEntry:e.sortable,showFilterMenuEntry:e.filterable&&this._bIsFilterPanelEnabled,name:e.fieldName,template:e.template});return E;};B.prototype._createAnalyticalColumn=function(e,i){var E;if(e.isCurrencyField&&e.template.addStyleClass){e.template.addStyleClass('sapUiCompCurrencyBold');}E=new A(i,{autoResizable:true,hAlign:e.align,width:e.width,visible:e.isInitiallyVisible,inResult:e.inResult,label:new L(i+'-header',{textAlign:e.align,text:e.label}),tooltip:e.quickInfo,sorted:e.sorted,sortOrder:e.sortOrder,grouped:e.grouped,showIfGrouped:e.grouped,showSortMenuEntry:e.sortable,showFilterMenuEntry:e.filterable&&this._bIsFilterPanelEnabled,summed:e.summed,leadingProperty:e.name,template:e.template});return E;};B.prototype._createMobileColumn=function(e,i){var E;E=new C(i,{hAlign:e.align,visible:e.isInitiallyVisible,header:new T(i+'-header',{textAlign:e.align,text:e.label,tooltip:e.quickInfo}),tooltip:e.quickInfo,width:e.isImageURL?'3em':undefined});if(this._oTemplate){this._oTemplate.addCell(e.template);}return E;};B.prototype.fetchVariant=function(){if(this._oCurrentVariant==='STANDARD'||this._oCurrentVariant===null){return{};}return this._oCurrentVariant;};B.prototype.applyVariant=function(e,i){this._oCurrentVariant=e;if(this._oCurrentVariant==='STANDARD'){this._oCurrentVariant=null;}P.recoverPersonalisationDateData(this._oCurrentVariant,this._oTable);this._bApplyingVariant=true;if(this._oTable._setSuppressRefresh){this._oTable._setSuppressRefresh(true);}if(this._oPersController){if(this._oCurrentVariant===null||q.isEmptyObject(this._oCurrentVariant)){this._oPersController.resetPersonalization('ResetFull');}else{this._oPersController.setPersonalizationData(this._oCurrentVariant);}}this._bApplyingVariant=false;this.fireAfterVariantApply({currentVariantId:this.getCurrentVariantId()});};B.prototype.variantsInitialized=function(){this._bVariantInitialised=true;this._checkAndTriggerBinding();};B.prototype.getUiState=function(){var e=this._oPersController?this._oPersController.getDataSuiteFormatSnapshot():null;return new U({presentationVariant:{SortOrder:e?e.SortOrder:[],GroupBy:e?e.GroupBy:[],Total:e?e.Total:[],RequestAtLeast:this._getRequestAtLeastFields(),Visualizations:e?e.Visualizations:[]},selectionVariant:{SelectOptions:e?e.SelectOptions:[]},variantName:this.getCurrentVariantId()});};B.prototype.setUiState=function(e){this._setUiState(e,false);};B.prototype.setUiStateAsVariant=function(e){this._setUiState(e,true);};B.prototype._setUiState=function(e,i){var E=e.getPresentationVariant()&&e.getPresentationVariant().RequestAtLeast?[].concat(e.getPresentationVariant().RequestAtLeast):[];if(!q.sap.equal(E,this._getRequestAtLeastFields())){this._aAlwaysSelect=E;}if(this._oPersController){if(i){this._oPersController.setPersonalizationDataAsDataSuiteFormat(q.extend(true,{},e.getPresentationVariant(),e.getSelectionVariant()));}else{var G=(this._oVariantManagement&&e.getVariantName())?this._oVariantManagement.getVariantContent(this,e.getVariantName()):{};this._oPersController.setDataSuiteFormatSnapshot(q.extend(true,{},e.getPresentationVariant(),e.getSelectionVariant()),G);}}};B.prototype._getRequestAtLeastFields=function(){var e=this.getRequestAtLeastFields();var i=e?e.split(','):[];return i.concat(this._aAlwaysSelect);};B.prototype._personalisationRequestColumns=function(e){var E=e.getParameter('columnKeys'),G,i,H,I,K,Q={};H=E.length;for(i=0;i<H;i++){G=E[i];I=this._mLazyColumnMap[G];if(I){K=this._createColumnForField(I);if(this._isMobileTable){this._oTable.addColumn(K);}Q[I.name]=K;}}this._oPersController.addColumns(Q);};B.prototype._beforePersonalisationModelDataChange=function(e){if(this._oTable.suspendUpdateAnalyticalInfo){this._oTable.suspendUpdateAnalyticalInfo();}};B.prototype._afterPersonalisationModelDataChange=function(e){this._updateColumnsPopinFeature();};B.prototype._personalisationModelDataChange=function(e){this._oCurrentVariant=e.getParameter('persistentData');var i=e.getParameter('runtimeDeltaDataChangeType');var E=this._getChangeStatus(i);if(E==='Unchanged'){return;}if(!(this._bApplyingVariant||this._bDeactivatingColumns)){if(!this.getUseVariantManagement()){this._persistPersonalisation();}else if(this._oVariantManagement){this._oVariantManagement.currentVariantSetModified(true);}}if(E===sap.ui.comp.personalization.ChangeType.ModelChanged&&this._isTableBound()){if(i&&i.columns==='ModelChanged'){this._bForceTableUpdate=true;}if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindTable(null);}}};B.prototype._getChangeStatus=function(e){if(!e){return'ModelChanged';}if(e.sort==='ModelChanged'||e.filter==='ModelChanged'||e.columns==='ModelChanged'||e.group==='ModelChanged'){return'ModelChanged';}if(e.sort==='TableChanged'||e.filter==='TableChanged'||e.columns==='TableChanged'||e.group==='TableChanged'){return'TableChanged';}return'Unchanged';};B.prototype._getTablePersonalisationData=function(){if(!this._oCurrentVariant){return null;}var e=[],i=[],E=[],G,H,I,K,Q,W,X,Y,Z='',$;this._sSelectForGroup=null;if(this._isMobileTable&&this._oCurrentVariant.group&&this._oCurrentVariant.group.groupItems){H=this._oCurrentVariant.group.groupItems[0];if(this._aDeactivatedColumns.indexOf(H.columnKey)<0){Q=this._getColumnByKey(H.columnKey);if(Q){Z=Q.getHeader().getText();}Y=this._getPathFromColumnKeyAndProperty(H.columnKey,'sortProperty');}if(Y){X=Y;I=new m(X,H.operation==='GroupDescending',function(_){var a1=_.getProperty(X);return{key:a1,text:Z?Z+' : '+a1:a1};});this._sSelectForGroup=X;e.push(I);}}if(this._oCurrentVariant.sort){K=this._oCurrentVariant.sort.sortItems;}else{K=this._aInitialSorters;}if(K){K.forEach(function(_){var a1=_.operation==='Descending';Y=null;if(this._aDeactivatedColumns.indexOf(_.columnKey)<0){Y=this._getPathFromColumnKeyAndProperty(_.columnKey,'sortProperty');}if(Y){if(I&&I.sPath===Y){I.bDescending=a1;}else{e.push(new m(Y,a1));}}},this);}if(this._oCurrentVariant.filter){this._oCurrentVariant.filter.filterItems.forEach(function(_){var a1=_.value1,b1=_.value2;Y=null;$=false;Q=null;if(this._aDeactivatedColumns.indexOf(_.columnKey)<0){Q=this._getColumnByKey(_.columnKey);}if(Q){if(Q.getFilterProperty){Y=Q.getFilterProperty();}W=Q.data('p13nData');if(W){$=W.type==='time';if(!Y){Y=W['filterProperty'];}}}if(Y){if($){if(a1 instanceof Date){a1=v.getEdmTimeFromDate(a1);}if(b1 instanceof Date){b1=v.getEdmTimeFromDate(b1);}}else if(a1 instanceof Date&&this._oTableProvider&&this._oTableProvider.getIsUTCDateHandlingEnabled()){a1=k.getDateInUTCOffset(a1);b1=b1?k.getDateInUTCOffset(b1):b1;}if(_.exclude){E.push(new n(Y,o.NE,a1));}else{i.push(new n(Y,_.operation,a1,b1));}}},this);if(E.length){G=new n(E,true);}}return{filters:i,excludeFilters:G,sorters:e};};B.prototype._getColumnByKey=function(e){var E,G,H,i,I;if(this._oTable){E=this._oTable.getColumns();H=E.length;for(i=0;i<H;i++){G=E[i];I=G.data('p13nData');if(I&&I.columnKey===e){return G;}}}return null;};B.prototype._getPathFromColumnKeyAndProperty=function(e,i){var E=null,G,H;G=this._getColumnByKey(e);if(G){if(i=='sortProperty'&&G.getSortProperty){E=G.getSortProperty();}else if(i=='filterProperty'&&G.getFilterProperty){E=G.getFilterProperty();}else if(i=='leadingProperty'&&G.getLeadingProperty){E=G.getLeadingProperty();}if(!E){H=G.data('p13nData');if(H){E=H[i];}}}return E;};B.prototype._persistPersonalisation=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.getVariantsInfo(function(e){var i,E=null;if(e&&e.length>0){E=e[0].key;}i=E!==null;this._oVariantManagement.fireSave({name:'Personalisation',global:false,overwrite:i,key:E,def:true});}.bind(this));}};B.prototype.getCurrentVariantId=function(){return this._oVariantManagement?this._oVariantManagement.getCurrentVariantId():'';};B.prototype.setCurrentVariantId=function(e){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setCurrentVariantId(e);}else{q.sap.log.error('sap.ui.comp.smarttable.SmartTable.prototype.setCurrentVariantId: VariantManagement does not exist, or is a page variant');}};B.prototype.isInitialised=function(){return!!this.bIsInitialised;};B.prototype._aAvailablePanels=['Columns','Sort','Filter','Group'];B.prototype.openPersonalisationDialog=function(e){if(!e||this._aAvailablePanels.indexOf(e)<0){q.sap.log.warning('sap.ui.comp.smarttable.SmartTable.prototype.openPersonalisationDialog: '+e+' is not a valid panel!');return;}if(this._oPersController){var i={};i[e.toLowerCase()]={visible:true};this._oPersController.openDialog(i);}};B.prototype.deactivateColumns=function(e){this._aDeactivatedColumns=e||[];this._bDeactivatingColumns=true;if(this._oPersController){this._oPersController.addToSettingIgnoreColumnKeys(e);}this._bDeactivatingColumns=false;};B.prototype.exit=function(){var i,e;this.detachEvent('_change',this._onPropertyChange,this);if(this._oSmartFilter){this._oSmartFilter.detachSearch(this._reBindTable,this);this._oSmartFilter.detachFilterChange(this._filterChangeEvent,this);this._oSmartFilter=null;}if(this._oTableProvider&&this._oTableProvider.destroy){this._oTableProvider.destroy();}this._oTableProvider=null;if(this._oPersController&&this._oPersController.destroy){this._oPersController.destroy();}this._oPersController=null;if(this._oVariantManagement){this._oVariantManagement.detachSave(this._variantSaved,this);this._oVariantManagement.detachAfterSave(this._variantAfterSave,this);if(!this._oVariantManagement.isPageVariant()&&this._oVariantManagement.destroy){this._oVariantManagement.destroy();}}this._oNumberFormatInstance=null;w.cleanUpFullScreen(this);if(this._oEditModel){this._oEditModel.destroy();}if(this._oNoData&&this._oNoData.destroy){this._oNoData.destroy();}this.oNoData=null;if(this._aTableViewMetadata){i=this._aTableViewMetadata.length;while(i--){e=this._aTableViewMetadata[i];if(e&&!e.isColumnCreated&&e.template){e.template.destroy();}}}this._aTableViewMetadata=null;this._oEditModel=null;this._oVariantManagement=null;this._oCurrentVariant=null;this._aExistingColumns=null;this._mLazyColumnMap=null;this._aColumnKeys=null;this._aDeactivatedColumns=null;this._aAlwaysSelect=null;this._oCustomToolbar=null;if(this._oToolbar&&!this._bToolbarInsertedIntoItems){this._oToolbar.destroy();}this._oToolbar=null;if(this._oUseExportToExcel&&!this.getUseExportToExcel()){this._oUseExportToExcel.destroy();}this._oUseExportToExcel=null;this._oTablePersonalisationButton=null;this._oP13nDialogSettings=null;if(this._oTemplate){this._oTemplate.destroy();}this._InterceptService=null;this._oTemplate=null;this._oView=null;this._oTable=null;};return B;},true);\n",
	"sap/ui/comp/smartvariants/PersonalizableInfo.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var P=E.extend('sap.ui.comp.smartvariants.PersonalizableInfo',{metadata:{library:'sap.ui.comp',properties:{type:{type:'string',group:'Misc',defaultValue:null},dataSource:{type:'string',group:'Misc',defaultValue:null},keyName:{type:'string',group:'Misc',defaultValue:null}},associations:{control:{type:'sap.ui.core.Control',multiple:false}}}});return P;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagement.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.getCore().loadLibrary('sap.ui.fl');sap.ui.define(['jquery.sap.global','sap/ui/comp/library','./PersonalizableInfo','./SmartVariantManagementAdapter','sap/ui/comp/variants/VariantItem','sap/ui/comp/variants/VariantManagement','sap/ui/comp/odata/MetadataAnalyser','sap/ui/fl/registry/Settings','sap/ui/fl/Change','sap/ui/fl/Persistence','sap/ui/fl/Utils','sap/ui/fl/transport/TransportSelection'],function(q,l,P,S,V,a,M,b,C,c,F,T){'use strict';var d=a.extend('sap.ui.comp.smartvariants.SmartVariantManagement',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/smartvariants/SmartVariantManagement.designtime',properties:{persistencyKey:{type:'string',group:'Misc',defaultValue:null},entitySet:{type:'string',group:'Misc',defaultValue:null}},aggregations:{personalizableControls:{type:'sap.ui.comp.smartvariants.PersonalizableInfo',multiple:true,singularName:'personalizableControl'}},events:{initialise:{},save:{parameters:{tile:{type:'boolean'}}},afterSave:{}}},renderer:function(r,o){a.getMetadata().getRenderer().render(r,o);}});d.prototype.init=function(){a.prototype.init.apply(this);this._bIsInitialized=false;this._oStandardVariant=null;this._oControlPersistence=null;this._oMetadataPromise=null;this._oControlPromise=null;this._oPersoControl=null;this._sAppStandardVariantKey=null;this._oSelectionVariantHandler={};this._oAppStdContent=null;this._aPersonalizableControls=[];if(this.setLifecycleSupport){this.setLifecycleSupport(true);}this._setBackwardCompatibility(false);this._oAdapter=null;this._bApplyingUIState=false;this.setSupportExecuteOnSelectOnSandardVariant(true);};d.prototype.propagateProperties=function(){a.prototype.propagateProperties.apply(this,arguments);this._initializeMetadata();};d.prototype._initializeMetadata=function(){var m=this.getModel();if(m&&!this._oMetadataPromise){this._oMetadataPromise=new Promise(function(r,e){if(!this.getEntitySet()){r();}else{m.getMetaModel().loaded().then(function(){this._onMetadataInitialised();r();}.bind(this));}}.bind(this));}};d.prototype._onMetadataInitialised=function(){var m,e=this.getEntitySet();m=new M(this.getModel());if(m&&e){this._oAdapter=new S({selectionPresentationVariants:m.getSelectionPresentationVariantAnnotationList(e)});}};d.prototype.applySettings=function(s){if(!s||!s.hasOwnProperty('useFavorites')){this.setUseFavorites(true);}a.prototype.applySettings.apply(this,arguments);};d.prototype._createControlWrapper=function(o){var e=null;var f=sap.ui.getCore().byId(o.getControl());if(f){e={control:f,type:o.getType(),dataSource:o.getDataSource(),keyName:o.getKeyName(),loaded:q.Deferred()};}return e;};d.prototype._getControlWrapper=function(o){var e=this._getAllPersonalizableControls();if(e&&e.length){for(var i=0;i<e.length;i++){if(e[i].control===o){return e[i];}}}return null;};d.prototype.addPersonalizableControl=function(o){var e,f=null,s=o.getControl();f=sap.ui.getCore().byId(s);if(!f){q.sap.log.error(\"couldn't obtain the control with the id=\"+s);return this;}this.addAggregation('personalizableControls',o,true);e=this._createControlWrapper(o);if(e){this._aPersonalizableControls.push(e);}if(this.isPageVariant()){return this;}this._setPersControler(f);return this;};d.prototype.getTransportSelection=function(){return new T();};d.prototype._setPersControler=function(o){if(!this._oPersoControl&&F.getComponentClassName(o)){this._oPersoControl=o;this._addPersistenceController(o);}};d.prototype.setPersistencyKey=function(k){this.setProperty('persistencyKey',k);this._setPersControler(this);return this;};d.prototype._addPersistenceController=function(o){if(o){this._oControlPersistence=new c(o,'persistencyKey');this._handleGetChanges(o);}};d.prototype.isPageVariant=function(){if(this.getPersistencyKey()){return true;}return false;};d.prototype._getAdapter=function(){return this._oAdapter;};d.prototype._handleGetChanges=function(o){var t=this;if(o&&this._oControlPersistence){this._oControlPromise=new Promise(function(r,e){t._oControlPersistence.getChanges().then(function(v){r(v);},function(f){e(f);});});}};d.prototype.getVariantContent=function(o,k){var p,e=this._getChangeContent(k);if(e&&this.isPageVariant()){p=this._getControlPersKey(o);if(p){e=this._retrieveContent(e,p);}}return e;};d.prototype._getChangeContent=function(k){var o=null;if(k===this.STANDARDVARIANTKEY){o=this.getStandardVariant();}else{o=this._getChange(k);if(o){o=o.getContent();if(o){o=q.extend(true,{},o);}}}return o;};d.prototype._getChange=function(i){var o=null;if(this._oControlPersistence){o=this._oControlPersistence.getChange(i);}return o;};d.prototype._getAllPersonalizableControls=function(){return this._aPersonalizableControls;};d.prototype.removeAllPersonalizableControls=function(){this.removeAllAggregation('personalizableControls');this._aPersonalizableControls=[];};d.prototype.removePersonalizableControl=function(o){var p=this.removeAggregation('personalizableControls',o);if(p){this._aPersonalizableControls.some(function(e,i){if(e.control.getId()===p.getControl()){this._aPersonalizableControls.splice(i,1);return true;}return false;}.bind(this));}return p;};d.prototype.removePersonalizableControlById=function(o){var p=this.getAggregation('personalizableControls');if(p){p.some(function(e,i){if(e.getControl()===o.getId()){this.removePersonalizableControl(e);return true;}return false;}.bind(this));}};d.prototype._createVariantEntries=function(v){var n=null;var s,e=null;var o,f;var g=[];var h=[];this.removeAllVariantItems();if(v){for(n in v){if(n){o=v[n];if(o.isVariant()){f=new V({key:o.getId(),global:!o.isUserDependent(),executeOnSelection:this._getExecuteOnSelection(o),lifecycleTransportId:o.getRequest(),lifecyclePackage:o.getPackage(),namespace:o.getNamespace(),readOnly:this._isReadOnly(o),labelReadOnly:o.isLabelReadOnly(),author:this._getLRepUser(o)});f.setText(o.getText('variantName'));if(this._hasStoredStandardVariant(o)){e=o.getId();}this.addVariantItem(f);g.push(o.getId());}else{if((o.getChangeType()===sap.ui.comp.smartvariants.ChangeHandlerType.addFavorite)||(o.getChangeType()===sap.ui.comp.smartvariants.ChangeHandlerType.removeFavorite)){h.push(o);}}}}}if(this._oPersoControl){s=this._getDefaultVariantKey();if(s){this.setInitialSelectionKey(s);}var i=this._isApplicationVariant(this._oPersoControl);if(i){this.setIndustrySolutionMode(i);i=F.isVendorLayer();this._setVendorLayer(i);}if(this.getIndustrySolutionMode()){if(e){this._sAppStandardVariantKey=e;this.setStandardVariantKey(e);}}if(this._oControlPersistence&&this._oControlPersistence.isVariantDownport()){this._enableManualVariantKey(true);}}this._aFavoriteChanges=h;this.applyDefaultFavorites(g);return g;};d.prototype.applyDefaultFavorites=function(v,s){if(this._aFavoriteChanges&&(this._aFavoriteChanges.length>0)){this._applyFavorites(this._aFavoriteChanges);}else{if(!s){this._applyDefaultFavorites(v);}else{this._applyDefaultFavoritesForSelectionVariants(v);}}};d.prototype._applyDefaultFavoritesForSelectionVariants=function(v){v.forEach(function(s){var o=this.getItemByKey(s);if(o){this._setFavorite(s);}}.bind(this));};d.prototype._applyDefaultFavorites=function(v){if(!this._sAppStandardVariantKey){this.setStandardFavorite(true);this._setFavorite(this.STANDARDVARIANTKEY);}v.forEach(function(s){var o=this._getChange(s);var e=this.getItemByKey(s);if(o&&e){if(!this._isReadOnly(o)){this._setFavorite(s);}else if(o.getLayer()==='VENDOR'){this._setFavorite(s);}}}.bind(this));};d.prototype._applyFavorites=function(f){f.forEach(function(o){var v,e=o.getContent();if(e&&e.key){if(e.key===this.STANDARDVARIANTKEY){this.setStandardFavorite(e.visible);}else{v=this.getItemByKey(e.key);if(v){v.setFavorite(e.visible);}}}}.bind(this));};d.prototype._addFavorites=function(e){var A=e.filter(function(f){return f.visible===true;});var r=e.filter(function(f){return f.visible===false;});this._createFavoriteTypeChanges(A,r);};d.prototype._createFavoriteTypeChanges=function(A,r){if(!A.length&&!r.length){return;}this._createFavoriteChanges(A,sap.ui.comp.smartvariants.ChangeHandlerType.addFavorite);this._createFavoriteChanges(r,sap.ui.comp.smartvariants.ChangeHandlerType.removeFavorite);};d.prototype._createFavoriteChanges=function(f,s){var o=this._oControlPersistence;if(!o||!f.length){return;}if(!s){throw new Error('sChangeType should be filled');}f.forEach(function(e){o.addChange({type:s,content:e,isUserDependent:true});});};d.prototype._isReadOnly=function(o){var r=o.isReadOnly();if(r){var u=this._getUser();if(u){return!(u.getId()===o.getOwnerId());}}return r;};d.prototype._getUser=function(){var u=null;if(sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getUser){u=sap.ushell.Container.getUser();}return u;};d.prototype.getVariantsInfo=function(f){if(!f){q.sap.log.error(\"'getVariantsInfo' failed. Expecting callBack not passed.\");return;}var n=null;var v;var e=[];var t=this;try{if(this._oControlPersistence){this._oControlPersistence.getChanges().then(function(m){if(m){for(n in m){if(n){v=m[n];if(v.isVariant()){e.push({key:v.getId(),text:v.getText('variantName')});}}}}f(e);},function(h){var E=\"'getChanges' failed:\";if(h&&h.message){E+=(' '+h.message);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),E);f(e);});}}catch(g){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),\"'getChanges' throws an exception\");}};d.prototype.getCurrentVariantId=function(){var k=this._getCurrentVariantId();if(k===this.STANDARDVARIANTKEY){k='';}return k;};d.prototype._getCurrentVariantId=function(){var k=this.getSelectionKey();return k;};a.prototype.setCurrentVariantId=function(v,D){var i=this._determineVariantId(v);if(this._oPersoControl){if(!this._oStandardVariant){this._setSelectionByKey(i);}else{this._applyCurrentVariantId(i,D);}}};d.prototype._applyCurrentVariantId=function(v,D){var o;if(this._oPersoControl){o=this._getChangeContent(v);if(o){this._setSelectionByKey(v);if(!D){if(this.isPageVariant()){this._applyVariants(o,'SET_VM_ID');}else{this._applyVariant(this._oPersoControl,o,'SET_VM_ID');}}}}};d.prototype._determineVariantId=function(v){var i=v;if(!i){i=this.getStandardVariantKey();}else{if(!this.getItemByKey(i)){i=this.getStandardVariantKey();}}return i;};d.prototype.initialise=function(f,p){var o,t=this;try{if(p&&f){o=this._getControlWrapper(p);if(!o){q.sap.log.error('initialise on an unknown control.');return;}if(o.bInitialized){q.sap.log.error('initialise on '+p.getId()+' already executed');return;}o.fInitCallback=f;}else if(!this.isPageVariant()){o=this._getControlWrapper(this._oPersoControl);}if(this._oControlPromise&&this._oPersoControl&&o){Promise.all([this._oMetadataPromise,this._oControlPromise,b.getInstance()]).then(function(v){t._dataReceived(v[1],v[2],o);},function(g){var E=\"'getChanges' failed:\";if(g&&g.message){E+=(' '+g.messages);}t._errorHandling(E,f,p);});}else{this._errorHandling(\"'initialise' no personalizable component available\",f,p);}}catch(e){this._errorHandling(\"'getChanges' throws an exception\",f,p);}};d.prototype._errorHandling=function(e,f,p){var g={variantKeys:[]};this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),e);if(f&&p){f.call(p);}else{this.fireEvent('initialise',g);}if(p.variantsInitialized){p.variantsInitialized();}};d.prototype._dataReceived=function(v,s,o){var D,k,f,p={variantKeys:[]};var A=this._getAdapter();if(this._bIsBeingDestroyed){return;}if(!this._bIsInitialized){this._bIsInitialized=true;if(s&&s.isVariantSharingEnabled){this.setShowShare(s.isVariantSharingEnabled());}p.variantKeys=this._createVariantEntries(v);if(A){A.createSelectionPresentationVariants(this);}f=this._getExecuteOnSelectOnStandardVariant();if(f!==null){this._executeOnSelectForStandardVariantByUser(f);}k=this._getDefaultVariantKey();if(k){D=this._getChangeContent(k);if(D){this.setDefaultVariantKey(k);this.setInitialSelectionKey(k);}}if(this._sAppStandardVariantKey){var e=this._getChange(this._sAppStandardVariantKey);if(e){e=e.getContent();if(e){e=q.extend(true,{},e);}}this._oAppStdContent=e;}}this._initialize(p,o);};d.prototype._initialize=function(p,o){var k,e=null,i=this.isPageVariant();if(this._oAppStdContent){if((o.type==='table')||(o.type==='chart')){if(i){this._applyControlVariant(o.control,this._oAppStdContent,'STANDARD',true);}else{this._applyVariant(o.control,this._oAppStdContent,'STANDARD',true);}}}if(o.fInitCallback){o.fInitCallback.call(o.control);delete o.fInitCallback;o.bInitialized=true;}else{this.fireEvent('initialise',p);}o.loaded.resolve();k=this.getSelectionKey();if(k&&(k!==this.getStandardVariantKey())){e=this._getChangeContent(k);}else if(this._oAppStdContent){e=this._oAppStdContent;if((o.type==='table')||(o.type==='chart')){e=null;}}if(this._sAppStandardVariantKey){this._updateStandardVariant(o,this._oAppStdContent);}else{this._setStandardVariant(o);}if(e){if(i){this._applyControlVariant(o.control,e,'INIT',true);}else{this._applyVariant(o.control,e,'INIT',true);}}if(o.control.variantsInitialized){o.control.variantsInitialized();}if((this._getCurrentVariantId()===this.getStandardVariantKey())&&this.getExecuteOnSelectForStandardVariant()){if(o.control.search){o.control.search();}}};d.prototype.setInitialState=function(){var k=this._getDefaultVariantKey()||this.getStandardVariantKey();if(k){this.setInitialSelectionKey(k);this._triggerSelectVariant(k,'INIT_STATE');}};d.prototype._updateVariant=function(v){if(this._isIndustrySolutionModeAndVendorLayer()||(v.key!==this.getStandardVariantKey())){if(v){var o=this._getChange(v.key);if(o){try{if((v.lifecycleTransportId!==null)&&(v.lifecycleTransportId!==undefined)){o.setRequest(v.lifecycleTransportId);}var e=this._fetchContent();if(e){var i=this.getItemByKey(v.key);if(i){e.executeOnSelection=i.getExecuteOnSelection();}if(e.standardvariant!==undefined){delete e.standardvariant;}if(this._isIndustrySolutionModeAndVendorLayer()&&(v.key===this.getStandardVariantKey())){e.standardvariant=true;}o.setContent(e);}}catch(f){q.sap.log.error(\"'_updateVariant' throws an exception\");}}}}};d.prototype._createChangeHeader=function(){if(this.isPageVariant()){return{type:'page',dataService:'n/a'};}var e=this._getAllPersonalizableControls();if(e&&e.length>0){return{type:e[0].type,dataService:e[0].dataSource};}};d.prototype._newVariant=function(v){var i,o,e,I=false;if(v&&this._oControlPersistence){var t=this._createChangeHeader();var u=!v.global;var p='';if((v.lifecyclePackage!==null)&&(v.lifecyclePackage!==undefined)){p=v.lifecyclePackage;}var s='';if((v.lifecycleTransportId!==null)&&(v.lifecycleTransportId!==undefined)){s=v.lifecycleTransportId;}i=this._isVariantDownport()?v.key:null;if(this._isIndustrySolutionModeAndVendorLayer()&&(this.getStandardVariantKey()===this.STANDARDVARIANTKEY)){if((s||p)&&(v.name===this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD'))){this.setStandardVariantKey(i);I=true;}}o=this._fetchContent();if(o){if(v.exe){o.executeOnSelection=v.exe;}if(v.tile){o.tile=v.tile;}if(o.standardvariant!==undefined){delete o.standardvariant;}if(I){o.standardvariant=true;}}var m={type:t.type,ODataService:t.dataSource,texts:{variantName:v.name},content:o,isVariant:true,packageName:p,isUserDependent:u,id:i};i=this._oControlPersistence.addChange(m);this.replaceKey(v.key,i);this.setInitialSelectionKey(i);if(this._isIndustrySolutionModeAndVendorLayer()&&((v.key===this.STANDARDVARIANTKEY)||this._isVariantDownport())){this.setStandardVariantKey(i);}e=this._getChange(i);if(e){e.setRequest(s);var f=this.getItemByKey(i);if(f){f.setNamespace(e.getNamespace());}}if(v.def===true){this._setDefaultVariantKey(i);}this._setFavorite(i);}};d.prototype._setFavorite=function(i){var I=this.getItemByKey(i);if(I){I.setFavorite(true);}this._addFavorites([{key:i,visible:true}]);};d.prototype._fetchContent=function(){var o,p,e,f={};var g=this._getAllPersonalizableControls();for(var i=0;i<g.length;i++){o=g[i];if(o&&o.control&&o.control.fetchVariant){e=o.control.fetchVariant();if(e){if(e){e=q.extend(true,{},e);}if(this.isPageVariant()){p=this._getControlPersKey(o);if(p){f=this._assignContent(f,e,p);}else{q.sap.log.error('no persistancy key retrieved');}}else{f=e;break;}}}}return f;};d.prototype._getControlPersKey=function(o){var p=null;if(o.keyName){if(o.keyName==='id'){p=o.control.getId();}else{p=o.control.getProperty(o.keyName);}}else{var e=this._getControlWrapper(o);if(e&&e.keyName){if(e.keyName==='id'){p=e.control.getId();}else{p=e.control.getProperty(e.keyName);}}}return p;};d.prototype._newVariantContent=function(o){var e=null,f,s,p;if(o&&o.control&&o.control.fetchVariant){f=o.control.fetchVariant();if(f){s=JSON.stringify(f);f=JSON.parse(s);if(this.isPageVariant()){p=this._getControlPersKey(o);if(p){e={};e=this._assignContent(e,f,p);}else{q.sap.log.error('no persistancy key retrieved');}}else{e=f;}}}return e;};d.prototype._appendLifecycleInformation=function(v,i){var t;var I=this.getItemByKey(i);if(I){t=I.getLifecycleTransportId();if(t===null||t===undefined){t='';}if(v){v.setRequest(t);}}};d.prototype._renameVariant=function(v){if(v.key!==this.getStandardVariantKey()){if(v){var o=this._getChange(v.key);if(o){o.setText('variantName',v.name);this._appendLifecycleInformation(o,v.key);}}}};d.prototype._deleteVariants=function(v){var i;if(v&&v.length){var s=this._getDefaultVariantKey();for(i=0;i<v.length;i++){if(v[i]===this.getStandardVariantKey()){if(!this._isIndustrySolutionModeAndVendorLayer()){continue;}else{this.setStandardVariantKey(this.STANDARDVARIANTKEY);}}var o=this._getChange(v[i]);if(o){o.markForDeletion();if(s&&s===v[i]){this._setDefaultVariantKey('');}this._appendLifecycleInformation(o,v[i]);}}}};d.prototype._getDefaultVariantKey=function(){var D='';if(this._oControlPersistence){D=this._oControlPersistence.getDefaultVariantIdSync();}return D;};d.prototype._setDefaultVariantKey=function(v){if(this._oControlPersistence){this._oControlPersistence.setDefaultVariantIdSync(v);}};d.prototype._getExecuteOnSelectOnStandardVariant=function(){var e=null;if(this._oControlPersistence){e=this._oControlPersistence.getExecuteOnSelectSync();}return e;};d.prototype._setExecuteOnSelectOnStandardVariant=function(f){if(this._oControlPersistence){this._oControlPersistence.setExecuteOnSelectSync(f);}};d.prototype._isVariantDownport=function(){var D=false;if(this._oControlPersistence){D=this._oControlPersistence.isVariantDownport();}return D;};d.prototype._getExecuteOnSelection=function(v){var o;if(v){o=v.getContent();if(o&&(o.executeOnSelection!==undefined)){return o.executeOnSelection;}}return false;};d.prototype._hasStoredStandardVariant=function(v){var o;if(v){o=v.getContent();if(o&&o.standardvariant){return o.standardvariant;}}return false;};d.prototype._isComponentTemplate=function(o){var i=false;var e=F.getComponentForControl(o);if(e&&e.getAppComponent){e=e.getAppComponent();if(e){i=true;}}return i;};d.prototype._isApplicationVariant=function(o){if(F.isApplicationVariant(o)){return true;}if(this._isComponentTemplate(o)){return true;}return false;};d.prototype._setExecuteOnSelections=function(v){var i;if(v&&v.length){for(i=0;i<v.length;i++){if(v[i].key===this.STANDARDVARIANTKEY){this._setExecuteOnSelectOnStandardVariant(v[i].exe);continue;}var o=this._getChange(v[i].key);if(o){var j=o.getContent();if(j){j.executeOnSelection=v[i].exe;o.setContent(j);}this._appendLifecycleInformation(o,v[i].key);}}}};d.prototype._save=function(n,i){var t=this;if(this._oControlPersistence){try{this._oControlPersistence.saveAll().then(function(){if(!i){if(n){t._updateUser();}t.fireEvent('afterSave');}},function(f){var E=\"'_save' failed:\";if(f&&f.message){E+=(' '+f.message);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'),E);});}catch(e){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'),\"'_save' throws an exception\");}}};d.prototype._updateUser=function(){var i=this.getInitialSelectionKey();var u=this._getLRepUser(this._getChange(i));if(u){this._assignUser(i,u);}};d.prototype._getLRepUser=function(o){var u=null;if(o&&o.getDefinition()&&o.getDefinition().support){u=o.getDefinition().support.user?o.getDefinition().support.user:'';}return u;};d.prototype.fireSave=function(v){var s=false,n=true;var e={};if(v){if(v.hasOwnProperty('tile')){e.tile=v.tile;}if(v.overwrite){if(this._isIndustrySolutionModeAndVendorLayer()||(v.key!==this.getStandardVariantKey())){this.fireEvent('save',e);if(v.key===this.STANDARDVARIANTKEY){this._newVariant(v);}else{this._updateVariant(v);n=false;}s=true;}}else{this.fireEvent('save',e);this._newVariant(v);s=true;}if(s){this._save(n);}}};d.prototype.fireManage=function(v){var i;if(v){if(v.renamed){for(i=0;i<v.renamed.length;i++){this._renameVariant(v.renamed[i]);}}if(v.deleted){this._deleteVariants(v.deleted);}if(v.exe){this._setExecuteOnSelections(v.exe);}if(v.def){var D=this._getDefaultVariantKey();if(D!==v.def){this._setDefaultVariantKey(v.def);}}if(v.fav&&(v.fav.length>0)){this._addFavorites(v.fav);}if((v.deleted&&v.deleted.length>0)||(v.renamed&&v.renamed.length>0)||(v.exe&&v.exe.length>0)||v.def){this._save();}else if(v.fav&&(v.fav.length>0)){this._save(false,true);}this.fireEvent('manage',v);}};d.prototype.fireSelect=function(v,s){if(this._oPersoControl&&v&&v.key){this._triggerSelectVariant(v.key,s);this.fireEvent('select',v);}};d.prototype._selectVariant=function(v,s){this.fireSelect({key:v},s);};d.prototype._checkForSelectionHandler=function(v){var h=null,H=Object.keys(this._oSelectionVariantHandler);if(H.length>-1){H.some(function(k){if(v.indexOf(k)===0){h=this._oSelectionVariantHandler[k];return true;}return false;}.bind(this));}return h;};d.prototype._triggerSelectVariant=function(v,s){var o,h=this._checkForSelectionHandler(v);if(this._getAdapter()&&(v.substring(0,1)==='#')){this._applyUiState(v,s);return;}if(h){o=this._triggerSpecialSelectVariant(v,s,h);}else{o=this._triggerGeneralSelectVariant(v,s);}if(o){if(this.isPageVariant()){this._applyVariants(o,s);}else{this._applyVariant(this._oPersoControl,o,s);}}};d.prototype._triggerSpecialSelectVariant=function(v,s,h){return h.callback.call(h.handler,v,s);};d.prototype._triggerGeneralSelectVariant=function(v,s){var o=this._getChangeContent(v);if(o){var e=JSON.stringify(o);o=JSON.parse(e);if((v===this.STANDARDVARIANTKEY)&&this.getExecuteOnSelectForStandardVariant()){o.executeOnSelection=this.getExecuteOnSelectForStandardVariant();}}return o;};d.prototype.currentVariantSetModified=function(f){if(!this._bApplyingUIState){a.prototype.currentVariantSetModified.apply(this,arguments);}};d.prototype._applyControlUiState=function(o,e){if(o&&e){o.loaded.then(function(){this._bApplyingUIState=true;if(o.control.setUiStateAsVariant){o.control.setUiStateAsVariant(e);}this._bApplyingUIState=false;}.bind(this));}};d.prototype._applyUiState=function(v,s){var i,A=this._getAdapter(),o=null,e=this._getAllPersonalizableControls();if(A){o=A.getUiState(v);for(i=0;i<e.length;i++){if(e[i]&&e[i].control&&e[i].loaded){this._applyControlUiState(e[i],o,s);}}}};d.prototype._applyControlWrapperVariants=function(o,e,s){var t=this;if(o){o.loaded.then(function(){t._applyControlVariant(o.control,e,s);});}};d.prototype._applyVariants=function(o,s){var i,e=this._getAllPersonalizableControls();for(i=0;i<e.length;i++){if(e[i]&&e[i].control&&e[i].loaded){this._applyControlWrapperVariants(e[i],o,s);}}};d.prototype._setStandardVariant=function(o){var e=o.control;if(e){if(e.fireBeforeVariantSave){e.fireBeforeVariantSave(a.STANDARD_NAME);}this._assignStandardVariant(o);}};d.prototype._retrieveContent=function(o,p){var r=o;if(this.isPageVariant()&&o){r=o[p];if(!r&&(p===this.getPersistencyKey())&&this._aPersonalizableControls&&this._aPersonalizableControls.length===1){r=o;}}return r;};d.prototype._assignContent=function(t,o,p){if(this.isPageVariant()){if(!((p===this.getPersistencyKey())&&this._aPersonalizableControls&&this._aPersonalizableControls.length===1)){t[p]=o;}else{t=o;}}else{t=o;}return t;};d.prototype._updateStandardVariant=function(o,e){if(o.control){var f=e;if(this.isPageVariant()){var p=this._getControlPersKey(o);if(p){f=this._retrieveContent(e,p);}}this._assignStandardVariantForControl(o,f);}};d.prototype._assignStandardVariant=function(o){var s=null;if(o.control){if(o.control.fetchVariant){s=o.control.fetchVariant();}this._assignStandardVariantForControl(o,s);}};d.prototype._assignStandardVariantForControl=function(o,s){var e=s;if(o){if(this.isPageVariant()){var p=this._getControlPersKey(o.control);if(p){if(!this._oStandardVariant){this._oStandardVariant={};}this._oStandardVariant=this._assignContent(this._oStandardVariant,e,p);}}else{this._oStandardVariant=e;}}};d.prototype.getStandardVariant=function(o){var p,e,f=null;if(this._oStandardVariant){if(!o){f=this._oStandardVariant;}else{if(this.isPageVariant()){e=this._getControlWrapper(o);if(e){p=this._getControlPersKey(o);if(p){f=this._retrieveContent(this._oStandardVariant,p);}}}else{if((o===this._oPersoControl)){f=this._oStandardVariant;}}}}return f;};d.prototype._applyVariant=function(o,e,s,i){if(o&&o.applyVariant){o.applyVariant(e,s,i);}};d.prototype._applyControlVariant=function(o,e,s,i){var f,p;p=this._getControlPersKey(o);if(p){f=this._retrieveContent(e,p);if(f){f.executeOnSelection=e.executeOnSelection;this._applyVariant(o,f,s,i);}}};d.prototype.registerSelectionVariantHandler=function(h,k){this._oSelectionVariantHandler[k]=h;};d.prototype.unregisterSelectionVariantHandler=function(h){var e=null;if(!this._oSelectionVariantHandler){return;}if(typeof h==='string'){e=h;}else{Object.keys(this._oSelectionVariantHandler).some(function(k){if(this._oSelectionVariantHandler[k].handler===h){e=k;return true;}return false;}.bind(this));}if(e){delete this._oSelectionVariantHandler[e];}};d.prototype._setErrorValueState=function(t,L){this.setInErrorState(true);if(L){q.sap.log.error(L);}};d.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._aPersonalizableControls=null;this._oControlPersistence=null;this._oMetadataPromise=null;this._oControlPromise=null;this._oPersoControl=null;this._oAppStdContent=null;this._sAppStandardVariantKey=null;this._oSelectionVariantHandler=null;this._aFavoriteChanges=null;if(this._oAdapter){this._oAdapter.destroy();this._oAdapter=null;}};return d;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagementAdapter.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/variants/VariantItem','sap/ui/comp/state/UIState','sap/ui/core/Element'],function(q,l,V,U,E,A,C){'use strict';var S=E.extend('sap.ui.comp.smartvariants.SmartVariantManagementAdapter',{metadata:{library:'sap.ui.comp',properties:{selectionPresentationVariants:{type:'object',group:'Misc',defaultValue:false}}}});S.prototype.getUiState=function(k){var c,s=null,K=k.substring(1);this.getSelectionPresentationVariants().some(function(o){if(o.qualifier===K){s=o;}return s!==null;});if(s){if(s.uiStateContent){c=s.uiStateContent;}else{c=U.createFromSelectionAndPresentationVariantAnnotation(s.text,s.selectionVariant.annotation,s.presentationVariant.annotation);s.uiStateContent=c;}}return c;};S.prototype.createSelectionPresentationVariants=function(v){var s,o,k='#',a=[];if(!this.getSelectionPresentationVariants()){return;}s=this.getSelectionPresentationVariants();if(s){s.forEach(function(b){var c=k+b.qualifier;if(b.qualifier){o=new V({key:c,text:b.text,global:true,executeOnSelection:false,lifecycleTransportId:'',lifecyclePackage:'',namespace:'',readOnly:true,labelReadOnly:true,author:''});v.insertVariantItem(o,0);a.push(c);}});v.applyDefaultFavorites(a,true);}};S.prototype.destroy=function(){E.prototype.destroy.apply(this,arguments);};return S;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagementUi2.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./PersonalizableInfo','sap/ui/comp/variants/VariantItem','sap/ui/comp/variants/VariantManagement'],function(q,l,P,V,a){'use strict';var S=a.extend('sap.ui.comp.smartvariants.SmartVariantManagementUi2',{metadata:{library:'sap.ui.comp',aggregations:{personalizableControl:{type:'sap.ui.comp.smartvariants.PersonalizableInfo',multiple:false}},events:{initialise:{},afterSave:{}}},renderer:function(r,c){a.getMetadata().getRenderer().render(r,c);}});S.prototype.init=function(){a.prototype.init.apply(this);this._oStandardVariant=null;this._oPersController=null;this._sKeyName=null;this._oContainer=null;this._oVariantSet=null;if(this.setLifecycleSupport){this.setLifecycleSupport(false);}this._setBackwardCompatibility(false);};S.prototype.isPageVariant=function(){return false;};S.prototype.getVariantContent=function(c,k){var C=null;if(k===this.STANDARDVARIANTKEY){C=this._getStandardVariant();}else{if(this._oVariantSet){var v=this._oVariantSet.getVariant(k);if(v){C=this._getContent(v);}}}return C;};S.prototype.getCurrentVariantId=function(){var k='';var i=this._getSelectedItem();if(i){k=i.getKey();if(k===this.STANDARDVARIANTKEY){k='';}}return k;};S.prototype.setCurrentVariantId=function(v,d){var c;var i=v;if(!i){i=this.STANDARDVARIANTKEY;}else{if(!this.getItemByKey(i)){i=this.STANDARDVARIANTKEY;}}if(this._oVariantSet){c=this.getVariantContent(this._oPersController,i);if(c){this._setSelectionByKey(i);if(d!==true){this._applyVariantContent(c);}}}};S.prototype.addPersonalizableControl=function(c){this.setAggregation('personalizableControl',c,true);if(c.getControl()){this._oPersController=sap.ui.getCore().byId(c.getControl());}this._sKeyName=c.getKeyName();return this;};S.prototype.initialise=function(){var c=this._getPersistencyKey();if(!c){q.sap.log.warning('PersistencyKey not set');this.fireEvent('initialise');return;}if(sap.ushell&&sap.ushell.Container){var t=this;sap.ushell.Container.getService('Personalization').getContainer(c,{validity:Infinity}).fail(function(){q.sap.log.error('Loading personalization container failed');t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'));t.fireEvent('initialise');}).done(function(C){t._readPersonalization(C);t.fireEvent('initialise');t._setStandardVariant();t._setSelectedVariant();});return;}q.sap.log.error('Could not obtain the personalization container');this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'));this.fireEvent('initialise');};S.prototype._setSelectedVariant=function(){var v=null;if(this._oVariantSet){var k=this.getSelectionKey();if(k){v=this._oVariantSet.getVariant(k);if(v){this._applyVariant(v);}}}};S.prototype._reCreateVariantEntries=function(){var n=null;var v=null;var o,b;this.removeAllItems();if(this._oVariantSet){var m=this._oVariantSet.getVariantNamesAndKeys();if(m){for(n in m){if(n){b=new V({text:n,key:m[n]});this.addVariantItem(b);}}v=this._oVariantSet.getCurrentVariantKey();o=this._oVariantSet.getVariant(v);if(o){this.setDefaultVariantKey(v);this.setInitialSelectionKey(v);}}}};S.prototype._getVariantSetAdapter=function(){var v=null;if(this._oContainer){v=new sap.ushell.services.Personalization.VariantSetAdapter(this._oContainer);}return v;};S.prototype._createVariantEntries=function(){var v=this._getVariantSetAdapter();if(v){this._oVariantSet=v.getVariantSet('filterBarVariantSet');if(this._oVariantSet){this._reCreateVariantEntries();}else{this._oVariantSet=v.addVariantSet('filterBarVariantSet');}}};S.prototype._readPersonalization=function(c){this._oContainer=c;if(this._oContainer){this._createVariantEntries();}};S.prototype._savePersonalizationContainer=function(){var t=this;if(this._oContainer){this._oContainer.save().fail(function(){q.sap.log.error('Saving personalization data failed');t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'));}).done(function(){q.sap.log.info('Saving personalization data succeeded');t.fireEvent('afterSave');});}};S.prototype.fireSave=function(v){var o=null,n=null;var s;if(!this._oVariantSet){return;}if(v){if(v.overwrite){if(v.key){o=this._oVariantSet.getVariant(v.key);}}else{if(v.name){o=this._oVariantSet.addVariant(v.name);n=o;s=n.getVariantKey();this.replaceKey(v.key,s);this.setInitialSelectionKey(s);}}if(o){this.fireEvent('save',v);var b=this._fetchVariant();if(b){o.setItemValue('filterBarVariant',b.filterBarVariant);o.setItemValue('filterbar',b.filterbar);o.setItemValue('basicSearch','');if(b.basicSearch){o.setItemValue('basicSearch',b.basicSearch);}s=o.getVariantKey();if(v.def){if(s){this._oVariantSet.setCurrentVariantKey(s);}}else{var d=this._oVariantSet.getCurrentVariantKey();if(s===d){this._oVariantSet.setCurrentVariantKey(null);}}}this._savePersonalizationContainer();}}};S.prototype._setStandardVariant=function(){if(this._oPersController&&this._oPersController.fireBeforeVariantSave){this._oPersController.fireBeforeVariantSave(a.STANDARD_NAME);}this._oStandardVariant=this._fetchVariant();};S.prototype._getStandardVariant=function(){return this._oStandardVariant;};S.prototype.getStandardVariant=function(){return this._getStandardVariant();};S.prototype._setVariantName=function(v,s,n){var k;var f,F;if(this._oVariantSet){var N=this._oVariantSet.addVariant(n);f=v.getItemValue('filterBarVariant');N.setItemValue('filterBarVariant',f);F=v.getItemValue('filterbar');N.setItemValue('filterbar',F);k=this._oVariantSet.getCurrentVariantKey();if(k===s){this._oVariantSet.setCurrentVariantKey(N.getVariantKey());}this._oVariantSet.delVariant(s);k=N.getVariantKey();this.replaceKey(s,k);this.setInitialSelectionKey(k);}};S.prototype._getVariantNamesAndKeys=function(){return this._oVariantSet.getVariantNamesAndKeys();};S.prototype.fireManage=function(v){var i;var r=null,d=null;var o;if(!this._oVariantSet){return;}if(v){r=v.renamed;d=v.deleted;if(r){for(i=0;i<r.length;i++){o=this._oVariantSet.getVariant(r[i].key);if(o){if(o.setVariantName){o.setVariantName(r[i].name);}else{this._setVariantName(o,r[i].key,r[i].name);}}}}if(d){var s=this._oVariantSet.getCurrentVariantKey();for(i=0;i<d.length;i++){o=this._oVariantSet.getVariant(d[i]);if(o){if(s&&s===o.getVariantKey()){this._oVariantSet.setCurrentVariantKey(null);}this._oVariantSet.delVariant(d[i]);}}}if(v.def){o=this._oVariantSet.getVariant(v.def);if(o||(v.def===this.STANDARDVARIANTKEY)){this._oVariantSet.setCurrentVariantKey(v.def);}}if((d&&d.length>0)||(r&&r.length>0)||(v.def)){this._savePersonalizationContainer();}}};S.prototype.fireSelect=function(v){var o=null;if(v&&v.key){if(this._oVariantSet){if(v.key===this.STANDARDVARIANTKEY){o=this._getStandardVariant();}else{o=this._oVariantSet.getVariant(v.key);}}}if(o){this._applyVariant(o);}};S.prototype._getContent=function(v){var c=null;if(v){if(v.getItemValue){c={filterbar:v.getItemValue('filterbar'),filterBarVariant:v.getItemValue('filterBarVariant')};var b=v.getItemValue('basicSearch');if(b){c.basicSearch=b;}}else{c=v;}}return c;};S.prototype._applyVariant=function(v){var c=this._getContent(v);this._applyVariantContent(c);};S.prototype._applyVariantContent=function(c){if(c&&this._oPersController&&this._oPersController.applyVariant){this._oPersController.applyVariant(c);}};S.prototype._fetchVariant=function(){if(this._oPersController&&this._oPersController.fetchVariant){return this._oPersController.fetchVariant();}return null;};S.prototype._getPersistencyKey=function(){if(this._oPersController&&this._sKeyName){return this._oPersController.getProperty(this._sKeyName);}return null;};S.prototype._setErrorValueState=function(t){this.setEnabled(false);};S.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oStandardVariant=null;this._oPersController=null;this._sKeyName=null;this._oContainer=null;this._oVariantSet=null;};return S;},true);\n",
	"sap/ui/comp/smartvariants/flexibility/changes/AddFavorite.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils'],function(q,U){'use strict';var A={};A.applyChange=function(c,v,p){var C=c.getContent();if(q.isEmptyObject(C)){U.log.error('Change does not contain sufficient information to be applied');return false;}v.getItems().some(function(i){if(i.getKey()===C.key){i.setFavorite(C.visible);return true;}else if(i.getKey()===sap.ui.comp.STANDARD_VARIANT_NAME){v.setStandardFavorite(C.visible);return true;}});return true;};A.completeChangeContent=function(c,s,p){if(q.isEmptyObject(s.content)){throw new Error('oSpecificChangeInfo.content should be filled');}if(!s.content.key){throw new Error('In oSpecificChangeInfo.content.key attribute is required');}if(s.content.visible!==true){throw new Error(\"In oSpecificChangeInfo.content.select attribute should be 'true'\");}c.setContent(s.content);};return A;},true);\n",
	"sap/ui/comp/smartvariants/flexibility/changes/RemoveFavorite.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils'],function(q,U){'use strict';var R={};R.applyChange=function(c,v,p){var C=c.getContent();if(q.isEmptyObject(C)){U.log.error('Change does not contain sufficient information to be applied');return false;}v.getItems().some(function(i){if(i.getKey()===C.key){i.setFavorite(C.visible);return true;}else if(i.getKey()===sap.ui.comp.STANDARD_VARIANT_NAME){v.setStandardFavorite(C.visible);return true;}});return true;};R.completeChangeContent=function(c,s,p){if(q.isEmptyObject(s.content)){throw new Error('oSpecificChangeInfo.content should be filled');}if(!s.content.key){throw new Error('In oSpecificChangeInfo.content.key attribute is required');}if(s.content.visible!==false){throw new Error(\"In oSpecificChangeInfo.content.select attribute should be 'false'\");}c.setContent(s.content);};return R;},true);\n",
	"sap/ui/comp/state/UIState.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/base/ManagedObject','sap/ui/comp/odata/MetadataAnalyser','sap/ui/model/odata/AnnotationHelper','sap/ui/model/Context'],function(M,a,A,C){'use strict';var U=M.extend('sap.ui.comp.state.UIState',{metadata:{library:'sap.ui.comp',properties:{presentationVariant:{type:'object'},selectionVariant:{type:'object'},variantName:{type:'string'},valueTexts:{type:'object'}}}});U.calculateValueTexts=function(s,d){var v=null;var f=function(p,e){var P=null;if(!v){v={'Texts':[{'ContextUrl':'','Language':sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().getLanguage(),'PropertyTexts':[]}]};}v.Texts[0].PropertyTexts.some(function(i){if(i.PropertyName===p){P=i;}return!P;});if(!P){P={'PropertyName':p,ValueTexts:[]};v.Texts[0].PropertyTexts.push(P);}P.ValueTexts.push({'PropertyValue':e.key,'Text':e.text});};if(d&&s&&s.SelectOptions){s.SelectOptions.forEach(function(S){if(d[S.PropertyName]){if(d[S.PropertyName].ranges){d[S.PropertyName].ranges.forEach(function(e){if(e.hasOwnProperty('text')){f(S.PropertyName,e);}});}if(d[S.PropertyName].items){d[S.PropertyName].items.forEach(function(e){if(e.hasOwnProperty('text')){f(S.PropertyName,e);}});}}});}return v;};U.enrichWithValueTexts=function(p,v){var e=false,t,l,P,E=p;l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().getLanguage().toLowerCase();if(v&&v.Texts){v.Texts.some(function(o){if(o.Language&&o.Language.toLowerCase()===l){t=o;}return t!==null;});if(t&&t.PropertyTexts){if(!P){P=JSON.parse(p);}t.PropertyTexts.forEach(function(o){var b=P[o.PropertyName];if(b&&b.ranges&&o.ValueTexts){o.ValueTexts.forEach(function(V){var c=null,n=-1;if(V.Text){b.ranges.some(function(d,i){if(!d.exclude&&(d.operation==='EQ')&&(d.value1===V.PropertyValue)){c=d;n=i;}return(c!=null);});}if(c){e=true;if(!b.items){b.items=[];}b.items.push({key:V.PropertyValue,text:V.Text});P[o.PropertyName].ranges.splice(n,1);}});}});if(e){E=JSON.stringify(P);}}}return E;};U.createFromSelectionAndPresentationVariantAnnotation=function(v,s,p){var S={};if(s&&s.SelectOptions&&s.SelectOptions.length){S.SelectOptions=s.SelectOptions.map(function(o){return{PropertyName:o.PropertyName.PropertyPath,Ranges:o.Ranges.map(function(r){var m=new C(null,'/');return{Sign:a.getSelectionRangeSignType([r.Sign.EnumMember]),Option:a.getSelectionRangeOptionType([r.Option.EnumMember]),Low:r.Low&&A.format(m,r.Low)||undefined,High:r.High&&A.format(m,r.High)||undefined};})};});}var P={};if(p&&p.chartAnnotation){P.Visualizations=[{Type:'Chart',Content:{ChartType:p.chartAnnotation.chartType,Measures:p.chartAnnotation.measureFields,MeasureAttributes:Object.keys(p.chartAnnotation.measureAttributes).map(function(b){return{Measure:b,Role:p.chartAnnotation.measureAttributes[b].role};}),Dimensions:p.chartAnnotation.dimensionFields,DimensionAttributes:Object.keys(p.chartAnnotation.dimensionAttributes).map(function(b){return{Dimension:b,Role:p.chartAnnotation.dimensionAttributes[b].role};})}}];}if(p&&p.maxItems){P.MaxItems=parseInt(p.maxItems,10);}if(p&&p.sortOrderFields){P.SortOrder=p.sortOrderFields.map(function(f){return{Property:f.name,Descending:f.descending};});}if(p&&p.groupByFields){P.GroupBy=p.groupByFields;}if(p&&p.requestAtLeastFields){P.RequestAtLeast=p.requestAtLeastFields;}return new U({presentationVariant:!jQuery.isEmptyObject(P)?P:undefined,selectionVariant:!jQuery.isEmptyObject(S)?S:undefined,variantName:v?v:undefined});};return U;},true);\n",
	"sap/ui/comp/transport/TransportDialog.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['sap/ui/fl/transport/TransportDialog'],function(F){'use strict';var T=F.extend('sap.ui.comp.transport.TransportDialog');return T;},true);\n",
	"sap/ui/comp/util/FormatUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/FilterOperator','sap/ui/core/format/NumberFormat','sap/ui/core/format/DateFormat'],function(q,F,N,D){'use strict';var a={getFormattedExpressionFromDisplayBehaviour:function(d,i,s){var t=this.getTextsFromDisplayBehaviour(d,i,s);return t.secondText?t.firstText+' ('+t.secondText+')':t.firstText;},getTextsFromDisplayBehaviour:function(d,i,s){switch(d){case'descriptionAndId':return{firstText:s?s:i,secondText:s?i:undefined};case'idAndDescription':return{firstText:i,secondText:s?s:undefined};case'descriptionOnly':return{firstText:s?s:i,secondText:undefined};default:return{firstText:i,secondText:undefined};}},getFormattedRangeText:function(o,v,V,e){var t;if(v){switch(o){case F.EQ:t='='+v;break;case F.GT:t='>'+v;break;case F.GE:t='>='+v;break;case F.LT:t='<'+v;break;case F.LE:t='<='+v;break;case F.Contains:t='*'+v+'*';break;case F.StartsWith:t=v+'*';break;case F.EndsWith:t='*'+v;break;case F.BT:if(V){t=v+'...'+V;}break;default:t='';break;}}if(e&&t){t='!('+t+')';}return t;},_initialiseCurrencyFormatter:function(){if(!a._oCurrencyFormatter){a._oCurrencyFormatter=N.getCurrencyInstance({showMeasure:false});}if(!a._MAX_CURRENCY_DIGITS){a._MAX_CURRENCY_DIGITS=3;}a._initialiseSpaceChars();},_initialiseSpaceChars:function(){if(!a._FIGURE_SPACE||!a._PUNCTUATION_SPACE){a._FIGURE_SPACE='\\u2007';a._PUNCTUATION_SPACE='\\u2008';}},getAmountCurrencyFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fAmountCurrencyFormatter){a._fAmountCurrencyFormatter=function(A,c){var v,C,p;if(A===undefined||A===null||c==='*'){return'';}v=a._oCurrencyFormatter.format(A,c);C=a._oCurrencyFormatter.oLocaleData.getCurrencyDigits(c);if(C===0){v+=a._PUNCTUATION_SPACE;}p=a._MAX_CURRENCY_DIGITS-C;if(p){v=q.sap.padRight(v,a._FIGURE_SPACE,v.length+p);}return v;};}return a._fAmountCurrencyFormatter;},getCurrencySymbolFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fCurrencySymbolFormatter){a._fCurrencySymbolFormatter=function(c){if(!c||c==='*'){return'';}return a._oCurrencyFormatter.oLocaleData.getCurrencySymbol(c);};}return a._fCurrencySymbolFormatter;},getMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fMeasureFormatter){a._fMeasureFormatter=function(v,u){if(v===undefined||v===null||u==='*'){return'';}return v+a._FIGURE_SPACE;};}return a._fMeasureFormatter;},getInlineMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fInlineMeasureFormatter){a._fInlineMeasureFormatter=function(v,u){if(v===undefined||v===null||u==='*'){return'';}if(!u){return v;}return v+a._FIGURE_SPACE+u;};}return a._fInlineMeasureFormatter;},getInlineAmountFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fInlineAmountFormatter){a._fInlineAmountFormatter=function(A,c){var v;if(A===undefined||A===null||c==='*'){return'';}v=a._oCurrencyFormatter.format(A,c);return v+a._FIGURE_SPACE+c;};}return a._fInlineAmountFormatter;},getEdmTimeFromDate:function(d){if(!a._oTimeFormat){a._oTimeFormat=D.getTimeInstance({pattern:\"'PT'HH'H'mm'M'ss'S'\"});}return a._oTimeFormat.format(d);},getWidth:function(f,m,M){var w=f.maxLength||f.precision,W;if(!m){m=30;}if(!M){M=3;}if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'||f.isCalendarDate){w='9em';}else if(w){if(w==='Max'){w=m+'';}W=parseInt(w,10);if(!isNaN(W)){W+=0.75;if(W>m){W=m;}else if(W<M){W=M;}w=W+'em';}else{w=null;}}if(!w){if(f.type==='Edm.Boolean'){w=M+'em';}else{w=m+'em';}}return w;},parseFilterNumericIntervalData:function(v){var r=[],R=v.match(RegExp('^(-?[^-]*)-(-?[^-]*)$'));if(R&&R.length>=2){r.push(R[1]);r.push(R[2]);}return r;},parseDateTimeOffsetInterval:function(v){var V=v.split('-'),r=v,n=0;if((V.length%2)===0){r=[];for(var i=0;i<V.length/2;i++){n=v.indexOf('-',++n);}r.push(v.substr(0,n).replace(/\\s+/g,''));r.push(v.substr(n+1).replace(/\\s+/g,''));}return r;}};return a;},true);\n",
	"sap/ui/comp/util/FullScreenUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/Dialog','sap/ui/core/HTML'],function(q,D,H){'use strict';var F={toggleFullScreen:function(c,e,f,E){var $;if(e){$=c.$();$.css('height','100%');if($){if(!c._oHTML){c._oHTML=new H({preferDOM:false,afterRendering:function(){if(c&&c._oHTML){var a=c._oHTML.$(),C;if(a){C=a.children();C.remove();a.css('height','100%');a.append(c.getDomRef());}}}});}if(!c._oFullScreenDialog){c._oFullScreenDialog=new D({showHeader:false,stretch:true,escapeHandler:function(p){p.reject();},beforeClose:function(){if(c&&c._$placeHolder&&E){E();}},content:[c._oHTML]});if(f){c._oFullScreenDialog.attachAfterOpen(function(){f.focus();if(c._oGrowingDelegate&&c._oGrowingDelegate.onAfterRendering){c._oOldParent=c.oParent;c.oParent=c._oFullScreenDialog;c._oGrowingDelegate.onAfterRendering();c.oParent=c._oOldParent;delete c._oOldParent;}});c._oFullScreenDialog.attachAfterClose(function(){f.focus();});}c._oFullScreenDialog.addStyleClass($.closest('.sapUiSizeCompact').length?'sapUiSizeCompact':'');c._oFullScreenDialog.addStyleClass('sapUiCompSmartFullScreenDialog');if(c._oFullScreenDialog.oPopup){c._oFullScreenDialog.oPopup.onsapescape=null;}}c._$placeHolder=q(document.createElement('div'));$.before(c._$placeHolder);c._oHTML.setContent('<div/>');}if(!c._oGrowingDelegate){c._oGrowingDelegate=c._oTable||c._oList;if(c._oGrowingDelegate&&c._oGrowingDelegate.getGrowingScrollToLoad&&c._oGrowingDelegate.getGrowingScrollToLoad()){c._oGrowingDelegate=c._oGrowingDelegate._oGrowingDelegate;}else{c._oGrowingDelegate=null;}}c._oFullScreenDialog.open();}else if(c._$placeHolder&&c._oHTML){$=c._oHTML.$();c._$placeHolder.replaceWith($.children());c._$placeHolder=null;$=null;if(c._oFullScreenDialog){c._oFullScreenDialog.close();}}},cleanUpFullScreen:function(c){if(c._oFullScreenDialog){c._oFullScreenDialog.destroy();c._oFullScreenDialog=null;}c._$placeHolder=null;c._oHTML=null;c._oGrowingDelegate=null;}};return F;},true);\n",
	"sap/ui/comp/util/IdentifierUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/DataType'],function(q,D){'use strict';var I={replace:function(n){var t=D.getType('sap.ui.core.ID');if(!t.isValid(n)){n=n.replace(/[^A-Za-z0-9_.:]+/g,'_');if(!t.isValid(n)){n='A_'+n;}}return n;}};return I;},true);\n",
	"sap/ui/comp/util/MultiCurrencyUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var M={isMultiCurrency:function(c){return c==='*';},openMultiCurrencyPopover:function(e,a){var s=sap.ui.getCore().byId(a.smartTableId);var A=s.getTable();var b=A.getBinding('rows');var c=a.currency;var C=a.unit;var o=a.template;var d,D;if(!b||!c||!C){return;}var l=e.getSource();var L=l.getParent();if(a.additionalParent){L=L.getParent();}var f=A.getAnalyticalInfoOfRow(A.getRowForCell(L));if(!f){return;}var i,F=[],S=[c,C],t=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_MULTI_TOTAL_TITLE')||'Total';if(b.aApplicationFilter){F=[].concat(b.aApplicationFilter);}var B=A.getBindingInfo('rows');var m=(B&&B.parameters&&B.parameters.custom)?q.extend(true,{},B.parameters.custom):undefined;if(f.groupTotal||f.group){var g=f.groupedColumns;for(i=0;i<g.length;i++){D=sap.ui.getCore().byId(g[i]).getLeadingProperty();if(!D){continue;}d=b.getAnalyticalInfoForColumn(D);if(d){D=d.dimensionPropertyName;}if(D){F.push(new sap.ui.model.Filter(D,sap.ui.model.FilterOperator.EQ,f.context.getProperty(D)));}}t=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_MULTI_GROUP_TITLE')||'Subtotal';}else if(!f.grandTotal){var p=Object.getOwnPropertyNames(b.getDimensionDetails());for(i=0;i<p.length;i++){F.push(new sap.ui.model.Filter(p[i],sap.ui.model.FilterOperator.EQ,f.context.getProperty(p[i])));}t=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_MULTI_GROUP_TITLE')||'Subtotal';}var h=o.clone();h.unbindProperty('visible');var P=a.smartTableId+'-multiUnitPopover',j,k;j=sap.ui.getCore().byId(P);if(!j){k=new sap.m.List(P+'-detailsList',{showSeparators:'None',ariaLabelledBy:P+'-title'});k.addStyleClass('sapUiContentPadding sapUiCompMultiCurrency');j=new sap.m.ResponsivePopover(P,{content:k});q.sap.syncStyleClass('sapUiSizeCompact',A,j);A.addDependent(j);}if(!k){k=sap.ui.getCore().byId(P+'-detailsList');}j.setTitle(t);j.setPlacement(f.grandTotal?'PreferredTopOrFlip':'PreferredBottomOrFlip');k.bindItems({path:b.getPath(),filters:F,parameters:{select:S.join(','),custom:m},templateShareable:false,template:new sap.m.CustomListItem({content:[h]})});j.openBy(l);}};return M;},true);\n",
	"sap/ui/comp/valuehelpdialog/ItemsCollection.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/util/FormatUtil','sap/ui/base/ManagedObject'],function(q,F,M){'use strict';var I=function(){this.items={};};I.prototype.add=function(k,o){this.items[k]=o;};I.prototype.remove=function(k){delete this.items[k];};I.prototype.removeAll=function(){this.items={};};I.prototype.getItem=function(k){return this.items[k];};I.prototype.getItems=function(){var k=[];for(var i in this.items){k.push(i);}return k;};I.prototype.getSelectedItemsTokenArray=function(k,d,D){var t=[];for(var i in this.items){var o=this.items[i];var T,s;if(typeof o==='string'){s=i;T=o;}else{s=o[k];T=o[d];if(T===undefined){T=this.items[i];}else{if(!D){D='descriptionAndId';}T=F.getFormattedExpressionFromDisplayBehaviour(D,s,T);}}var a=new sap.m.Token({key:M.escapeSettingsValue(s)});a.setText(T);a.setTooltip(typeof T==='string'?T:'');if(typeof o!=='string'){a.data('row',o);a.data('longKey',i);}t.push(a);}return t;};I.prototype.getModelData=function(){var m=[];for(var i in this.items){var a=this.items[i];if(typeof a==='string'){a={missing:i};}m.push(a);}return m;};return I;},true);\n",
	"sap/ui/comp/valuehelpdialog/ValueHelpDialog.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/Dialog','sap/m/MessageBox','sap/m/Token','./ItemsCollection','sap/ui/core/Control','sap/ui/core/format/DateFormat','sap/ui/core/format/NumberFormat','sap/m/VBox','sap/m/HBox','sap/ui/comp/util/FormatUtil','sap/m/DialogRenderer','sap/ui/table/Table','sap/m/Table','sap/ui/model/odata/type/Boolean','sap/m/FlexItemData','sap/m/Title','sap/m/Text','sap/m/Label','sap/m/Button','sap/m/ButtonType','sap/m/Column','sap/ui/table/Column','sap/m/Bar','sap/m/OverflowToolbarLayoutData','sap/m/Tokenizer','sap/m/Panel','sap/m/StandardListItem','sap/m/IconTabBar','sap/m/IconTabFilter','sap/m/library','sap/ui/core/InvisibleText','sap/ui/core/IconPool','sap/ui/layout/HorizontalLayout','sap/ui/layout/Grid','sap/ui/Device','sap/m/List','sap/m/Link','sap/m/P13nFilterPanel','sap/m/P13nItem','sap/m/P13nFilterItem','sap/m/CheckBox','sap/ui/model/odata/type/String'],function(q,D,M,T,I,C,a,N,V,H,F,b,u,t,B,c,d,e,L,f,g,h,U,k,O,l,P,S,m,p,r,s,v,w,G,x,y,z,A,E,J,K,Q){'use strict';var g=r.ButtonType;var R=r.OverflowToolbarPriority;var W=r.ListMode;var X=r.ListType;var _={DESKTOP_LIST_VIEW:'DESKTOP_LIST_VIEW',DESKTOP_CONDITIONS_VIEW:'DESKTOP_CONDITIONS_VIEW',PHONE_MAIN_VIEW:'PHONE_MAIN_VIEW',PHONE_SEARCH_VIEW:'PHONE_SEARCH_VIEW',PHONE_LIST_VIEW:'PHONE_LIST_VIEW',PHONE_CONDITIONS_VIEW:'PHONE_CONDITIONS_VIEW'};var Y=D.extend('sap.ui.comp.valuehelpdialog.ValueHelpDialog',{metadata:{library:'sap.ui.comp',properties:{basicSearchText:{type:'string',group:'Misc',defaultValue:''},supportMultiselect:{type:'boolean',group:'Misc',defaultValue:true},supportRanges:{type:'boolean',group:'Misc',defaultValue:false},supportRangesOnly:{type:'boolean',group:'Misc',defaultValue:false},key:{type:'string',group:'Misc',defaultValue:''},keys:{type:'string[]',group:'Misc',defaultValue:null},descriptionKey:{type:'string',group:'Misc',defaultValue:''},maxIncludeRanges:{type:'string',group:'Misc',defaultValue:'-1'},maxExcludeRanges:{type:'string',group:'Misc',defaultValue:'-1'},displayFormat:{type:'string',group:'Misc',defaultValue:''},tokenDisplayBehaviour:{type:'string',group:'Misc',defaultValue:''},filterMode:{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{filterBar:{type:'sap.ui.comp.filterbar.FilterBar',multiple:false}},events:{ok:{parameters:{tokens:{type:'sap.m.Token[]'}}},cancel:{},selectionChange:{parameters:{tableSelectionParams:{type:'object'},updateTokens:{type:'object[]'},useDefault:{type:'boolean',defaultValue:false}}},tokenRemove:{parameters:{tokenKeys:{type:'string[]'},useDefault:{type:'boolean',defaultValue:false}}},updateSelection:{parameters:{tokenKeys:{type:'string[]'},useDefault:{type:'boolean',defaultValue:false}}}}},renderer:b.render});Y.prototype.setSupportMultiselect=function(i){this.setProperty('supportMultiselect',i);this._updatePropertySupportMultiselect(i);this._oTokenizerGrid.setVisible(i);this._oButtonOk.setVisible(i);return this;};Y.prototype._updatePropertySupportMultiselect=function(i){if(!this._oTable){return undefined;}if(!this._isPhone()){if(this._oTable.setSelectionMode){this._oTable.setSelectionMode(i?sap.ui.table.SelectionMode.MultiToggle:sap.ui.table.SelectionMode.Single);}}else if(this._oTable.setMode){this._oTable.setMode(i?W.MultiSelect:W.SingleSelectLeft);}return this;};Y.prototype.setSupportRanges=function(i){this.setProperty('supportRanges',i);this._updateNavigationControl();return this;};Y.prototype.setSupportRangesOnly=function(i){this.setProperty('supportRangesOnly',i);this._updateNavigationControl();return this;};Y.prototype.setTitle=function(i){this.setProperty('title',i);this._updateDlgTitle();return this;};Y.prototype.setFilterBar=function(o){this.setAggregation('filterBar',o);if(this._oMainLayout&&o){if(this._isPhone()){if(this._oFilterBar){this._oVBox.removeItem(this._oFilterBar);this._oFilterBar.detachInitialise(this._handleFilterBarInitialize);}}else if(this._oFilterBar){this._oMainLayout.removeItem(this._oFilterBar);this._oFilterBar.detachInitialise(this._handleFilterBarInitialize);}this._oFilterBar=o;this._oFilterBar.attachInitialise(this._handleFilterBarInitialize,this);if(this._oFilterBar){this._oFilterBar.addStyleClass('compVHSearch');if(this._isPhone()){var i=sap.ui.getCore().byId(this._oFilterBar.getBasicSearch());if(i instanceof sap.m.SearchField){i.setShowSearchButton(true);i.attachSearch(function(n){if(n.mParameters.refreshButtonPressed!==undefined){this.getFilterBar().search();}}.bind(this));}this._oFilterBar.setShowGoOnFB(false);this._oColSearchBox.setLayoutData(new c({shrinkFactor:0}));this._oVBox.insertItem(this._oColSearchBox,0);this._oFilterBar.setLayoutData(new c({shrinkFactor:0}));this._oVBox.insertItem(this._oFilterBar,1);this._oFilterBar.attachSearch(function(n){this._updateView(_.PHONE_LIST_VIEW);}.bind(this));if(this._currentViewMode===_.PHONE_LIST_VIEW){this._oFilterBar.setVisible(true);this._oFilterBar.setFilterBarExpanded(false);this._handleFilterBarInitialize();}}else{this._oFilterBar._setCollectiveSearch(this._oColSearchBox);this._oMainLayout.insertItem(this._oFilterBar,0);}}if(this._oFilterBar._oSearchButton){this.setInitialFocus(this._oFilterBar._oSearchButton);}if(this._oFilterBar._oBasicSearchField){var j=this._oFilterBar._oBasicSearchField;j.setValue(this.getBasicSearchText());this.setInitialFocus(j);}}return this;};Y.prototype._handleFilterBarInitialize=function(){if(this._currentViewMode===_.PHONE_LIST_VIEW){this._oFilterBar._handleVisibilityOfToolbar();var i=this._oFilterBar&&this._oFilterBar.getFilterGroupItems()&&this._oFilterBar.getFilterGroupItems().length>0;this._oAdvancedSearchLink.setVisible(i);this._oFilterBar.setShowGoButton(!(this._oFilterBar&&this._oFilterBar.getBasicSearch()));}};Y.prototype.getFilterBar=function(){return this._oFilterBar;};Y.prototype.setBasicSearchText=function(i){this.setProperty('basicSearchText',i);if(this._oFilterBar&&this._oFilterBar._oBasicSearchField){this._oFilterBar._oBasicSearchField.setValue(i);}return this;};Y.prototype.setTokens=function(j){var o=true;if(j.length){var n=0,$;for(var i=0;i<j.length;i++){var a1=j[i];if(a1.data('range')){var b1=a1.data('range');$=a1.getKey();if(!$){do{$='range_'+n;n++;}while(this._oSelectedRanges[$]);}var c1=this._getFormatedRangeTokenText(b1.operation,b1.value1,b1.value2,b1.exclude,b1.keyField);this._addToken2Tokenizer($,c1,b1.exclude?this._oExcludedTokens:this._oSelectedTokens,b1.keyField);this._oSelectedRanges[$]=b1;o=false;}else{$=a1.getKey();var d1=a1.getText();var e1=a1.data('longKey');var f1=a1.data('row');if(!e1){e1=$;}this._oSelectedItems.add(e1,f1?f1:a1.getText());var g1=new T(Z.call(this,e1),{key:e1});g1.setText(d1);g1.setTooltip(d1);this._oSelectedTokens.addToken(g1);}}}else{this._oSelectedItems.removeAll();this._oSelectedRanges={};this._oSelectedTokens.destroyTokens();this._oExcludedTokens.destroyTokens();}if(o){this._updateTokenizer();}};Y.prototype.open=function(){this._bIgnoreSelectionChange=false;this.bCollectiveSearchActive=this.oSelectionTitle.getVisible()&&this.oSelectionButton.getVisible();if(this._oColSearchBox){this._oColSearchBox.setVisible(this.bCollectiveSearchActive);}if(!this._isPhone()){if(this.getSupportRangesOnly()||this.getFilterMode()){this._updateView(_.DESKTOP_CONDITIONS_VIEW);}else if(!this._oTable){this._createDefaultTable();}this.setContentWidth(this._getDefaultContentWidth());}else{if(!this._oTable){this._createDefaultTable();}this._updateView(_.PHONE_MAIN_VIEW);}D.prototype.open.apply(this);return this;};Y.prototype.getTable=function(){if(!this._oTable){this._createDefaultTable();}return this._oTable;};Y.prototype.setTable=function(o){if(this._oTable){this._oMainLayout.removeItem(this._oTable);if(this._bTableCreatedInternal){this._oTable.destroy();this._oTable=null;}}this._bTableCreatedInternal=(arguments.length>1)&&(arguments[1]==true);if(o&&o.isA('sap.ui.comp.smarttable.SmartTable')){this._oTable=o.getTable();}else{this._oTable=o;}this._oTable.setLayoutData(new c({shrinkFactor:0,growFactor:1}));this.theTable=this._oTable;this._initializeTable();this._oMainLayout.addItem(o);};Y.prototype._getDefaultContentWidth=function(){var n=0;if(this._oTable){n=this._oTable.getColumns().length;}var i=Math.max(1080,n*130);return i+'px';};Y.prototype.resetTableState=function(){if(this._oTable){if(this._oTable.unbindRows){this._oTable.unbindRows();}this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));}};Y.prototype.TableStateSearchData=function(){this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));};Y.prototype._updateNoDataText=function(n){if(this._oTable){if(this._oTable.setNoData){this._oTable.setNoData(n);}else if(this._oTable.setNoDataText){this._oTable.setNoDataText(n);}}};Y.prototype.TableStateDataFilled=function(){this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_NODATA'));};Y.prototype.TableStateDataSearching=function(){this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_SEARCHING'));};Y.prototype.init=function(){D.prototype.init.apply(this);this._oTokenIdCount={};this._bTableCreatedInternal=false;this._aIncludeRangeOperations={};this._aExcludeRangeOperations={};this.setStretch(this._isPhone());this.setResizable(!this._isPhone());this.setDraggable(!this._isPhone());this.bCollectiveSearchActive=false;this.addStyleClass('compValueHelpDialog');this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._sTableTitle1=this._oRb.getText('VALUEHELPDLG_TABLETITLE1');this._sTableTitle2=this._oRb.getText('VALUEHELPDLG_TABLETITLE2');this._sTableTitleNoCount=this._oRb.getText('VALUEHELPDLG_TABLETITLENOCOUNT');this._currentViewMode=null;this._oSelectedItems=new I();this._oSelectedRanges={};this._createHeaderBar();this._createCollectiveSearch();this._createTokenizer();this._updateTokenizer();this._oVBox=new V(this.getId()+'-vbox',{fitContainer:true});this.addContent(this._oVBox);this._oMainLayout=new V(this.getId()+'-mainLayout',{fitContainer:true,items:[this._oFilterBar],layoutData:new c({growFactor:1,shrinkFactor:0})});this._createNavigationControl();this._updateNavigationControl();this._oVBox.addItem(this._oMainLayout);if(this.getMaxIncludeRanges()==='-1'&&this.getMaxExcludeRanges()!=='0'&&!this.getFilterMode()){this._oVBox.addItem(this._oTokenizerGrid);}this._createFooterControls();this.setVerticalScrolling(false);this.setHorizontalScrolling(false);if(!sap.ui.Device.system.desktop){this._oVBox.attachBrowserEvent('touchmove',function(i){i.setMarked();});}if(!this._isPhone()){this._updateView(_.DESKTOP_LIST_VIEW);}};Y.prototype._updateView=function(n){if(this._currentViewMode===n){return;}switch(n){case _.DESKTOP_LIST_VIEW:this._validateRanges(function(){this._oTokenizerGrid.setVisible(this.getSupportMultiselect());this._oMainLayout.removeAllItems();if(this._oTabBar&&this._oTabBar.getSelectedKey()!==_.DESKTOP_LIST_VIEW){this._oTabBar.setSelectedKey(_.DESKTOP_LIST_VIEW);}this._oMainLayout.addItem(this._oFilterBar);this._oMainLayout.addItem(this._oTable);this._updateDlgTitle();}.bind(this),function(){this._oTabBar.setSelectedKey(_.DESKTOP_CONDITIONS_VIEW);this._updateView(_.DESKTOP_CONDITIONS_VIEW);}.bind(this));break;case _.DESKTOP_CONDITIONS_VIEW:if(this.getSupportRanges()){this.bCollectiveSearchActive=this.oSelectionTitle.getVisible()&&this.oSelectionButton.getVisible();this._oMainLayout.removeAllItems();if(this._oTabBar&&this._oTabBar.getSelectedKey()!==_.DESKTOP_CONDITIONS_VIEW){this._oTabBar.setSelectedKey(_.DESKTOP_CONDITIONS_VIEW);}this._createAddRanges();this._oButtonOk.setVisible(this.getSupportRangesOnly()||this.getSupportMultiselect());this._oTokenizerGrid.setVisible(this.getSupportMultiselect());if(!(this.getMaxIncludeRanges()==='-1'&&this.getMaxExcludeRanges()!=='0'&&!this.getFilterMode())){this._oTokenizerGrid.setVisible(false);}}break;case _.PHONE_MAIN_VIEW:this.setVerticalScrolling(false);this._oColSearchBox.setVisible(false);this._oMainListMenu.setVisible(true);this._updateNavigationControl();this._oAdvancedSearchLink.setVisible(false);if(this._oFilterBar){this._oFilterBar.setVisible(false);this._oFilterBar.setFilterBarExpanded(false);}this._oTable.setVisible(false);this._oTokenizerGrid.setVisible(this.getSupportMultiselect());if(!(this.getMaxIncludeRanges()==='-1'&&this.getMaxExcludeRanges()!=='0'&&!this.getFilterMode())){this._oTokenizerGrid.setVisible(false);}if(this._oRanges){this._oRanges.setVisible(false);}this._oButtonGo.setVisible(false);this._oButtonClear.setVisible(false);this._oButtonOk.setVisible(true);this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(false);this._bNoneMainView=false;if(!this._oTokenizerGrid.getVisible()&&!(this._oSelectItemLI.getVisible()&&this._oDefineConditionsLI.getVisible())){this._bNoneMainView=true;if(this._oSelectItemLI.getVisible()){this._updateView(_.PHONE_LIST_VIEW);}if(this._oDefineConditionsLI.getVisible()){this._updateView(_.PHONE_CONDITIONS_VIEW);}return;}break;case _.PHONE_LIST_VIEW:this.setVerticalScrolling(true);this._oColSearchBox.setVisible(this.bCollectiveSearchActive);this._oMainListMenu.setVisible(false);if(this._oFilterBar){var i=this._oFilterBar&&this._oFilterBar.getFilterGroupItems()&&this._oFilterBar.getFilterGroupItems().length>0;this._oAdvancedSearchLink.setVisible(i);this._oFilterBar.setShowGoButton(!(this._oFilterBar&&this._oFilterBar.getBasicSearch()));this._oFilterBar.setVisible(true);this._oFilterBar.setFilterBarExpanded(false);}this._oTable.setVisible(true);this._oTokenizerGrid.setVisible(false);if(this._oRanges){this._oRanges.setVisible(false);}this._oButtonGo.setVisible(false);this._oButtonClear.setVisible(false);this._oButtonOk.setVisible(this.getSupportMultiselect());this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(!this._bNoneMainView);break;case _.PHONE_SEARCH_VIEW:this.setVerticalScrolling(true);this._oColSearchBox.setVisible(false);this._oMainListMenu.setVisible(false);if(this._oFilterBar){this._oFilterBar.setVisible(true);this._oFilterBar.setFilterBarExpanded(true);}this._oAdvancedSearchLink.setVisible(false);this._oTable.setVisible(false);this._oTokenizerGrid.setVisible(false);if(this._oRanges){this._oRanges.setVisible(false);}this._oButtonGo.setVisible(true);this._oButtonClear.setVisible(true);this._oButtonOk.setVisible(false);this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(true);break;case _.PHONE_CONDITIONS_VIEW:this.setVerticalScrolling(true);this._oColSearchBox.setVisible(false);this._oMainListMenu.setVisible(false);if(this._oFilterBar){this._oFilterBar.setVisible(false);}this._oAdvancedSearchLink.setVisible(false);this._oTable.setVisible(false);this._oTokenizerGrid.setVisible(false);if(!this._oRanges){this._createAddRanges();}if(this._oRanges){this._oRanges.setVisible(true);}this._oButtonGo.setVisible(false);this._oButtonClear.setVisible(false);this._oButtonOk.setVisible(true);this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(!this._bNoneMainView);break;default:break;}if(this._oMainListMenu&&this._oVBox){if(this._oFilterBar){this._oFilterBar._handleVisibilityOfToolbar();}this._oVBox.rerender();}this._currentViewMode=n;this._updateDlgTitle();};Y.prototype._changeTableRowSelectionForKey=function(j,n){var i;var o=this._oTable;this._bIgnoreSelectionChange=true;if(sap.ui.table.Table&&o instanceof sap.ui.table.Table){var $=o.getBinding('rows');if($){if($.aKeys){for(i=0;i<$.aKeys.length;i++){if(decodeURIComponent($.aKeys[i])===j){if(n){o.addSelectionInterval(i,i);}else{o.removeSelectionInterval(i,i);}break;}}}else{this.oRows=o.getBinding('rows');if(this.oRows.aIndices){for(i=0;i<this.oRows.aIndices.length;i++){var a1=o.getContextByIndex(this.oRows.aIndices[i]);if(a1){var b1=a1.getObject();if(b1[this.getKey()]===j){if(n){o.addSelectionInterval(i,i);}else{o.removeSelectionInterval(i,i);}break;}}}}}}}else{for(i=0;i<o.getItems().length;i++){var c1=o.getItems()[i];var d1=c1.getBindingContext().getObject();if(d1[this.getKey()]===j){o.setSelectedItem(c1,n);break;}}}this._bIgnoreSelectionChange=false;};Y.prototype.update=function(){var i,j,o,n;var $;var a1=this._oSelectedItems.getItems();var b1={tokenKeys:a1,useDefault:false};this._bIgnoreSelectionChange=true;if(this._hasListeners('updateSelection')){this.fireUpdateSelection(b1);}else{b1.useDefault=true;}if(b1.useDefault){if(sap.ui.table.Table&&this._oTable instanceof sap.ui.table.Table){this.oRows=this._oTable.getBinding('rows');this._oTable.clearSelection();if(this.oRows.aKeys){var c1=this.getKeys();var d1=c1&&c1.length>1?this.getKey()+'=':'';for(j=0;j<a1.length;j++){$=a1[j];var e1=d1+\"'\"+$+\"'\";for(i=0;i<this.oRows.aKeys.length;i++){var f1=this.oRows.aKeys[i];if(f1===undefined){continue;}f1=decodeURIComponent(f1);var g1=f1===$;if(g1||f1.indexOf(e1)>=0){if(!g1){this._oSelectedItems.remove($);var h1=this._getTokenByKey($,this._oSelectedTokens);if(h1){h1.setKey(f1);}}n=this._oTable.getContextByIndex(i);if(n){o=n.getObject();this._oSelectedItems.add(f1,o);}this._oTable.addSelectionInterval(i,i);break;}}}}else if(this.oRows.aIndices){this._oTable.clearSelection();for(j=0;j<a1.length;j++){var i1=a1[j];for(i=0;i<this.oRows.aIndices.length;i++){n=this._oTable.getContextByIndex(this.oRows.aIndices[i]);if(n){o=n.getObject();if(o[this.getKey()]===i1){this._oSelectedItems.add(o[this.getKey()],o);this._oTable.addSelectionInterval(i,i);break;}}}}}}else{var j1=this._oTable;for(j=0;j<a1.length;j++){$=a1[j];for(i=0;i<j1.getItems().length;i++){var k1=j1.getItems()[i];var l1=k1.getBindingContext().getObject();if(l1[this.getKey()]===$){j1.setSelectedItem(k1,true);break;}}}}}this._bIgnoreSelectionChange=false;this._updateTitles();};Y.prototype._createHeaderBar=function(){this._oTitle=new d(this.getId()+'-title');var o=null;if(this._isPhone()){o=new f(this.getId()+'-back',{visible:false,type:g.Back,press:function(i){if(this._currentViewMode===_.PHONE_SEARCH_VIEW){this._updateView(_.PHONE_LIST_VIEW);}else{this._updateView(_.PHONE_MAIN_VIEW);}}.bind(this)});this._oBackButton=o;}this.setCustomHeader(new k(this.getId()+'-header',{contentLeft:o,contentMiddle:this._oTitle}));};Y.prototype._createCollectiveSearch=function(){this.oSelectionTitle=new e(this.getId()+'-selTitle',{visible:false,wrapping:false}).addStyleClass('compVHColSearchText');this.oSelectionButton=new f(this.getId()+'-selButton',{icon:'sap-icon://arrow-down',tooltip:this._oRb.getText('VALUEHELPVALDLG_SEARCHTEMPLATES_TOOLTIP'),type:g.Transparent,visible:false,ariaLabelledBy:this.oSelectionTitle}).addStyleClass('compVHColSearchBtn');this._oColSearchBox=new H(this.getId()+'-selBox',{fitContainer:true,visible:this.oSelectionButton.getVisible(),items:[this.oSelectionTitle,this.oSelectionButton]}).addStyleClass('compVHColSearchVBox');};Y.prototype._createFooterControls=function(){this._oButtonOk=new f(this.getId()+'-ok',{text:this._oRb.getText('VALUEHELPDLG_OK'),press:this._onCloseAndTakeOverValues.bind(this),visible:this.getSupportMultiselect(),type:g.Emphasized,layoutData:new O({priority:R.NeverOverflow})});this._oButtonCancel=new f(this.getId()+'-cancel',{text:this._oRb.getText('VALUEHELPDLG_CANCEL'),press:this._onCancel.bind(this),layoutData:new O({priority:R.NeverOverflow})});if(this._isPhone()){this._oButtonGo=new f(this.getId()+'-go',{text:this._oRb.getText('VALUEHELPDLG_GO'),type:g.Emphasized,press:this._onGo.bind(this),visible:false,layoutData:new O({priority:R.NeverOverflow})});this._oButtonClear=new f(this.getId()+'-clear',{text:this._oRb.getText('VALUEHELPDLG_CLEAR'),press:this._onClear.bind(this),visible:false,layoutData:new O({priority:R.NeverOverflow})});this.addButton(this._oButtonGo);this.addButton(this._oButtonClear);}this.addButton(this._oButtonOk);this.addButton(this._oButtonCancel);};Y.prototype._createTokenizer=function(){if(this._oTokenizerGrid){return this._oTokenizerGrid;}this._oSelectedTokenTitle=new s(this.getId()+'-selectedTokenTitle');this._oSelectedTokens=new l(this.getId()+'-selectedTokens',{tokenUpdate:function($){if(this._ignoreRemoveToken){return;}if($.getParameter('type')===l.TokenChangeType.Removed){var a1=$.getParameter('removedTokens');var b1=[];var c1=[];for(var j=0;j<a1.length;j++){var d1=a1[j];var e1=d1.getKey();if(this._oSelectedRanges&&this._oSelectedRanges[e1]){c1.push(e1);this._removeToken(e1);}else{b1.push(e1);this._oSelectedItems.remove(e1);this._removeTokenFromTokenizer(e1,this._oSelectedTokens);}}this._removeRangeByKey(c1,false);var f1={tokenKeys:b1,useDefault:false};if(this._hasListeners('tokenRemove')){this._bIgnoreSelectionChange=true;this.fireTokenRemove(f1);this._bIgnoreSelectionChange=false;}else{f1.useDefault=true;}if(f1.useDefault){b1.forEach(function(i){this._changeTableRowSelectionForKey(i,false);}.bind(this));}if(a1.length===1){setTimeout(function(){if(this._oSelectedTokens.getTokens()){var i=this._oSelectedTokens.getTokens().length-1;if(i>=0){this._oSelectedTokens.getTokens()[i].focus();}}}.bind(this));}this._updateTitles();}}.bind(this),ariaLabelledBy:this._oSelectedTokenTitle}).addStyleClass('compVHTokensDiv');this._oRemoveAllSelectedItemsBtn=new f(this.getId()+'-removeSelItems',{type:g.Transparent,icon:v.getIconURI('sys-cancel'),tooltip:this._oRb.getText('VALUEHELPVALDLG_REMOVETOKENS_TOOLTIP'),press:function(){this._oSelectedTokens.destroyTokens();this._removeRangeByKey(Object.keys(this._oSelectedRanges),false);this._oSelectedItems.removeAll();this._bIgnoreSelectionChange=true;if(this._oTable&&this._oTable.clearSelection){this._oTable.clearSelection();}if(this._oTable&&this._oTable.removeSelections){this._oTable.removeSelections();}this._bIgnoreSelectionChange=false;this._updateTitles();}.bind(this),ariaLabelledBy:this._oSelectedTokenTitle}).addStyleClass('compVHRemoveAllBtn');var o=new w(this.getId()+'-selItemsBox',{content:[this._oSelectedTokens,this._oRemoveAllSelectedItemsBtn]}).addStyleClass('compVHTokenizerHLayout');this._oIncludeTokenGrid=new G(this.getId()+'-selItemsGrid',{width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:[this._oSelectedTokenTitle,o]});this._oExcludedTokenTitle=new e(this.getId()+'-excludedTokenTitle').addStyleClass('compVHSelectedItemsText');this._oExcludedTokens=new l(this.getId()+'-excludedTokens',{tokenChange:function(i){if(this._ignoreRemoveToken){return;}if(i.getParameter('type')===l.TokenChangeType.Removed||i.getParameter('type')===l.TokenChangeType.RemovedAll){var $=i.getParameter('removedTokens');var a1=[];if(!$||$.length==0){$=[i.getParameter('token')];}if(!$||$.length==0){$=[i.getParameter('tokens')];}for(var j=0;j<$.length;j++){var b1=$[j];var c1=b1.getKey();if(this._oSelectedRanges&&this._oSelectedRanges[c1]){a1.push(c1);}}this._removeRangeByKey(a1,true);this._updateTitles();}}.bind(this),ariaLabelledBy:this._oExcludedTokenTitle}).addStyleClass('compVHTokensDiv');this._oRemoveAllExcludeItemsBtn=new f(this.getId()+'-removeExclItems',{type:g.Transparent,icon:v.getIconURI('sys-cancel'),tooltip:this._oRb.getText('VALUEHELPVALDLG_REMOVETOKENS_TOOLTIP'),press:function(){this._oExcludedTokens.destroyTokens();this._removeRangeByKey(Object.keys(this._oSelectedRanges),true);this._updateTitles();}.bind(this),ariaLabelledBy:this._oExcludedTokenTitle}).addStyleClass('compVHRemoveAllBtn');var n=new w(this.getId()+'-exclItemsBox',{content:[this._oExcludedTokens,this._oRemoveAllExcludeItemsBtn]}).addStyleClass('compVHTokenizerHLayout');this._oExcludeTokenGrid=new G(this.getId()+'-exclItemsGrid',{width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:[this._oExcludedTokenTitle,n]});this._oTokenizerPanel=new P(this.getId()+'-tokenPanel',{expanded:x.system.desktop,expandable:true,expandAnimation:true,headerText:'',width:'auto',content:[this._oIncludeTokenGrid,this._oExcludeTokenGrid],expand:function(i){this._updateTokenizer();if(i.mParameters.expand&&!(this._oTable instanceof sap.m.Table)){var j=q.sap.domById(this.getId()+'-scrollCont');if(j&&j.scrollTop){j.stop().animate({scrollTop:'1000'},1000);}}}.bind(this)}).addStyleClass('compVHBackgroundTransparent').addStyleClass('compVHTokensPanel').addStyleClass('compValueHelpDialogTokens');if(this._isPhone()){this._oSelectedTokens.addStyleClass('sapMTokenizerMultiLine');this._oExcludedTokens.addStyleClass('sapMTokenizerMultiLine');}this._oTokenizerGrid=new G(this.getId()+'-tokenizerGrid',{width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:this._oTokenizerPanel}).addStyleClass('compVHDarkBackground');return this._oTokenizerGrid;};Y.prototype._addToken2Tokenizer=function(i,j,o,n){var $=(typeof j==='string')?j:'';var a1=this._getTokenByKey(i,o);if(!a1){a1=new T(Z.call(this,i,n),{key:i});o.addToken(a1);this._updateTokenizer();}if(a1){a1.setText(j);a1.setTooltip($);}};Y.prototype._getTokenByKey=function(j,o){var n=o.getTokens();for(var i=0;i<n.length;i++){var $=n[i];if($.getKey()===j){return $;}}return null;};Y.prototype._removeToken=function(i){if(!this._removeTokenFromTokenizer(i,this._oSelectedTokens)){this._removeTokenFromTokenizer(i,this._oExcludedTokens);}};Y.prototype._removeTokenFromTokenizer=function(i,o){var j=this._getTokenByKey(i,o);if(j){this._ignoreRemoveToken=true;o.removeToken(j);j.destroy();this._ignoreRemoveToken=false;this._updateTokenizer();return true;}return false;};Y.prototype._updateTokenizer=function(){var i=false;if(this._oTokenizerPanel){i=this._oTokenizerPanel.getExpanded();}var n=this._oSelectedTokens.getTokens().length;var j=this._oExcludedTokens.getTokens().length;var o=this._oRb.getText('VALUEHELPDLG_SELECTEDITEMS');var $=this._oRb.getText('VALUEHELPDLG_NONESELECTEDITEMS');var a1=o.replace('{0}',n.toString());var b1=this._oRb.getText('VALUEHELPDLG_EXCLUDEDITEMS',j.toString());var c1=n===0?$:a1;if(this._oTokenizerPanel){if(!i){if(this._isPhone()){a1=this._oRb.getText('VALUEHELPDLG_SELECTEDITEMS_SHORT',n.toString());b1=this._oRb.getText('VALUEHELPDLG_EXCLUDEDITEMS_SHORT',j.toString());}c1='';if(n!==0){c1=a1;}if(j!==0){c1+=(n!==0?' / ':'')+b1;}if(c1===''){c1=$;}}else if(n===0&&j!==0){c1=b1;b1='';}this._oTokenizerPanel.setHeaderText(c1);this._oSelectedTokenTitle.setText(c1);}else{this._oSelectedTokenTitle.setText(c1);}this._oRemoveAllSelectedItemsBtn.setEnabled(n!==0);this._oRemoveAllExcludeItemsBtn.setEnabled(j!==0);this._oExcludedTokenTitle.setText(b1);if(n===0&&j!==0){this._oIncludeTokenGrid.addStyleClass('displayNone');if(!this._isPhone()){this._oExcludedTokenTitle.addStyleClass('displayNone');}}else{this._oIncludeTokenGrid.removeStyleClass('displayNone');this._oExcludedTokenTitle.removeStyleClass('displayNone');}if(j===0){this._oExcludeTokenGrid.addStyleClass('displayNone');}else{this._oExcludeTokenGrid.removeStyleClass('displayNone');}};Y.prototype._createNavigationControl=function(){if(!this._isPhone()){this._oTabBar=new m(this.getId()+'-navigation',{upperCase:true,expandable:false,items:[new p(this.getId()+'-itemstable',{visible:true,text:this._oRb.getText('VALUEHELPDLG_ITEMSTABLE'),key:_.DESKTOP_LIST_VIEW}),new p(this.getId()+'-ranges',{visible:true,text:this._oRb.getText('VALUEHELPDLG_RANGES'),key:_.DESKTOP_CONDITIONS_VIEW})],select:function(o){this._updateView(o.getParameters().key);}.bind(this)});this._oTabBar.setLayoutData(new c({shrinkFactor:0}));this._oVBox.addItem(this._oTabBar);}else{this._oSelectItemLI=new S(this.getId()+'-itemstable',{type:X.Navigation,title:this._oRb.getText('VALUEHELPDLG_ITEMSTABLE')}).data('key',_.PHONE_LIST_VIEW);this._oDefineConditionsLI=new S(this.getId()+'-ranges',{type:X.Navigation,title:this._oRb.getText('VALUEHELPDLG_RANGES')}).data('key',_.PHONE_CONDITIONS_VIEW);this._oMainListMenu=new y(this.getId()+'-navigation',{mode:W.None,items:[this._oSelectItemLI,this._oDefineConditionsLI],itemPress:function(o){if(o){this._updateView(o.mParameters.listItem.data('key'));}}.bind(this)});this._oMainListMenu.setLayoutData(new c({shrinkFactor:0}));this._oVBox.addItem(this._oMainListMenu);this._oAdvancedSearchLink=new z(this.getId()+'-advancedSearchLink',{text:this._oRb.getText('VALUEHELPDLG_ADVANCEDSEARCH'),press:function(){this._updateView(_.PHONE_SEARCH_VIEW);}.bind(this)}).addStyleClass('compVHAdvancedSearchLink');this._oAdvancedSearchLink.setLayoutData(new c({shrinkFactor:0}));this._oVBox.addItem(this._oAdvancedSearchLink);}};Y.prototype._updateNavigationControl=function(){var i=!this.getSupportRangesOnly();var j=this.getSupportRangesOnly()||this.getSupportRanges();if(this._oTabBar){var n=this._oTabBar.getItems();n[0].setVisible(i);n[1].setVisible(j);this._oTabBar.setVisible(i&&j);this._updateDlgTitle();}if(this._oMainListMenu){this._oSelectItemLI.setVisible(i);this._oDefineConditionsLI.setVisible(j);}};Y.prototype._removeRangeByKey=function(i,j){var n=i;if(typeof n==='string'){n=[n];}n.forEach(function(i,$,n){var a1=this._oSelectedRanges[i];if(a1.exclude===j){if(!a1._oGrid){delete this._oSelectedRanges[i];if(this._oFilterPanel){var o=a1.exclude?this._oFilterPanel._oExcludeFilterPanel:this._oFilterPanel._oIncludeFilterPanel;if(n.length==1){o.removeCondition(i);}else{o._removeConditionFromMap(i);}}}}},this);if(n.length>1&&this._oFilterPanel){var o=j?this._oFilterPanel._oExcludeFilterPanel:this._oFilterPanel._oIncludeFilterPanel;o._clearConditions();o._fillConditions();}};Y.prototype._createAddRanges=function(){if(!this._oRanges){if(!sap.ui.require('sap/m/P13nFilterPanel')){sap.ui.require(['sap/m/P13nFilterPanel'],function(){this._oRanges=this._createRanges();this._oMainLayout.addItem(this._oRanges);}.bind(this));}else{this._oRanges=this._createRanges();this._oMainLayout.addItem(this._oRanges);}}else{this._oMainLayout.addItem(this._oRanges);}};Y.prototype._createRanges=function(){this._oFilterPanel=new A(this.getId()+'-filterPanel',{maxIncludes:this.getMaxIncludeRanges(),maxExcludes:this.getMaxExcludeRanges(),containerQuery:true,addFilterItem:function(b1){var c1=b1.mParameters;var d1={exclude:c1.filterItemData.getExclude(),keyField:c1.filterItemData.getColumnKey(),operation:c1.filterItemData.getOperation(),value1:c1.filterItemData.getValue1(),value2:c1.filterItemData.getValue2()};this._oSelectedRanges[c1.key]=d1;var e1=this._getKeyFieldByKey(d1.keyField);d1.value1=this._convertValue2Object(d1.value1,e1.type);d1.value2=this._convertValue2Object(d1.value2,e1.type);this._oFilterPanel.addFilterItem(c1.filterItemData);var f1=this._getFormatedRangeTokenText(d1.operation,d1.value1,d1.value2,d1.exclude,d1.keyField);this._addToken2Tokenizer(c1.key,f1,d1.exclude?this._oExcludedTokens:this._oSelectedTokens,d1.keyField);this._updateTokenizer();}.bind(this),removeFilterItem:function(b1){var c1=b1.mParameters;delete this._oSelectedRanges[c1.key];this._removeToken(c1.key);this._updateTokenizer();}.bind(this),updateFilterItem:function(b1){var c1=b1.mParameters;var d1=this._oSelectedRanges[c1.key];d1.exclude=c1.filterItemData.getExclude();d1.keyField=c1.filterItemData.getColumnKey();d1.operation=c1.filterItemData.getOperation();d1.value1=c1.filterItemData.getValue1();d1.value2=c1.filterItemData.getValue2();var e1=this._getKeyFieldByKey(d1.keyField);d1.value1=this._convertValue2Object(d1.value1,e1.type);d1.value2=this._convertValue2Object(d1.value2,e1.type);var f1=this._getFormatedRangeTokenText(d1.operation,d1.value1,d1.value2,d1.exclude,d1.keyField);this._addToken2Tokenizer(c1.key,f1,d1.exclude?this._oExcludedTokens:this._oSelectedTokens,d1.keyField);this._updateTokenizer();}.bind(this)});this._oFilterPanel._oIncludeFilterPanel.setDisplayFormat(this.getDisplayFormat());this._oFilterPanel._oExcludeFilterPanel.setDisplayFormat(this.getDisplayFormat());this._oFilterPanel._oIncludeFilterPanel._fSuggestCallback=this._fSuggestCallback;this._oFilterPanel._oExcludeFilterPanel._fSuggestCallback=this._fSuggestCallback;this._oFilterPanel._oIncludeFilterPanel._sAddRemoveIconTooltipKey='CONDITION';this._oFilterPanel._oExcludeFilterPanel._sAddRemoveIconTooltipKey='CONDITION';var i;if(this._aIncludeRangeOperations){for(i in this._aIncludeRangeOperations){this._oFilterPanel.setIncludeOperations(this._aIncludeRangeOperations[i],i);}}if(this._aExcludeRangeOperations){for(i in this._aExcludeRangeOperations){this._oFilterPanel.setExcludeOperations(this._aExcludeRangeOperations[i],i);}}var o={};if(this._aRangeKeyFields){this._aRangeKeyFields.forEach(function(b1){if(!o[b1.key]){o[b1.key]=0;}o[b1.key]++;this._oFilterPanel.addItem(new E(this.getId()+'-item_'+b1.key+o[b1.key],{columnKey:b1.key,text:b1.label,type:b1.type,maxLength:b1.maxLength,formatSettings:b1.formatSettings,scale:b1.scale,precision:b1.precision,isDefault:b1.isDefault,values:b1.type==='boolean'?this._getBooleanValues():null}));},this);}if(this._oSelectedRanges){for(var j in this._oSelectedRanges){var n=this._oSelectedRanges[j];if(!o[n.keyField]){o[n.keyField]=0;}o[n.keyField]++;var $=new J(this.getId()+'-item_'+n.keyField+o[n.keyField],{key:j,exclude:n.exclude,columnKey:n.keyField,operation:n.operation});$.setValue1(n.value1);$.setValue2(n.value2);this._oFilterPanel.addFilterItem($);}}var a1=new G(this.getId()+'-rangeFieldsGrid',{width:'100%',defaultSpan:'L12 M12 S12',vSpacing:0,hSpacing:0,content:[this._oFilterPanel]});this._sValidationDialogTitle=this._oRb.getText('VALUEHELPVALDLG_TITLE');this._sValidationDialogMessage=this._oRb.getText('VALUEHELPVALDLG_MESSAGE');this._sValidationDialogFieldMessage=this._oRb.getText('VALUEHELPVALDLG_FIELDMESSAGE');return a1;};Y.prototype.suggest=function(i){this._fSuggestCallback=i;if(this._oFilterPanel){if(this._oFilterPanel._oIncludeFilterPanel){this._oFilterPanel._oIncludeFilterPanel._fSuggestCallback=this._fSuggestCallback;}if(this._oFilterPanel._oExcludeFilterPanel){this._oFilterPanel._oExcludeFilterPanel._fSuggestCallback=this._fSuggestCallback;}}};Y.prototype._getBooleanValues=function(){if(!this._aBooleanValues){var o=new B();if(o){this._aBooleanValues=['',o.formatValue(false,'string'),o.formatValue(true,'string')];}}return this._aBooleanValues;};Y.prototype._convertValue2Object=function(i,j){if(!i){return i;}var n=i;if(j==='date'){n=new Date(i);}if(j==='time'){n=new Date(i);}if(j==='datetime'){n=new Date(i);}if(j==='numeric'){n=parseFloat(i);}if(j==='boolean'){if(i===''){n=null;}else{n=i=='true';}}return n;};Y.prototype._getKeyFieldByKey=function(i){var o;if(this._aRangeKeyFields){this._aRangeKeyFields.some(function(j){if(typeof j!=='string'){if(j.key===i){o=j;return true;}}return false;});}return o;};Y.prototype._validateRanges=function(i,j){if(this._oRanges){if(!this._oRanges.getParent()){i();return;}var n=this._oFilterPanel.validateConditions();if(!n){M.show(this._sValidationDialogMessage,{icon:M.Icon.WARNING,title:this._sValidationDialogTitle,actions:[M.Action.OK,M.Action.CANCEL],styleClass:this.$().closest('.sapUiSizeCompact').length?'sapUiSizeCompact':'',onClose:function(o){if(o===M.Action.OK&&i){i();}if(o===M.Action.CANCEL&&j){j();}}});return;}}i();};Y.prototype.setUpdateSingleRowCallback=function(i){this.fSingleRowCallback=i;this._updateNavigationControl();};Y.prototype._createDefaultTable=function(){if(!this._isPhone()){this.setTable(new u(this.getId()+'-table'),true);}else{this.setTable(new t(this.getId()+'-table'),true);this.TableStateSearchData();}};Y.prototype._initializeTable=function(){if(sap.ui.table.Table&&this._oTable instanceof sap.ui.table.Table){this._oTable.setTitle(x.system.desktop?this._sTableTitleNoCount:null);if(this._bTableCreatedInternal){this._oTable.setSelectionBehavior(sap.ui.table.SelectionBehavior.Row);}this._oTable.setSelectionMode(this.getSupportMultiselect()?sap.ui.table.SelectionMode.MultiToggle:sap.ui.table.SelectionMode.Single);this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));this._oTable.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);this._oTable.setMinAutoRowCount(x.system.desktop?5:4);this._oTable.attachRowSelectionChange(function(o){if(this._bIgnoreSelectionChange||!o.getParameter('userInteraction')){return;}var $={tableSelectionParams:o.mParameters,updateTokens:[],useDefault:false};if(this._hasListeners('selectionChange')){this._bIgnoreSelectionChange=true;this.fireSelectionChange($);this._bIgnoreSelectionChange=false;$.updateTokens.forEach(function(h1){this._addRemoveTokenByKey(h1.sKey,h1.oRow,h1.bSelected);}.bind(this));}else{$.useDefault=true;}if($.useDefault){var a1=o.getSource();var b1=o.getParameter('rowIndices');var i,n=b1.length;var c1;var d1;var e1;for(i=0;i<n;i++){c1=b1[i];d1=a1.getContextByIndex(c1);e1=d1?d1.getObject():null;if(!e1){M.show(this._oRb.getText('VALUEHELPDLG_SELECTIONFAILED'),{icon:M.Icon.ERROR,title:this._oRb.getText('VALUEHELPDLG_SELECTIONFAILEDTITLE'),actions:[M.Action.OK],styleClass:this.$().closest('.sapUiSizeCompact').length?'sapUiSizeCompact':''});return;}}var f1=false;if(a1.getBinding('rows').aKeys){f1=true;}for(i=0;i<n;i++){c1=b1[i];d1=a1.getContextByIndex(c1);e1=d1?d1.getObject():null;if(e1){var g1;if(f1){g1=d1.sPath.substring(1);}else{g1=e1[this.getKey()];}this._addRemoveTokenByKey(g1,e1,a1.isIndexSelected(c1));}}}this._updateTitles();if(!this.getSupportMultiselect()){this._bIgnoreSelectionChange=true;this._onCloseAndTakeOverValues();}}.bind(this));this._oTable.addStyleClass('compVHMainTable');if(!this._oTable.getParent()||!this._oTable.getParent().isA('sap.ui.comp.smarttable.SmartTable')){this._oTable.bindAggregation('columns','columns>/cols',function(i,o){var n,$;if(o.getProperty('type')==='string'){$={path:o.getProperty('template')};}if(o.getProperty('type')==='boolean'){n=new K(i+'-control',{enabled:false,selected:{path:o.getProperty('template')}});}else{n=new e(i+'-control',{wrapping:false,text:{path:o.getProperty('template'),type:o.getProperty('oType')},tooltip:$});}if(this._oTable instanceof sap.ui.table.AnalyticalTable){return new sap.ui.table.AnalyticalColumn(i,{label:'{columns>label}',tooltip:'{columns>tooltip}',template:n,width:'{columns>width}',hAlign:n instanceof sap.m.CheckBox?sap.ui.core.HorizontalAlign.Center:sap.ui.core.HorizontalAlign.Begin,filterProperty:o.getProperty('filter')});}else{return new U(i,{label:'{columns>label}',tooltip:'{columns>tooltip}',template:n,width:'{columns>width}',hAlign:n instanceof sap.m.CheckBox?sap.ui.core.HorizontalAlign.Center:sap.ui.core.HorizontalAlign.Begin,sortProperty:o.getProperty('sort'),sorted:o.getProperty('sorted'),sortOrder:o.getProperty('sortOrder'),filterProperty:o.getProperty('filter')});}}.bind(this));}}else{this._oTable.setMode(this.getSupportMultiselect()?W.MultiSelect:W.SingleSelectLeft);this._oTable.setGrowing(true);this._oTable.attachSelectionChange(function(o){if(this._bIgnoreSelectionChange){return;}var $=o.mParameters;var a1={tableSelectionParams:o.mParameters,updateTokens:[],useDefault:false};if(this._hasListeners('selectionChange')){this._bIgnoreSelectionChange=true;this.fireSelectionChange(a1);this._bIgnoreSelectionChange=false;a1.updateTokens.forEach(function(g1){this._addRemoveTokenByKey(g1.sKey,g1.oRow,g1.bSelected);}.bind(this));}else{a1.useDefault=true;}if(a1.useDefault){var b1=$.selected;var i,n=$.listItems.length;for(i=0;i<n;i++){var c1=$.listItems[i];var d1=c1.getBindingContext();var e1=d1?d1.getObject():null;if(e1){var f1=e1[this.getKey()];this._addRemoveTokenByKey(f1,e1,b1);}}}if(!this.getSupportMultiselect()){this._onCloseAndTakeOverValues();}}.bind(this));if(!this._oTable.getParent()||!this._oTable.getParent().isA('sap.ui.comp.smarttable.SmartTable')){var j=0;this._oTable.bindAggregation('columns','columns>/cols',function(i,o){var n=o.getProperty('label');var $=this._oTable.getColumns().length>=2;j++;return new h(this._oTable.getId()+'-column'+j,{header:new L(this._oTable.getId()+'-column'+j+'-label',{text:n}),demandPopin:$,minScreenWidth:$?(this._oTable.getColumns().length+1)*10+'rem':'1px'});}.bind(this));}}};Y.prototype._addRemoveTokenByKey=function(i,o,j){i=decodeURIComponent(i);if(j){this._oSelectedItems.add(i,o);this._addToken2Tokenizer(i,this._getFormatedTokenText(i),this._oSelectedTokens);}else{this._oSelectedItems.remove(i);this._removeTokenFromTokenizer(i,this._oSelectedTokens);}};Y.prototype._onCloseAndTakeOverValues=function(){var j=this;var n=function(){var o;var $=j._oSelectedItems.getSelectedItemsTokenArray(j.getKey(),j.getDescriptionKey(),j.getTokenDisplayBehaviour());if(j._oSelectedRanges){var i=0;for(var a1 in j._oSelectedRanges){o=j._oSelectedRanges[a1];var b1=o.tokenValue;if(!b1){b1=j._getFormatedRangeTokenText(o.operation,o.value1,o.value2,o.exclude,o.keyField);}if(!o._oGrid||o._oGrid.select.getSelected()){var c1=new T({key:'range_'+i}).data('range',{'exclude':o.exclude,'operation':o.operation,'keyField':o.keyField,'value1':o.value1,'value2':o.value2});c1.setText(b1);c1.setTooltip(typeof b1==='string'?b1:null);$.push(c1);i++;}}}j.fireOk({'tokens':$});};this._validateRanges(n);};Y.prototype._onCancel=function(){this.fireCancel();};Y.prototype._onGo=function(){this._oFilterBar.search();};Y.prototype._onClear=function(){this._oFilterBar.clear();};Y.prototype._updateTitles=function(){this._updateTableTitle();this._updateTokenizer();};Y.prototype._updateDlgTitle=function(){var i='';var j;if(this._oTitle){if(this._oTabBar&&!this._oTabBar.getVisible()&&!this.getFilterMode()){if(this._oTabBar.getSelectedKey()===_.DESKTOP_LIST_VIEW){i='VALUEHELPDLG_TITLE';}else if(this._oTabBar.getSelectedKey()===_.DESKTOP_CONDITIONS_VIEW){if(this.getMaxIncludeRanges()==='1'&&this.getMaxExcludeRanges()==='0'){i='VALUEHELPDLG_SINGLECONDITION_TITLE';}else{i='VALUEHELPDLG_RANGESTITLE';}}}else if(this._isPhone()&&!this.getFilterMode()){switch(this._currentViewMode){case _.PHONE_MAIN_VIEW:i='';break;case _.PHONE_LIST_VIEW:i='VALUEHELPDLG_ITEMSTABLE';break;case _.PHONE_SEARCH_VIEW:i='VALUEHELPDLG_ADVANCEDSEARCH';break;case _.PHONE_CONDITIONS_VIEW:if(this.getMaxIncludeRanges()==='1'&&this.getMaxExcludeRanges()==='0'){i='VALUEHELPDLG_SINGLECONDITION_TITLE';}else{i='VALUEHELPDLG_RANGES';}break;default:break;}}if(!j){j=this.getTitle();}if(i){j=this._oRb.getText(i,j);}if(j){this._oTitle.setText(j);}}};Y.prototype._updateTableTitle=function(){if(!this._oTable){return;}var i=0;this.oRows=this._oTable.getBinding('rows');var j=false;if(j&&this.getModel()&&this.getModel().isCountSupported){j=this.getModel().isCountSupported();}if(j){if(this.oRows){i=this.oRows.getLength();}this._setTableTitle(this._sTableTitle1.replace('{0}',i));}else{this._setTableTitle(this._sTableTitleNoCount);}};Y.prototype._setTableTitle=function(i){if(sap.ui.Device.system.desktop&&!(this._oTable instanceof sap.m.Table)){if(this._oTable.getTitle()){this._oTable.getTitle().setText(i);}else{this._oTable.setTitle(i);}}};Y.prototype.onAfterRendering=function(){D.prototype.onAfterRendering.apply(this);if(this._oTable){this._updateTitles();}if(!this._isPhone()&&this.getContentHeight()===''){if(this.getSupportRangesOnly()&&(this.getMaxExcludeRanges()==='-1'||this.getMaxIncludeRanges()==='-1')){this.setContentHeight('70%');}else{var o=this.getDomRef('scroll');var i=o.clientHeight;this.setContentHeight(i+'px');}if(sap.ui.table.Table&&this._oTable&&this._oTable instanceof sap.ui.table.Table){this._oTable.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Auto);}}};Y.prototype._getDialogOffset=function(i){var j=i||this._$Window.width();var n={small:600,large:1024};var o=function($){var a1=parseInt(window.getComputedStyle(document.body).fontSize,10);return($*a1)*2;};var $=1;if(j>n.small&&j<n.large){$=2;}else if(j>=n.large){$=2;}return{top:o($),left:o($)};};Y.prototype.exit=function(){D.prototype.exit.apply(this);var i=function(o){if(o&&o.destroy){o.destroy();}return null;};this._oTokenizerGrid=i(this._oTokenizerGrid);this._oRanges=i(this._oRanges);this._oFilterPanel=i(this._oFilterPanel);if(this._bTableCreatedInternal){this._oTable=i(this._oTable);}this._oTable=null;this.theTable=null;this._oTabBar=i(this._oTabBar);this._oMainListMenu=i(this._oMainListMenu);this._oVBox=i(this._oVBox);this._oVarManagment=i(this._oVarManagment);this._aRangeKeyFields=i(this._aRangeKeyFields);this._aIncludeRangeOperations=i(this._aIncludeRangeOperations);this._aExcludeRangeOperations=i(this._aExcludeRangeOperations);if(this._oFilterBar){this._oFilterBar.detachInitialise(this._handleFilterBarInitialize);this._oFilterBar=i(this._oFilterBar);}this._oRb=i(this._oRb);this._sTableTitle1=i(this._sTableTitle1);this._sTableTitle2=i(this._sTableTitle2);this._sTableTitleNoCount=i(this._sTableTitleNoCount);this._sValidationDialogTitle=i(this._sValidationDialogTitle);this._sValidationDialogMessage=i(this._sValidationDialogMessage);this._sValidationDialogFieldMessage=i(this._sValidationDialogFieldMessage);this._oSelectedItems=i(this._oSelectedItems);this._oSelectedRanges=i(this._oSelectedRanges);this._oButtonOk=i(this._oButtonOk);this._oButtonCancel=i(this._oButtonCancel);if(this._oButtonGo){this._oButtonGo=i(this._oButtonGo);}if(this._oButtonClear){this._oButtonClear=i(this._oButtonClear);}if(this._oColSearchBox){this._oColSearchBox=i(this._oColSearchBox);}};Y.prototype.setRangeKeyFields=function(i){this._aRangeKeyFields=i;};Y.prototype.getRangeKeyFields=function(){return this._aRangeKeyFields;};Y.prototype.setIncludeRangeOperations=function(o,i){i=i||'default';this._aIncludeRangeOperations[i]=o;if(this._oFilterPanel){this._oFilterPanel.setIncludeOperations(this._aIncludeRangeOperations[i],i);}};Y.prototype.setExcludeRangeOperations=function(o,i){i=i||'default';this._aExcludeRangeOperations[i]=o;if(this._oFilterPanel){this._oFilterPanel.setExcludeOperations(this._aExcludeRangeOperations[i],i);}};Y.prototype._getFormatedTokenText=function(i){var o=this._oSelectedItems.getItem(i);var j=o[this.getDescriptionKey()];var n=o[this.getKey()];if(j===undefined){if(typeof o==='string'){j=o;}else{j=i;}}else{j=F.getFormattedExpressionFromDisplayBehaviour(this.getTokenDisplayBehaviour()?this.getTokenDisplayBehaviour():sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionAndId,n,j);}return j;};Y.prototype._getFormatedRangeTokenText=function(o,i,j,n,$){var a1='';var b1;var c1=this._getKeyFieldByKey($);if(c1){switch(c1.type){case'numc':b1={format:function(f1){return this.oType.formatValue(f1,'string');},oType:new Q({},c1.formatSettings)};break;case'numeric':var d1;if(c1.precision||c1.scale){d1={};if(c1.precision){d1['maxIntegerDigits']=parseInt(c1.precision,10);}if(c1.scale){d1['maxFractionDigits']=parseInt(c1.scale,10);}}b1=N.getFloatInstance(d1);break;case'date':b1=a.getDateInstance(q.extend({},c1.formatSettings,{strictParsing:true}));i=new Date(i);j=j!==''?new Date(j):null;break;case'time':b1=a.getTimeInstance(q.extend({},c1.formatSettings,{strictParsing:true}));i=new Date(i);j=j!==''?new Date(j):null;break;case'datetime':b1=a.getDateTimeInstance(q.extend({},c1.formatSettings,{strictParsing:true}));i=new Date(i);j=j!==''?new Date(j):null;break;case'boolean':var e1=this._getBooleanValues();i=e1[i?2:1];j=e1[j?2:1];break;case'stringdate':if(sap.m.P13nConditionStringDateFormatter){b1=new sap.m.P13nConditionStringDateFormatter(q.extend({},c1.formatSettings,{strictParsing:true}));}break;default:break;}if(b1){if(i){i=b1.format(i);}if(j){j=b1.format(j);}}}if(i!==''){switch(o){case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Initial:a1=\"=''\";break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ:a1='='+i;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GT:a1='>'+i;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GE:a1='>='+i;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LT:a1='<'+i;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LE:a1='<='+i;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains:a1='*'+i+'*';break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith:a1=i+'*';break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith:a1='*'+i;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT:if(j!==''){a1=i+'...'+j;break;}break;default:break;}}if(n&&a1!==''){a1='!('+a1+')';}if(this._aRangeKeyFields&&this._aRangeKeyFields.length>1&&c1&&c1.label&&a1!==''){a1=c1.label+': '+a1;}return a1;};Y.prototype._isPhone=function(){return x.system.phone;};Y.prototype._hasListeners=function(i){if(this._bTableCreatedInternal){return false;}return this.hasListeners(i);};Y.prototype._rotateSelectionButtonIcon=function(i){if(!x.system.phone){var o=sap.ui.getCore().byId(this.oSelectionButton.$('img')[0].id);if(i){o.addStyleClass('sapUiVHImageExpand');}else{o.removeStyleClass('sapUiVHImageExpand');}}};function Z(i,j){if(!j){j=this.getKey();}i=i.replace(/[^a-zA-Z0-9]/g,'');var n=j?j+'-'+i:i;if(!this._oTokenIdCount[n]){this._oTokenIdCount[n]=0;}this._oTokenIdCount[n]++;return this.getId()+'-token-'+n+'_'+this._oTokenIdCount[n];}return Y;},true);\n",
	"sap/ui/comp/variants/EditableVariantItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/m/ColumnListItem','sap/m/ColumnListItemRenderer','sap/ui/comp/library'],function(q,C,a,l){'use strict';var E=C.extend('sap.ui.comp.variants.EditableVariantItem',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},global:{type:'boolean',group:'Misc',defaultValue:null},lifecyclePackage:{type:'string',group:'Misc',defaultValue:null},lifecycleTransportId:{type:'string',group:'Misc',defaultValue:null},namespace:{type:'string',group:'Misc',defaultValue:null},readOnly:{type:'boolean',group:'Misc',defaultValue:false},accessOptions:{type:'string',group:'Misc',defaultValue:null,deprecated:true},labelReadOnly:{type:'boolean',group:'Misc',defaultValue:false},author:{type:'string',group:'Misc',defaultValue:null},favorite:{type:'boolean',group:'Misc',defaultValue:false}}},renderer:a.render});return E;},true);\n",
	"sap/ui/comp/variants/VariantItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Item'],function(q,l,I){'use strict';var V=I.extend('sap.ui.comp.variants.VariantItem',{metadata:{library:'sap.ui.comp',properties:{executeOnSelection:{type:'boolean',group:'Misc',defaultValue:false},readOnly:{type:'boolean',group:'Misc',defaultValue:false},lifecycleTransportId:{type:'string',group:'Misc',defaultValue:null},global:{type:'boolean',group:'Misc',defaultValue:null},lifecyclePackage:{type:'string',group:'Misc',defaultValue:null},namespace:{type:'string',group:'Misc',defaultValue:null},accessOptions:{type:'string',group:'Misc',defaultValue:null,deprecated:true},labelReadOnly:{type:'boolean',group:'Misc',defaultValue:false},author:{type:'string',group:'Misc',defaultValue:null},favorite:{type:'boolean',group:'Misc',defaultValue:false}}}});return V;},true);\n",
	"sap/ui/comp/variants/VariantManagement.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n\t\t(c) Copyright 2009-2018 SAP SE. All rights reserved\n\t\n */\nsap.ui.define(['jquery.sap.global','sap/ui/Device','sap/ui/model/json/JSONModel','sap/m/VBox','sap/m/SearchField','sap/m/RadioButton','sap/ui/core/TextAlign','sap/m/ScreenSize','sap/m/PopinDisplay','sap/m/Column','sap/m/Text','sap/m/Bar','sap/m/Table','sap/m/Page','sap/m/PlacementType','sap/m/ButtonType','sap/m/OverflowToolbar','sap/m/OverflowToolbarLayoutData','sap/m/Toolbar','sap/m/ToolbarSpacer','sap/m/Button','sap/m/CheckBox','sap/m/Dialog','sap/m/Input','sap/m/Title','sap/m/Label','sap/m/ResponsivePopover','sap/m/SelectList','sap/m/ObjectIdentifier','sap/ui/comp/library','./EditableVariantItem','./VariantItem','sap/ui/core/InvisibleText','sap/ui/core/Control','sap/ui/core/Icon','sap/ui/core/Item','sap/ui/core/ValueState','sap/ui/core/VerticalAlign','sap/ui/layout/HorizontalLayout','sap/ui/layout/Grid'],function(q,D,J,V,S,R,T,a,P,C,b,B,c,d,f,g,O,h,j,k,l,m,n,I,o,L,p,r,s,t,E,u,v,w,x,y,z,A,H,G){'use strict';var F=w.extend('sap.ui.comp.variants.VariantManagement',{metadata:{library:'sap.ui.comp',designtime:'sap/ui/comp/designtime/variants/VariantManagement.designtime',properties:{initialSelectionKey:{type:'string',group:'Misc',defaultValue:null},enabled:{type:'boolean',group:'Misc',defaultValue:true},defaultVariantKey:{type:'string',group:'Misc',defaultValue:null},selectionKey:{type:'string',group:'Misc',defaultValue:null},showCreateTile:{type:'boolean',group:'Misc',defaultValue:false},showExecuteOnSelection:{type:'boolean',group:'Misc',defaultValue:false},showShare:{type:'boolean',group:'Misc',defaultValue:false},showSetAsDefault:{type:'boolean',group:'Misc',defaultValue:true},lifecycleSupport:{type:'boolean',group:'Misc',defaultValue:false},standardItemText:{type:'string',group:'Misc',defaultValue:null},industrySolutionMode:{type:'boolean',group:'Misc',defaultValue:false},useFavorites:{type:'boolean',group:'Misc',defaultValue:false},inErrorState:{type:'boolean',group:'Misc',defaultValue:false}},defaultAggregation:'items',aggregations:{items:{type:'sap.ui.core.Item',multiple:true,singularName:'item',deprecated:true},variantItems:{type:'sap.ui.comp.variants.VariantItem',multiple:true,singularName:'variantItem'}},events:{save:{parameters:{name:{type:'string'},overwrite:{type:'boolean'},key:{type:'string'},exe:{type:'boolean'},def:{type:'boolean'},global:{type:'boolean'},lifecyclePackage:{type:'string'},lifecycleTransportId:{type:'string'}}},manage:{parameters:{renamed:{type:'string[]'},deleted:{type:'string[]'},exe:{type:'object[]'},def:{type:'boolean'}}},select:{parameters:{key:{type:'string'}}}}},renderer:function(e,i){e.write('<div ');e.writeControlData(i);e.addClass('sapUiCompVarMngmt');e.writeClasses();var K=i.oResourceBundle.getText('VARIANT_MANAGEMENT_TRIGGER_TT');e.write(\" title='\"+K+\"'\");e.write('>');e.renderControl(i.oVariantLayout);e.write('</div>');}});F.STANDARD_NAME=sap.ui.comp.STANDARD_VARIANT_NAME;F.MAX_NAME_LEN=100;F.FAV_COLUMN=0;F.NAME_COLUMN=1;F.SHARE_COLUMN=2;F.DEF_COLUMN=3;F.EXEC_COLUMN=4;F.AUTHOR_COLUMN=5;F.prototype.init=function(){var e=this;this.STANDARDVARIANTKEY='*standard*';this.setStandardVariantKey(this.STANDARDVARIANTKEY);this.aRemovedVariants=[];this.aRenamedVariants=[];this.aRemovedVariantTransports=[];this.aExeVariants=[];this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.lastSelectedVariantKey=this._sStandardVariantKey;this.bVariantItemMode=false;this.oSelectedItem=null;this.sNewDefaultKey='';this.bManagementTableInitialized=false;this.sTransport=null;this.sPackage=null;this.aEvents=[];this.bEventRunning=false;this.oVariantSelectionPage=null;this.bManualVariantKey=false;this.bFireSelect=false;this.bExecuteOnSelectForStandardViaXML=false;this.bExecuteOnSelectForStandardByUser=null;this.bSupportExecuteOnSelectOnSandardVariant=false;this._bInnerControlsCreated=false;this._isVendorLayer=false;this.oModel=new J({enabled:false,selectedVariant:''});this.setModel(this.oModel,'save_enablement');this.oVariantInvisbletext=new v({text:{parts:[{path:'save_enablement>/selectedVariant'},{path:'save_enablement>/enabled'}],formatter:function(i,K){if(K){i=e.oResourceBundle.getText('VARIANT_MANAGEMENT_SEL_VARIANT_MOD',[i]);}else{i=e.oResourceBundle.getText('VARIANT_MANAGEMENT_SEL_VARIANT',[i]);}return i;}}});this.oVariantText=new o(this.getId()+'-text',{text:'{save_enablement>/selectedVariant}'});this._setStandardText();this.oVariantText.addStyleClass('sapUICompVarMngmtClickable');this.oVariantText.addStyleClass('sapUICompVarMngmtTitle');this.oVariantText.addStyleClass('sapMTitleStyleH4');if(D.system.phone){this.oVariantText.addStyleClass('sapUICompVarMngmtTextPhoneMaxWidth');}else{this.oVariantText.addStyleClass('sapUICompVarMngmtTextMaxWidth');}this.oVariantModifiedText=new o(this.getId()+'-modified',{visible:'{save_enablement>/enabled}'});this.oVariantModifiedText.setText('*');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtClickable');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtModified');this.oVariantModifiedText.addStyleClass('sapMTitleStyleH4');this.oVariantPopoverTrigger=new l(this.getId()+'-trigger',{icon:'sap-icon://slim-arrow-down',type:g.Transparent});this.oVariantPopoverTrigger.addAriaLabelledBy(this.oVariantInvisbletext);this.oVariantPopoverTrigger.addStyleClass('sapUICompVarMngmtTriggerBtn');this.oVariantPopoverTrigger.addStyleClass('sapMTitleStyleH4');this.oVariantLayout=new H({content:[this.oVariantText,this.oVariantModifiedText,this.oVariantPopoverTrigger,this.oVariantInvisbletext]});this.oVariantLayout.addStyleClass('sapUICompVarMngmtLayout');this.addDependent(this.oVariantLayout);};F.prototype._columnVisibilityManagementTable=function(e,i){if(!this.bManagementTableInitialized){return;}if(this.oManagementTable){var K=this.oManagementTable.getColumns();if(K&&K.length>=e){K[e].setVisible(i);}}};F.prototype.setUseFavorites=function(e){this.setProperty('useFavorites',e);this._columnVisibilityManagementTable(F.FAV_COLUMN,e);};F.prototype.setShowShare=function(e){this.setProperty('showShare',e);this._columnVisibilityManagementTable(F.SHARE_COLUMN,e);};F.prototype.setShowSetAsDefault=function(e){this.setProperty('showSetAsDefault',e);this._columnVisibilityManagementTable(F.DEF_COLUMN,e);};F.prototype.setShowExecuteOnSelection=function(e){this.setProperty('showExecuteOnSelection',e);this._columnVisibilityManagementTable(F.EXEC_COLUMN,e);};F.prototype.setStandardItemText=function(N){this.setProperty('standardItemText',N);var i=this._getSelectedItem();if(!i||(i.getKey()===this.getStandardVariantKey())){this.oModel.setProperty('/selectedVariant',N);}};F.prototype._triggerSave=function(){var e=this._createEvent('variantSaveAs',this._handleVariantSaveAs);this._addEvent(e);};F.prototype._checkNameValidity=function(i,e,M){var K=false;if(M&&this._getVariantNamesAndKeys){var N=this._getVariantNamesAndKeys();var Q=M.getItems();Q.forEach(function(U){var W=U.getCells()[F.NAME_COLUMN];var X=U.getKey();if(W.getValue&&N.hasOwnProperty(W.getValue())&&(N[W.getValue()]!==X)){W.setValueState(z.Error);W.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_DUPLICATE'));K=true;}}.bind(this));}return K;};F.prototype._checkVariantNameConstraints=function(i,e,M){var K=false;if(!i){return;}var N=i.getValue().trim();if(!this._checkIsDuplicate(i,N,this.oManagementTable)){if(N===''){i.setValueState(z.Error);i.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));}else if(N.indexOf('{')>-1){i.setValueState(z.Error);i.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_NOT_ALLOWED_CHAR',['{']));}else if(N.length>F.MAX_NAME_LEN){i.setValueState(z.Error);i.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_MAX_LEN',[F.MAX_NAME_LEN]));}else{i.setValueState(z.None);i.setValueStateText(null);}}if(e){if(i.getValueState()!==z.Error){this._checkIsDuplicate(i,N,M);}if(M&&this._getVariantNamesAndKeys){K=this._checkNameValidity(i,N,M);}if(K||(i.getValueState()===z.Error)||this._anyInErrorState(M)){e.setEnabled(false);}else{e.setEnabled(true);}}};F.prototype._anyInErrorState=function(M,e){var K,N,i;if(M){K=M.getItems();if(K){for(i=0;i<K.length;i++){N=K[i].getCells()[F.NAME_COLUMN];if(e&&(e===N)){continue;}if(N&&N.getValueState&&(N.getValueState()===z.Error)){if(this._checkIsDuplicate(N,N.getValue(),M)){return true;}}}}}return false;};F.prototype._checkIsDuplicate=function(i,e,M){var K=this._isDuplicate(i,e,M);if(K){i.setValueState(z.Error);i.setValueStateText(this.oResourceBundle.getText(e?'VARIANT_MANAGEMENT_ERROR_DUPLICATE':'VARIANT_MANAGEMENT_ERROR_EMPTY'));}else{i.setValueState(z.None);i.setValueStateText(null);}return K;};F.prototype._isDuplicate=function(i,e,M){if(M){return this._isDuplicateManaged(i,e,M);}else{return this._isDuplicateSaveAs(e);}};F.prototype._isDuplicateManaged=function(e,K,M){var N,Q,i;if(M){N=M.getItems();if(N&&(N.length>0)){for(i=0;i<N.length;i++){Q=N[i].getCells()[F.NAME_COLUMN];if(Q===e){continue;}if(Q){if(Q.getValue&&(K===Q.getValue().trim())){return true;}else if(Q.getText&&(K===Q.getText().trim())){return true;}else if(Q.getTitle&&(K===Q.getTitle().trim())){return true;}}}}else{if(this._isIndustrySolutionModeAndVendorLayer()&&this.bManualVariantKey){return false;}}}return false;};F.prototype._isDuplicateSaveAs=function(e){var i=e.trim();if(!i){return true;}var K=this._determineStandardVariantName();if(K===i){if(this._isIndustrySolutionModeAndVendorLayer()&&this.bManualVariantKey){return false;}return true;}var M=this._getItems();for(var N=0;N<M.length;N++){K=M[N].getText().trim();if(K===i){return true;}}return false;};F.prototype._createSaveDialog=function(){var e=this;var i=this.oInputName?this.oInputName.getValue():'';this.oSaveSave.setEnabled(!this._isDuplicate(this.oInputName,i));if(!this.oSaveDialog){this.oSaveDialog=new n(this.getId()+'-savedialog',{title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEDIALOG'),beginButton:this.oSaveSave,endButton:new l(this.getId()+'-variantcancel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CANCEL'),press:function(){e._bSaveCanceled=true;e.oSaveDialog.close();}}),content:[this.oLabelName,this.oInputName,this.oLabelKey,this.oInputKey,this.oSaveDialogOptionsGrid],stretch:D.system.phone});this.oSaveDialog.setParent(this);this.oSaveDialog.addStyleClass('sapUiPopupWithPadding');this.oSaveDialog.addStyleClass('sapUiCompVarMngmtSaveDialog');}};F.prototype._createManagementDialog=function(){var e=this;if(!this.oManagementDialog){this.oManagementDialog=new n(this.getId()+'-managementdialog',{beginButton:this.oManagementSave,endButton:new l(this.getId()+'-managementcancel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CANCEL'),press:function(){e.aRemovedVariants=[];e.oManagementDialog.close();}}),content:[this.oManagementTable],stretch:D.system.phone,afterClose:function(){if(e.bFireSelect==true){e.bFireSelect=false;setTimeout(function(){e._fireSelectAsync();},0);}}});this.oManagementDialog.setParent(this);this.oManagementDialog.setTitle(this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGEDIALOG'));var i=new B();this.oManageDialogSearchField=new S();this.oManageDialogSearchField.attachLiveChange(function(K){this._triggerSearchInManageDialog(K);}.bind(this));i.addContentRight(this.oManageDialogSearchField);this.oManagementDialog.setSubHeader(i);}};F.prototype._handleArrowUpDown=function(i,K){var M=null;var N=this;i.attachBrowserEvent('keydown',function(e){if(e.which===38){if(N.oVariantSelectionPage.getShowSubHeader()){M=document.activeElement.id;}}});i.attachBrowserEvent('keyup',function(e){if(e.which===38){if(M&&(M===document.activeElement.id)){var Q=i.getItems();if(Q&&Q.length>0){var U=sap.ui.getCore().byId(M);if(U===Q[0]){K.focus();}}}M=null;}});K.attachBrowserEvent('keyup',function(e){if(e.which===40){var Q=i.getItems();if(Q&&Q.length>0){Q[0].focus();}}});};F.prototype._triggerSearch=function(e){if(!e){return;}var i=e.getParameters();if(!i){return;}this._restoreCompleteList();var K=i.newValue?i.newValue:'';this._triggerSearchByValue(K.toLowerCase());};F.prototype._triggerSearchByValue=function(e){var i,K,M;this.oSelectedVariantItemKey=null;M=this.oVariantList.getItemByKey(this.getStandardVariantKey());if(M&&(M.getText().toLowerCase().indexOf(e)<0)){if(this.getSelectionKey()===K){this.oSelectedVariantItemKey=K;}this.oVariantList.removeItem(M);M.destroy();}var N=this._getItems();for(var Q=0;Q<N.length;Q++){i=N[Q].getText();if(i.toLowerCase().indexOf(e)<0){K=N[Q].getKey();M=this.oVariantList.getItemByKey(K);if(M){if(this.getSelectionKey()===K){this.oSelectedVariantItemKey=K;}this.oVariantList.removeItem(M);M.destroy();}}}};F.prototype._triggerSearchInManageDialog=function(e){var i,N,K='',M,Q;if(!e){return;}var U=e.getParameters();if(!U){return;}i=U.newValue?U.newValue.toLowerCase():'';if(this.oManagementTable){var W=this.oManagementTable.getItems();W.forEach(function(X){N=true;K='';Q=X.getCells();if(Q&&Q[F.NAME_COLUMN]){M=Q[F.NAME_COLUMN];if(M.getTitle){K=M.getTitle();}else if(M.getValue){K=M.getValue();}if(K.toLowerCase().indexOf(i)>=0){N=false;}}if(N&&Q&&Q[F.AUTHOR_COLUMN]){M=Q[F.AUTHOR_COLUMN];if(M.getText){K=M.getText();if(K.toLowerCase().indexOf(i)>=0){N=false;}}}X.setVisible(!N);});}};F.prototype._considerItem=function(i,e){if(this.getUseFavorites()&&!i){if(this._isIndustrySolutionModeAndVendorLayer()){return true;}if(e.getFavorite&&e.getFavorite()){return true;}return false;}return true;};F.prototype._restoreCompleteList=function(i){var e,K,M,N;this.oVariantList.destroyItems();N=this.oVariantList.getItemByKey(this.getStandardVariantKey());if(!N){N=this._createStandardVariantListItem();if(N){if(this._considerItem(i,N)){this.oVariantList.insertItem(N,0);}else{N.destroy();}}}if(N){if(this.oSelectedVariantItemKey){if(this.oSelectedVariantItemKey===N.getKey()){this.oVariantList.setSelectedItem(N);this.oSelectedVariantItemKey=null;}}else{if(this.getSelectionKey()==N.getKey()||this.getSelectionKey()===null){this.oVariantList.setSelectedItem(N);}}}M=this._getItems();M.sort(this._compareItems);for(e=0;e<M.length;e++){K=M[e];if(!this._considerItem(i,K)){continue;}if(K.getKey()===this.getStandardVariantKey()){continue;}N=this.oVariantList.getItemByKey(K.getKey());if(!N){N=this._createVariantListItem(K,e);this.oVariantList.addItem(N);}if(this.oSelectedVariantItemKey){if(this.oSelectedVariantItemKey===N.getKey()){this.oVariantList.setSelectedItem(N);this.oSelectedVariantItemKey=null;}}else{if(this.getSelectionKey()==N.getKey()){this.oVariantList.setSelectedItem(N);}}}};F.prototype._determineStandardVariantName=function(){var e=this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD');if(this.bVariantItemMode===false){e=this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT');}if(this.getStandardVariantKey()===this.STANDARDVARIANTKEY){if(this.getStandardItemText()!==null&&this.getStandardItemText()!=''){e=this.getStandardItemText();}}return e;};F.prototype._createStandardVariantListItem=function(){var i,e=null;var K=this._determineStandardVariantName();if((this.bVariantItemMode===true)||(this.bVariantItemMode===false&&(this.getSelectionKey()===this.getStandardVariantKey()||this.getSelectionKey()===null))){e=new u(this.oVariantPopoverTrigger.getId()+'-item-standard',{key:this.getStandardVariantKey(),readOnly:true,executeOnSelection:this.getExecuteOnSelectForStandardVariant()});e.setText(K);if(this._isIndustrySolutionModeAndVendorLayer()&&this.bVariantItemMode){e.setGlobal(true);e.setReadOnly(false);}if(this.getStandardVariantKey()!==this.STANDARDVARIANTKEY){i=this.getItemByKey(this.getStandardVariantKey());if(i){this._setVariantListItemProperties(i,e);if(i.getFavorite&&!i.getFavorite()&&(this.getCurrentVariantId()===this.getStandardVariantKey())){e.setFavorite(true);}}}else{e.setAuthor('SAP');e.setReadOnly(true);e.setFavorite(this.getStandardFavorite());}}return e;};F.prototype._createVariantListItem=function(i,e){var K=new u(this.oVariantPopoverTrigger.getId()+'-item-'+e,{key:i.getKey(),text:i.getText()});this._setVariantListItemProperties(i,K);return K;};F.prototype._setVariantListItemProperties=function(i,e){if(i.getReadOnly){e.setReadOnly(i.getReadOnly());}if(i.getExecuteOnSelection){e.setExecuteOnSelection(i.getExecuteOnSelection());}if(i.getGlobal){e.setGlobal(i.getGlobal());}if(i.getLifecyclePackage){e.setLifecyclePackage(i.getLifecyclePackage());}if(i.getLifecycleTransportId){e.setLifecycleTransportId(i.getLifecycleTransportId());}if(i.getNamespace){e.setNamespace(i.getNamespace());}if(i.getAccessOptions){e.setAccessOptions(i.getAccessOptions());}if(i.getLabelReadOnly){e.setLabelReadOnly(i.getLabelReadOnly());}if(i.getAuthor){e.setAuthor(i.getAuthor());}if(i.getFavorite){e.setFavorite(i.getFavorite());}};F.prototype.exit=function(){if(this.oSearchField){this.oSearchField.destroy();this.oSearchField=undefined;}if(this.oManageDialogSearchField){this.oManageDialogSearchField.destroy();this.oManageDialogSearchField=undefined;}if(this.oVariantManage){this.oVariantManage.destroy();this.oVariantManage=undefined;}if(this.oVariantSave){this.oVariantSave.destroy();this.oVariantSave=undefined;}if(this.oVariantList){this.oVariantList.destroy();this.oVariantList=undefined;}if(this.oInputName){this.oInputName.destroy();this.oInputName=undefined;}if(this.oLabelName){this.oLabelName.destroy();this.oLabelName=undefined;}if(this.oDefault){this.oDefault.destroy();this.oDefault=undefined;}if(this.oSaveSave){this.oSaveSave.destroy();this.oSaveSave=undefined;}if(this.oSaveDialog){this.oSaveDialog.destroy();this.oSaveDialog=undefined;}if(this.oManagementTable){this.oManagementTable.destroy();this.oManagementTable=undefined;}if(this.oManagementSave){this.oManagementSave.destroy();this.oManagementSave=undefined;}if(this.oManagementDialog){this.oManagementDialog.destroy();this.oManagementDialog=undefined;}if(this.oVariantText){this.oVariantText.destroy();this.oVariantText=undefined;}if(this.oVariantPopoverTrigger){this.oVariantPopoverTrigger.destroy();this.oVariantPopoverTrigger=undefined;}if(this.oVariantLayout){this.oVariantLayout.destroy();this.oVariantLayout=undefined;}if(this.oVariantPopOver){this.oVariantPopOver.destroy();this.oVariantPopOver=undefined;}if(this.oVariantSaveAs){this.oVariantSaveAs.destroy();this.oVariantSaveAs=undefined;}if(this.oShare){this.oShare.destroy();this.oShare=undefined;}if(this.oExecuteOnSelect){this.oExecuteOnSelect.destroy();this.oExecuteOnSelect=undefined;}if(this.oCreateTile){this.oCreateTile.destroy();this.oCreateTile=undefined;}if(this.oSaveDialogOptionsGrid){this.oSaveDialogOptionsGrid.destroy();this.oSaveDialogOptionsGrid=undefined;}if(this.oVariantSelectionPage){this.oVariantSelectionPage.destroy();this.oVariantSelectionPage=undefined;}if(this.oErrorVariantPopOver){this.oErrorVariantPopOver.destroy();this.oErrorVariantPopOver=undefined;}if(this.oInputKey){this.oInputKey.destroy();this.oInputKey=undefined;}if(this.oLabelKey){this.oLabelKey.destroy();this.oLabelKey=undefined;}if(this.oModel){this.oModel.destroy();this.oModel=undefined;}};F.prototype.addItem=function(i){i=this.validateAggregation('items',i,true);this.bVariantItemMode=false;this.addAggregation('items',i,false);var _=this.getInitialSelectionKey();this._setSelection(i,_);this._setStandardText();return this;};F.prototype.insertItem=function(i,e){var _=e;i=this.validateAggregation('items',i,true);this.bVariantItemMode=false;this.insertAggregation('items',i,_);var K=this.getInitialSelectionKey();this._setSelection(i,K);this._setStandardText();return this;};F.prototype.removeItem=function(i){i=this.removeAggregation('items',i);return i;};F.prototype.removeAllItems=function(){var e=this.removeAllAggregation('items');this._setSelectedItem(null);return e;};F.prototype.destroyItems=function(){this.destroyAggregation('items');this._setSelectedItem(null);return this;};F.prototype._getItems=function(){if(this.bVariantItemMode){return this.getVariantItems();}else{return this.getItems();}};F.prototype._removeItem=function(i){if(this.bVariantItemMode){return this.removeVariantItem(i);}else{return this.removeItem(i);}};F.prototype.getItemByKey=function(K){var i=this._getItems();for(var e=0;e<i.length;e++){if(K==i[e].getKey()){return i[e];}}return null;};F.prototype.addVariantItem=function(e){e=this.validateAggregation('variantItems',e,true);this.bVariantItemMode=true;this.addAggregation('variantItems',e,false);var _=this.getInitialSelectionKey();this._setSelection(e,_);this._setStandardText();return this;};F.prototype.insertVariantItem=function(e,i){var _=i;e=this.validateAggregation('variantItems',e,true);this.bVariantItemMode=true;this.insertAggregation('variantItems',e,_);var K=this.getInitialSelectionKey();this._setSelection(e,K);this._setStandardText();return this;};F.prototype._setSelectedItem=function(i){this.oSelectedItem=i;if(i!=null&&i.getKey()!=this.getStandardVariantKey()){this._setVariantText(i.getText());}else{this._setStandardText();}};F.prototype._getSelectedItem=function(){return this.oSelectedItem;};F.prototype.setInitialSelectionKey=function(K){this.setProperty('initialSelectionKey',K,true);this._setSelectionByKey(K);return this;};F.prototype.setEnabled=function(e){this.setProperty('enabled',e,false);if(!e){this.oVariantText.removeStyleClass('sapUICompVarMngmtClickable');this.oVariantModifiedText.removeStyleClass('sapUICompVarMngmtClickable');this.oVariantText.addStyleClass('sapUICompVarMngmtDisabled');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtDisabled');}else{this.oVariantText.removeStyleClass('sapUICompVarMngmtDisabled');this.oVariantModifiedText.removeStyleClass('sapUICompVarMngmtDisabled');this.oVariantText.addStyleClass('sapUICompVarMngmtClickable');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtClickable');}return this;};F.prototype.getFocusDomRef=function(){if(this.oVariantPopoverTrigger&&this.getEnabled()){return this.oVariantPopoverTrigger.getFocusDomRef();}};F.prototype._setSelection=function(i,K){if(i.getKey()===K){this._setSelectedItem(i);this.fireSelect({key:K});}};F.prototype.addStyleClass=function(e){if(w.prototype.addStyleClass){w.prototype.addStyleClass.apply(this,arguments);}if(this.oVariantPopOver){this.oVariantPopOver.addStyleClass(e);}if(this.oSaveDialog){this.oSaveDialog.addStyleClass(e);}if(this.oManagementDialog){this.oManagementDialog.addStyleClass(e);}};F.prototype.removeStyleClass=function(e){if(w.prototype.addStyleClass){w.prototype.removeStyleClass.apply(this,arguments);}if(this.oVariantPopOver){this.oVariantPopOver.removeStyleClass(e);}if(this.oSaveDialog){this.oSaveDialog.removeStyleClass(e);}if(this.oManagementDialog){this.oManagementDialog.removeStyleClass(e);}};F.prototype.clearVariantSelection=function(){this.setInitialSelectionKey(this.getStandardVariantKey());this._setSelectedItem(null);};F.prototype._setDialogCompactStyle=function(e,i){if(this._checkDialogCompactStyle(e)){i.addStyleClass('sapUiSizeCompact');}else{i.removeStyleClass('sapUiSizeCompact');}};F.prototype._checkDialogCompactStyle=function(e){if(e.$().closest('.sapUiSizeCompact').length>0){return true;}else{return false;}};F.prototype.getSelectionKey=function(){var K=null;var i=this._getSelectedItem();if(i!==null){K=i.getKey();}else if(this.bVariantItemMode){K=this.getStandardVariantKey();}else{K=null;}return K;};F.prototype._setSelectionByKey=function(K){var i=this._getItems();var e=false;if(i.length>0){for(var M=0;M<i.length;M++){if(i[M].getKey()===K){this._setSelectedItem(i[M]);e=true;break;}}}if(!e){this._setSelectedItem(null);}};F.prototype.replaceKey=function(e,N){var i=this._getItems();if(i.length>0){for(var K=0;K<i.length;K++){if(i[K].getKey()===e){i[K].setKey(N);if(this.getDefaultVariantKey()==e){this.setDefaultVariantKey(N);}if(this._getSelectedItem()===i[K]){this._setSelectedItem(null);}break;}}}};F.prototype._assignUser=function(K,U){var i=this._getItems();if(i.length>0){for(var e=0;e<i.length;e++){if(i[e].getKey()===K){if(i[e].setAuthor&&i[e].getAuthor&&!i[e].getAuthor()){i[e].setAuthor(U);}break;}}}};F.prototype.currentVariantSetModified=function(e){if(this.oModel){this.oModel.setProperty('/enabled',e);}};F.prototype.currentVariantGetModified=function(){return this.oModel.getProperty('/enabled');};F.prototype._delayedControlCreation=function(){var e=this;if(this._bInnerControlsCreated){return;}this._bInnerControlsCreated=true;this.oVariantManage=new l(this.getId()+'-manage',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGE'),enabled:true,press:function(){e._openVariantManagementDialog();},layoutData:new h({priority:sap.m.OverflowToolbarPriority.High})});this.oVariantSave=new l(this.getId()+'-mainsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE'),press:function(){var i=e._createEvent('variantSavePressed',e._variantSavePressed);e._addEvent(i);},enabled:false,layoutData:new h({priority:sap.m.OverflowToolbarPriority.Low})});this.oVariantSave.setModel(this.oModel);this.oVariantSaveAs=new l(this.getId()+'-saveas',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEAS'),press:function(){e._openSaveAsDialog();},layoutData:new h({priority:sap.m.OverflowToolbarPriority.Low})});this.oVariantList=new r(this.getId()+'-list',{itemPress:function(i){var K=null;if(i&&i.getParameters()){var M=i.getParameters().item;if(M){K=M.getKey();}}if(K){e.lastSelectedVariantKey=K;e._setSelectionByKey(K);e.oVariantPopOver.close();e.oModel.setProperty('/enabled',false);e.bFireSelect=true;}}});this.oVariantList.setNoDataText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_NODATA'));this.oSearchField=new S();this.oSearchField.attachLiveChange(function(i){e._triggerSearch(i);});this._handleArrowUpDown(this.oVariantList,this.oSearchField);this.oVariantSelectionPage=new d(this.getId()+'selpage',{subHeader:new j({content:[this.oSearchField]}),content:[this.oVariantList],footer:new O({content:[new k(this.getId()+'-spacer'),this.oVariantSave,this.oVariantSaveAs,this.oVariantManage]}),showSubHeader:false,showNavButton:false,showHeader:false});this.oVariantPopOver=new p(this.getId()+'-popover',{title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_VARIANTS'),contentWidth:'400px',placement:f.Bottom,content:[this.oVariantSelectionPage],afterOpen:function(){e.bPopoverOpen=true;e._markSharedVariants();},afterClose:function(){if(e.bPopoverOpen){setTimeout(function(){if(e.bFireSelect==true){e.bFireSelect=false;e._fireSelectAsync();}e.bPopoverOpen=false;},200);}},contentHeight:'300px'});this.oVariantPopOver.setParent(this);this.oVariantPopOver.addStyleClass('sapUICompVarMngmtPopover');this.oInputName=new I(this.getId()+'-name',{liveChange:function(i){e._checkVariantNameConstraints(this,e.oSaveSave);}});this.oLabelName=new L(this.getId()+'-namelabel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_NAME'),required:true});this.oLabelName.setLabelFor(this.oInputName);this.oDefault=new m(this.getId()+'-default',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SETASDEFAULT'),enabled:true,visible:true,width:'100%'});this.oExecuteOnSelect=new m(this.getId()+'-execute',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_EXECUTEONSELECT'),enabled:true,visible:false,width:'100%'});this.oCreateTile=new m(this.getId()+'-tile',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CREATETILE'),enabled:true,visible:false,width:'100%'});this.oShare=new m(this.getId()+'-share',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SHARE'),enabled:true,visible:false,select:function(i){var K=e._createEvent('inputfieldChange',e._handleShareSelected);K.args.push(i);e._addEvent(K);},width:'100%'});this.oInputKey=new I(this.getId()+'-key',{liveChange:function(i){e._checkVariantNameConstraints(this);}});this.oLabelKey=new L(this.getId()+'-keylabel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_KEY'),required:true});this.oLabelKey.setLabelFor(this.oInputKey);this.oSaveSave=new l(this.getId()+'-variantsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_OK'),press:function(){e._bSaveCanceled=false;e._triggerSave();},enabled:true});this.oSaveDialogOptionsGrid=new G({defaultSpan:'L12 M12 S12'});this.oManagementTable=new c(this.getId()+'-managementTable');this.oManagementSave=new l(this.getId()+'-managementsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_OK'),enabled:true,press:function(){var i=e._createEvent('managementSave',e._handleManageSavePressed);e._addEvent(i);}});};F.prototype._openInErrorState=function(){var i=this,K;if(!this.oErrorVariantPopOver){K=new V({fitContainer:true,alignItems:sap.m.FlexAlignItems.Center,items:[new x({size:'4rem',color:'lightgray',src:'sap-icon://message-error'}),new o({titleStyle:sap.ui.core.TitleLevel.H2,text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_TEXT1')}),new sap.m.Text({textAlign:sap.ui.core.TextAlign.Center,text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_TEXT2')})]});K.addStyleClass('sapUICompVarMngmtErrorPopover');this.oErrorVariantPopOver=new p(this.getId()+'-errorpopover',{title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_VARIANTS'),contentWidth:'400px',placement:f.Bottom,content:[new d(this.getId()+'-errorselpage',{showSubHeader:false,showNavButton:false,showHeader:false,content:[K]})],afterOpen:function(){i.bPopoverOpen=true;},afterClose:function(){if(i.bPopoverOpen){setTimeout(function(){i.bPopoverOpen=false;},200);}},contentHeight:'300px'});this.oErrorVariantPopOver.attachBrowserEvent('keyup',function(e){if(e.which===32){this.oErrorVariantPopOver.close();}}.bind(this));}if(this.bPopoverOpen){return;}this.oErrorVariantPopOver.openBy(this.oVariantLayout);};F.prototype._openVariantSelection=function(){var i=null,e;if(this.getInErrorState()){this._openInErrorState();return;}this._delayedControlCreation();if(this.bPopoverOpen){return;}this.oVariantSave.setEnabled(false);if(this.bVariantItemMode===false&&this.getSelectionKey()!==null){this.oVariantSave.setEnabled(true);}i=this._getItems();if(i.length<9){this.oVariantSelectionPage.setShowSubHeader(false);}else{this.oVariantSelectionPage.setShowSubHeader(true);this.oSearchField.setValue('');}this._restoreCompleteList();if(this.currentVariantGetModified()){e=this.oVariantList.getItemByKey(this.getSelectionKey());if(e){if(!e.getReadOnly()||(this._isIndustrySolutionModeAndVendorLayer()&&(this.getStandardVariantKey()===e.getKey()))){this.oVariantSave.setEnabled(true);}}}this.oVariantSaveAs.setEnabled(true);if(this._isIndustrySolutionModeAndVendorLayer()&&this.bManualVariantKey&&(this.getStandardVariantKey()===this.STANDARDVARIANTKEY)){this.oVariantSave.setEnabled(false);this.oVariantSaveAs.setEnabled(true);}this._setDialogCompactStyle(this,this.oVariantPopOver);e=this.oVariantList.getSelectedItem();if(e){this.oVariantPopOver.setInitialFocus(e.getId());}this.oVariantPopOver.openBy(this.oVariantLayout);};F.prototype.handleOpenCloseVariantPopover=function(){if(!this.bPopoverOpen){this._openVariantSelection();}else if(this.oVariantPopOver&&this.oVariantPopOver.isOpen()){this.oVariantPopOver.close();}else if(this.getInErrorState()&&this.oErrorVariantPopOver&&this.oErrorVariantPopOver.isOpen()){this.oErrorVariantPopOver.close();}};F.prototype.onclick=function(e){if(this.getEnabled()){if(this.oVariantPopoverTrigger&&!this.bPopoverOpen){this.oVariantPopoverTrigger.focus();}this.handleOpenCloseVariantPopover();}};F.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.F4||e.which===q.sap.KeyCodes.SPACE||e.altKey===true&&e.which===q.sap.KeyCodes.ARROW_UP||e.altKey===true&&e.which===q.sap.KeyCodes.ARROW_DOWN){if(this.getEnabled()){this._openVariantSelection();}}};F.prototype._initalizeManagementTableColumns=function(){if(this.bManagementTableInitialized){return;}var e=new C({width:'3rem',visible:this.getUseFavorites()&&!this._isIndustrySolutionModeAndVendorLayer()});this.oManagementTable.addColumn(e);this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_NAME')}),width:'14rem'}));this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_VARIANTTYPE')}),width:'8rem',demandPopin:true,popinDisplay:P.Inline,minScreenWidth:a.Tablet,visible:this.getShowShare()}));this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT')}),width:'4rem',demandPopin:true,popinDisplay:P.Inline,minScreenWidth:a.Tablet,visible:this.getShowSetAsDefault()}));this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_EXECUTEONSELECT')}),width:'5.5rem',hAlign:T.Center,demandPopin:true,popinDisplay:P.Inline,minScreenWidth:'800px',visible:this.getShowExecuteOnSelection()}));this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_AUTHOR')}),width:'8rem',demandPopin:true,popinDisplay:P.Inline,minScreenWidth:'900px'}));this.oManagementTable.addColumn(new C({width:'2rem',hAlign:T.Center}));this.bManagementTableInitialized=true;};F.prototype._initalizeSaveAsDialog=function(){this.oSaveDialogOptionsGrid.removeAllContent();this.oDefault.setVisible(this.getShowSetAsDefault());this.oShare.setVisible(this.getShowShare());this.oExecuteOnSelect.setVisible(this.getShowExecuteOnSelection());this.oCreateTile.setVisible(this.getShowCreateTile());if(this.getShowSetAsDefault()){this.oSaveDialogOptionsGrid.addContent(this.oDefault);}if(this.getShowShare()){this.oSaveDialogOptionsGrid.addContent(this.oShare);}if(this.getShowExecuteOnSelection()){this.oSaveDialogOptionsGrid.addContent(this.oExecuteOnSelect);}if(this.getShowCreateTile()){this.oSaveDialogOptionsGrid.addContent(this.oCreateTile);}};F.prototype.onAfterRendering=function(){this.oVariantText.$().off('mouseover').on('mouseover',function(){this.oVariantPopoverTrigger.addStyleClass('sapUICompVarMngmtTriggerBtnHover');}.bind(this));this.oVariantText.$().off('mouseout').on('mouseout',function(){this.oVariantPopoverTrigger.removeStyleClass('sapUICompVarMngmtTriggerBtnHover');}.bind(this));};F.prototype.onBeforeRendering=function(){var e=function(K){var W,X=0;for(var i=0;i<K.length;i++){W=K[i].$().width();if(W>X){X=W;}}return X;};if(this.oSaveDialogOptionsGrid&&this.oSaveDialog&&this.oSaveDialog.getVisible()){var K=this.oSaveDialogOptionsGrid.getContent();if(K&&K.length>0){var M=this.oSaveDialogOptionsGrid.$().width();var N=e(K);var Q=32;var U=12;if(!this._checkDialogCompactStyle(this.oSaveDialog)){Q=48;U=18;}if((Q+N+U)>M/2){this.oSaveDialogOptionsGrid.setDefaultSpan('L12 M12 S12');}}}};F.prototype._markSharedVariants=function(){var e,K,M=this._getItems();for(var i=0;i<M.length;i++){K=M[i];if(K.getGlobal&&K.getGlobal()){e=this.oVariantList.getItemByKey(K.getKey());if(e){var N=e.$();if(N){N.addClass('sapUiCompVarMngmtSharedVariant');}}}}};F.prototype._variantSavePressed=function(){var i=this._getSelectedItem();if(!i){if(this.getStandardVariantKey()===this.STANDARDVARIANTKEY){i=new u({key:this.STANDARDVARIANTKEY,global:this._isIndustrySolutionModeAndVendorLayer()});i.setText(this._determineStandardVariantName());}else{i=this.getItemByKey(this.getStandardVariantKey());}}var e=false;if(this.getDefaultVariantKey()===i.getKey()){e=true;}if(i.getLifecyclePackage&&i.getGlobal()==true){var K=this;var M=function(Q,U){K.oVariantPopOver.close();K.sPackage=Q;K.sTransport=U;K.fireSave({name:i.getText(),overwrite:true,key:i.getKey(),def:e,global:(K._isIndustrySolutionModeAndVendorLayer()&&(K.getStandardVariantKey()===K.getStandardVariantKey())),lifecyclePackage:K.sPackage,lifecycleTransportId:K.sTransport});i.setLifecycleTransportId(K.sTransport);K.oModel.setProperty('/enabled',false);K._eventDone();};var N=function(Q){K.sTransport=null;K.sPackage=null;K._cancelAllEvents();};this._assignTransport(i,M,N,this.oVariantText);}else{this.oVariantPopOver.close();this.fireSave({name:i.getText(),overwrite:true,key:i.getKey(),def:e});this.oModel.setProperty('/enabled',false);this._eventDone();}};F.prototype._assignTransport=function(e,i,K,M){var N={type:'variant',name:'',namespace:''};N['package']='';if(e!==null){N['package']=e.getLifecyclePackage();N['name']=e.getKey();N['namespace']=e.getNamespace();}var _=function(W){var X;var U;U=W.getParameters().selectedTransport;X=W.getParameters().selectedPackage;i(X,U);};var Q=function(W){K(W);};if(this.getLifecycleSupport()){var U=null;if(e){U=e.getLifecycleTransportId();}if(U!=null&&U.trim().length>0){i(N['package'],U);}else{this._getTransportSelection().then(function(W){W.selectTransport(N,_,Q,this._checkDialogCompactStyle(M),M);}.bind(this));}}else{i(N['package'],'');}};F.prototype._getTransportSelection=function(){if(this.getTransportSelection){return Promise.resolve(this.getTransportSelection());}else{return this._getFlTransportSelection();}};F.prototype._getFlTransportSelection=function(){if(!sap.ui.fl){sap.ui.getCore().loadLibrary('sap.ui.fl');}var e=sap.ui.require('sap/ui/fl/transport/TransportSelection');if(e){return Promise.resolve(new e());}else{return new Promise(function(i){sap.ui.require(['sap/ui/fl/transport/TransportSelection'],function(e){i(new e());});});}};F.prototype.getDefaultVariantKey=function(){var e=this.getProperty('defaultVariantKey');if(e===''){if(this.bVariantItemMode){e=this.getStandardVariantKey();}}return e;};F.prototype._compareItems=function(e,i){var K=e.getText();var M=i.getText();var N=K.toUpperCase();var Q=M.toUpperCase();if(N==Q){if(K==M){return 0;}if(K<M){return-1;}if(K>M){return 1;}}if(N<Q){return-1;}if(N>Q){return 1;}};F.prototype._accessOptionsText=function(e){var M=null;switch(e){case'R':M=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LAYER');break;case'RD':M=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LANGUAGE');break;default:M=null;}return M;};F.prototype._openSaveAsDialog=function(){this._initalizeSaveAsDialog();if(this._getSelectedItem()){this.oInputName.setValue(this._getSelectedItem().getText());}else{this.oInputName.setValue('');}this.oInputName.setEnabled(true);this.oInputName.setValueState(z.None);this.oInputName.setValueStateText(null);this.oDefault.setSelected(false);this.oShare.setSelected(false);this.oCreateTile.setSelected(false);this.oExecuteOnSelect.setSelected(false);if(this._isIndustrySolutionModeAndVendorLayer()){this.oInputName.setValue(this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD'));}this._createSaveDialog();this._setDialogCompactStyle(this,this.oSaveDialog);this.oVariantPopOver.close();this.sTransport=null;this.sPackage=null;if(this.bManualVariantKey){this.oInputKey.setVisible(true);this.oInputKey.setEnabled(true);this.oInputKey.setValueState(z.None);this.oInputKey.setValueStateText(null);this.oLabelKey.setVisible(true);}else{this.oInputKey.setVisible(false);this.oLabelKey.setVisible(false);}this.oSaveDialog.open();};F.prototype._checkManageItemNameChange=function(M){var e='';var i=null;var K=this;i=M.getCells()[F.NAME_COLUMN];e=i.getValue();e=e.trim();var N=M;var Q=N.getKey();this._checkVariantNameConstraints(i,this.oManagementSave,this.oManagementTable);if(i.getValueState()===z.Error){this._eventDone();return;}if(this.oVariantList.getItemByKey(Q).getText().trim()===e){this._eventDone();return;}if(N.getGlobal()){var U=function(X,Y){N.setLifecyclePackage(X);N.setLifecycleTransportId(Y);K._eventDone();};var W=function(X){if(K&&K.oVariantList){var Y=K.oVariantList.getItemByKey(Q);i.setValue(Y.getText());}K._cancelAllEvents();};this._createManagementDialog();this._assignTransport(N,U,W,this.oManagementDialog);}else{this._eventDone();}};F.prototype._handleManageSavePressed=function(){var N=this.oManagementTable.getItems();var i,e;var K=false;var M='';var Q=null;var U=0;var W=[];for(var X=0;X<N.length;X++){i=this.oVariantList.getItemByKey(N[X].getKey());e=N[X].getCells()[F.NAME_COLUMN];if(e&&e.getValue){M=e.getValue();}else if(e&&e.getTitle){M=e.getTitle();}M=M.trim();if(i.getText()!==M){this.aRenamedVariants.push({key:i.getKey(),name:M});Q=this.getItemByKey(N[X].getKey());Q.setText(M);if(Q.setLifecyclePackage){Q.setLifecyclePackage(N[X].getLifecyclePackage());Q.setLifecycleTransportId(N[X].getLifecycleTransportId());}if(this.lastSelectedVariantKey===i.getKey()){this._setVariantText(M);}}if(this.getUseFavorites()&&!this._isIndustrySolutionModeAndVendorLayer()){var Y=N[X].getKey();if(this._mFavoriteChanges&&this._mFavoriteChanges[Y]!==undefined){var Z=this._mFavoriteChanges[Y];if(Y===this.STANDARDVARIANTKEY){if(this.getStandardFavorite()!==Z){W.push({key:Y,visible:Z});this.setStandardFavorite(Z);}}else{Q=this.getItemByKey(N[X].getKey());if(Q&&i.getFavorite&&(i.getFavorite()!==Z)){W.push({key:Y,visible:Z});Q.setFavorite(Z);}}}}if(this.getShowExecuteOnSelection()&&i.getExecuteOnSelection&&i.getExecuteOnSelection()!=N[X].getCells()[F.EXEC_COLUMN].getSelected()){var $=N[X].getCells()[F.EXEC_COLUMN].getSelected();var _=this.getItemByKey(N[X].getKey());if(!_&&(this.getSupportExecuteOnSelectOnSandardVariant()&(N[X].getKey()===this.getStandardVariantKey()))){_=new u();}if(_&&_.setExecuteOnSelection){_.setExecuteOnSelection($);if(this.getSupportExecuteOnSelectOnSandardVariant()&(N[X].getKey()===this.getStandardVariantKey())){this._executeOnSelectForStandardVariantByUser($);}this.aExeVariants.push({key:i.getKey(),exe:$});if(_.setLifecyclePackage){_.setLifecyclePackage(N[X].getLifecyclePackage());_.setLifecycleTransportId(N[X].getLifecycleTransportId());}}}}if(this.oManagementDialog){this.oManagementDialog.close();}if(this.bVariantItemMode===false){if(this.getDefaultVariantKey()!=this.sNewDefaultKey){var a1=null;if(this.sNewDefaultKey==this.getStandardVariantKey()){a1=this.getItemByKey(this.getDefaultVariantKey());this.fireSave({name:a1.getText(),overwrite:true,key:a1.getKey(),def:false});}else{a1=this.getItemByKey(this.sNewDefaultKey);this.fireSave({name:a1.getText(),overwrite:true,key:a1.getKey(),def:true});}}}if(this.sNewDefaultKey!=this.getDefaultVariantKey()){this.setDefaultVariantKey(this.sNewDefaultKey);}for(U=0;U<this.aRemovedVariants.length;U++){i=this.getItemByKey(this.aRemovedVariants[U]);for(var iE=0;iE<this.aRemovedVariantTransports.length;iE++){if(this.aRemovedVariants[U]===this.aRemovedVariantTransports[iE].key){var c1=this.aRemovedVariantTransports[iE];if(i.setLifecyclePackage){i.setLifecycleTransportId(c1.transport);}break;}}}this.fireManage({renamed:this.aRenamedVariants,deleted:this.aRemovedVariants,exe:this.aExeVariants,def:this.getDefaultVariantKey(),fav:W});for(U=0;U<this.aRemovedVariants.length;U++){i=this.getItemByKey(this.aRemovedVariants[U]);if(i){this._removeItem(i);i.destroy();}if(this.lastSelectedVariantKey===this.aRemovedVariants[U]){K=true;this._setSelectedItem(null);this.oModel.setProperty('/enabled',false);}}if(K){this.bFireSelect=true;}this._eventDone();};F.prototype._createEvent=function(N,e){var i={name:N,fFunc:e,args:[]};return i;};F.prototype._handleNextEvent=function(){if(this.aEvents.length>0){if(!this.bEventRunning){this.bEventRunning=true;var e=this.aEvents.pop();e.fFunc.apply(this,e.args);}}};F.prototype._addEvent=function(e){this.aEvents.push(e);this._handleNextEvent();};F.prototype._cancelAllEvents=function(){this.aEvents=[];this.bEventRunning=false;};F.prototype._eventDone=function(){this.bEventRunning=false;this._handleNextEvent();};F.prototype._handleManageExecuteOnSelectionChanged=function(e){var i=this;var M=e.getParent();if(M&&M.getGlobal()){var K=function(Q,U){M.setLifecyclePackage(Q);M.setLifecycleTransportId(U);i._eventDone();};var N=function(Q){e.setSelected(!e.getSelected());i._cancelAllEvents();};this._createManagementDialog();this._assignTransport(M,K,N,this.oManagementDialog);}else{this._eventDone();}};F.prototype._handleManageDeletePressed=function(e){var i=this,K;var M=function(){var K=null,X=i.oManagementTable.getItems();X.some(function(Y){if(Y.getKey()===i.getStandardVariantKey()){K=Y;return true;}});return K;};if(!this._anyInErrorState(this.oManagementTable,e.getParent().getCells()[F.NAME_COLUMN])){this.oManagementSave.setEnabled(true);}K=M();var N=e.getParent();if(N.getGlobal()){var Q=function(X,Y){var Z=N.getKey();i.aRemovedVariants.push(Z);i.oManagementTable.removeItem(N);if(i.getShowSetAsDefault()){if((N.getKey()===i.sNewDefaultKey)){if(K){K.getCells()[F.DEF_COLUMN].setSelected(true);K.getCells()[F.DEF_COLUMN].fireSelect({selected:true});}else{i.setStandardVariantKey(i.STANDARDVARIANTKEY);}i.sNewDefaultKey=i.getStandardVariantKey();}}N.destroy();var $={key:Z,transport:Y};i.aRemovedVariantTransports.push($);i._eventDone();};var U=function(X){i._cancelAllEvents();};this._createManagementDialog();this._assignTransport(N,Q,U,this.oManagementDialog);}else{this.aRemovedVariants.push(N.getKey());this.oManagementTable.removeItem(N);if(this.getShowSetAsDefault()){if(N.getKey()===this.sNewDefaultKey){if(K){K.getCells()[F.DEF_COLUMN].setSelected(true);K.getCells()[F.DEF_COLUMN].fireSelect({selected:true});}this.sNewDefaultKey=this.getStandardVariantKey();}}N.destroy();this._eventDone();}var W=sap.ui.getCore().byId(this.getId()+'-managementcancel');if(W){W.focus();}};F.prototype._handleShareSelected=function(e){var i=this;if(e.getParameters&&e.getParameters()&&e.getParameters().selected){var K=function(N,Q){i.sTransport=Q;i.sPackage=N;i._eventDone();};var M=function(N){i.oShare.setSelected(false);i.sTransport=null;i.sPackage=null;i._cancelAllEvents();};this._createSaveDialog();this._assignTransport(null,K,M,this.oSaveDialog);}else{this.sTransport=null;this.sPackage=null;this._eventDone();}};F.prototype._handleVariantSaveAs=function(){var K='SV'+new Date().getTime();var N=this.oInputName.getValue();var M=this.oInputKey.getValue();var e='';var i='';var Q=false;var U=false;var W=null;N=N.trim();if(N==''){this.oInputName.setValueState(z.Error);this.oInputName.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));this._cancelAllEvents();return;}M=M.trim();if(this.bManualVariantKey&&M==''){this.oInputKey.setValueState(z.Error);this.oInputKey.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));this._cancelAllEvents();return;}if(this.bManualVariantKey){K=M;}if(this.oSaveDialog){this.oSaveDialog.close();}if(this.oExecuteOnSelect!==null){Q=this.oExecuteOnSelect.getSelected();}if(this.oCreateTile!==null){U=this.oCreateTile.getSelected();}if(this.bVariantItemMode){W=new u({key:K,readOnly:false,executeOnSelection:Q,global:this.oShare.getSelected(),lifecycleTransportId:this.sTransport,lifecyclePackage:this.sPackage});W.setText(N);this.addVariantItem(W);this._setSelectedItem(W);}else{W=new y({key:K});W.setText(N);this.addItem(W);this._setSelectedItem(W);}if(this.oDefault.getSelected()){this.setDefaultVariantKey(K);}if(this.oShare.getSelected()){i=this.sPackage;e=this.sTransport;}this.fireSave({name:N,overwrite:false,def:this.oDefault.getSelected(),key:K,exe:this.oExecuteOnSelect.getSelected(),tile:U,global:this.oShare.getSelected(),lifecyclePackage:i,lifecycleTransportId:e});this.oModel.setProperty('/enabled',false);this._eventDone();};F.prototype.setBackwardCompatibility=function(e){this._setBackwardCompatibility(e);};F.prototype._setBackwardCompatibility=function(e){if(this.getItems().length===0&&this.getVariantItems().length===0){this.bVariantItemMode=!e;}this._setStandardText();};F.prototype._setStandardText=function(){var K=this.getSelectionKey();if(K===null||K===this.getStandardVariantKey()){if(this.bVariantItemMode==false){this._setVariantText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT'));}else{this._setVariantText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD'));}if(this.getStandardItemText()!==null&&this.getStandardItemText()!=''){this._setVariantText(this.getStandardItemText());}}};F.prototype._setVariantText=function(e){var M,i=this.extractBindingInfo(e),K=e;if((typeof i==='object')&&i.model&&i.path){M=this.getModel(i.model);if(M){K=M.getProperty(i.path);}}this.oModel.setProperty('/selectedVariant',K);};F.prototype._getVariantText=function(e){return this.oModel.getProperty('/selectedVariant');};F.prototype._updateVariantInvisibletext=function(e,i){if(i){e=this.oResourceBundle.getText('VARIANT_MANAGEMENT_MODIFIED',[e]);}return e;};F.prototype._setFavoriteIcon=function(i,e){i.setSrc(e?'sap-icon://favorite':'sap-icon://unfavorite');i.setTooltip(this.oResourceBundle.getText(e?'VARIANT_MANAGEMENT_FAV_DEL_TOOLTIP':'VARIANT_MANAGEMENT_FAV_ADD_TOOLTIP'));};F.prototype._isFavoriteSelected=function(i){return i.getSrc()==='sap-icon://unfavorite';};F.prototype._openVariantManagementDialog=function(){var i;var e=null;var K=0;var M;var N;var Q;var U;var W;var X;var Y;var Z;var $,_,a1,b1,c1,d1;var e1=this;this._mFavoriteChanges={};this.oManagementSave.setEnabled(true);this.oManagementTable.destroyItems();$=function(f1){e1._checkVariantNameConstraints(this,e1.oManagementSave,e1.oManagementTable);};_=function(f1){var h1=e1._createEvent('inputfieldChange',e1._checkManageItemNameChange);h1.args.push(this.getParent());e1._addEvent(h1);};c1=function(f1){var h1=e1._isFavoriteSelected(f1.oSource),i=this.getParent();if(i&&(e1.sNewDefaultKey!==i.getKey())){e1._mFavoriteChanges[i.getKey()]=h1;e1._setFavoriteIcon(f1.oSource,h1);}};a1=function(f1){var h1=(f1.getParameters().selected===true),i=this.getParent();if(i){if(h1){e1.sNewDefaultKey=i.getKey();e1._mFavoriteChanges[i.getKey()]=h1;}else{if(i.getFavorite&&e1._mFavoriteChanges.hasOwnProperty(i.getKey())&&e1._mFavoriteChanges[i.getKey()]!==i.getFavorite()){delete e1._mFavoriteChanges[i.getKey()];}}var i1=i.getCells()[F.FAV_COLUMN];if(i1&&i.getFavorite){if(h1){e1._setFavoriteIcon(i1,true);}else{if(e1._mFavoriteChanges[i.getKey()]!==undefined){e1._setFavoriteIcon(i1,e1._mFavoriteChanges[i.getKey()]);}else{e1._setFavoriteIcon(i1,i.getFavorite()===true);}}}}};b1=function(f1){var h1=e1._createEvent('executeOnSelectionChange',e1._handleManageExecuteOnSelectionChanged);h1.args.push(this);e1._addEvent(h1);};d1=function(f1){var h1=e1._createEvent('manageDeletePressed',e1._handleManageDeletePressed);h1.args.push(this);e1._addEvent(h1);};if(this.oManageDialogSearchField){this.oManageDialogSearchField.setValue('');}this._initalizeManagementTableColumns();this.sNewDefaultKey=this.getDefaultVariantKey();this._restoreCompleteList(true);if(this.oVariantList.getItems()[0].getKey()!==this.getStandardVariantKey()&&this.bVariantItemMode==false){i=new u(this.oVariantManage.getId()+'-item-standard',{key:this.getStandardVariantKey(),text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT'),readOnly:true,executeOnSelection:false});this.oVariantList.insertItem(i,0);}if(this.getUseFavorites()){i=this.oVariantList.getItemByKey(this.getStandardVariantKey());if(i){this.oVariantList.removeItem(i);}}e=this.oVariantList.getItems();if(this.getUseFavorites()){e.sort(this._compareItems);if(i){this.oVariantList.insertItem(i);e.splice(0,0,i);}}for(var iH=0;iH<e.length;iH++){if(e[iH].getReadOnly()||e[iH].getLabelReadOnly()){var g1=e[iH].getAccessOptions();Z=this._accessOptionsText(g1);}else{Z=null;}if(e[iH].getReadOnly()){Z=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LAYER');}else if(e[iH].getLabelReadOnly()===true){Z=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LANGUAGE');}if(e[iH].getKey()===this.getStandardVariantKey()){Z=null;}M=new E(this.oVariantManage.getId()+'-edit-'+K,{key:e[iH].getKey(),global:e[iH].getGlobal(),lifecyclePackage:e[iH].getLifecyclePackage(),lifecycleTransportId:e[iH].getLifecycleTransportId(),namespace:e[iH].getNamespace(),labelReadOnly:e[iH].getLabelReadOnly(),author:e[iH].getAuthor(),favorite:e[iH].getFavorite(),vAlign:A.Middle});N=new x(this.oVariantManage.getId()+'-fav-'+K,{press:c1});N.addStyleClass('sapUICompVarMngmtFavColor');if(e[iH].getFavorite){this._setFavoriteIcon(N,e[iH].getFavorite());}M.addCell(N);if(e[iH].getKey()===this.getStandardVariantKey()||e[iH].getReadOnly()===true||e[iH].getLabelReadOnly()===true){N=new s(this.oVariantManage.getId()+'-text-'+K,{});N.setTitle(e[iH].getText());if(Z){N.setTooltip(Z);}}else{N=new I(this.oVariantManage.getId()+'-input-'+K,{liveChange:$,change:_});N.setValue(e[iH].getText());}M.addCell(N);if(e[iH].getGlobal()){Y=this.oResourceBundle.getText('VARIANT_MANAGEMENT_SHARED');}else{Y=this.oResourceBundle.getText('VARIANT_MANAGEMENT_PRIVATE');}Q=new b(this.oVariantManage.getId()+'-type-'+K,{text:Y,wrapping:false});Q.addStyleClass('sapUICompVarMngmtType');M.addCell(Q);U=new R(this.oVariantManage.getId()+'-def-'+K,{groupName:this.oVariantManage.getId(),select:a1});if(this.sNewDefaultKey===e[iH].getKey()||e[iH].getKey()===this.getStandardVariantKey()&&this.sNewDefaultKey===''){U.setSelected(true);if(e[iH].getFavorite){this._setFavoriteIcon(M.getCells()[0],true);}}M.addCell(U);W=new m(this.oVariantManage.getId()+'-exe-'+K,{selected:false,enabled:false,select:b1});if(e[iH].getExecuteOnSelection){if((e[iH].getKey()===this.getStandardVariantKey()&&this.getSupportExecuteOnSelectOnSandardVariant())){W.setEnabled(true);}else{W.setEnabled(!e[iH].getReadOnly());}W.setSelected(e[iH].getExecuteOnSelection());if(Z){W.setTooltip(Z);}}M.addCell(W);Q=new b(this.oVariantManage.getId()+'-author-'+K,{text:e[iH].getAuthor(),textAlign:'Begin'});M.addCell(Q);X=new l(this.oVariantManage.getId()+'-del-'+K,{icon:'sap-icon://sys-cancel',enabled:true,type:g.Transparent,press:d1,tooltip:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DELETE')});this._assignColumnInfoForDeleteButton(X);if(e[iH].getReadOnly&&e[iH].getReadOnly()){X.setEnabled(false);X.setVisible(false);}M.addCell(X);this.oManagementTable.addItem(M);K++;}this.aRemovedVariants=[];this.aRemovedVariantTransports=[];this.aRenamedVariants=[];this.aExeVariants=[];this._createManagementDialog();this._setDialogCompactStyle(this,this.oManagementDialog);i=this.oVariantList.getSelectedItem();if(i){this.lastSelectedVariantKey=i.getKey();}this.oVariantPopOver.close();this.oManagementDialog.open();};F.prototype._assignColumnInfoForDeleteButton=function(e){if(!this._oInvisibleDeleteColumnName){this._oInvisibleDeleteColumnName=new v({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ACTION_COLUMN')});this._createManagementDialog();this.oManagementDialog.addContent(this._oInvisibleDeleteColumnName);}if(this._oInvisibleDeleteColumnName){e.addAriaLabelledBy(this._oInvisibleDeleteColumnName);}};F.prototype._enableManualVariantKey=function(e){this.bManualVariantKey=e;};F.prototype._fireSelectAsync=function(K){var e;if(K===undefined||K===null){var i=this._getSelectedItem();if(i===null){e=this.getStandardVariantKey();}else{e=i.getKey();}}this.fireSelect({key:e});};F.prototype.setSupportExecuteOnSelectOnSandardVariant=function(e){this.bSupportExecuteOnSelectOnSandardVariant=e;};F.prototype.getSupportExecuteOnSelectOnSandardVariant=function(){return this.bSupportExecuteOnSelectOnSandardVariant;};F.prototype._executeOnSelectForStandardVariantByXML=function(e){this.bExecuteOnSelectForStandardViaXML=e;};F.prototype._executeOnSelectForStandardVariantByUser=function(e){this.bExecuteOnSelectForStandardByUser=e;};F.prototype.getExecuteOnSelectForStandardVariant=function(){if(this.getSupportExecuteOnSelectOnSandardVariant()){if(this.bExecuteOnSelectForStandardByUser!==null){return this.bExecuteOnSelectForStandardByUser;}}return this.bExecuteOnSelectForStandardViaXML;};F.prototype.getStandardVariantKey=function(){return this._sStandardVariantKey;};F.prototype.setStandardVariantKey=function(e){this._sStandardVariantKey=e;};F.prototype._setVendorLayer=function(e){this._isVendorLayer=e;};F.prototype.setStandardFavorite=function(e){this._isFavorite=e;};F.prototype.getStandardFavorite=function(){return this._isFavorite;};F.prototype._isIndustrySolutionModeAndVendorLayer=function(){if(this.getIndustrySolutionMode()&&this._isVendorLayer){return true;}return false;};return F;},true);\n"
}}
