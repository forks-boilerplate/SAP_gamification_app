sap.ui.define("sap/fe/MicroChart",['jquery.sap.global','sap/ui/mdc/XMLComposite','sap/ui/base/ManagedObject','sap/ui/Device','sap/fe/controls/_MicroChart/bulletMicroChart/BulletMicroChart.controller','sap/fe/controls/_MicroChart/radialMicroChart/RadialMicroChart.controller','sap/fe/controls/_MicroChart/harveyBallMicroChart/HarveyBallMicroChart.controller','sap/fe/controls/_MicroChart/deltaMicroChart/DeltaMicroChart.controller','sap/fe/controls/_MicroChart/stackedBarMicroChart/StackedBarMicroChart.controller','sap/m/ValueColor'],function(q,X,M,D,B,R,H,a,S,V){"use strict";var b="sap.suite.ui.microchart.BulletMicroChart",c="sap.suite.ui.microchart.RadialMicroChart",d="sap.suite.ui.microchart.HarveyBallMicroChart",e="sap.suite.ui.microchart.DeltaMicroChart",f="sap.suite.ui.microchart.StackedBarMicroChart";var g=X.extend("sap.fe.MicroChart",{metadata:{designTime:true,specialSettings:{metadataContexts:{defaultValue:"{ model: 'chartAnnotationModel', path:'',name: 'chartAnnotation'}"}},properties:{title:{type:"any",invalidate:"template"}},events:{},aggregations:{},publicMethods:[]},alias:"this",fragment:"sap.fe.controls._MicroChart.MicroChart"});g.prototype.init=function(){X.prototype.init.call(this);var i=this.getInnerMicroChart(),C=i.getMetadata().getName();if([b,c,d,e,f].join(" ").indexOf(C)>-1){if(C===b){this.oMicroChartController=new B(this);}else if(C===c){this.oMicroChartController=new R(this);}else if(C===d){this.oMicroChartController=new H(this);}else if(C===e){this.oMicroChartController=new a(this);}else if(C===f){this.oMicroChartController=new S(this);}}};g.prototype.getInnerMicroChart=function(){return this.get_content();};g._helper={getMicroChartColor:function(o,v){var s=V.Neutral;if(o){if(o.Criticality){s=g._helper._criticalityFromPath(o,v);}else if(o.CriticalityCalculation){s=g._helper._criticalityCalculation(o,v);}else{q.sap.log.warning("Returning the default value Neutral");}}return s;},_criticalityCalculation:function(o,v){var C=o.CriticalityCalculation,s=C.ImprovementDirection&&C.ImprovementDirection.$EnumMember,t=typeof C.ToleranceRangeHighValue==='object'?+C.ToleranceRangeHighValue.$Decimal:C.ToleranceRangeHighValue,T=typeof C.ToleranceRangeLowValue==='object'?+C.ToleranceRangeLowValue.$Decimal:C.ToleranceRangeLowValue,h=typeof C.DeviationRangeHighValue==='object'?+C.DeviationRangeHighValue.$Decimal:C.DeviationRangeHighValue,i=typeof C.DeviationRangeLowValue==='object'?+C.DeviationRangeLowValue.$Decimal:C.DeviationRangeLowValue,A=typeof C.AcceptanceRangeHighValue==='object'?+C.AcceptanceRangeHighValue.$Decimal:C.AcceptanceRangeHighValue,j=typeof C.AcceptanceRangeLowValue==='object'?+C.AcceptanceRangeLowValue.$Decimal:C.AcceptanceRangeLowValue,k=V.Neutral;if(s==="com.sap.vocabularies.UI.v1.ImprovementDirectionType/Minimize"){if(typeof A==='number'&&typeof h==='number'&&typeof t==='number'){k="{= %{"+v.$PropertyPath+"} <= "+A+" ? '"+V.Good+"' : "+"(%{"+v.$PropertyPath+"} <= "+h+" ? "+"(%{"+v.$PropertyPath+"} > "+t+" ? '"+V.Critical+"' : '"+V.Neutral+"') : '"+V.Error+"') }";}else{if(typeof A==='number'&&typeof t==='number'){k="{= %{"+v.$PropertyPath+"} <= "+A+" ? '"+V.Good+"' : "+"%{"+v.$PropertyPath+"}  <= "+t+" ? '"+V.Neutral+"' : '"+V.Critical+"' }";}else if(typeof A==='number'&&typeof h==='number'){k="{= %{"+v.$PropertyPath+"} <= "+A+" ? '"+V.Good+"' : "+"%{"+v.$PropertyPath+"}  <= "+h+" ? '"+V.Neutral+"' : '"+V.Error+"' }";}else if(typeof t==='number'&&typeof h==='number'){k="{= %{"+v.$PropertyPath+"} <= "+t+" ? '"+V.Good+"' : "+"%{"+v.$PropertyPath+"}  <= "+h+" ? '"+V.Critical+"' : '"+V.Error+"' }";}}}else if(s==="com.sap.vocabularies.UI.v1.ImprovementDirectionType/Maximize"){if(typeof i==='number'&&typeof j==='number'&&typeof T==='number'){k="{= %{"+v.$PropertyPath+"} >= "+j+" ? '"+V.Good+"' : "+"(%{"+v.$PropertyPath+"} >= "+i+" ? "+"(%{"+v.$PropertyPath+"} >= "+T+" ? '"+V.Neutral+"' : '"+V.Critical+"') : '"+V.Error+"') }";}else{if(typeof j==='number'&&typeof T==='number'){k="{= %{"+v.$PropertyPath+"} >= "+j+" ? '"+V.Good+"' : "+"%{"+v.$PropertyPath+"}  >= "+T+" ? '"+V.Neutral+"' : '"+V.Critical+"' }";}else if(typeof j==='number'&&typeof i==='number'){k="{= %{"+v.$PropertyPath+"} >= "+j+" ? '"+V.Good+"' : "+"%{"+v.$PropertyPath+"}  >= "+i+" ? '"+V.Neutral+"' : '"+V.Error+"' }";}else if(typeof T==='number'&&typeof i==='number'){k="{= %{"+v.$PropertyPath+"} >= "+T+" ? '"+V.Good+"' : "+"%{"+v.$PropertyPath+"}  >= "+i+" ? '"+V.Critical+"' : '"+V.Error+"' }";}}}else if(s==='com.sap.vocabularies.UI.v1.ImprovementDirectionType/Target'){if(typeof i==='number'&&typeof h==='number'&&typeof T==='number'&&typeof t==='number'&&typeof j==='number'&&typeof A==='number'){k="{= %{"+v.$PropertyPath+"} < "+i+" ? '"+V.Error+"' : "+"(%{"+v.$PropertyPath+"} > "+h+" ? '"+V.Error+"' : "+"(%{"+v.$PropertyPath+"} >= "+T+" && %{"+v.$PropertyPath+"} <= "+t+" ? "+"(%{"+v.$PropertyPath+"} >= "+j+" && %{"+v.$PropertyPath+"} <= "+A+" ? '"+V.Good+"' : '"+V.Neutral+"') : '"+V.Critical+"')) }";}else{if(typeof T==='number'&&typeof t==='number'&&typeof j==='number'&&typeof A==='number'){k="{= %{"+v.$PropertyPath+"} < "+T+" ? '"+V.Critical+"' : "+"(%{"+v.$PropertyPath+"} > "+t+" ? '"+V.Critical+"' : "+"(%{"+v.$PropertyPath+"} >= "+j+" && %{"+v.$PropertyPath+"} <= "+A+" ? '"+V.Good+"' : '"+V.Neutral+"')) }";}if(typeof i==='number'&&typeof h==='number'&&typeof j==='number'&&typeof A==='number'){k="{= %{"+v.$PropertyPath+"} < "+i+" ? '"+V.Error+"' : "+"(%{"+v.$PropertyPath+"} > "+h+" ? '"+V.Error+"' : "+"(%{"+v.$PropertyPath+"} >= "+j+" && %{"+v.$PropertyPath+"} <= "+A+" ? '"+V.Good+"' : '"+V.Neutral+"')) }";}if(typeof i==='number'&&typeof h==='number'&&typeof T==='number'&&typeof t==='number'){k="{= %{"+v.$PropertyPath+"} < "+i+" ? '"+V.Error+"' : "+"(%{"+v.$PropertyPath+"} > "+h+" ? '"+V.Error+"' : "+"(%{"+v.$PropertyPath+"} >= "+T+" && %{"+v.$PropertyPath+"} <= "+t+" ? '"+V.Good+"' : '"+V.Critical+"')) }";}}}else{q.sap.log.warning("Case not supported, returning the default Value Neutral");}return k;},_criticalityFromPath:function(h,v){var F=V.Neutral;var E;var C=h.Criticality;if(C){E="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+V.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+V.Critical+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+V.Good+"'' : "+"''"+V.Neutral+"'' '}'";if(C.$Path){var s="${"+C.$Path+"}";F=q.sap.formatMessage(E,s);}else if(C.$EnumMember){var i="'"+C.$EnumMember+"'";F=q.sap.formatMessage(E,i);}else{q.sap.log.warning("Case not supported, returning the default Value Neutral");}}else{q.sap.log.warning("Case not supported, returning the default Value Neutral");}return F;}};return g;},true);
